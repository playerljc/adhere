{"version":3,"file":"ViewFactory.js","sources":["ResourceManager/ViewFactory.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n/**\n * ViewFactory\n * @param SuperClass\n */\nexport default function (SuperClass) {\n  return (/** @class */function (_super) {\n      __extends(class_1, _super);\n      function class_1(props) {\n        var _this = this;\n        var _a;\n        _this = _super.call(this, props) || this;\n        _this.isMount = true;\n        _this.state = __assign(__assign({}, (_a = _this.state) !== null && _a !== void 0 ? _a : {}), _this.props.defaultValues);\n        _this.isFirst = false;\n        return _this;\n      }\n      class_1.prototype.componentDidMount = function () {\n        var _a, _b, _c;\n        _super.prototype.componentDidMount.call(this);\n        (_c = (_b = (_a = this.props) === null || _a === void 0 ? void 0 : _a.context) === null || _b === void 0 ? void 0 : _b.forceUpdate) === null || _c === void 0 ? void 0 : _c.call(_b);\n      };\n      class_1.prototype.fetchData = function () {\n        var _a;\n        if (this.isMount) {\n          this.isMount = false;\n          return Promise.resolve([]);\n        }\n        var context = this.props.context;\n        return (_a = context === null || context === void 0 ? void 0 : context.fetchData) === null || _a === void 0 ? void 0 : _a.call(context);\n      };\n      /**\n       * getParams\n       * @transmit\n       */\n      class_1.prototype.getParams = function () {\n        var _a, _b;\n        var context = this.props.context;\n        return (_b = context === null || context === void 0 ? void 0 : (_a = context.getViewParams).call) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n      };\n      class_1.prototype.getData = function () {\n        var _a;\n        var context = this.props.context;\n        return (_a = context === null || context === void 0 ? void 0 : context.getData) === null || _a === void 0 ? void 0 : _a.call(context);\n      };\n      /**\n       * getServiceName\n       * @transmit\n       */\n      class_1.prototype.getServiceName = function () {\n        var _a;\n        var context = this.props.context;\n        return (_a = context === null || context === void 0 ? void 0 : context.getServiceName) === null || _a === void 0 ? void 0 : _a.call(context);\n      };\n      class_1.prototype.getFetchListPropName = function () {\n        var _a;\n        var context = this.props.context;\n        return (_a = context === null || context === void 0 ? void 0 : context.getFetchListPropName) === null || _a === void 0 ? void 0 : _a.call(context);\n      };\n      class_1.prototype.getTotalKey = function () {\n        var _a;\n        var context = this.props.context;\n        return (_a = context === null || context === void 0 ? void 0 : context.getTotalKey) === null || _a === void 0 ? void 0 : _a.call(context);\n      };\n      /**\n       * getColumns\n       * @transmit\n       */\n      class_1.prototype.getColumns = function () {\n        var _a, _b;\n        var context = this.props.context;\n        return (_b = context === null || context === void 0 ? void 0 : (_a = context.getTableViewColumns).call) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n      };\n      class_1.prototype.renderSearchFormBefore = function () {\n        return null;\n      };\n      class_1.prototype.renderSearchForm = function () {\n        return null;\n      };\n      class_1.prototype.renderSearchToolBar = function () {\n        return null;\n      };\n      class_1.prototype.renderSearchFormAfter = function () {\n        return null;\n      };\n      class_1.prototype.renderSearchHeader = function () {\n        return null;\n      };\n      class_1.prototype.renderSearchFooter = function () {\n        return null;\n      };\n      return class_1;\n    }(SuperClass)\n  );\n}"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","SuperClass","class_1","_super","componentDidMount","_b","_c","_a","props","context","forceUpdate","fetchData","isMount","Promise","resolve","getParams","getViewParams","getData","getServiceName","getFetchListPropName","getTotalKey","getColumns","getTableViewColumns","renderSearchFormBefore","renderSearchForm","renderSearchToolBar","renderSearchFormAfter","renderSearchHeader","renderSearchFooter","_this","state","defaultValues","isFirst"],"mappings":"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"}