"use strict";var __assign=function(){return(__assign=Object.assign||function(e){for(var r,l=1,n=arguments.length;l<n;l++)for(var t in r=arguments[l])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)},__spreadArray=function(e,r,l){if(l||2===arguments.length)for(var n,t=0,i=r.length;t<i;t++)!n&&t in r||((n=n||Array.prototype.slice.call(r,0,t))[t]=r[t]);return e.concat(n||Array.prototype.slice.call(r))},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},omit_js_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("omit.js"))),react_1=__importDefault(require("react")),adhere_util_1=__importDefault(require("@baifendian/adhere-util")),optionKeys=["value","key","id"],DEFAULT_VALUE_PROP="value";exports.default=function(a){var e,r,l=a.value,i=a.onChange,u=a.children,n=a.treeData;function o(e){var r;if(null!=(r=a.valueProp)?r:DEFAULT_VALUE_PROP in e)return e[null!=(r=a.valueProp)?r:DEFAULT_VALUE_PROP];for(var l=e[DEFAULT_VALUE_PROP],n=0;n<optionKeys.length;n++)if(optionKeys[n]in e){l=e[optionKeys[n]];break}return l}function _(e){var r;return null!=e&&""!==(null==(r=null==e?void 0:e.trim)?void 0:r.call(e))&&adhere_util_1.default.isPrimitive(e)}function f(e){var r;return null!=e&&""!==(null==(r=null==e?void 0:e.trim)?void 0:r.call(e))&&adhere_util_1.default.isArray(e)&&e.length&&e.flat().some(function(e){return adhere_util_1.default.isPrimitive(e)})}function d(e){return e.map(function(e){return _(e)?s(e):adhere_util_1.default.isArray(e)?d(e):e})}function s(i){var e;return"treeDataSimpleMode"in u.props&&u.props.treeDataSimpleMode?null!=(e=(null!=n?n:[]).find(function(e){return Object.is(o(e),i)}))?e:i:null!=(e=function e(r){for(var l,n=0;n<r.length;n++){var t=o(r[n]);if(Object.is(t,i)){l=r[n];break}if(l=e(null!=(t=null==(t=r[n])?void 0:t[null!=(t=a.childrenProp)?t:"children"])?t:[]))break}return l}(null!=n?n:[]))?e:i}function t(e){for(var r=e[DEFAULT_VALUE_PROP],l=0;l<optionKeys.length;l++)if(optionKeys[l]in e){r=e[optionKeys[l]];break}return r}return _(l)?null!=i&&i(s(l)):f(l)&&null!=i&&i(d(l)),react_1.default.cloneElement(u,__assign(__assign(__assign({},(0,omit_js_1.default)(a,["children"])),u.props),{value:null!=(e=l)&&""!==(null==(r=null==e?void 0:e.trim)?void 0:r.call(e))&&!adhere_util_1.default.isArray(e)&&adhere_util_1.default.isRef(e)?t(l):null!=(r=l)&&""!==(null==(e=null==r?void 0:r.trim)?void 0:e.call(r))&&adhere_util_1.default.isArray(r)&&r.length&&r.flat().every(function(e){return adhere_util_1.default.isRef(e)})?function r(e){return e.map(function(e){return(adhere_util_1.default.isArray(e)?r:t)(e)})}(l):l,realValue:l,onChange:function(e){for(var r,l,n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];_(e)?null!=i&&i.apply(void 0,__spreadArray([s(e)],n,!1)):f(e)?null!=i&&i.apply(void 0,__spreadArray([d(e)],n,!1)):null!=i&&i.apply(void 0,__spreadArray([e],n,!1)),null!=(l=null==(r=u.props)?void 0:r.onChange)&&l.call.apply(l,__spreadArray([r,e],n,!1))}}))};
//# sourceMappingURL=useTreeEntityValueHOC.js.map
