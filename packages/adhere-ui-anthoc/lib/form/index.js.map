{"version":3,"file":"index.js","sources":["form/index.js"],"sourcesContent":["\"use strict\";\n\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar adhere_util_validator_1 = __importDefault(require(\"@baifendian/adhere-util-validator\"));\nvar util_1 = require(\"../util\");\n// Form对象\nvar FormHOC = (0, util_1.createFactory)(antd_1.Form, {});\nvar ValidatorRules;\n(function () {\n  var excludes = ['default', 'version', 'toDate', 'toFloat', 'toInt', 'toBoolean', 'equals', 'contains', 'matches', 'ltrim', 'rtrim', 'trim', 'escape', 'unescape', 'stripLow', 'whitelist', 'blacklist', 'isWhitelisted', 'normalizeEmail', 'toString'];\n  /**\n   * 设置Rules\n   * Rules根据@baifendian/adhere-util-validator库来生成\n   */\n  ValidatorRules = Array.from(Object.keys(adhere_util_validator_1.default)).filter(function (_key) {\n    return !excludes.includes(_key);\n  }).reduce(function (result, _key) {\n    result[_key] = function (argv) {\n      return {\n        /**\n         * validator\n         * @description 主要是实现validator方法\n         * @param _\n         * @param value\n         */\n        validator: function validator(_, value) {\n          var _a;\n          if (!value) {\n            return Promise.reject();\n          }\n          // 调用Validator的指定方法进行校验\n          if (!adhere_util_validator_1.default[_key].apply(this, __spreadArray([value], (argv === null || argv === void 0 ? void 0 : argv.params) || [], true))) {\n            return Promise.reject((_a = argv === null || argv === void 0 ? void 0 : argv.invalidMessage) !== null && _a !== void 0 ? _a : '');\n          }\n          return Promise.resolve();\n        }\n      };\n    };\n    return result;\n  }, {});\n})();\nFormHOC.ValidatorRules = ValidatorRules;\nexports.default = FormHOC;"],"names":["ValidatorRules","__spreadArray","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__importDefault","mod","__esModule","default","antd_1","Object","defineProperty","exports","value","require","adhere_util_validator_1","util_1","FormHOC","createFactory","Form","excludes","keys","filter","_key","includes","reduce","result","argv","validator","_","apply","this","params","Promise","resolve","reject","_a","invalidMessage"],"mappings":"AAAA,aAEA,IAsBIA,eAtBAC,cAAoD,SAAUC,EAAIC,EAAMC,GAC1E,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BC,EAAxBC,EAAI,EAAGC,EAAIN,EAAKG,OAAYE,EAAIC,EAAGD,CAAC,GAC3ED,CAAAA,GAAQC,KAAKL,KACVI,EAAAA,GAASG,MAAMC,UAAUC,MAAMC,KAAKV,EAAM,EAAGK,CAAC,GAChDA,GAAKL,EAAKK,IAGjB,OAAON,EAAGY,OAAOP,GAAMG,MAAMC,UAAUC,MAAMC,KAAKV,CAAI,CAAC,CACzD,EACIY,gBAAwD,SAAUC,GACpE,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnCE,QAAWF,CACb,CACF,EAIIG,QAHJC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACYC,QAAQ,MAAM,GACvBC,wBAA0BV,gBAAgBS,QAAQ,mCAAmC,CAAC,EACtFE,OAASF,QAAQ,SAAS,EAE1BG,SAAU,EAAID,OAAOE,eAAeT,OAAOU,KAAM,EAAE,EAEvD,CAAA,WACE,IAAIC,EAAW,CAAC,UAAW,UAAW,SAAU,UAAW,QAAS,YAAa,SAAU,WAAY,UAAW,QAAS,QAAS,OAAQ,SAAU,WAAY,WAAY,YAAa,YAAa,gBAAiB,iBAAkB,YAK3O9B,eAAiBU,MAAMP,KAAKiB,OAAOW,KAAKN,wBAAwBP,OAAO,CAAC,EAAEc,OAAO,SAAUC,GACzF,MAAO,CAACH,EAASI,SAASD,CAAI,CAChC,CAAC,EAAEE,OAAO,SAAUC,EAAQH,GAsB1B,OArBAG,EAAOH,GAAQ,SAAUI,GACvB,MAAO,CAOLC,UAAW,SAAmBC,EAAGhB,GAE/B,OAAKA,EAIAE,wBAAwBP,QAAQe,GAAMO,MAAMC,KAAMxC,cAAc,CAACsB,IAASc,MAAAA,EAAmC,KAAA,EAASA,EAAKK,SAAW,GAAI,CAAA,CAAI,CAAC,EAG7IC,QAAQC,QAAQ,EAFdD,QAAQE,OAAO,OAACC,EAAKT,MAAAA,EAAmC,KAAA,EAASA,EAAKU,gBAA4CD,EAAK,EAAE,EAJzHH,QAAQE,OAAO,CAO1B,CACF,CACF,EACOT,CACT,EAAG,EAAE,CACN,EAAE,EACHT,QAAQ3B,eAAiBA,eACzBsB,QAAQJ,QAAUS"}