{"version":3,"file":"ConfigProvider.js","sources":["config-provider/ConfigProvider.js"],"sourcesContent":["\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar ar_1 = __importDefault(require(\"dayjs/locale/ar\"));\nvar pt_1 = __importDefault(require(\"dayjs/locale/pt\"));\nvar zh_cn_1 = __importDefault(require(\"dayjs/locale/zh-cn\"));\nvar immer_1 = require(\"immer\");\nvar util_1 = require(\"../util\");\n// 英文的dayjs没有formats\nvar en = {\n  name: 'en',\n  formats: {\n    LT: 'h:mm A',\n    LTS: 'h:mm:ss A',\n    L: 'MM/DD/YYYY',\n    LL: 'MMMM D, YYYY',\n    LLL: 'MMMM D, YYYY h:mm A',\n    LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    l: 'M/D/YYYY',\n    ll: 'MMM D, YYYY',\n    lll: 'MMM D, YYYY h:mm A',\n    llll: 'ddd, MMM D, YYYY h:mm A'\n  }\n};\nvar dayjsLocalesMap = [ar_1.default, en, pt_1.default, zh_cn_1.default].reduce(function (result, locale) {\n  result.set(locale.name, locale);\n  return result;\n}, new Map());\nvar ConfigProviderHOC = (0, util_1.createFactory)(antd_1.ConfigProvider, {}, function (props) {\n  var _a, _b;\n  var localeKey = (_b = (_a = props === null || props === void 0 ? void 0 : props.locale) === null || _a === void 0 ? void 0 : _a.locale) !== null && _b !== void 0 ? _b : 'zh-cn';\n  var locale = dayjsLocalesMap.get(localeKey);\n  console.log('localeKey', localeKey);\n  console.log('locale', locale);\n  return (0, immer_1.produce)(props, function (draft) {\n    var _a, _b;\n    if ((_b = (_a = draft === null || draft === void 0 ? void 0 : draft.locale) === null || _a === void 0 ? void 0 : _a.DatePicker) === null || _b === void 0 ? void 0 : _b.lang) {\n      // @ts-ignore\n      draft.locale.DatePicker.lang.fieldDateTimeFormat = \"\".concat(locale.formats.L, \" \").concat(locale.formats.LTS);\n      // @ts-ignore\n      draft.locale.DatePicker.lang.fieldDateFormat = locale.formats.L;\n    }\n  });\n});\nConfigProviderHOC.displayName = 'ConfigProvider';\nexports.default = ConfigProviderHOC;"],"names":["__importDefault","mod","__esModule","default","antd_1","Object","defineProperty","exports","value","require","ar_1","pt_1","zh_cn_1","immer_1","util_1","en","name","formats","LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","dayjsLocalesMap","reduce","result","locale","set","Map","ConfigProviderHOC","createFactory","ConfigProvider","props","localeKey","_b","_a","get","console","log","produce","draft","DatePicker","lang","fieldDateTimeFormat","concat","fieldDateFormat","displayName"],"mappings":"AAAA,aAEA,IAAIA,gBAAwD,SAAUC,GACpE,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnCE,QAAWF,CACb,CACF,EAIIG,QAHJC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACYC,QAAQ,MAAM,GACvBC,KAAOV,gBAAgBS,QAAQ,iBAAiB,CAAC,EACjDE,KAAOX,gBAAgBS,QAAQ,iBAAiB,CAAC,EACjDG,QAAUZ,gBAAgBS,QAAQ,oBAAoB,CAAC,EACvDI,QAAUJ,QAAQ,OAAO,EACzBK,OAASL,QAAQ,SAAS,EAE1BM,GAAK,CACPC,KAAM,KACNC,QAAS,CACPC,GAAI,SACJC,IAAK,YACLC,EAAG,aACHC,GAAI,eACJC,IAAK,sBACLC,KAAM,4BACNC,EAAG,WACHC,GAAI,cACJC,IAAK,qBACLC,KAAM,yBACR,CACF,EACIC,gBAAkB,CAAClB,KAAKP,QAASY,GAAIJ,KAAKR,QAASS,QAAQT,SAAS0B,OAAO,SAAUC,EAAQC,GAE/F,OADAD,EAAOE,IAAID,EAAOf,KAAMe,CAAM,EACvBD,CACT,EAAG,IAAIG,GAAK,EACRC,mBAAoB,EAAIpB,OAAOqB,eAAe/B,OAAOgC,eAAgB,GAAI,SAAUC,GACrF,IACIC,EAAY,OAACC,EAAK,OAACC,EAAKH,MAAAA,EAAqC,KAAA,EAASA,EAAMN,QAAoC,KAAA,EAASS,EAAGT,QAAoCQ,EAAK,QACrKR,EAASH,gBAAgBa,IAAIH,CAAS,EAG1C,OAFAI,QAAQC,IAAI,YAAaL,CAAS,EAClCI,QAAQC,IAAI,SAAUZ,CAAM,GACrB,EAAIlB,QAAQ+B,SAASP,EAAO,SAAUQ,GAC3C,IAAQN,EACJ,OAACA,EAAK,OAACC,EAAKK,MAAAA,EAAqC,KAAA,EAASA,EAAMd,QAAoC,KAAA,EAASS,EAAGM,aAAiDP,EAAGQ,OAEtKF,EAAMd,OAAOe,WAAWC,KAAKC,oBAAsB,GAAGC,OAAOlB,EAAOd,QAAQG,EAAG,GAAG,EAAE6B,OAAOlB,EAAOd,QAAQE,GAAG,EAE7G0B,EAAMd,OAAOe,WAAWC,KAAKG,gBAAkBnB,EAAOd,QAAQG,EAElE,CAAC,CACH,CAAC,EACDc,kBAAkBiB,YAAc,iBAChC5C,QAAQJ,QAAU+B"}