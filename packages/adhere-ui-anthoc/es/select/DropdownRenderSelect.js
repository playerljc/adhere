var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,n){var t={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};import{useUpdateEffect}from"ahooks";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Select from"./Select";var DropdownRenderSelect=function(e){var t=e.children,n=e.options,r=e.defaultInputValue,o=__rest(e,["children","options","defaultInputValue"]),e=useState(null!=r?r:""),l=e[0],u=e[1],a=useRef(),i=useRef(),c=useMemo(function(){var e;return l?null==(e=null==n?void 0:n.filter)?void 0:e.call(n,function(e){var n;return-1!==(null==(n=(e=e.label).indexOf)?void 0:n.call(e,l))}):n},[l,n]),e=useCallback(function(e){var n;return a.current=e,i.current=null!=(n=null==t?void 0:t({originNode:e,value:o.value,onChange:o.onChange,options:c}))?n:e,i.current},[t,c,o.value,o.onChange]);return useUpdateEffect(function(){u(null!=r?r:"")},[r]),React.createElement(Select,__assign({filterOption:function(){return i.current===a.current},onSearch:function(e){var n;u(e),null!=(n=null==o?void 0:o.onSearch)&&n.call(o,e)},onClear:function(){var e;u(""),null!=(e=null==o?void 0:o.onClear)&&e.call(o)},dropdownRender:e,options:c},o))};export default memo(DropdownRenderSelect);
//# sourceMappingURL=DropdownRenderSelect.js.map
