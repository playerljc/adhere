var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n},__spreadArray=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};import{useMount}from"ahooks";import uniqBy from"lodash.uniqby";import React,{memo,useMemo}from"react";import DropdownRenderSelect from"../select/DropdownRenderSelect";import CheckboxPagingTable from"./CheckboxPagingTable";import RadioPagingTable from"./RadioPagingTable";import usePagingRenderProps from"./usePagingRenderProps";var InternalTablePagingSelect=memo(function(e){var t=e.pagingProps,n=e.tablePagingProps,r=e.defaultOptions,e=__rest(e,["pagingProps","tablePagingProps","defaultOptions"]),n=usePagingRenderProps(__assign({tablePagingProps:n,mode:e.mode},t)),a=n.isMultiple,t=n.inputValue,o=n.options,i=n.setInputValue,l=n.defaultCurrentPage,s=n.defaultPageSize,g=n.setPaging,u=n.fetchData,p=n.renderProps,c=useMemo(function(){return uniqBy(__spreadArray(__spreadArray([],null!=r?r:[],!0),null!=o?o:[],!0),"value")},[r,o]),f=useMemo(function(){var t=o.map(function(e){return e.value});return c.filter(function(e){e=e.value;return t.includes(e)})},[o,c]);return useMount(function(){u()}),React.createElement(DropdownRenderSelect,__assign({},e,{defaultInputValue:t,options:c,onSearch:i,onClear:function(){g({page:l,limit:s})}}),function(e){e.originNode;e=__rest(e,["originNode"]),e=p(__assign(__assign({},e),{options:f}));return React.createElement(React.Fragment,null,a&&React.createElement(CheckboxPagingTable,__assign({},e)),!a&&React.createElement(RadioPagingTable,__assign({},e)))})}),TablePagingSelect=InternalTablePagingSelect;TablePagingSelect.displayName="TablePagingSelect";export default TablePagingSelect;
//# sourceMappingURL=TablePagingSelect.js.map
