var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var a={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(a[o[n]]=e[o[n]]);return a};import{useMount,useUpdateEffect}from"ahooks";import React,{memo,useState}from"react";import DropdownRenderSelect from"../select/DropdownRenderSelect";import CheckboxPagingTable from"./CheckboxPagingTable";import RadioPagingTable from"./RadioPagingTable";var DEFAULT_PAGE=1,DEFAULT_LIMIT=10,TablePagingSelect=function(e){var t=e.loadData,a=e.defaultPage,n=e.defaultLimit,o=e.tablePagingProps,i=__rest(e,["loadData","defaultPage","defaultLimit","tablePagingProps"]),r=null!=n?n:DEFAULT_LIMIT,l=null!=a?a:DEFAULT_PAGE,e=useState(""),g=e[0],u=e[1],e=useState({page:l,limit:r}),c=e[0],s=e[1],e=useState(0),p=e[0],f=e[1],e=useState([]),m=e[0],d=e[1];function b(){t(c.page,c.limit).then(function(e){var t=e.totalCount,e=e.data;f(t),d(e)})}function P(e,t){s({page:e,limit:t}),u("")}function _(e,t){s({page:e,limit:t}),u("")}return useMount(function(){b()}),useUpdateEffect(function(){s({page:l,limit:r})},[a,n]),useUpdateEffect(function(){b()},[c]),React.createElement(DropdownRenderSelect,__assign({},i,{defaultInputValue:g,options:m,onSearch:u,onClear:function(){s({page:l,limit:r})}}),function(e){e={value:e.value,onChange:e.onChange,options:e.options,totalCount:p,paging:c,defaultLimit:r,onPagingChange:P,onPagingShowSizeChange:_};return React.createElement(React.Fragment,null,"mode"in i&&"multiple"===i.mode&&React.createElement(CheckboxPagingTable,__assign({},o,e)),!("mode"in i)&&React.createElement(RadioPagingTable,__assign({},o,e)))})};export default memo(TablePagingSelect);
//# sourceMappingURL=TablePagingSelect.js.map
