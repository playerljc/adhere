var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};import{useUpdateEffect}from"ahooks";import{useMemo,useRef,useState}from"react";var DEFAULT_PAGE=1,DEFAULT_LIMIT=10,usePagingTableRenderProps=function(t){var n=t.loadData,e=t.defaultPage,a=t.defaultLimit,i=t.tablePagingProps,u=t.mode,o=useRef(void 0),r=null!=a?a:DEFAULT_LIMIT,s=null!=e?e:DEFAULT_PAGE,t=useState(""),l=t[0],g=t[1],t=useState({page:s,limit:r}),f=t[0],p=t[1],t=useState(0),c=t[0],d=t[1],t=useState([]),P=t[0],_=t[1],t=useMemo(function(){return"multiple"===u},[u]);function m(){var t,e;return null==(e=null==(t=null==n?void 0:n(f.page,f.limit,o.current))?void 0:t.then)?void 0:e.call(t,function(t){var e=t.totalCount,t=t.data;d(e),_(t)})}function h(t,e){p({page:t,limit:e}),g("")}function v(t,e){p({page:t,limit:e}),g("")}return useUpdateEffect(function(){p({page:s,limit:r})},[e,a]),useUpdateEffect(function(){m()},[f]),{inputValue:l,options:P,setInputValue:g,setPaging:p,defaultCurrentPage:s,defaultPageSize:r,isMultiple:t,fetchData:m,setKw:function(t){o.current=t},renderProps:function(t){return __assign(__assign(__assign({},null!=i?i:{}),t),{totalCount:c,paging:f,defaultLimit:a,onPagingChange:h,onPagingShowSizeChange:v})}}};export default usePagingTableRenderProps;
//# sourceMappingURL=usePagingRenderProps.js.map
