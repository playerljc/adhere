var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};import{useMount,useUpdateEffect}from"ahooks";import{useMemo,useState}from"react";var DEFAULT_PAGE=1,DEFAULT_LIMIT=10,usePagingTableRenderProps=function(t){var n=t.loadData,e=t.defaultPage,a=t.defaultLimit,i=t.tablePagingProps,u=t.mode,o=null!=a?a:DEFAULT_LIMIT,l=null!=e?e:DEFAULT_PAGE,t=useState(""),s=t[0],r=t[1],t=useState({page:l,limit:o}),g=t[0],f=t[1],t=useState(0),p=t[0],c=t[1],t=useState([]),d=t[0],P=t[1],t=useMemo(function(){return"multiple"===u},[u]);function _(){var t,e;null!=(e=null==(t=null==n?void 0:n(g.page,g.limit))?void 0:t.then)&&e.call(t,function(t){var e=t.totalCount,t=t.data;c(e),P(t)})}function m(t,e){f({page:t,limit:e}),r("")}function h(t,e){f({page:t,limit:e}),r("")}return useMount(function(){_()}),useUpdateEffect(function(){f({page:l,limit:o})},[e,a]),useUpdateEffect(function(){_()},[g]),{inputValue:s,options:d,setInputValue:r,setPaging:f,defaultCurrentPage:l,defaultPageSize:o,isMultiple:t,renderProps:function(t){return __assign(__assign(__assign({},null!=i?i:{}),t),{totalCount:p,paging:g,defaultLimit:a,onPagingChange:m,onPagingShowSizeChange:h})}}};export default usePagingTableRenderProps;
//# sourceMappingURL=usePagingRenderProps.js.map
