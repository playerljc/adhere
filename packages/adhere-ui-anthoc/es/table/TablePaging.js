var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var s in n=arguments[a])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)};import{useMount,useUpdateEffect}from"ahooks";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Suspense from"@baifendian/adhere-ui-suspense";import CheckboxPagingTable from"./CheckboxPagingTable";import RadioPagingTable from"./RadioPagingTable";import usePagingRenderProps from"./usePagingRenderProps";var InternalTablePaging=memo(function(e){var n=e.mode,a=e.value,t=e.onChange,s=e.pagingProps,r=e.tablePagingProps,i=e.isSuspenseAsync,o=void 0===i||i,u=e.suspenseProps,i=useState(a),e=i[0],g=i[1],l=useRef(null),i=usePagingRenderProps(__assign(__assign({tablePagingProps:r,mode:n},s),{suspenseRef:l.current})),r=i.isMultiple,c=i.options,p=i.fetchData,n=i.renderProps,f=i.paging,s=useMemo(function(){return function(e,n){g(e),null!=t&&t(e,n)}},[t]),m=useCallback(function(){return 1===f.page&&!c.length},[f,c]),i=(useMount(function(){o||p()}),useUpdateEffect(function(){var e,n;o?null!=(n=null==(e=null==l?void 0:l.current)?void 0:e.reset)&&n.call(e):p()},[o,l.current]),useUpdateEffect(function(){g(a)},[a]),useCallback(function(e){return o?React.createElement(Suspense.ASync,__assign({ref:l},null!=u?u:{},{fetchData:p,isEmpty:m}),e):React.createElement(React.Fragment,null,e)},[o,u,f,c])),n=n({value:e,onChange:s,options:c});return i([r&&React.createElement(CheckboxPagingTable,__assign({},n)),!r&&React.createElement(RadioPagingTable,__assign({},n))])}),TablePaging=InternalTablePaging;TablePaging.displayName="TablePaging";export default TablePaging;
//# sourceMappingURL=TablePaging.js.map
