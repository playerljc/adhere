var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,a=1,t=arguments.length;a<t;a++)for(var s in n=arguments[a])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)};import{useMount,useUpdateEffect}from"ahooks";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Suspense from"@baifendian/adhere-ui-suspense";import CheckboxPagingTable from"./CheckboxPagingTable";import RadioPagingTable from"./RadioPagingTable";import usePagingRenderProps from"./usePagingRenderProps";var TablePaging=function(e){var n=e.mode,a=e.value,t=e.onChange,s=e.pagingProps,o=e.tablePagingProps,r=e.isSuspenseAsync,i=void 0===r||r,u=e.suspenseProps,r=useState(a),e=r[0],l=r[1],g=useRef(null),r=usePagingRenderProps(__assign(__assign({tablePagingProps:o,mode:n},s),{suspenseRef:g.current})),o=r.isMultiple,c=r.options,p=r.fetchData,n=r.renderProps,f=r.paging,s=useMemo(function(){return function(e,n){l(e),null!=t&&t(e,n)}},[t]),m=useCallback(function(){return 1===f.page&&!c.length},[f,c]);return useMount(function(){i||p()}),useUpdateEffect(function(){var e,n;i?null!=(n=null==(e=null==g?void 0:g.current)?void 0:e.reset)&&n.call(e):p()},[i,g.current]),useUpdateEffect(function(){l(a)},[a]),useCallback(function(e){return i?React.createElement(Suspense.ASync,__assign({ref:g},null!=u?u:{},{fetchData:p,isEmpty:m}),e):React.createElement(React.Fragment,null,e)},[i,u,f,c])([o&&React.createElement(CheckboxPagingTable,__assign({},n({value:e,onChange:s,options:c}))),!o&&React.createElement(RadioPagingTable,__assign({},n({value:e,onChange:s,options:c})))])};export default memo(TablePaging);
//# sourceMappingURL=TablePaging.js.map
