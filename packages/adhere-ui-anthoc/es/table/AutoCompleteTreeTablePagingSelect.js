var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(r[a[o]]=e[a[o]]);return r};import React,{memo,useMemo}from"react";import Util from"@baifendian/adhere-util";import AutoCompleteTreeMultiSelect from"../tree-select/AutoCompleteTreeMultiSelect";import AutoCompleteTreeSelect from"../tree-select/AutoCompleteTreeSelect";import useAutoCompleteFetchLoading from"../useAutoCompleteFetchLoading";import CheckboxPagingTreeTable from"./CheckboxPagingTreeTable";import RadioPagingTreeTable from"./RadioPagingTreeTable";import usePagingTreeRenderProps from"./usePagingTreeRenderProps";var InternalAutoCompleteTreeTablePagingSelect=memo(function(e){var t=e.pagingProps,r=e.tablePagingProps,o=e.treeDataSimpleModeConfig,e=__rest(e,["pagingProps","tablePagingProps","treeDataSimpleModeConfig"]),a=useAutoCompleteFetchLoading(e.renderLoading),r=usePagingTreeRenderProps(__assign({tablePagingProps:r,multiple:e.multiple,treeDataSimpleMode:e.treeDataSimpleMode},t)),l=r.isMultiple,n=r.isTreeDataSimpleMode,i=r.treeData,t=r.setInputValue,g=r.defaultCurrentPage,u=r.defaultPageSize,p=r.setPaging,s=r.setKw,m=r.renderProps,r=useMemo(function(){return l?AutoCompleteTreeMultiSelect:AutoCompleteTreeSelect},[l]);return console.log("treeData1",i),React.createElement(r,__assign({},e,{treeData:i,onSearch:t,onClear:function(){p({page:g,limit:u})},loadData:function(e){return s(e),p({page:g,limit:u}),new Promise(function(e){setTimeout(function(){return e()},300)})}}),function(e){e.originNode;var t=e.loading,e=__rest(e,["originNode","loading"]),r=e.treeData,e=__rest(e,["treeData"]),r=(console.log("treeData2",r),n?Util.arrayToAntdTreeSelect(null!=i?i:[],{keyAttr:null!=(r=null==o?void 0:o.keyAttr)?r:"value",titleAttr:null!=(r=null==o?void 0:o.titleAttr)?r:"title",rootParentId:null!=(r=null==o?void 0:o.rootParentId)?r:0,parentIdAttr:null!=(r=null==o?void 0:o.parentIdAttr)?r:"pId"}):i),r=m(__assign({options:r},e));return React.createElement(React.Fragment,null,t&&a,!t&&l&&React.createElement(CheckboxPagingTreeTable,__assign({},r)),!t&&!l&&React.createElement(RadioPagingTreeTable,__assign({},r)))})}),AutoCompleteTreeTablePagingSelect=InternalAutoCompleteTreeTablePagingSelect;AutoCompleteTreeTablePagingSelect.displayName="AutoCompleteTreeTablePagingSelect";export default AutoCompleteTreeTablePagingSelect;
//# sourceMappingURL=AutoCompleteTreeTablePagingSelect.js.map
