var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var r={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r};import React,{memo,useMemo}from"react";import Util from"@baifendian/adhere-util";import AutoCompleteTreeMultiSelect from"../tree-select/AutoCompleteTreeMultiSelect";import AutoCompleteTreeSelect from"../tree-select/AutoCompleteTreeSelect";import useAutoCompleteFetchLoading from"../useAutoCompleteFetchLoading";import CheckboxPagingTreeTable from"./CheckboxPagingTreeTable";import RadioPagingTreeTable from"./RadioPagingTreeTable";import usePagingTreeRenderProps from"./usePagingTreeRenderProps";var InternalAutoCompleteTreeTablePagingSelect=memo(function(e){var t=e.pagingProps,r=e.tablePagingProps,a=e.treeDataSimpleModeConfig,o=e.defaultTreeData,e=__rest(e,["pagingProps","tablePagingProps","treeDataSimpleModeConfig","defaultTreeData"]),n=useAutoCompleteFetchLoading(e.renderLoading),l=useMemo(function(){var e;return{keyAttr:null!=(e=null==a?void 0:a.keyAttr)?e:"value",titleAttr:null!=(e=null==a?void 0:a.titleAttr)?e:"title",rootParentId:null!=(e=null==a?void 0:a.rootParentId)?e:0,parentIdAttr:null!=(e=null==a?void 0:a.parentIdAttr)?e:"pId"}},[a]),r=usePagingTreeRenderProps(__assign({tablePagingProps:r,multiple:e.multiple,treeDataSimpleMode:e.treeDataSimpleMode},t)),i=r.isMultiple,u=r.isTreeDataSimpleMode,t=r.treeData,g=r.setInputValue,p=r.defaultCurrentPage,s=r.defaultPageSize,m=r.setPaging,c=r.setKw,d=r.renderProps,r=useMemo(function(){return i?AutoCompleteTreeMultiSelect:AutoCompleteTreeSelect},[i]);return React.createElement(r,__assign({},e,{treeData:t,defaultTreeData:o,onSearch:g,onClear:function(){m({page:p,limit:s})},loadData:function(e){return c(e),m({page:p,limit:s}),new Promise(function(e){setTimeout(function(){return e()},300)})}}),function(e){e.originNode;var t=e.loading,e=__rest(e,["originNode","loading"]),r=e.treeData,e=__rest(e,["treeData"]),r=u?Util.arrayToAntdTreeSelect(null!=r?r:[],l):r,r=d(__assign({options:r},e));return React.createElement(React.Fragment,null,t&&n,!t&&i&&React.createElement(CheckboxPagingTreeTable,__assign({},r)),!t&&!i&&React.createElement(RadioPagingTreeTable,__assign({},r)))})}),AutoCompleteTreeTablePagingSelect=InternalAutoCompleteTreeTablePagingSelect;AutoCompleteTreeTablePagingSelect.displayName="AutoCompleteTreeTablePagingSelect";export default AutoCompleteTreeTablePagingSelect;
//# sourceMappingURL=AutoCompleteTreeTablePagingSelect.js.map
