var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,a=arguments.length;n<a;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n};import{useMount,useUpdateEffect}from"ahooks";import React,{memo,useState}from"react";import DropdownRenderSelect from"../select/DropdownRenderSelect";import CheckboxPagingList from"./CheckboxPagingList";import RadioPagingList from"./RadioPagingList";var DEFAULT_PAGE=1,DEFAULT_LIMIT=10,ListPagingSelect=function(t){var e=t.loadData,n=t.defaultPage,a=t.defaultLimit,i=t.listPagingProps,o=__rest(t,["loadData","defaultPage","defaultLimit","listPagingProps"]),r=null!=a?a:DEFAULT_LIMIT,l=null!=n?n:DEFAULT_PAGE,t=useState(""),s=t[0],g=t[1],t=useState({page:l,limit:r}),u=t[0],c=t[1],t=useState(0),p=t[0],f=t[1],t=useState([]),m=t[0],d=t[1];function P(){e(u.page,u.limit).then(function(t){var e=t.totalCount,t=t.data;f(e),d(t)})}function _(t,e){c({page:t,limit:e}),g("")}function h(t,e){c({page:t,limit:e}),g("")}return useMount(function(){P()}),useUpdateEffect(function(){c({page:l,limit:r})},[n,a]),useUpdateEffect(function(){P()},[u]),React.createElement(DropdownRenderSelect,__assign({},o,{defaultInputValue:s,options:m,onSearch:g,onClear:function(){c({page:l,limit:r})}}),function(t){t={value:t.value,onChange:t.onChange,options:t.options,totalCount:p,paging:u,defaultLimit:r,onPagingChange:_,onPagingShowSizeChange:h};return React.createElement(React.Fragment,null,"mode"in o&&"multiple"===o.mode&&React.createElement(CheckboxPagingList,__assign({},i,t)),!("mode"in o)&&React.createElement(RadioPagingList,__assign({},i,t)))})};export default memo(ListPagingSelect);
//# sourceMappingURL=ListPagingSelect.js.map
