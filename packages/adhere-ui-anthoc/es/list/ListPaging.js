var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,t=1,s=arguments.length;t<s;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)};import{useMount}from"ahooks";import{useUpdateEffect}from"ahooks";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Suspense from"@baifendian/adhere-ui-suspense";import CheckboxPagingList from"./CheckboxPagingList";import RadioPagingList from"./RadioPagingList";import usePagingRenderProps from"./usePagingRenderProps";var ListPaging=memo(function(e){var n=e.mode,t=e.value,s=e.onChange,a=e.pagingProps,i=e.listPagingProps,o=e.isSuspenseAsync,r=void 0===o||o,u=e.suspenseProps,o=useState(t),e=o[0],g=o[1],c=useRef(null),o=usePagingRenderProps(__assign(__assign({listPagingProps:i,mode:n},a),{suspenseRef:c.current})),i=o.isMultiple,l=o.options,p=o.fetchData,n=o.renderProps,f=o.paging,a=useMemo(function(){return function(e,n){g(e),null!=s&&s(e,n)}},[s]),m=useCallback(function(){return 1===f.page&&!l.length},[f,l]);return useMount(function(){r||p()}),useUpdateEffect(function(){var e,n;r?null!=(n=null==(e=null==c?void 0:c.current)?void 0:e.reset)&&n.call(e):p()},[r,c.current]),useUpdateEffect(function(){g(t)},[t]),useCallback(function(e){return r?React.createElement(Suspense.ASync,__assign({ref:c},null!=u?u:{},{fetchData:p,isEmpty:m}),e):React.createElement(React.Fragment,null,e)},[r,u,f,l])([i&&React.createElement(CheckboxPagingList,__assign({},n({value:e,onChange:a,options:l}))),!i&&React.createElement(RadioPagingList,__assign({},n({value:e,onChange:a,options:l})))])});ListPaging.displayName="ListPaging";export default ListPaging;
//# sourceMappingURL=ListPaging.js.map
