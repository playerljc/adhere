{"version":3,"file":"NestingFormItem.js","sources":["form/NestingFormItem.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport { useMount, useUpdateEffect } from 'ahooks';\nimport React, { forwardRef, memo, useImperativeHandle } from 'react';\nimport Form from './Form';\n/**\n * InternalNestingFormItem\n * @description 如果表单数据的值是非原始类型\n */\nvar InternalNestingFormItem = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function (_a, ref) {\n  var className = _a.className,\n    style = _a.style,\n    formProps = _a.formProps,\n    value = _a.value,\n    onChange = _a.onChange,\n    children = _a.children;\n  var form = Form.useForm()[0];\n  function onValuesChange(changedValues, all) {\n    onChange === null || onChange === void 0 ? void 0 : onChange(all);\n  }\n  function validateFields() {\n    return form.validateFields().then(function () {\n      return;\n    }).catch(function (err) {\n      return new Error(err);\n    });\n  }\n  useMount(function () {\n    form.setFieldsValue(value);\n  });\n  useUpdateEffect(function () {\n    form.setFieldsValue(value);\n  }, [value]);\n  useImperativeHandle(ref, function () {\n    return {\n      validateFields: validateFields\n    };\n  });\n  return /*#__PURE__*/React.createElement(Form, __assign({\n    ref: ref,\n    className: className !== null && className !== void 0 ? className : '',\n    style: style !== null && style !== void 0 ? style : {},\n    form: form\n  }, formProps !== null && formProps !== void 0 ? formProps : {}, {\n    onValuesChange: onValuesChange\n  }), children);\n}));\nvar NestingFormItem = InternalNestingFormItem;\nNestingFormItem.displayName = 'NestingFormItem';\nexport default NestingFormItem;"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","useMount","useUpdateEffect","React","forwardRef","memo","useImperativeHandle","Form","InternalNestingFormItem","_a","ref","className","style","formProps","value","onChange","children","form","useForm","validateFields","then","catch","err","Error","setFieldsValue","createElement","onValuesChange","changedValues","all","NestingFormItem","displayName"],"mappings":"AAAA,IAAIA,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,SACSO,SAAUC,eAA+B,KAAR,gBACnCC,OAASC,WAAYC,KAAMC,mBAAkC,KAAP,eACtDC,SAAU,SAKjB,IAAIC,wBAAuCH,KAAmBD,WAAW,SAAUK,EAAIC,GACrF,IAAIC,EAAYF,EAAGE,UACjBC,EAAQH,EAAGG,MACXC,EAAYJ,EAAGI,UACfC,EAAQL,EAAGK,MACXC,EAAWN,EAAGM,SACdC,EAAWP,EAAGO,SACZC,EAAOV,KAAKW,QAAQ,EAAE,GAI1B,SAASC,IACP,OAAOF,EAAKE,eAAe,EAAEC,KAAK,YAEjC,EAAEC,MAAM,SAAUC,GACjB,OAAO,IAAIC,MAAMD,CAAG,CACtB,CAAC,CACH,CAYA,OAXArB,SAAS,WACPgB,EAAKO,eAAeV,CAAK,CAC3B,CAAC,EACDZ,gBAAgB,WACde,EAAKO,eAAeV,CAAK,CAC3B,EAAG,CAACA,EAAM,EACVR,oBAAoBI,EAAK,WACvB,MAAO,CACLS,eAAgBA,CAClB,CACF,CAAC,EACmBhB,MAAMsB,cAAclB,KAAMrB,SAAS,CACrDwB,IAAKA,EACLC,UAAWA,MAAAA,EAA6CA,EAAY,GACpEC,MAAOA,MAAAA,EAAqCA,EAAQ,GACpDK,KAAMA,CACR,EAAGJ,MAAAA,EAA6CA,EAAY,GAAI,CAC9Da,eA3BF,SAAwBC,EAAeC,GACrCb,MAAAA,GAAoDA,EAASa,CAAG,CAClE,CA0BA,CAAC,EAAGZ,CAAQ,CACd,CAAC,CAAC,EACEa,gBAAkBrB,wBACtBqB,gBAAgBC,YAAc,iCACfD"}