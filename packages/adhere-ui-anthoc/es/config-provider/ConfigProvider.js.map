{"version":3,"file":"ConfigProvider.js","sources":["config-provider/ConfigProvider.js"],"sourcesContent":["import _ConfigProvider from \"antd/es/config-provider\";\nimport ar from 'dayjs/locale/ar';\nimport pt from 'dayjs/locale/pt';\nimport zhCN from 'dayjs/locale/zh-cn';\nimport { produce } from 'immer';\nimport { createFactory } from '../util';\n// 英文的dayjs没有formats\nvar en = {\n  name: 'en',\n  formats: {\n    LT: 'h:mm A',\n    LTS: 'h:mm:ss A',\n    L: 'MM/DD/YYYY',\n    LL: 'MMMM D, YYYY',\n    LLL: 'MMMM D, YYYY h:mm A',\n    LLLL: 'dddd, MMMM D, YYYY h:mm A',\n    l: 'M/D/YYYY',\n    ll: 'MMM D, YYYY',\n    lll: 'MMM D, YYYY h:mm A',\n    llll: 'ddd, MMM D, YYYY h:mm A'\n  }\n};\nvar dayjsLocalesMap = [ar, en, pt, zhCN].reduce(function (result, locale) {\n  result.set(locale.name, locale);\n  return result;\n}, new Map());\nvar ConfigProviderHOC = createFactory(_ConfigProvider, {}, function (props) {\n  var _a, _b;\n  var localeKey = (_b = (_a = props === null || props === void 0 ? void 0 : props.locale) === null || _a === void 0 ? void 0 : _a.locale) !== null && _b !== void 0 ? _b : 'zh-cn';\n  var locale = dayjsLocalesMap.get(localeKey);\n  console.log('localeKey', localeKey);\n  console.log('locale', locale);\n  return produce(props, function (draft) {\n    var _a, _b;\n    if ((_b = (_a = draft === null || draft === void 0 ? void 0 : draft.locale) === null || _a === void 0 ? void 0 : _a.DatePicker) === null || _b === void 0 ? void 0 : _b.lang) {\n      // @ts-ignore\n      draft.locale.DatePicker.lang.fieldDateTimeFormat = \"\".concat(locale.formats.L, \" \").concat(locale.formats.LTS);\n      // @ts-ignore\n      draft.locale.DatePicker.lang.fieldDateFormat = locale.formats.L;\n    }\n  });\n});\nConfigProviderHOC.displayName = 'ConfigProvider';\nexport default ConfigProviderHOC;"],"names":["_ConfigProvider","ar","pt","zhCN","produce","createFactory","en","name","formats","LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","dayjsLocalesMap","reduce","result","locale","set","Map","ConfigProviderHOC","props","localeKey","_b","_a","get","console","log","draft","DatePicker","lang","fieldDateTimeFormat","concat","fieldDateFormat","displayName"],"mappings":"OAAOA,oBAAqB,iCACrBC,OAAQ,yBACRC,OAAQ,yBACRC,SAAU,4BACRC,OAAsB,KAAP,eACfC,aAA8B,KAAT,UAE9B,IAAIC,GAAK,CACPC,KAAM,KACNC,QAAS,CACPC,GAAI,SACJC,IAAK,YACLC,EAAG,aACHC,GAAI,eACJC,IAAK,sBACLC,KAAM,4BACNC,EAAG,WACHC,GAAI,cACJC,IAAK,qBACLC,KAAM,yBACR,CACF,EACIC,gBAAkB,CAAClB,GAAIK,GAAIJ,GAAIC,MAAMiB,OAAO,SAAUC,EAAQC,GAEhE,OADAD,EAAOE,IAAID,EAAOf,KAAMe,CAAM,EACvBD,CACT,EAAG,IAAIG,GAAK,EACRC,kBAAoBpB,cAAcL,gBAAiB,GAAI,SAAU0B,GACnE,IACIC,EAAY,OAACC,EAAK,OAACC,EAAKH,MAAAA,EAAqC,KAAA,EAASA,EAAMJ,QAAoC,KAAA,EAASO,EAAGP,QAAoCM,EAAK,QACrKN,EAASH,gBAAgBW,IAAIH,CAAS,EAG1C,OAFAI,QAAQC,IAAI,YAAaL,CAAS,EAClCI,QAAQC,IAAI,SAAUV,CAAM,EACrBlB,QAAQsB,EAAO,SAAUO,GAC9B,IAAQL,EACJ,OAACA,EAAK,OAACC,EAAKI,MAAAA,EAAqC,KAAA,EAASA,EAAMX,QAAoC,KAAA,EAASO,EAAGK,aAAiDN,EAAGO,OAEtKF,EAAMX,OAAOY,WAAWC,KAAKC,oBAAsB,GAAGC,OAAOf,EAAOd,QAAQG,EAAG,GAAG,EAAE0B,OAAOf,EAAOd,QAAQE,GAAG,EAE7GuB,EAAMX,OAAOY,WAAWC,KAAKG,gBAAkBhB,EAAOd,QAAQG,EAElE,CAAC,CACH,CAAC,EACDc,kBAAkBc,YAAc,gCACjBd"}