{"version":3,"file":"useSetState.js","sources":["useSetState.js"],"sourcesContent":["import { useLayoutEffect, useRef } from 'react';\nimport useLatestState from './useLatestState';\n/**\n * useSetState\n * @description 带有更新成功回调函数, 返回的是最新的值\n * @param initialState\n */\nfunction useSetState(initialState) {\n    var _a = useLatestState(initialState), valueRef = _a[0], setValue = _a[1];\n    var callbackRef = useRef();\n    useLayoutEffect(function () {\n        var _a;\n        (_a = callbackRef === null || callbackRef === void 0 ? void 0 : callbackRef.current) === null || _a === void 0 ? void 0 : _a.call(callbackRef);\n    }, [valueRef.current]);\n    return [\n        valueRef,\n        function (_value, callback) {\n            callbackRef.current = callback;\n            setValue(_value);\n        },\n    ];\n}\n/**\n * useSetState\n * @param defaultValue - 初始值\n */\nexport default useSetState;\n"],"names":["useLayoutEffect","useRef","useLatestState","useSetState","initialState","_a","valueRef","setValue","callbackRef","current","call","_value","callback"],"mappings":"OAASA,gBAAiBC,MAAqB,KAAP,eACjCC,mBAAoB,mBAM3B,SAASC,YAAYC,GACjB,IAAIC,EAAKH,eAAeE,CAAY,EAAGE,EAAWD,EAAG,GAAIE,EAAWF,EAAG,GACnEG,EAAcP,OAAO,EAKzB,OAJAD,gBAAgB,WACZ,IAAIK,EACJ,OAACA,EAAKG,MAAAA,EAAiD,KAAA,EAASA,EAAYC,UAA8CJ,EAAGK,KAAKF,CAAW,CACjJ,EAAG,CAACF,EAASG,QAAQ,EACd,CACHH,EACA,SAAUK,EAAQC,GACdJ,EAAYC,QAAUG,EACtBL,EAASI,CAAM,CACnB,EAER,gBAKeR"}