{"version":3,"file":"useSetState.js","sources":["useSetState.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar useLatestState_1 = __importDefault(require(\"./useLatestState\"));\nfunction useSetState(initialState) {\n    var _a = (0, useLatestState_1.default)(initialState), valueRef = _a[0], setValue = _a[1];\n    var callbackRef = (0, react_1.useRef)();\n    (0, react_1.useLayoutEffect)(function () {\n        var _a;\n        (_a = callbackRef === null || callbackRef === void 0 ? void 0 : callbackRef.current) === null || _a === void 0 ? void 0 : _a.call(callbackRef);\n    }, [valueRef.current]);\n    return [\n        valueRef,\n        function (_value, callback) {\n            callbackRef.current = callback;\n            setValue(_value);\n        },\n    ];\n}\n/**\n * useSetState\n * @param defaultValue - 初始值\n */\nexports.default = useSetState;\n"],"names":["__importDefault","this","mod","__esModule","default","react_1","Object","defineProperty","exports","value","require","useLatestState_1","useSetState","initialState","_a","valueRef","setValue","callbackRef","useRef","useLayoutEffect","current","call","_value","callback"],"mappings":"AAAA,aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,SADJC,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC9CC,QAAQ,OAAO,GACzBC,iBAAmBX,gBAAgBU,QAAQ,kBAAkB,CAAC,EAClE,SAASE,YAAYC,GACjB,IAAIC,GAAK,EAAIH,iBAAiBP,SAASS,CAAY,EAAGE,EAAWD,EAAG,GAAIE,EAAWF,EAAG,GAClFG,GAAc,EAAIZ,QAAQa,QAAQ,EAKtC,OAJA,EAAIb,QAAQc,iBAAiB,WACzB,IAAIL,EACJ,OAACA,EAAKG,MAAAA,EAAiD,KAAA,EAASA,EAAYG,UAA8CN,EAAGO,KAAKJ,CAAW,CACjJ,EAAG,CAACF,EAASK,QAAQ,EACd,CACHL,EACA,SAAUO,EAAQC,GACdN,EAAYG,QAAUG,EACtBP,EAASM,CAAM,CACnB,EAER,CAKAd,QAAQJ,QAAUQ"}