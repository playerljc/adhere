{"version":3,"file":"util.js","sources":["util.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.deal = void 0;\r\nvar react_1 = __importDefault(require(\"react\"));\r\n/**\r\n * check\r\n * @description - 检查元素是否是ReactElement\r\n * @param element\r\n */\r\nfunction check(element) {\r\n    if (!element)\r\n        return false;\r\n    return typeof element === 'object' && '$$typeof' in element;\r\n}\r\n/**\r\n * checkAndDeal\r\n * @description 检查和处理\r\n * @param element\r\n * @param prop\r\n * @param value\r\n */\r\nfunction checkAndDeal(_a) {\r\n    var element = _a.element, prop = _a.prop, value = _a.value;\r\n    // 如果是ReactElement\r\n    if (check(element)) {\r\n        // 没有style属性则进行克隆，放入style属性\r\n        if (!('style' in element.props)) {\r\n            var props = element.props;\r\n            element = cloneElement(element, __assign(__assign({}, props), { style: {} }), props.children);\r\n        }\r\n        // 设置prop = value\r\n        element.props.style[prop] = value;\r\n    }\r\n    return element;\r\n}\r\n/**\r\n * cloneElement\r\n * @description - 对ReactElement进行Clone\r\n * @param element\r\n * @param props\r\n * @param children\r\n */\r\nfunction cloneElement(element, props, children) {\r\n    return react_1.default.cloneElement(element, props, children);\r\n}\r\n/**\r\n * arrayDeal\r\n * @description - array的处理\r\n * @param element\r\n * @param prop\r\n * @param value\r\n */\r\nfunction arrayDeal(_a) {\r\n    // console.log('arrayDeal', element);\r\n    var element = _a.element, prop = _a.prop, value = _a.value;\r\n    return element.map(function (c) {\r\n        return checkAndDeal({\r\n            element: c,\r\n            prop: prop,\r\n            value: value,\r\n        });\r\n    });\r\n}\r\n/**\r\n * elementDeal\r\n * @description 元素的处理\r\n * @param element\r\n * @param prop\r\n * @param value\r\n */\r\nfunction elementDeal(element, prop, value) {\r\n    return checkAndDeal({\r\n        element: element,\r\n        prop: prop,\r\n        value: value,\r\n    });\r\n}\r\n/**\r\n * deal\r\n * @description - 处理\r\n * @param element\r\n * @param conditional\r\n * @param prop\r\n * @param value\r\n */\r\nfunction deal(_a) {\r\n    var element = _a.element, conditional = _a.conditional, prop = _a.prop, value = _a.value;\r\n    // console.log('element', element);\r\n    if (!element)\r\n        return element;\r\n    // console.log('typeString', element.type.toString());\r\n    // console.log('type', element.type === Symbol.for('react.fragment'));\r\n    // array\r\n    if (Array.isArray(element)) {\r\n        element = arrayDeal({ element: element, prop: prop, value: value });\r\n    }\r\n    // fragment\r\n    else {\r\n        // @ts-ignore\r\n        if (element.type === Symbol.for('react.fragment')) {\r\n            var frChildren = deal({ element: element.props.children, conditional: conditional, prop: prop, value: value });\r\n            element = cloneElement(element, __assign(__assign({}, element.props), { children: frChildren }), frChildren);\r\n        }\r\n        // ReactElement\r\n        else {\r\n            element = elementDeal(element, prop, value);\r\n        }\r\n    }\r\n    return element;\r\n}\r\nexports.deal = deal;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","default","defineProperty","exports","value","deal","react_1","require","check","element","checkAndDeal","_a","prop","props","cloneElement","style","children","arrayDeal","map","c","elementDeal","conditional","Array","isArray","type","Symbol","for","frChildren"],"mappings":"aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMb,KAAMO,YAE5BO,gBAAmBd,MAAQA,KAAKc,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,IAExDd,OAAOiB,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtDD,QAAQE,UAAO,EACf,IAAIC,QAAUR,gBAAgBS,QAAQ,UAMtC,SAASC,MAAMC,GACX,QAAKA,IAEqB,iBAAZA,GAAwB,aAAcA,GASxD,SAASC,aAAaC,GAClB,IAAIF,EAAUE,EAAGF,QAASG,EAAOD,EAAGC,KAAMR,EAAQO,EAAGP,MAWrD,OATII,MAAMC,KAEA,UAAWA,EAAQI,QACjBA,EAAQJ,EAAQI,MACpBJ,EAAUK,aAAaL,EAAS1B,SAASA,SAAS,GAAI8B,GAAQ,CAAEE,MAAO,KAAOF,EAAMG,WAGxFP,EAAQI,MAAME,MAAMH,GAAQR,GAEzBK,EASX,SAASK,aAAaL,EAASI,EAAOG,GAClC,OAAOV,QAAQL,QAAQa,aAAaL,EAASI,EAAOG,GASxD,SAASC,UAAUN,GAEf,IAAIF,EAAUE,EAAGF,QAASG,EAAOD,EAAGC,KAAMR,EAAQO,EAAGP,MACrD,OAAOK,EAAQS,IAAI,SAAUC,GACzB,OAAOT,aAAa,CAChBD,QAASU,EACTP,KAAMA,EACNR,MAAOA,MAWnB,SAASgB,YAAYX,EAASG,EAAMR,GAChC,OAAOM,aAAa,CAChBD,QAASA,EACTG,KAAMA,EACNR,MAAOA,IAWf,SAASC,KAAKM,GACV,IAAIF,EAAUE,EAAGF,QAASY,EAAcV,EAAGU,YAAaT,EAAOD,EAAGC,KAAMR,EAAQO,EAAGP,MAEnF,OAMIK,EANCA,IAKDa,MAAMC,QAAQd,GACJQ,UAAU,CAAER,QAASA,EAASG,KAAMA,EAAMR,MAAOA,IAKvDK,EAAQe,OAASC,OAAOC,IAAI,mBACxBC,EAAatB,KAAK,CAAEI,QAASA,EAAQI,MAAMG,SAAUK,YAAaA,EAAaT,KAAMA,EAAMR,MAAOA,IAC5FU,aAAaL,EAAS1B,SAASA,SAAS,GAAI0B,EAAQI,OAAQ,CAAEG,SAAUW,IAAeA,IAIvFP,YAAYX,EAASG,EAAMR,IAKjDD,QAAQE,KAAOA"}