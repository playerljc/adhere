{"version":3,"file":"util.js","sources":["util.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deal = void 0;\nvar react_1 = __importDefault(require(\"react\"));\n/**\n * check\n * @description - 检查元素是否是ReactElement\n * @param element\n */\nfunction check(element) {\n    if (!element)\n        return false;\n    return typeof element === 'object' && '$$typeof' in element;\n}\n/**\n * checkAndDeal\n * @description 检查和处理\n * @param element\n * @param prop\n * @param value\n */\nfunction checkAndDeal(_a) {\n    var element = _a.element, prop = _a.prop, value = _a.value;\n    // 如果是ReactElement\n    if (check(element)) {\n        // 没有style属性则进行克隆，放入style属性\n        if (!('style' in element.props)) {\n            var props = element.props;\n            element = cloneElement(element, __assign(__assign({}, props), { style: {} }), props.children);\n        }\n        // 设置prop = value\n        element.props.style[prop] = value;\n    }\n    return element;\n}\n/**\n * cloneElement\n * @description - 对ReactElement进行Clone\n * @param element\n * @param props\n * @param children\n */\nfunction cloneElement(element, props, children) {\n    return react_1.default.cloneElement(element, props, children);\n}\n/**\n * arrayDeal\n * @description - array的处理\n * @param element\n * @param prop\n * @param value\n */\nfunction arrayDeal(_a) {\n    var element = _a.element, prop = _a.prop, value = _a.value;\n    return element.map(function (c) {\n        return checkAndDeal({\n            element: c,\n            prop: prop,\n            value: value,\n        });\n    });\n}\n/**\n * elementDeal\n * @description 元素的处理\n * @param element\n * @param prop\n * @param value\n */\nfunction elementDeal(element, prop, value) {\n    return checkAndDeal({\n        element: element,\n        prop: prop,\n        value: value,\n    });\n}\n/**\n * deal\n * @description - 处理\n * @param element\n * @param conditional\n * @param prop\n * @param value\n */\nfunction deal(_a) {\n    var element = _a.element, conditional = _a.conditional, prop = _a.prop, value = _a.value;\n    if (!element)\n        return element;\n    // array\n    if (Array.isArray(element)) {\n        element = arrayDeal({ element: element, prop: prop, value: value });\n    }\n    // fragment\n    else {\n        if (element.type === Symbol.for('react.fragment')) {\n            var frChildren = deal({ element: element.props.children, conditional: conditional, prop: prop, value: value });\n            element = cloneElement(element, __assign(__assign({}, element.props), { children: frChildren }), frChildren);\n        }\n        // ReactElement\n        else {\n            element = elementDeal(element, prop, value);\n        }\n    }\n    return element;\n}\nexports.deal = deal;\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","default","react_1","defineProperty","exports","value","deal","require","check","element","checkAndDeal","_a","props","prop","cloneElement","style","children","arrayDeal","map","c","elementDeal","conditional","Array","isArray","type","Symbol","for","frChildren"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,EACIO,gBAAmBd,MAAQA,KAAKc,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAGIG,SAFJjB,OAAOkB,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC5DD,QAAQE,KAAO,KAAA,EACDR,gBAAgBS,QAAQ,OAAO,CAAC,GAM9C,SAASC,MAAMC,GACX,MAAKA,CAAAA,CAAAA,GAEqB,UAAnB,OAAOA,GAAwB,aAAcA,CACxD,CAQA,SAASC,aAAaC,GAClB,IAKYC,EALRH,EAAUE,EAAGF,QAASI,EAAOF,EAAGE,KAAMR,EAAQM,EAAGN,MAWrD,OATIG,MAAMC,CAAO,IAEP,UAAWA,EAAQG,QACjBA,EAAQH,EAAQG,MACpBH,EAAUK,aAAaL,EAAS1B,SAASA,SAAS,GAAI6B,CAAK,EAAG,CAAEG,MAAO,EAAG,CAAC,EAAGH,EAAMI,QAAQ,GAGhGP,EAAQG,MAAMG,MAAMF,GAAQR,GAEzBI,CACX,CAQA,SAASK,aAAaL,EAASG,EAAOI,GAClC,OAAOd,QAAQD,QAAQa,aAAaL,EAASG,EAAOI,CAAQ,CAChE,CAQA,SAASC,UAAUN,GACf,IAAIF,EAAUE,EAAGF,QAASI,EAAOF,EAAGE,KAAMR,EAAQM,EAAGN,MACrD,OAAOI,EAAQS,IAAI,SAAUC,GACzB,OAAOT,aAAa,CAChBD,QAASU,EACTN,KAAMA,EACNR,MAAOA,CACX,CAAC,CACL,CAAC,CACL,CAQA,SAASe,YAAYX,EAASI,EAAMR,GAChC,OAAOK,aAAa,CAChBD,QAASA,EACTI,KAAMA,EACNR,MAAOA,CACX,CAAC,CACL,CASA,SAASC,KAAKK,GACV,IAAIF,EAAUE,EAAGF,QAASY,EAAcV,EAAGU,YAAaR,EAAOF,EAAGE,KAAMR,EAAQM,EAAGN,MAkBnF,OAjBKI,EAAAA,IAGDa,MAAMC,QAAQd,CAAO,EACXQ,UAAU,CAAER,QAASA,EAASI,KAAMA,EAAMR,MAAOA,CAAM,CAAC,EAI9DI,EAAQe,OAASC,OAAOC,IAAI,gBAAgB,GACxCC,EAAarB,KAAK,CAAEG,QAASA,EAAQG,MAAMI,SAAUK,YAAaA,EAAaR,KAAMA,EAAMR,MAAOA,CAAM,CAAC,EACnGS,aAAaL,EAAS1B,SAASA,SAAS,GAAI0B,EAAQG,KAAK,EAAG,CAAEI,SAAUW,CAAW,CAAC,EAAGA,CAAU,GAIjGP,YAAYX,EAASI,EAAMR,CAAK,EAItD,CACAD,QAAQE,KAAOA"}