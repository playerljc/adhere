{"version":3,"file":"conditionalrender.js","sources":["conditionalrender.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar show_1 = __importDefault(require(\"./show\"));\r\nvar visibility_1 = __importDefault(require(\"./visibility\"));\r\n/**\r\n * ConditionalRender - 条件渲染\r\n * @class ConditionalRender\r\n * @classdesc ConditionalRender\r\n */\r\nfunction ConditionalRender(_a) {\r\n    var conditional = _a.conditional, noMatch = _a.noMatch, children = _a.children;\r\n    if (conditional) {\r\n        return children();\r\n    }\r\n    return noMatch ? noMatch() : null;\r\n}\r\nConditionalRender.Show = show_1.default;\r\nConditionalRender.Visibility = visibility_1.default;\r\n/**\r\n * conditionalRender\r\n * @description - 使用方法的ConditionalRender\r\n * @param conditional\r\n * @param match\r\n * @param noMatch\r\n */\r\nConditionalRender.conditionalRender = function (_a) {\r\n    var conditional = _a.conditional, match = _a.match, noMatch = _a.noMatch;\r\n    return conditional ? match : noMatch || null;\r\n};\r\n/**\r\n * conditionalArr\r\n * @description - 含有PermissionConditional的React.Element的数组\r\n * @param arr\r\n * @return Array\r\n */\r\nConditionalRender.conditionalArr = function (arr) {\r\n    return arr.filter(function (t) {\r\n        var _a, _b;\r\n        if ('props' in t && 'conditional' in t.props) {\r\n            if (!t.props.conditional) {\r\n                if (t.props.noMatch && ((_b = (_a = t.props).noMatch) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null)\r\n                    return true;\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    });\r\n};\r\nConditionalRender.defaultProps = {\r\n    conditional: true,\r\n    noMatch: function () { return null; },\r\n};\r\nConditionalRender.propTypes = {\r\n    conditional: prop_types_1.default.bool,\r\n    noMatch: prop_types_1.default.func,\r\n};\r\nexports.default = ConditionalRender;\r\n"],"names":["__importDefault","this","mod","__esModule","default","Object","defineProperty","exports","value","prop_types_1","require","show_1","visibility_1","ConditionalRender","_a","conditional","noMatch","children","Show","Visibility","conditionalRender","match","conditionalArr","arr","filter","t","props","_b","call","defaultProps","propTypes","bool","func"],"mappings":"aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,IAExDG,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,aAAeT,gBAAgBU,QAAQ,eACvCC,OAASX,gBAAgBU,QAAQ,WACjCE,aAAeZ,gBAAgBU,QAAQ,iBAM3C,SAASG,kBAAkBC,GACvB,IAAIC,EAAcD,EAAGC,YAAaC,EAAUF,EAAGE,QAASC,EAAWH,EAAGG,SACtE,OAAIF,EACOE,IAEJD,EAAUA,IAAY,KAEjCH,kBAAkBK,KAAOP,OAAOP,QAChCS,kBAAkBM,WAAaP,aAAaR,QAQ5CS,kBAAkBO,kBAAoB,SAAUN,GAC5C,IAAIC,EAAcD,EAAGC,YAAaM,EAAQP,EAAGO,MAAOL,EAAUF,EAAGE,QACjE,OAAOD,EAAcM,EAAQL,GAAW,MAQ5CH,kBAAkBS,eAAiB,SAAUC,GACzC,OAAOA,EAAIC,OAAO,SAAUC,GACxB,IAAIX,EACJ,QAAI,UAAWW,GAAK,gBAAiBA,EAAEC,QAC9BD,EAAEC,MAAMX,iBACLU,EAAEC,MAAMV,SAAgG,QAAlD,QAAjCW,GAAMb,EAAKW,EAAEC,OAAOV,eAA4B,IAAPW,OAAgB,EAASA,EAAGC,KAAKd,QAQnHD,kBAAkBgB,aAAe,CAC7Bd,aAAa,EACbC,QAAS,WAAc,OAAO,OAElCH,kBAAkBiB,UAAY,CAC1Bf,YAAaN,aAAaL,QAAQ2B,KAClCf,QAASP,aAAaL,QAAQ4B,MAElCzB,QAAQH,QAAUS"}