{"version":3,"file":"conditionalrender.js","sources":["conditionalrender.js"],"sourcesContent":["import PropTypes from 'prop-types';\r\nimport ConditionalRenderShow from './show';\r\nimport ConditionalRenderVisibility from './visibility';\r\n/**\r\n * ConditionalRender - 条件渲染\r\n * @class ConditionalRender\r\n * @classdesc ConditionalRender\r\n */\r\nfunction ConditionalRender(_a) {\r\n    var conditional = _a.conditional, noMatch = _a.noMatch, children = _a.children;\r\n    if (conditional) {\r\n        return children();\r\n    }\r\n    return noMatch ? noMatch() : null;\r\n}\r\nConditionalRender.Show = ConditionalRenderShow;\r\nConditionalRender.Visibility = ConditionalRenderVisibility;\r\n/**\r\n * conditionalRender\r\n * @description - 使用方法的ConditionalRender\r\n * @param conditional\r\n * @param match\r\n * @param noMatch\r\n */\r\nConditionalRender.conditionalRender = function (_a) {\r\n    var conditional = _a.conditional, match = _a.match, noMatch = _a.noMatch;\r\n    return conditional ? match : noMatch || null;\r\n};\r\n/**\r\n * conditionalArr\r\n * @description - 含有PermissionConditional的React.Element的数组\r\n * @param arr\r\n * @return Array\r\n */\r\nConditionalRender.conditionalArr = function (arr) {\r\n    return arr.filter(function (t) {\r\n        var _a, _b;\r\n        if ('props' in t && 'conditional' in t.props) {\r\n            if (!t.props.conditional) {\r\n                if (t.props.noMatch && ((_b = (_a = t.props).noMatch) === null || _b === void 0 ? void 0 : _b.call(_a)) !== null)\r\n                    return true;\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    });\r\n};\r\n/**\r\n * conditionalNotEmptyArr\r\n * @deprecated 去除null和undefined值\r\n * @param arr\r\n */\r\nConditionalRender.conditionalNotEmptyArr = function (arr) {\r\n    return arr.filter(function (t) { return !(t === null || t === undefined); });\r\n};\r\nConditionalRender.defaultProps = {\r\n    conditional: true,\r\n    noMatch: function () { return null; },\r\n};\r\nConditionalRender.propTypes = {\r\n    conditional: PropTypes.bool,\r\n    noMatch: PropTypes.func,\r\n};\r\nexport default ConditionalRender;\r\n"],"names":["PropTypes","ConditionalRenderShow","ConditionalRenderVisibility","ConditionalRender","_a","conditional","noMatch","children","Show","Visibility","conditionalRender","match","conditionalArr","arr","filter","t","props","_b","call","conditionalNotEmptyArr","defaultProps","propTypes","bool","func"],"mappings":"OAAOA,kCACAC,0CACAC,+CAMP,SAASC,kBAAkBC,GACvB,IAAIC,EAAcD,EAAGC,YAAaC,EAAUF,EAAGE,QAASC,EAAWH,EAAGG,SACtE,OAAIF,EACOE,IAEJD,EAAUA,IAAY,KAEjCH,kBAAkBK,KAAOP,sBACzBE,kBAAkBM,WAAaP,4BAQ/BC,kBAAkBO,kBAAoB,SAAUN,GAC5C,IAAIC,EAAcD,EAAGC,YAAaM,EAAQP,EAAGO,MAAOL,EAAUF,EAAGE,QACjE,OAAOD,EAAcM,EAAQL,GAAW,MAQ5CH,kBAAkBS,eAAiB,SAAUC,GACzC,OAAOA,EAAIC,OAAO,SAAUC,GACxB,IAAIX,EACJ,QAAI,UAAWW,GAAK,gBAAiBA,EAAEC,QAC9BD,EAAEC,MAAMX,iBACLU,EAAEC,MAAMV,SAAgG,QAAlD,QAAjCW,GAAMb,EAAKW,EAAEC,OAAOV,eAA4B,IAAPW,OAAgB,EAASA,EAAGC,KAAKd,QAanHD,kBAAkBgB,uBAAyB,SAAUN,GACjD,OAAOA,EAAIC,OAAO,SAAUC,GAAK,QAAQ,MAACA,MAE9CZ,kBAAkBiB,aAAe,CAC7Bf,aAAa,EACbC,QAAS,WAAc,OAAO,OAElCH,kBAAkBkB,UAAY,CAC1BhB,YAAaL,UAAUsB,KACvBhB,QAASN,UAAUuB,qBAERpB"}