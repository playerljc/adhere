"use strict";var __assign=function(){return(__assign=Object.assign||function(A){for(var E,B=1,Q=arguments.length;B<Q;B++)for(var g in E=arguments[B])Object.prototype.hasOwnProperty.call(E,g)&&(A[g]=E[g]);return A}).apply(this,arguments)},__createBinding=Object.create?function(A,E,B,Q){void 0===Q&&(Q=B);var g=Object.getOwnPropertyDescriptor(E,B);g&&("get"in g?E.__esModule:!g.writable&&!g.configurable)||(g={enumerable:!0,get:function(){return E[B]}}),Object.defineProperty(A,Q,g)}:function(A,E,B,Q){A[Q=void 0===Q?B:Q]=E[B]},__setModuleDefault=Object.create?function(A,E){Object.defineProperty(A,"default",{enumerable:!0,value:E})}:function(A,E){A.default=E},__importStar=function(A){if(A&&A.__esModule)return A;var E={};if(null!=A)for(var B in A)"default"!==B&&Object.prototype.hasOwnProperty.call(A,B)&&__createBinding(E,A,B);return __setModuleDefault(E,A),E},__importDefault=function(A){return A&&A.__esModule?A:{default:A}},antd_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("antd")),classnames_1=__importDefault(require("classnames")),react_1=__importStar(require("react")),adhere_ui_messagedialog_1=__importDefault(require("@baifendian/adhere-ui-messagedialog")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),SignatureCore_1=__importDefault(require("./SignatureCore")),selectorPrefix="adhere-ui-signature",emptyStr="data:image/png;base64,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",Signature=function(A,E){var B=A.className,Q=A.style,g=A.value,I=A.onChange,C=A.modalProps,e=A.coreProps,t=(0,react_1.useRef)(null),A=(0,react_1.useCallback)(function(){return react_1.default.createElement("div",{className:(0,classnames_1.default)("".concat(selectorPrefix,"-mask")),onClick:function(){var E=adhere_ui_messagedialog_1.default.Modal({config:__assign({title:adhere_util_intl_1.default.v("编辑签名"),width:"60%",maskClosable:!1,footer:[react_1.default.createElement(antd_1.Button,{key:"submit",type:"primary",title:adhere_util_intl_1.default.v("保存"),onClick:function(){var A;t.current&&(A=t.current.save(),I)&&(I(A),E.close())}},adhere_util_intl_1.default.v("保存"))]},C||{}),children:react_1.default.createElement(SignatureCore_1.default,__assign({ref:t},e))})}},adhere_util_intl_1.default.v("编辑签名"))},[e,g,I]),d=(0,react_1.useCallback)(function(){return g?react_1.default.createElement("img",{src:g,alt:""}):null},[g]);return(0,react_1.useImperativeHandle)(E,function(){return{isEmpty:function(A){return!A||A===emptyStr}}}),react_1.default.createElement("div",{className:(0,classnames_1.default)(selectorPrefix,B),style:Q||{}},A(),d())};exports.default=(0,react_1.memo)((0,react_1.forwardRef)(Signature));
//# sourceMappingURL=index.js.map
