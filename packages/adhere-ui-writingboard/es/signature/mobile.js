import _Modal from"@baifendian/adhere-mobile-ui-anthoc/es/modal";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,t=1,a=arguments.length;t<a;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)};import SignatureCore from"./MobileSignatureCore";import classNames from"classnames";import React,{forwardRef,memo,useCallback,useImperativeHandle,useRef}from"react";import Intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-ui-mobile-signature",InternalMobileSignature=memo(forwardRef(function(e,r){var t=e.className,a=e.style,n=e.value,i=e.onChange,o=(e.modalProps,e.coreProps),l=useRef(null),e=useCallback(function(){return React.createElement(_Modal.TriggerPrompt,{title:Intl.v("编辑签名"),popoverTriggerProps:{renderTrigger:function(){return n?React.createElement("img",{src:n,alt:""}):React.createElement("div",{className:classNames("".concat(selectorPrefix,"-mask"))},Intl.v("编辑签名"))}},actions:[{key:"submit",text:Intl.v("保存"),primary:!0,onClick:function(){return new Promise(function(e){var r;l.current&&(l.current.isEmpty()?(i&&i(""),e("")):(r=l.current.save(),i&&i(r),e(r)))})}}]},React.createElement(SignatureCore,__assign({ref:l},o)))},[o,n,i]);return useImperativeHandle(r,function(){return{isEmpty:function(){return!n}}}),React.createElement("div",{className:classNames(selectorPrefix,null!=t?t:""),style:null!=a?a:{}},e())})),MobileSignature=InternalMobileSignature;MobileSignature.SignatureCore=SignatureCore;export default MobileSignature;
//# sourceMappingURL=mobile.js.map
