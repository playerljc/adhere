import _Button from"antd/es/button";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};import classNames from"classnames";import React,{forwardRef,memo,useCallback,useImperativeHandle,useRef}from"react";import MessageDialog from"@baifendian/adhere-ui-messagedialog";import Intl from"@baifendian/adhere-util-intl";import SignatureCore from"./SignatureCore";var selectorPrefix="adhere-ui-signature",Signature=function(e,t){var a=e.className,r=e.style,n=e.value,i=e.onChange,s=e.modalProps,l=e.coreProps,o=useRef(null),e=useCallback(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-mask")),onClick:function(){var t=MessageDialog.Modal({config:__assign({title:Intl.v("编辑签名"),width:"60%",maskClosable:!1,footer:[React.createElement(_Button,{key:"submit",type:"primary",title:Intl.v("保存"),onClick:function(){var e;o.current&&(o.current.isEmpty()?i&&(i(""),t.close()):(e=o.current.save(),i&&(i(e),t.close())))}},Intl.v("保存"))]},null!=s?s:{}),children:React.createElement(SignatureCore,__assign({ref:o},l))})}},Intl.v("编辑签名"))},[l,n,i]),c=useCallback(function(){return n?React.createElement("img",{src:n,alt:""}):null},[n]);return useImperativeHandle(t,function(){return{isEmpty:function(){return!n}}}),React.createElement("div",{className:classNames(selectorPrefix,a),style:null!=r?r:{}},e(),c())},SignatureHOC=memo(forwardRef(Signature));SignatureHOC.SignatureCore=SignatureCore;export default SignatureHOC;
//# sourceMappingURL=index.js.map
