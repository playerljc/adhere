import _Button from"antd/es/button";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(A){for(var E,B=1,Q=arguments.length;B<Q;B++)for(var g in E=arguments[B])Object.prototype.hasOwnProperty.call(E,g)&&(A[g]=E[g]);return A}).apply(this,arguments)};import classNames from"classnames";import React,{forwardRef,memo,useCallback,useImperativeHandle,useRef}from"react";import MessageDialog from"@baifendian/adhere-ui-messagedialog";import Intl from"@baifendian/adhere-util-intl";import SignatureCore from"./SignatureCore";var selectorPrefix="adhere-ui-signature",emptyStr="data:image/png;base64,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",Signature=function(A,E){var B=A.className,Q=A.style,g=A.value,I=A.onChange,C=A.modalProps,e=A.coreProps,t=useRef(null),A=useCallback(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-mask")),onClick:function(){var E=MessageDialog.Modal({config:__assign({title:Intl.v("编辑签名"),width:"60%",maskClosable:!1,footer:[React.createElement(_Button,{key:"submit",type:"primary",title:Intl.v("保存"),onClick:function(){var A;t.current&&(A=t.current.save(),I)&&(I(A),E.close())}},Intl.v("保存"))]},C||{}),children:React.createElement(SignatureCore,__assign({ref:t},e))})}},Intl.v("编辑签名"))},[e,g,I]),R=useCallback(function(){return g?React.createElement("img",{src:g,alt:""}):null},[g]);return useImperativeHandle(E,function(){return{isEmpty:function(A){return!A||A===emptyStr}}}),React.createElement("div",{className:classNames(selectorPrefix,B),style:Q||{}},A(),R())},SignatureHOC=memo(forwardRef(Signature));SignatureHOC.SignatureCore=SignatureCore;export default SignatureHOC;
//# sourceMappingURL=index.js.map
