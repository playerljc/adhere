import _Button from"antd/es/button";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};import classNames from"classnames";import React,{forwardRef,memo,useCallback,useImperativeHandle,useRef}from"react";import MessageDialog from"@baifendian/adhere-ui-messagedialog";import Intl from"@baifendian/adhere-util-intl";import SignatureCore from"./SignatureCore";var selectorPrefix="adhere-ui-signature",Signature=function(e,t){var r=e.className,a=e.style,n=e.value,i=e.onChange,s=e.modalProps,l=e.coreProps,o=useRef(null),e=useCallback(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-mask")),onClick:function(){var t=MessageDialog.Modal({config:__assign({title:Intl.v("编辑签名"),width:"60%",maskClosable:!1,footer:[React.createElement(_Button,{key:"submit",type:"primary",title:Intl.v("保存"),onClick:function(){var e;o.current&&(e=o.current.save(),i)&&(i(e),t.close())}},Intl.v("保存"))]},s||{}),children:React.createElement(SignatureCore,__assign({ref:o},l))})}},Intl.v("编辑签名"))},[l,n,i]),u=useCallback(function(){return n?React.createElement("img",{src:n,alt:""}):null},[n]);return useImperativeHandle(t,function(){return{isEmpty:function(){return null==o||!o.current||(null==o?void 0:o.current.isEmpty())}}}),React.createElement("div",{className:classNames(selectorPrefix,r),style:a||{}},e(),u())},SignatureHOC=memo(forwardRef(Signature));SignatureHOC.SignatureCore=SignatureCore;export default SignatureHOC;
//# sourceMappingURL=index.js.map
