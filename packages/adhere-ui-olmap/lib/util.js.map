{"version":3,"file":"util.js","sources":["util.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar uuid_1 = require(\"uuid\");\r\nvar Map_1 = __importDefault(require(\"ol/Map\"));\r\nvar Circle_1 = __importDefault(require(\"ol/geom/Circle\"));\r\nvar Polygon_1 = __importDefault(require(\"ol/geom/Polygon\"));\r\nvar LinearRing_1 = __importDefault(require(\"ol/geom/LinearRing\"));\r\nvar geom_1 = require(\"ol/geom\");\r\nvar View_1 = __importDefault(require(\"ol/View\"));\r\nvar Feature_js_1 = __importDefault(require(\"ol/Feature.js\"));\r\nvar Text_1 = __importDefault(require(\"ol/style/Text\"));\r\nvar Overlay_js_1 = __importDefault(require(\"ol/Overlay.js\"));\r\nvar proj_js_1 = require(\"ol/proj.js\");\r\nvar extent_js_1 = require(\"ol/extent.js\");\r\nvar coordinate_1 = require(\"ol/coordinate\");\r\nvar layer_js_1 = require(\"ol/layer.js\");\r\nvar source_js_1 = require(\"ol/source.js\");\r\nvar style_js_1 = require(\"ol/style.js\");\r\nvar Draw_js_1 = __importStar(require(\"ol/interaction/Draw.js\"));\r\nvar Modify_1 = __importDefault(require(\"ol/interaction/Modify\"));\r\nvar control_js_1 = require(\"ol/control.js\");\r\nvar Zoom_js_1 = __importDefault(require(\"ol/control/Zoom.js\"));\r\nvar MousePosition_js_1 = __importDefault(require(\"ol/control/MousePosition.js\"));\r\nvar ScaleLine_js_1 = __importDefault(require(\"ol/control/ScaleLine.js\"));\r\nvar adhere_util_resource_1 = __importDefault(require(\"@baifendian/adhere-util-resource\"));\r\nvar TitleLayer = __importStar(require(\"./titlelayer\"));\r\nvar geolayer_1 = __importDefault(require(\"./geolayer\"));\r\nvar windlayer_1 = __importDefault(require(\"./windlayer\"));\r\nvar EARTH_RADIUS = adhere_util_resource_1.default.Dict.value.ResourceGisEarthRadius.value; // 单位M\r\nvar DEFAULT_COLOE = '#1788F3';\r\n/**\r\n * getMinZoom\r\n * @param target\r\n */\r\nfunction getMinZoom(target) {\r\n    var width = target.clientWidth;\r\n    return Math.ceil(Math.LOG2E * Math.log(width / 256));\r\n}\r\n/**\r\n * transformLonLat\r\n * @param point\r\n */\r\nfunction transformLonLat(point) {\r\n    return proj_js_1.transform(point, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value);\r\n}\r\nexports.default = {\r\n    SHOWBASESTATION_MINZOOM: 5,\r\n    /**\r\n     * createMap - 创建地图\r\n     * @param Config\r\n     */\r\n    createMap: function (Config) {\r\n        var config = Config.config, fitZoom = Config.fitZoom, _a = Config.zoom, zoom = _a === void 0 ? getMinZoom(config.target) || 3 : _a, _b = Config.minZoom, minZoom = _b === void 0 ? getMinZoom(config.target) || 3 : _b, _c = Config.maxZoom, maxZoom = _c === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisMapMaxZoom.value : _c, _d = Config.center, center = _d === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisXinbeiquCenterPoint.value : _d, _e = Config.extent, extent = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisXinbeiquMapExtent.value : _e, _f = Config.layers, layers = _f === void 0 ? [TitleLayer.getOSMTileLayer()] : _f;\r\n        console.log(layers);\r\n        // @ts-ignore\r\n        var map = new Map_1.default(__assign(__assign({}, config), { controls: control_js_1.defaults({\r\n                attributionOptions: {\r\n                    collapsible: false,\r\n                },\r\n            }).extend([\r\n                new Zoom_js_1.default(),\r\n                new ScaleLine_js_1.default(),\r\n                new MousePosition_js_1.default({\r\n                    coordinateFormat: coordinate_1.createStringXY(5),\r\n                    projection: adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value,\r\n                }),\r\n            ]), pixelRatio: 1, view: new View_1.default({\r\n                center: proj_js_1.fromLonLat(center),\r\n                minZoom: minZoom,\r\n                maxZoom: maxZoom,\r\n                zoom: zoom,\r\n                extent: proj_js_1.transformExtent(extent_js_1.boundingExtent(extent), adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value),\r\n            }), layers: layers }));\r\n        setTimeout(function () {\r\n            var zoom;\r\n            if (fitZoom) {\r\n                zoom = fitZoom;\r\n            }\r\n            else {\r\n                var mapExtentTransform = [].concat(proj_js_1.fromLonLat(extent[0])).concat(proj_js_1.fromLonLat(extent[1]));\r\n                var resolution = map.getView().getResolutionForExtent(mapExtentTransform);\r\n                zoom = map.getView().getZoomForResolution(resolution);\r\n                // zoom = 11.5;\r\n            }\r\n            map.getView().setZoom(zoom);\r\n        }, 100);\r\n        return map;\r\n    },\r\n    /**\r\n     * setOverlayState - 给overlay赋予状态\r\n     * @param overlay\r\n     * @param point\r\n     */\r\n    setOverlayState: function (overlay, point) {\r\n        overlay.setPosition(/* fromLonLat(point) */ point);\r\n    },\r\n    /**\r\n     * addClickListener\r\n     * 给地图实例添加 click 监听者\r\n     * 此方法仅监听了单击\r\n     * @param {Object} mapInstance map实例对象\r\n     * @param {Object} listeningLayer 监听的layer\r\n     * @param {Function=} hitCallback 可选 选中的回调\r\n     * @param {Function=} unHitCallback 可选 未选中的回调\r\n     * @param {Function} setCursor 设置鼠标滑过当前图层的鼠标样式\r\n     */\r\n    addClickListener: (function () {\r\n        var onClick;\r\n        var onPointerMove;\r\n        return function (mapInstance, listeningLayer, hitCallback, unHitCallback, setCursor) {\r\n            if (hitCallback === void 0) { hitCallback = function (feature) { }; }\r\n            if (unHitCallback === void 0) { unHitCallback = function (feature) { }; }\r\n            var displayFeatureInfo = function (pixel) {\r\n                mapInstance.forEachFeatureAtPixel(pixel, function (feature, layer) {\r\n                    if (layer === listeningLayer) {\r\n                        hitCallback(feature);\r\n                    }\r\n                    else {\r\n                        unHitCallback(feature);\r\n                    }\r\n                    return true;\r\n                });\r\n            };\r\n            if (onClick) {\r\n                mapInstance.un('click', onClick);\r\n            }\r\n            if (onPointerMove) {\r\n                mapInstance.un('pointermove', onPointerMove);\r\n            }\r\n            onClick = function (evt) {\r\n                if (evt.dragging)\r\n                    return;\r\n                displayFeatureInfo(evt.pixel);\r\n            };\r\n            onPointerMove = function (evt) {\r\n                if (evt.dragging)\r\n                    return;\r\n                mapInstance.forEachFeatureAtPixel(evt.pixel, function (_, layer) {\r\n                    setCursor(layer === listeningLayer ? 'pointer' : '');\r\n                    return true;\r\n                });\r\n            };\r\n            mapInstance.on('click', onClick);\r\n            mapInstance.on('pointermove', onPointerMove);\r\n        };\r\n    })(),\r\n    /**\r\n     * addHoverListener - 给地图实例上的指定layer添加hover监听者\r\n     * @param {Object} mapInstance map实例对象\r\n     * @param {Object} listeningLayer 监听的layer\r\n     * @param {Function=} hitCallback 可选 选中的回调\r\n     * @param {Function=} unHitCallback 可选 未选中的回调\r\n     */\r\n    addHoverListener: (function () {\r\n        var onPointermove;\r\n        return function (mapInstance, listeningLayer, hitCallback, unHitCallback) {\r\n            var displayFeatureInfo = function (pixel) {\r\n                // 是否在像素中\r\n                var inPixel = false;\r\n                mapInstance.forEachFeatureAtPixel(pixel, function (feature, layer) {\r\n                    inPixel = true;\r\n                    if (layer === listeningLayer) {\r\n                        mapInstance.getTarget().style.cursor = 'pointer';\r\n                        hitCallback(feature);\r\n                    }\r\n                    else {\r\n                        mapInstance.getTarget().style.cursor = '';\r\n                        unHitCallback(feature);\r\n                    }\r\n                    return true;\r\n                });\r\n                if (!inPixel) {\r\n                    unHitCallback();\r\n                }\r\n            };\r\n            if (onPointermove) {\r\n                mapInstance.un('pointermove', onPointermove);\r\n            }\r\n            onPointermove = function (evt) {\r\n                if (evt.dragging)\r\n                    return;\r\n                var pixel = mapInstance.getEventPixel(evt.originalEvent);\r\n                displayFeatureInfo(pixel);\r\n            };\r\n            mapInstance.on('pointermove', onPointermove);\r\n        };\r\n    })(),\r\n    /**\r\n     * addGeoLayer - 给地图实例添加一个geojson格式的 VectorLayer\r\n     * @param {Object} mapInstance map实例对象\r\n     * @param geojsonData\r\n     * @param {Function=} getStyleConfig 获取该geoJSON的样式\r\n     * @param {number=} zIndex 该 Layer 的层级 可选, 默认为0\r\n     * @returns geoLayer 此次生成的layer\r\n     */\r\n    addGeoLayer: function (mapInstance, geojsonData, getStyleConfig, zIndex) {\r\n        if (getStyleConfig === void 0) { getStyleConfig = function () { }; }\r\n        if (zIndex === void 0) { zIndex = 0; }\r\n        var geoLayer = new geolayer_1.default(geojsonData, getStyleConfig, zIndex);\r\n        mapInstance.addLayer(geoLayer);\r\n        return geoLayer;\r\n    },\r\n    /**\r\n     * addWindLayer - 添加风场层\r\n     * @param mapInstance\r\n     * @param data\r\n     * @param config\r\n     * @param zIndex\r\n     * @return WindLayer\r\n     */\r\n    addWindLayer: function (mapInstance, data, config, zIndex) {\r\n        if (zIndex === void 0) { zIndex = 0; }\r\n        var windLayer = new windlayer_1.default(data, config);\r\n        mapInstance.addLayer(windLayer);\r\n        return windLayer;\r\n    },\r\n    /**\r\n     * addVectorLayer - 添加一个向量层\r\n     * @param map\r\n     * @param zIndex\r\n     */\r\n    addVectorLayer: function (map, zIndex) {\r\n        var vectorSource = new source_js_1.Vector();\r\n        var vectorLayer = new layer_js_1.Vector({\r\n            source: vectorSource,\r\n            zIndex: zIndex,\r\n        });\r\n        map.addLayer(vectorLayer);\r\n        return {\r\n            vectorLayer: vectorLayer,\r\n            vectorSource: vectorSource,\r\n        };\r\n    },\r\n    /**\r\n     * createHeatMapLayer - 创建一个热力层\r\n     * @param layoutConfig\r\n     */\r\n    createHeatMapLayer: function (layoutConfig) {\r\n        var vectorSource = new source_js_1.Vector();\r\n        var layer = new layer_js_1.Heatmap(__assign({ source: vectorSource, gradient: ['#00005c', '#020288', '#0202c0', '#0ff', '#0f0', '#ff0', '#f00'], weight: function () { return 1; }, shadow: 500, blur: 15, radius: 20 }, layoutConfig));\r\n        return {\r\n            layer: layer,\r\n            vectorSource: vectorSource,\r\n        };\r\n    },\r\n    /**\r\n     * drawCircle - 创建一个圆形\r\n     * @param center\r\n     * @param radius\r\n     * @param color\r\n     * @param strokeColor\r\n     * @param strokeWidth\r\n     * @param zIndex\r\n     * @param id\r\n     * @param propertys\r\n     */\r\n    drawCircle: function (_a) {\r\n        var center = _a.center, radius = _a.radius, _b = _a.color, color = _b === void 0 ? 'rgba(23,136,243,.2)' : _b, _c = _a.strokeColor, strokeColor = _c === void 0 ? DEFAULT_COLOE : _c, _d = _a.strokeWidth, strokeWidth = _d === void 0 ? 2 : _d, _e = _a.zIndex, zIndex = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value : _e, _f = _a.id, id = _f === void 0 ? uuid_1.v4() : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\r\n        var f = new Feature_js_1.default(__assign({ zIndex: zIndex, geometry: new Circle_1.default(center, radius) }, propertys));\r\n        f.setId(id);\r\n        f.setStyle(new style_js_1.Style({\r\n            fill: new style_js_1.Fill({\r\n                color: color,\r\n            }),\r\n            stroke: new style_js_1.Stroke({\r\n                width: strokeWidth,\r\n                color: strokeColor,\r\n            }),\r\n        }));\r\n        return f;\r\n    },\r\n    /**\r\n     * drawPolygon - 创建一个多边形\r\n     * @param points\r\n     * @param color\r\n     * @param strokeColor\r\n     * @param strokeWidth\r\n     * @param zIndex\r\n     * @param id\r\n     * @param propertys\r\n     */\r\n    drawPolygon: function (_a) {\r\n        var points = _a.points, _b = _a.color, color = _b === void 0 ? 'rgba(23,136,243,.2)' : _b, _c = _a.strokeColor, strokeColor = _c === void 0 ? DEFAULT_COLOE : _c, _d = _a.strokeWidth, strokeWidth = _d === void 0 ? 2 : _d, _e = _a.zIndex, zIndex = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value : _e, _f = _a.id, id = _f === void 0 ? uuid_1.v4() : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\r\n        var f = new Feature_js_1.default(__assign({ zIndex: zIndex, geometry: new Polygon_1.default(points) }, propertys));\r\n        f.setId(id);\r\n        f.setStyle(new style_js_1.Style({\r\n            fill: new style_js_1.Fill({\r\n                color: color,\r\n            }),\r\n            stroke: new style_js_1.Stroke({\r\n                width: strokeWidth,\r\n                color: strokeColor,\r\n            }),\r\n        }));\r\n        return f;\r\n    },\r\n    /**\r\n     * drawCirclePoint - 创建一个圆的点\r\n     * @param id\r\n     * @param pos\r\n     * @param fillOpt\r\n     * @param strokeOpt\r\n     * @param radius\r\n     * @param textOpt\r\n     * @param zIndex\r\n     * @param text\r\n     * @param propertys\r\n     */\r\n    drawCirclePoint: function (_a) {\r\n        var id = _a.id, pos = _a.pos, _b = _a.fillOpt, fillOpt = _b === void 0 ? {\r\n            color: 'rgba(23,136,243,.2)',\r\n        } : _b, _c = _a.strokeOpt, strokeOpt = _c === void 0 ? {\r\n            width: 2,\r\n            color: DEFAULT_COLOE,\r\n        } : _c, _d = _a.radius, radius = _d === void 0 ? 10 : _d, _e = _a.textOpt, textOpt = _e === void 0 ? {} : _e, _f = _a.zIndex, zIndex = _f === void 0 ? 1 : _f, _g = _a.text, text = _g === void 0 ? '' : _g, _h = _a.propertys, propertys = _h === void 0 ? {} : _h;\r\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\r\n        point.setId(id);\r\n        point.setStyle(new style_js_1.Style({\r\n            image: new style_js_1.Circle({\r\n                fill: new style_js_1.Fill(fillOpt),\r\n                stroke: new style_js_1.Stroke(strokeOpt),\r\n                radius: radius,\r\n            }),\r\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\r\n                    color: '#fff',\r\n                }) }, textOpt)),\r\n            zIndex: zIndex,\r\n        }));\r\n        return point;\r\n    },\r\n    /**\r\n     * drawRegularShapePoint - 创建一个多边形的点\r\n     * @param id\r\n     * @param pos\r\n     * @param fillOpt\r\n     * @param strokeOpt\r\n     * @param text\r\n     * @param textOpt\r\n     * @param zIndex\r\n     * @param propertys\r\n     * @param others\r\n     */\r\n    drawRegularShapePoint: function (_a) {\r\n        var id = _a.id, pos = _a.pos, _b = _a.fillOpt, fillOpt = _b === void 0 ? { color: 'rgba(23,136,243,.2)' } : _b, _c = _a.strokeOpt, strokeOpt = _c === void 0 ? {\r\n            width: 2,\r\n            color: DEFAULT_COLOE,\r\n        } : _c, \r\n        // points = 3,\r\n        // radius = 10,\r\n        // radius2 = 0,\r\n        // rotation = Math.PI / 4,\r\n        // angle = 0,\r\n        _d = _a.text, \r\n        // points = 3,\r\n        // radius = 10,\r\n        // radius2 = 0,\r\n        // rotation = Math.PI / 4,\r\n        // angle = 0,\r\n        text = _d === void 0 ? '' : _d, _e = _a.textOpt, textOpt = _e === void 0 ? {} : _e, _f = _a.zIndex, zIndex = _f === void 0 ? 1 : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g, others = __rest(_a, [\"id\", \"pos\", \"fillOpt\", \"strokeOpt\", \"text\", \"textOpt\", \"zIndex\", \"propertys\"]);\r\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\r\n        point.setId(id);\r\n        point.setStyle(new style_js_1.Style({\r\n            image: new style_js_1.RegularShape(__assign({ fill: new style_js_1.Fill(fillOpt), stroke: new style_js_1.Stroke(strokeOpt) }, others)),\r\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\r\n                    color: '#fff',\r\n                }) }, textOpt)),\r\n            zIndex: zIndex,\r\n        }));\r\n        return point;\r\n    },\r\n    /**\r\n     * drawImagePoint - 创建一个图片的点\r\n     * @param id\r\n     * @param pos\r\n     * @param zIndex\r\n     * @param color\r\n     * @param src\r\n     * @param opacity\r\n     * @param scale\r\n     * @param anchor\r\n     * @param rotation\r\n     * @param offset\r\n     * @param offsetOrigin\r\n     * @param size\r\n     * @param text\r\n     * @param textOpt\r\n     * @param propertys\r\n     */\r\n    drawImagePoint: function (_a) {\r\n        var id = _a.id, pos = _a.pos, _b = _a.zIndex, zIndex = _b === void 0 ? 1 : _b, src = _a.src, color = _a.color, opacity = _a.opacity, scale = _a.scale, anchor = _a.anchor, _c = _a.rotation, rotation = _c === void 0 ? 0 : _c, _d = _a.offset, offset = _d === void 0 ? [0, 0] : _d, offsetOrigin = _a.offsetOrigin, size = _a.size, _e = _a.text, text = _e === void 0 ? '' : _e, _f = _a.textOpt, textOpt = _f === void 0 ? {} : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\r\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\r\n        point.setId(id);\r\n        point.setStyle(new style_js_1.Style({\r\n            image: new style_js_1.Icon({\r\n                color: color,\r\n                src: src,\r\n                anchor: anchor,\r\n                opacity: opacity,\r\n                scale: scale,\r\n                rotation: rotation,\r\n                offset: offset,\r\n                offsetOrigin: offsetOrigin,\r\n                size: size,\r\n            }),\r\n            fill: new style_js_1.Fill({\r\n                color: '#fff',\r\n            }),\r\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\r\n                    color: '#fff',\r\n                }) }, textOpt)),\r\n            zIndex: zIndex,\r\n        }));\r\n        return point;\r\n    },\r\n    /**\r\n     * createRegularPolygonCurve - 扇形\r\n     * @param origin 圆心\r\n     * @param radius 半径\r\n     * @param sides 边数\r\n     * @param r 弧度\r\n     * @param angel 方向角(以y周围0)(可以自定义自己的x周一样)\r\n     * @return {Polygon}\r\n     */\r\n    createRegularPolygonCurve: function (origin, radius, sides, r, angel) {\r\n        var rotation = 360 - r;\r\n        var angle = Math.PI * (1 / sides - 1 / 2);\r\n        if (rotation) {\r\n            angle += (rotation / 180) * Math.PI;\r\n        }\r\n        var rotatedAngle;\r\n        var x;\r\n        var y;\r\n        var points = [];\r\n        for (var i = 0; i < sides; ++i) {\r\n            var an = i * ((360 - rotation) / 360);\r\n            rotatedAngle = angle + (an * 2 * Math.PI) / sides;\r\n            x = origin[0] + radius * Math.cos(rotatedAngle);\r\n            y = origin[1] + radius * Math.sin(rotatedAngle);\r\n            // @ts-ignore\r\n            points.push([x, y]);\r\n        }\r\n        if (rotation !== 0) {\r\n            // @ts-ignore\r\n            points.push(origin);\r\n        }\r\n        var ring = new LinearRing_1.default(points);\r\n        ring.rotate(Math.PI - ((angel - r / 2) / 180) * Math.PI, origin);\r\n        var poy = new Polygon_1.default([points]);\r\n        var a = ring.A;\r\n        poy.A = a;\r\n        return poy;\r\n    },\r\n    /**\r\n     * removeFeature - 删除一个feature\r\n     * @param vectorSource\r\n     * @param feature\r\n     */\r\n    removeFeature: function (vectorSource, feature) {\r\n        vectorSource.removeFeature(feature);\r\n    },\r\n    /**\r\n     * removeAllFeature - 删除所有feature\r\n     * @param vectorSource\r\n     */\r\n    removeAllFeature: function (vectorSource) {\r\n        vectorSource.clear();\r\n    },\r\n    /**\r\n     * removeAllOverlay - 删除所有覆盖物\r\n     * @param map\r\n     */\r\n    removeAllOverlay: function (map) {\r\n        map.getOverlays().clear();\r\n    },\r\n    /**\r\n     * setMapCenterAnimate - 移动地图到指定位置(动画)\r\n     * @param map\r\n     * @param point\r\n     * @param duration\r\n     */\r\n    setMapCenterAnimate: function (_a) {\r\n        var map = _a.map, point = _a.point, _b = _a.duration, duration = _b === void 0 ? 600 : _b;\r\n        map.getView().animate({\r\n            center: point,\r\n            duration: duration,\r\n        });\r\n    },\r\n    /**\r\n     * drawLine - 创建线\r\n     * @param points\r\n     * @param width\r\n     * @param color\r\n     * @param lineCap\r\n     * @param lineJoin\r\n     */\r\n    drawLine: function (_a) {\r\n        var points = _a.points, width = _a.width, color = _a.color, _b = _a.lineCap, lineCap = _b === void 0 ? 'square' : _b, _c = _a.lineJoin, lineJoin = _c === void 0 ? 'round' : _c;\r\n        var line = new Feature_js_1.default({\r\n            geometry: new geom_1.LineString(points),\r\n        });\r\n        line.setStyle(new style_js_1.Style({\r\n            stroke: new style_js_1.Stroke({\r\n                width: width,\r\n                color: color,\r\n                lineCap: lineCap,\r\n                lineJoin: lineJoin,\r\n            }),\r\n        }));\r\n        return line;\r\n    },\r\n    /**\r\n     * createInteraction\r\n     * @param map\r\n     * @param config\r\n     */\r\n    createInteraction: function (map, config) {\r\n        var onDrawStart = config.onDrawStart;\r\n        var drawPolygonInteraction = new Draw_js_1.default(config);\r\n        drawPolygonInteraction.on('drawstart', function (e) {\r\n            if (onDrawStart) {\r\n                onDrawStart(e);\r\n            }\r\n        });\r\n        map.addInteraction(drawPolygonInteraction);\r\n        return drawPolygonInteraction;\r\n    },\r\n    /**\r\n     * polygonInteraction - 框多边形\r\n     * @param map\r\n     * @param vectorSource\r\n     * @param onDrawStart\r\n     * @param onDrawEnd\r\n     */\r\n    polygonInteraction: function (_a) {\r\n        var map = _a.map, _b = _a.freehand, freehand = _b === void 0 ? true : _b, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"freehand\", \"vectorSource\", \"onDrawEnd\"]);\r\n        var drawPolygonInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Polygon', freehand: freehand }, other));\r\n        drawPolygonInteraction.on('drawend', function (e) {\r\n            e.feature.setId(uuid_1.v4());\r\n            var geometry = e.feature.getGeometry();\r\n            var lonlats = [];\r\n            var coordinates = geometry.getCoordinates()[0].map(function (v) {\r\n                // @ts-ignore\r\n                lonlats.push(transformLonLat(v));\r\n                return v;\r\n            });\r\n            var centerp = map.getView().getCenter();\r\n            if (onDrawEnd) {\r\n                onDrawEnd({\r\n                    e: e,\r\n                    geometry: geometry,\r\n                    coordinates: coordinates,\r\n                    lonlats: lonlats,\r\n                    centerp: centerp,\r\n                    transformCenterp: transformLonLat(centerp),\r\n                });\r\n            }\r\n        });\r\n        return drawPolygonInteraction;\r\n    },\r\n    /**\r\n     * circleInteraction - 框圆形\r\n     * @param map\r\n     * @param vectorSource\r\n     * @param onDrawStart\r\n     * @param onDrawEnd\r\n     */\r\n    circleInteraction: function (_a) {\r\n        var map = _a.map, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"vectorSource\", \"onDrawEnd\"]);\r\n        var drawCircleInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Circle', freehand: true }, other));\r\n        drawCircleInteraction.on('drawend', function (e) {\r\n            var geometry = e.feature.getGeometry();\r\n            // 半径\r\n            var radius = geometry.getRadius();\r\n            // 中心点\r\n            var center = geometry.getCenter();\r\n            e.feature.setId(uuid_1.v4());\r\n            if (onDrawEnd) {\r\n                onDrawEnd({\r\n                    e: e,\r\n                    geometry: geometry,\r\n                    radius: radius,\r\n                    center: center,\r\n                    transformCenter: transformLonLat(center),\r\n                });\r\n            }\r\n        });\r\n        return drawCircleInteraction;\r\n    },\r\n    /**\r\n     * boxInteraction - 框线框\r\n     * @param map\r\n     * @param vectorSource\r\n     * @param onDrawEnd\r\n     * @param other\r\n     */\r\n    boxInteraction: function (_a) {\r\n        var map = _a.map, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"vectorSource\", \"onDrawEnd\"]);\r\n        var drawBoxInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Circle', freehand: true, geometryFunction: Draw_js_1.createBox() }, other));\r\n        drawBoxInteraction.on('drawend', function (e) {\r\n            e.feature.setId(uuid_1.v4());\r\n            var geometry = e.feature.getGeometry();\r\n            var coordinates = geometry.getCoordinates()[0].map(function (v) {\r\n                return v;\r\n            });\r\n            var centerp = map.getView().getCenter();\r\n            if (onDrawEnd) {\r\n                onDrawEnd({\r\n                    e: e,\r\n                    geometry: geometry,\r\n                    coordinates: coordinates,\r\n                    centerp: centerp,\r\n                });\r\n            }\r\n        });\r\n        return drawBoxInteraction;\r\n    },\r\n    /**\r\n     * linStringInteraction - 线路\r\n     * @param map\r\n     * @param vectorSource\r\n     * @param onDrawStart\r\n     * @param onDrawEnd\r\n     */\r\n    linStringInteraction: function (_a) {\r\n        var map = _a.map, _b = _a.freehand, freehand = _b === void 0 ? true : _b, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"freehand\", \"vectorSource\", \"onDrawEnd\"]);\r\n        var drawPolygonInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'LineString', freehand: freehand }, other));\r\n        drawPolygonInteraction.on('drawend', function (e) {\r\n            e.feature.setId(uuid_1.v4());\r\n            var geometry = e.feature.getGeometry();\r\n            var lonlats = [];\r\n            var coordinates = geometry.getCoordinates().map(function (v) {\r\n                // @ts-ignore\r\n                lonlats.push(transformLonLat(v));\r\n                return v;\r\n            });\r\n            var centerp = map.getView().getCenter();\r\n            var mileage = geometry.getLength().toFixed(3);\r\n            if (onDrawEnd) {\r\n                onDrawEnd({\r\n                    e: e,\r\n                    geometry: geometry,\r\n                    coordinates: coordinates,\r\n                    lonlats: lonlats,\r\n                    centerp: centerp,\r\n                    mileage: mileage,\r\n                    transformCenterp: transformLonLat(centerp),\r\n                });\r\n            }\r\n        });\r\n        return drawPolygonInteraction;\r\n    },\r\n    /**\r\n     * createModifyInteraction\r\n     * @param map\r\n     * @param vectorSource\r\n     * @param onModifyEnd\r\n     * @return {Modify|Modify}\r\n     */\r\n    createModifyInteraction: function (_a) {\r\n        var map = _a.map, vectorSource = _a.vectorSource, onModifyEnd = _a.onModifyEnd;\r\n        var modifyInteraction = new Modify_1.default({\r\n            source: vectorSource,\r\n        });\r\n        modifyInteraction.on('modifyend', function (e) {\r\n            var features = e.features.getArray();\r\n            var geometry = features[features.length - 1].getGeometry();\r\n            onModifyEnd({\r\n                e: e,\r\n                geometry: geometry,\r\n            });\r\n        });\r\n        map.addInteraction(modifyInteraction);\r\n        return modifyInteraction;\r\n    },\r\n    /**\r\n     * removeInteraction - 移除interaction\r\n     * @param map\r\n     * @param interaction\r\n     */\r\n    removeInteraction: function (map, interaction) {\r\n        map.removeInteraction(interaction);\r\n    },\r\n    /**\r\n     * removeInteractionAll - 移除所有的Interaction\r\n     * @param map\r\n     */\r\n    removeInteractionAll: function (map) {\r\n        map.getInteractions().clear();\r\n    },\r\n    /**\r\n     * mapFit - 地图自适应\r\n     * @param extent\r\n     * @param option\r\n     * @param map\r\n     */\r\n    mapFit: function (extent, option, map) {\r\n        // if (extent.length === 0) return;\r\n        // const resolution = map.getView().getResolutionForExtent(extent);\r\n        // if (resolution === 0) return;\r\n        // map.getView().setResolution(resolution);\r\n        // map.getView().fit(extent, Object.assign({\r\n        //   padding: [10, 10, 10, 10],\r\n        //   constrainResolution: true,\r\n        //   nearest: true,\r\n        //   duration: 500,\r\n        // }, option));\r\n        if (extent === void 0) { extent = []; }\r\n        if (option === void 0) { option = {}; }\r\n        if (extent.length === 0)\r\n            return;\r\n        // const resolution = map.getView().getResolutionForExtent(extent);\r\n        // if(resolution === 0) return;\r\n        // map.getView().setResolution(resolution);\r\n        map.getView().fit(extent, __assign({ padding: [40, 40, 40, 40], constrainResolution: false, nearest: true, duration: 200 }, option));\r\n    },\r\n    /**\r\n     * addArrowsSource - 为一系列点创建箭头\r\n     * @param points\r\n     * @param color\r\n     * @param icon\r\n     * @return {Array}\r\n     */\r\n    addArrowsSource: function (_a) {\r\n        var points = _a.points, color = _a.color, icon = _a.icon;\r\n        var arrows = [];\r\n        for (var i = 0; i < points.length - 1; i++) {\r\n            var start = points[i];\r\n            var end = points[i + 1];\r\n            var dx = end[0] - start[0];\r\n            var dy = end[1] - start[1];\r\n            var rotation = Math.atan2(dy, dx);\r\n            var arrow = new Feature_js_1.default({\r\n                geometry: new geom_1.Point(end),\r\n            });\r\n            arrow.setStyle(new style_js_1.Style({\r\n                image: new style_js_1.Icon({\r\n                    color: color,\r\n                    src: icon,\r\n                    anchor: [0.5, 0.5],\r\n                    rotateWithView: true,\r\n                    rotation: -rotation,\r\n                }),\r\n            }));\r\n            // @ts-ignore\r\n            arrows.push(arrow);\r\n        }\r\n        return arrows;\r\n    },\r\n    /**\r\n     * addArrowsOverlay\r\n     * @param map\r\n     * @param parentDom\r\n     * @param color\r\n     * @param points\r\n     */\r\n    addArrowsOverlay: function (map, parentDom, color, points) {\r\n        for (var i = 0; i < points.length - 1; i++) {\r\n            var start = points[i];\r\n            var end = points[i + 1];\r\n            var dx = end[0] - start[0];\r\n            var dy = end[1] - start[1];\r\n            var rotation = Math.atan2(dy, dx);\r\n            var degrees = rotation * (180 / Math.PI);\r\n            var div = document.createElement('div');\r\n            div.className = 'fa fa-caret-right overleayArrowPoint';\r\n            div.style.transform = \"rotate(\" + -degrees + \"deg)\";\r\n            div.style.color = color;\r\n            parentDom.appendChild(div);\r\n            this.addOverlay(map, end, div);\r\n        }\r\n    },\r\n    /**\r\n     * addOverlay - 添加覆盖物\r\n     * @param map\r\n     * @param config\r\n     * @param div\r\n     */\r\n    addOverlay: function (map, config, div) {\r\n        var overlay = new Overlay_js_1.default(config);\r\n        map.addOverlay(overlay);\r\n        return overlay;\r\n    },\r\n    /**\r\n     * getRad\r\n     * @param d\r\n     */\r\n    getRad: function (d) {\r\n        return (d * Math.PI) / 180.0;\r\n    },\r\n    /**\r\n     * getExtentByCoordinates - 获取coordinates中的矩形数据\r\n     * @param coordinates\r\n     * @return {*}\r\n     */\r\n    getExtentByCoordinates: function (coordinates) {\r\n        if (coordinates.length === 0) {\r\n            return [];\r\n        }\r\n        if (coordinates.length === 1) {\r\n            return [].concat(coordinates[0], coordinates[0]);\r\n        }\r\n        var lons = [];\r\n        var lats = [];\r\n        for (var i = 0; i < coordinates.length; i++) {\r\n            var point = coordinates[i];\r\n            // @ts-ignore\r\n            lons.push(point[0]);\r\n            // @ts-ignore\r\n            lats.push(point[1]);\r\n        }\r\n        lons.sort(function (t1, t2) {\r\n            if (t1 < t2)\r\n                return -1;\r\n            if (t1 > t2)\r\n                return 1;\r\n            return 0;\r\n        });\r\n        lats.sort(function (t1, t2) {\r\n            if (t1 < t2)\r\n                return -1;\r\n            if (t1 > t2)\r\n                return 1;\r\n            return 0;\r\n        });\r\n        return [lons[0], lats[0], lons[lons.length - 1], lats[lats.length - 1]];\r\n    },\r\n    /**\r\n     * getExtentByVectorSource - 获取vectorSource中的矩形数据\r\n     * @param vectorSource\r\n     * @param type\r\n     * @return {*}\r\n     */\r\n    getExtentByVectorSource: function (vectorSource, type) {\r\n        if (type === void 0) { type = 'Point'; }\r\n        var coordinates = this.getCectorSourceCoordinates(vectorSource, type);\r\n        return this.getExtentByCoordinates(coordinates);\r\n    },\r\n    /**\r\n     * getCectorSourceCoordinates - 获取向量层中的所有点\r\n     * @param vectorSource\r\n     * @param type\r\n     */\r\n    getCectorSourceCoordinates: function (vectorSource, type) {\r\n        if (type === void 0) { type = 'Point'; }\r\n        var points = [];\r\n        vectorSource\r\n            .getFeatures()\r\n            .filter(function (f) {\r\n            var geometry = f.getGeometry();\r\n            return geometry.getType() === type;\r\n        })\r\n            .map(function (f) {\r\n            var geometry = f.getGeometry();\r\n            if (type === 'Circle') {\r\n                var extent = geometry.getExtent();\r\n                // @ts-ignore\r\n                points.push([extent[0], extent[1]]);\r\n                // @ts-ignore\r\n                points.push([extent[2], extent[3]]);\r\n            }\r\n            else if (type === 'Point') {\r\n                var coordinates = geometry.getCoordinates();\r\n                // @ts-ignore\r\n                points.push(coordinates);\r\n            }\r\n            else {\r\n                var coordinates = geometry.getCoordinates();\r\n                points = points.concat(coordinates);\r\n            }\r\n        });\r\n        return points;\r\n    },\r\n    /**\r\n     * getCenterByCoordinates - 获取source中所有Point的中心点\r\n     * @param vectorSource\r\n     * @param type\r\n     * @return {{centerLon: number, centerLat: number}}\r\n     */\r\n    getCenterByCoordinates: function (vectorSource, type) {\r\n        if (type === void 0) { type = 'Point'; }\r\n        // 获取所有点的数据\r\n        var points = [];\r\n        vectorSource\r\n            .getFeatures()\r\n            .filter(function (f) {\r\n            var geometry = f.getGeometry();\r\n            return geometry.getType() === type;\r\n        })\r\n            .map(function (f) {\r\n            var geometry = f.getGeometry();\r\n            if (type === 'Circle') {\r\n                var extent = geometry.getExtent();\r\n                // @ts-ignore\r\n                points.push([extent[0], extent[1]]);\r\n                // @ts-ignore\r\n                points.push([extent[2], extent[3]]);\r\n            }\r\n            else if (type === 'Point') {\r\n                var coordinates = geometry.getCoordinates();\r\n                // @ts-ignore\r\n                points.push(coordinates);\r\n            }\r\n            else {\r\n                var coordinates = geometry.getCoordinates();\r\n                points = points.concat(coordinates);\r\n            }\r\n        });\r\n        return this.getCenterByPoints(points);\r\n    },\r\n    /**\r\n     * getCenterByPoints - 获取一系列点中的中心点\r\n     * @param points\r\n     * @return {{centerLon: number, centerLat: number}}\r\n     */\r\n    getCenterByPoints: function (points) {\r\n        var lons = [];\r\n        var lats = [];\r\n        for (var i = 0; i < points.length; i++) {\r\n            var lonlat = proj_js_1.transform(points[i], adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value);\r\n            // @ts-ignore\r\n            lons.push(lonlat[0]);\r\n            // @ts-ignore\r\n            lats.push(lonlat[1]);\r\n        }\r\n        return {\r\n            centerLon: Math.min.apply(Math, lons) + (Math.max.apply(Math, lons) - Math.min.apply(Math, lons)) / 2,\r\n            centerLat: Math.min.apply(Math, lats) + (Math.max.apply(Math, lats) - Math.min.apply(Math, lats)) / 2,\r\n        };\r\n    },\r\n    /**\r\n     * getPointsExtent - 获取一些列点的矩形范围(左上角[x,y]，右下角[x,y])\r\n     * @param points\r\n     * @return {{centerLon: number, centerLat: number}}\r\n     */\r\n    getPointsExtent: function (points) {\r\n        var lons = [];\r\n        var lats = [];\r\n        for (var i = 0; i < points.length; i++) {\r\n            var lonlat = proj_js_1.transform(points[i], adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value);\r\n            // @ts-ignore\r\n            lons.push(lonlat[0]);\r\n            // @ts-ignore\r\n            lats.push(lonlat[1]);\r\n        }\r\n        var leftTop = [Math.min.apply(Math, lons), Math.min.apply(Math, lats)];\r\n        var rightBottom = [Math.max.apply(Math, lons), Math.max.apply(Math, lats)];\r\n        return {\r\n            leftTop: leftTop,\r\n            rightBottom: rightBottom,\r\n        };\r\n    },\r\n    /**\r\n     * getFlatternDistance - 计算连个经纬度之间的距离(m)\r\n     * approx distance between two points on earth ellipsoid\r\n     * @param {Object} lat1\r\n     * @param {Object} lng1\r\n     * @param {Object} lat2\r\n     * @param {Object} lng2\r\n     */\r\n    getFlatternDistance: function (lat1, lng1, lat2, lng2) {\r\n        var f = this.getRad((lat1 + lat2) / 2);\r\n        var g = this.getRad((lat1 - lat2) / 2);\r\n        var l = this.getRad((lng1 - lng2) / 2);\r\n        var a = EARTH_RADIUS;\r\n        var fl = 1 / 298.257;\r\n        var sg = Math.sin(g);\r\n        var sl = Math.sin(l);\r\n        var sf = Math.sin(f);\r\n        sg *= sg;\r\n        sl *= sl;\r\n        sf *= sf;\r\n        var s = sg * (1 - sl) + (1 - sf) * sl;\r\n        var c = (1 - sg) * (1 - sl) + sf * sl;\r\n        var w = Math.atan(Math.sqrt(s / c));\r\n        var r = Math.sqrt(s * c) / w;\r\n        var d = 2 * w * a;\r\n        var h1 = (3 * r - 1) / 2 / c;\r\n        var h2 = (3 * r + 1) / 2 / s;\r\n        return d * (1 + fl * (h1 * sf * (1 - sg) - h2 * (1 - sf) * sg));\r\n    },\r\n    /**\r\n     * wrapLon\r\n     * @param value\r\n     */\r\n    wrapLon: function (value) {\r\n        var worlds = Math.floor((value + 180) / 360);\r\n        return value - worlds * 360;\r\n    },\r\n    /**\r\n     * getMapExtent - 获取地图的矩形范围\r\n     * @param map\r\n     */\r\n    getMapExtent: function (map) {\r\n        if (!map)\r\n            return false;\r\n        var extent = map.getView().calculateExtent(map.getSize());\r\n        var bottomLeft = proj_js_1.toLonLat(extent_js_1.getBottomLeft(extent));\r\n        var topRight = proj_js_1.toLonLat(extent_js_1.getTopRight(extent));\r\n        var top = topRight[1];\r\n        var right = this.wrapLon(topRight[0]);\r\n        var left = this.wrapLon(bottomLeft[0]);\r\n        var bottom = bottomLeft[1];\r\n        return [\r\n            {\r\n                lon: left,\r\n                lat: top,\r\n            },\r\n            {\r\n                lon: right,\r\n                lat: top,\r\n            },\r\n            {\r\n                lon: right,\r\n                lat: bottom,\r\n            },\r\n            {\r\n                lon: left,\r\n                lat: bottom,\r\n            },\r\n            {\r\n                lon: left,\r\n                lat: top,\r\n            },\r\n        ];\r\n    },\r\n    /**\r\n     * getFeaturesInExtent\r\n     * @param map\r\n     * @param feature\r\n     */\r\n    getFeaturesInExtent: function (map, feature) {\r\n        var geometry = feature.getGeometry();\r\n        var extent = geometry.getExtent();\r\n        return map.getLayers().getArray()[1].getSource().getFeaturesInExtent(extent);\r\n    },\r\n    /**\r\n     * getLayersCount - 获取地图的Layers数量\r\n     * @param map\r\n     * @return {number}\r\n     */\r\n    getLayersCount: function (map) {\r\n        return map.getLayers().getLength();\r\n    },\r\n    rgb: function () {\r\n        //rgb颜色随机\r\n        var r = Math.floor(Math.random() * 256);\r\n        var g = Math.floor(Math.random() * 256);\r\n        var b = Math.floor(Math.random() * 256);\r\n        return '(' + r + ',' + g + ',' + b + ')';\r\n    },\r\n    color16: function () {\r\n        //十六进制颜色随机\r\n        var r = Math.floor(Math.random() * 256);\r\n        var g = Math.floor(Math.random() * 256);\r\n        var b = Math.floor(Math.random() * 256);\r\n        return '#' + r.toString(16) + g.toString(16) + b.toString(16);\r\n    },\r\n    getLineColor: function (index) {\r\n        var palette = [\r\n            'red',\r\n            'green',\r\n            'blue',\r\n            'yellow',\r\n            'gray',\r\n            '#0000cc',\r\n            '#99ffff',\r\n            '#000000',\r\n            '#003333',\r\n            '#ff6600',\r\n        ];\r\n        if (index >= 0 && index <= 9) {\r\n            return palette[index];\r\n        }\r\n        else {\r\n            return this.color16();\r\n        }\r\n    },\r\n    downLoadMap: function (map) {\r\n        map.once('postcompose', function (event) {\r\n            var canvas = event.context.canvas;\r\n            var dataURL = canvas.toDataURL();\r\n            var a = document.createElement('a');\r\n            var e = new MouseEvent('click');\r\n            a.download = 'map';\r\n            a.href = dataURL;\r\n            a.dispatchEvent(e);\r\n        });\r\n        map.renderSync();\r\n        // const exportOptions = {\r\n        //   filter: function(element) {\r\n        //     return element.className ? element.className.indexOf('bfd-list-table-wrapselect') === -1 : true;\r\n        //   }\r\n        // };\r\n        //\r\n        // map.once('postcompose', () => {\r\n        //   toPng(map.getTargetElement(), exportOptions)\r\n        //     .then((dataURL) => {\r\n        //       const a = document.createElement('a');\r\n        //       a.href = dataURL;\r\n        //       document.body.appendChild(a);\r\n        //       a.click();\r\n        //       a.parentElement.removeChild(a);\r\n        //     });\r\n        // });\r\n        // map.renderSync();\r\n    },\r\n};\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","default","exports","uuid_1","require","Map_1","Circle_1","Polygon_1","LinearRing_1","geom_1","View_1","Feature_js_1","Text_1","Overlay_js_1","proj_js_1","extent_js_1","coordinate_1","layer_js_1","source_js_1","style_js_1","Draw_js_1","Modify_1","control_js_1","Zoom_js_1","MousePosition_js_1","ScaleLine_js_1","adhere_util_resource_1","TitleLayer","geolayer_1","windlayer_1","EARTH_RADIUS","Dict","ResourceGisEarthRadius","DEFAULT_COLOE","getMinZoom","target","width","clientWidth","Math","ceil","LOG2E","log","transformLonLat","point","transform","ResourceGisEpsg3857","ResourceGisEpsg4326","SHOWBASESTATION_MINZOOM","createMap","Config","config","fitZoom","_a","zoom","_b","minZoom","_c","maxZoom","ResourceGisMapMaxZoom","_d","center","ResourceGisXinbeiquCenterPoint","_e","extent","ResourceGisXinbeiquMapExtent","_f","layers","getOSMTileLayer","console","map","controls","defaults","attributionOptions","collapsible","extend","coordinateFormat","createStringXY","projection","pixelRatio","view","fromLonLat","transformExtent","boundingExtent","setTimeout","mapExtentTransform","concat","resolution","getView","getResolutionForExtent","getZoomForResolution","setZoom","setOverlayState","overlay","setPosition","addClickListener","onClick","onPointerMove","mapInstance","listeningLayer","hitCallback","unHitCallback","setCursor","feature","un","evt","dragging","pixel","forEachFeatureAtPixel","layer","_","on","addHoverListener","onPointermove","inPixel","getEventPixel","originalEvent","getTarget","style","cursor","addGeoLayer","geojsonData","getStyleConfig","zIndex","geoLayer","addLayer","addWindLayer","data","windLayer","addVectorLayer","vectorSource","Vector","vectorLayer","source","createHeatMapLayer","layoutConfig","Heatmap","gradient","weight","shadow","blur","radius","drawCircle","color","strokeColor","strokeWidth","ResourceNormalMaxZIndex","id","v4","_g","propertys","f","geometry","setId","setStyle","Style","fill","Fill","stroke","Stroke","drawPolygon","points","drawCirclePoint","pos","fillOpt","strokeOpt","textOpt","text","_h","Point","image","Circle","textAlign","drawRegularShapePoint","others","RegularShape","drawImagePoint","src","opacity","scale","anchor","rotation","offset","offsetOrigin","size","Icon","createRegularPolygonCurve","origin","sides","r","angel","angle","PI","rotatedAngle","x","cos","y","sin","push","ring","rotate","poy","a","A","removeFeature","removeAllFeature","clear","removeAllOverlay","getOverlays","setMapCenterAnimate","duration","animate","drawLine","lineCap","lineJoin","line","LineString","createInteraction","onDrawStart","drawPolygonInteraction","addInteraction","polygonInteraction","freehand","onDrawEnd","other","type","getGeometry","lonlats","coordinates","getCoordinates","centerp","getCenter","transformCenterp","circleInteraction","drawCircleInteraction","getRadius","transformCenter","boxInteraction","drawBoxInteraction","geometryFunction","createBox","linStringInteraction","mileage","getLength","toFixed","createModifyInteraction","onModifyEnd","modifyInteraction","features","getArray","removeInteraction","interaction","removeInteractionAll","getInteractions","mapFit","option","fit","padding","constrainResolution","nearest","addArrowsSource","icon","arrows","start","end","dx","dy","atan2","arrow","rotateWithView","addArrowsOverlay","parentDom","degrees","div","document","createElement","className","appendChild","addOverlay","getRad","d","getExtentByCoordinates","lons","lats","sort","t1","t2","getExtentByVectorSource","getCectorSourceCoordinates","getFeatures","filter","getType","getExtent","getCenterByCoordinates","getCenterByPoints","lonlat","centerLon","min","max","centerLat","getPointsExtent","leftTop","rightBottom","getFlatternDistance","lat1","lng1","lat2","lng2","g","l","sg","sl","sf","c","w","atan","sqrt","wrapLon","floor","getMapExtent","calculateExtent","getSize","bottomLeft","toLonLat","getBottomLeft","topRight","getTopRight","top","right","left","bottom","lon","lat","getFeaturesInExtent","getLayers","getSource","getLayersCount","rgb","random","color16","b","toString","getLineColor","index","downLoadMap","once","event","dataURL","context","canvas","toDataURL","MouseEvent","download","href","dispatchEvent","renderSync"],"mappings":"aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,IAE5C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,KACzDN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,IAEKU,MAAMb,KAAMO,YAE5BO,gBAAmBd,MAAQA,KAAKc,kBAAqBb,OAAOc,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,QAC7EC,IAAPD,IAAkBA,EAAKD,GAC3BjB,OAAOoB,eAAeL,EAAGG,EAAI,CAAEG,YAAY,EAAMC,IAAK,WAAa,OAAON,EAAEC,OAC3E,SAAUF,EAAGC,EAAGC,EAAGC,GAEpBH,EADsBG,OAAXC,IAAPD,EAAuBD,EACzBC,GAAMF,EAAEC,KAEVM,mBAAsBxB,MAAQA,KAAKwB,qBAAwBvB,OAAOc,OAAS,SAAUC,EAAGS,GACxFxB,OAAOoB,eAAeL,EAAG,UAAW,CAAEM,YAAY,EAAMI,MAAOD,KAC9D,SAAST,EAAGS,GACbT,EAAW,QAAIS,IAEfE,aAAgB3B,MAAQA,KAAK2B,cAAiB,SAAUC,GACxD,GAAIA,GAAOA,EAAIC,WAAY,OAAOD,EAClC,IAAIE,EAAS,GACb,GAAW,MAAPF,EAAa,IAAK,IAAIV,KAAKU,EAAe,YAANV,GAAmBjB,OAAOU,eAAeC,KAAKgB,EAAKV,IAAIJ,gBAAgBgB,EAAQF,EAAKV,GAE5H,OADAM,mBAAmBM,EAAQF,GACpBE,GAEPC,OAAU/B,MAAQA,KAAK+B,QAAW,SAAU3B,EAAG4B,GAC/C,IAAI7B,EAAI,GACR,IAASM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,IAAMuB,EAAEC,QAAQxB,GAAK,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,mBAAjCH,OAAOiC,sBAC3B,IAAK,IAAI7B,EAAI,EAAGI,EAAIR,OAAOiC,sBAAsB9B,GAAIC,EAAII,EAAED,OAAQH,IAC3D2B,EAAEC,QAAQxB,EAAEJ,IAAM,GAAKJ,OAAOS,UAAUyB,qBAAqBvB,KAAKR,EAAGK,EAAEJ,MACvEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,GAEPiC,gBAAmBpC,MAAQA,KAAKoC,iBAAoB,SAAUR,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAES,QAAWT,IAExD3B,OAAOoB,eAAeiB,QAAS,aAAc,CAAEZ,OAAO,IACtD,IAAIa,OAASC,QAAQ,QACjBC,MAAQL,gBAAgBI,QAAQ,WAChCE,SAAWN,gBAAgBI,QAAQ,mBACnCG,UAAYP,gBAAgBI,QAAQ,oBACpCI,aAAeR,gBAAgBI,QAAQ,uBACvCK,OAASL,QAAQ,WACjBM,OAASV,gBAAgBI,QAAQ,YACjCO,aAAeX,gBAAgBI,QAAQ,kBACvCQ,OAASZ,gBAAgBI,QAAQ,kBACjCS,aAAeb,gBAAgBI,QAAQ,kBACvCU,UAAYV,QAAQ,cACpBW,YAAcX,QAAQ,gBACtBY,aAAeZ,QAAQ,iBACvBa,WAAab,QAAQ,eACrBc,YAAcd,QAAQ,gBACtBe,WAAaf,QAAQ,eACrBgB,UAAY7B,aAAaa,QAAQ,2BACjCiB,SAAWrB,gBAAgBI,QAAQ,0BACnCkB,aAAelB,QAAQ,iBACvBmB,UAAYvB,gBAAgBI,QAAQ,uBACpCoB,mBAAqBxB,gBAAgBI,QAAQ,gCAC7CqB,eAAiBzB,gBAAgBI,QAAQ,4BACzCsB,uBAAyB1B,gBAAgBI,QAAQ,qCACjDuB,WAAapC,aAAaa,QAAQ,iBAClCwB,WAAa5B,gBAAgBI,QAAQ,eACrCyB,YAAc7B,gBAAgBI,QAAQ,gBACtC0B,aAAeJ,uBAAuBzB,QAAQ8B,KAAKzC,MAAM0C,uBAAuB1C,MAChF2C,cAAgB,UAKpB,SAASC,WAAWC,GACZC,EAAQD,EAAOE,YACnB,OAAOC,KAAKC,KAAKD,KAAKE,MAAQF,KAAKG,IAAIL,EAAQ,MAMnD,SAASM,gBAAgBC,GACrB,OAAO7B,UAAU8B,UAAUD,EAAOjB,uBAAuBzB,QAAQ8B,KAAKzC,MAAMuD,oBAAoBvD,MAAOoC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMwD,oBAAoBxD,OAEzKY,QAAQD,QAAU,CACd8C,wBAAyB,EAKzBC,UAAW,SAAUC,GACjB,IAAIC,EAASD,EAAOC,OAAQC,EAAUF,EAAOE,QAASC,EAAKH,EAAOI,KAAMA,OAAc,IAAPD,EAAgBlB,WAAWgB,EAAOf,SAAW,EAAIiB,EAAIE,EAAKL,EAAOM,QAASA,OAAiB,IAAPD,EAAgBpB,WAAWgB,EAAOf,SAAW,EAAImB,EAAIE,EAAKP,EAAOQ,QAASA,OAAiB,IAAPD,EAAgB9B,uBAAuBzB,QAAQ8B,KAAKzC,MAAMoE,sBAAsBpE,MAAQkE,EAAIG,EAAKV,EAAOW,OAAQA,OAAgB,IAAPD,EAAgBjC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMuE,+BAA+BvE,MAAQqE,EAAIG,EAAKb,EAAOc,OAAQA,OAAgB,IAAPD,EAAgBpC,uBAAuBzB,QAAQ8B,KAAKzC,MAAM0E,6BAA6B1E,MAAQwE,EAAIG,EAAKhB,EAAOiB,OAAQA,OAAgB,IAAPD,EAAgB,CAACtC,WAAWwC,mBAAqBF,EACnqBG,QAAQ3B,IAAIyB,GAEZ,IAAIG,EAAM,IAAIhE,MAAMJ,QAAQtC,SAASA,SAAS,GAAIuF,GAAS,CAAEoB,SAAUhD,aAAaiD,SAAS,CACrFC,mBAAoB,CAChBC,aAAa,KAElBC,OAAO,CACN,IAAInD,UAAUtB,QACd,IAAIwB,eAAexB,QACnB,IAAIuB,mBAAmBvB,QAAQ,CAC3B0E,iBAAkB3D,aAAa4D,eAAe,GAC9CC,WAAYnD,uBAAuBzB,QAAQ8B,KAAKzC,MAAMwD,oBAAoBxD,UAE9EwF,WAAY,EAAGC,KAAM,IAAIrE,OAAOT,QAAQ,CACxC2D,OAAQ9C,UAAUkE,WAAWpB,GAC7BL,QAASA,EACTE,QAASA,EACTJ,KAAMA,EACNU,OAAQjD,UAAUmE,gBAAgBlE,YAAYmE,eAAenB,GAASrC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMwD,oBAAoBxD,MAAOoC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMuD,oBAAoBvD,SACzM4E,OAAQA,KAchB,OAbAiB,WAAW,WACP,IAOI9B,EALAA,EADAF,IAIIiC,EAAqB,GAAGC,OAAOvE,UAAUkE,WAAWjB,EAAO,KAAKsB,OAAOvE,UAAUkE,WAAWjB,EAAO,KACnGuB,EAAajB,EAAIkB,UAAUC,uBAAuBJ,GAC/Cf,EAAIkB,UAAUE,qBAAqBH,IAG9CjB,EAAIkB,UAAUG,QAAQrC,IACvB,KACIgB,GAOXsB,gBAAiB,SAAUC,EAASjD,GAChCiD,EAAQC,YAAoClD,IAYhDmD,iBAAkB,WACd,IAAIC,EACAC,EACJ,OAAO,SAAUC,EAAaC,EAAgBC,EAAaC,EAAeC,QAClD,IAAhBF,IAA0BA,EAAc,SAAUG,WAChC,IAAlBF,IAA4BA,EAAgB,SAAUE,MAYtDP,GACAE,EAAYM,GAAG,QAASR,GAExBC,GACAC,EAAYM,GAAG,cAAeP,GAElCD,EAAU,SAAUS,GACZA,EAAIC,WAlBuBC,EAoBZF,EAAIE,MAnBvBT,EAAYU,sBAAsBD,EAAO,SAAUJ,EAASM,GAOxD,OANIA,IAAUV,EACVC,EAGAC,GAHYE,IAKT,MAcfN,EAAgB,SAAUQ,GAClBA,EAAIC,UAERR,EAAYU,sBAAsBH,EAAIE,MAAO,SAAUG,EAAGD,GAEtD,OADAP,EAAUO,IAAUV,EAAiB,UAAY,KAC1C,KAGfD,EAAYa,GAAG,QAASf,GACxBE,EAAYa,GAAG,cAAed,IArCpB,GA+ClBe,iBAAkB,WACd,IAAIC,EACJ,OAAO,SAAUf,EAAaC,EAAgBC,EAAaC,GAoBnDY,GACAf,EAAYM,GAAG,cAAeS,GAElCA,EAAgB,SAAUR,GACtB,IArBIS,EAqBAT,EAAIC,WAEJC,EAAQT,EAAYiB,cAAcV,EAAIW,eAvBtCF,GAAU,EACdhB,EAAYU,sBAuBOD,EAvBsB,SAAUJ,EAASM,GAUxD,OATAK,GAAU,EACNL,IAAUV,GACVD,EAAYmB,YAAYC,MAAMC,OAAS,UACvCnB,EAAYG,KAGZL,EAAYmB,YAAYC,MAAMC,OAAS,GACvClB,EAAcE,KAEX,IAENW,GACDb,MAYRH,EAAYa,GAAG,cAAeE,IA/BpB,GA0ClBO,YAAa,SAAUtB,EAAauB,EAAaC,EAAgBC,GAGzDC,EAAW,IAAI/F,WAAW3B,QAAQuH,EAFLC,OAAV,IAAnBA,EAA8C,aAECA,EAD1BC,OAAV,IAAXA,EAA8B,EACiCA,GAEnE,OADAzB,EAAY2B,SAASD,GACdA,GAUXE,aAAc,SAAU5B,EAAa6B,EAAM5E,EAAQwE,QAChC,IAAXA,IAAqBA,EAAS,GAC9BK,EAAY,IAAIlG,YAAY5B,QAAQ6H,EAAM5E,GAE9C,OADA+C,EAAY2B,SAASG,GACdA,GAOXC,eAAgB,SAAU3D,EAAKqD,GAC3B,IAAIO,EAAe,IAAI/G,YAAYgH,OAC/BC,EAAc,IAAIlH,WAAWiH,OAAO,CACpCE,OAAQH,EACRP,OAAQA,IAGZ,OADArD,EAAIuD,SAASO,GACN,CACHA,YAAaA,EACbF,aAAcA,IAOtBI,mBAAoB,SAAUC,GAC1B,IAAIL,EAAe,IAAI/G,YAAYgH,OAEnC,MAAO,CACHtB,MAFQ,IAAI3F,WAAWsH,QAAQ5K,SAAS,CAAEyK,OAAQH,EAAcO,SAAU,CAAC,UAAW,UAAW,UAAW,OAAQ,OAAQ,OAAQ,QAASC,OAAQ,WAAc,OAAO,GAAMC,OAAQ,IAAKC,KAAM,GAAIC,OAAQ,IAAMN,IAGrNL,aAAcA,IActBY,WAAY,SAAUzF,GAClB,IAAIQ,EAASR,EAAGQ,OAAQgF,EAASxF,EAAGwF,OAAQtF,EAAKF,EAAG0F,MAAOA,OAAe,IAAPxF,EAAgB,sBAAwBA,EAAIE,EAAKJ,EAAG2F,YAAaA,OAAqB,IAAPvF,EAAgBvB,cAAgBuB,EAAIG,EAAKP,EAAG4F,YAAaA,OAAqB,IAAPrF,EAAgB,EAAIA,EAAIG,EAAKV,EAAGsE,OAAQA,OAAgB,IAAP5D,EAAgBpC,uBAAuBzB,QAAQ8B,KAAKzC,MAAM2J,wBAAwB3J,MAAQwE,EAAIG,EAAKb,EAAG8F,GAAIA,OAAY,IAAPjF,EAAgB9D,OAAOgJ,KAAOlF,EAAImF,EAAKhG,EAAGiG,UAAWA,OAAmB,IAAPD,EAAgB,GAAKA,EAC3cE,EAAI,IAAI3I,aAAaV,QAAQtC,SAAS,CAAE+J,OAAQA,EAAQ6B,SAAU,IAAIjJ,SAASL,QAAQ2D,EAAQgF,IAAWS,IAW9G,OAVAC,EAAEE,MAAMN,GACRI,EAAEG,SAAS,IAAItI,WAAWuI,MAAM,CAC5BC,KAAM,IAAIxI,WAAWyI,KAAK,CACtBd,MAAOA,IAEXe,OAAQ,IAAI1I,WAAW2I,OAAO,CAC1B1H,MAAO4G,EACPF,MAAOC,OAGRO,GAYXS,YAAa,SAAU3G,GACnB,IAAI4G,EAAS5G,EAAG4G,OAAQ1G,EAAKF,EAAG0F,MAAOA,OAAe,IAAPxF,EAAgB,sBAAwBA,EAAIE,EAAKJ,EAAG2F,YAAaA,OAAqB,IAAPvF,EAAgBvB,cAAgBuB,EAAIG,EAAKP,EAAG4F,YAAaA,OAAqB,IAAPrF,EAAgB,EAAIA,EAAIG,EAAKV,EAAGsE,OAAQA,OAAgB,IAAP5D,EAAgBpC,uBAAuBzB,QAAQ8B,KAAKzC,MAAM2J,wBAAwB3J,MAAQwE,EAAIG,EAAKb,EAAG8F,GAAIA,OAAY,IAAPjF,EAAgB9D,OAAOgJ,KAAOlF,EAAImF,EAAKhG,EAAGiG,UAAWA,OAAmB,IAAPD,EAAgB,GAAKA,EACvbE,EAAI,IAAI3I,aAAaV,QAAQtC,SAAS,CAAE+J,OAAQA,EAAQ6B,SAAU,IAAIhJ,UAAUN,QAAQ+J,IAAWX,IAWvG,OAVAC,EAAEE,MAAMN,GACRI,EAAEG,SAAS,IAAItI,WAAWuI,MAAM,CAC5BC,KAAM,IAAIxI,WAAWyI,KAAK,CACtBd,MAAOA,IAEXe,OAAQ,IAAI1I,WAAW2I,OAAO,CAC1B1H,MAAO4G,EACPF,MAAOC,OAGRO,GAcXW,gBAAiB,SAAU7G,GACvB,IAAI8F,EAAK9F,EAAG8F,GAAIgB,EAAM9G,EAAG8G,IAAK5G,EAAKF,EAAG+G,QAASA,OAAiB,IAAP7G,EAAgB,CACrEwF,MAAO,uBACPxF,EAAIE,EAAKJ,EAAGgH,UAAWA,OAAmB,IAAP5G,EAAgB,CACnDpB,MAAO,EACP0G,MAAO7G,eACPuB,EAAIG,EAAKP,EAAGwF,OAAQA,OAAgB,IAAPjF,EAAgB,GAAKA,EAAIG,EAAKV,EAAGiH,QAASA,OAAiB,IAAPvG,EAAgB,GAAKA,EAAIG,EAAKb,EAAGsE,OAAQA,OAAgB,IAAPzD,EAAgB,EAAIA,EAAImF,EAAKhG,EAAGkH,KAAMA,OAAc,IAAPlB,EAAgB,GAAKA,EAAImB,EAAKnH,EAAGiG,UAAWA,OAAmB,IAAPkB,EAAgB,GAAKA,EAC7P5H,EAAQ,IAAIhC,aAAaV,QAAQtC,SAAS,CAAE+J,OAAQhG,uBAAuBzB,QAAQ8B,KAAKzC,MAAM2J,wBAAwB3J,MAAOiK,SAAU,IAAI9I,OAAO+J,MAAMN,IAAQb,IAapK,OAZA1G,EAAM6G,MAAMN,GACZvG,EAAM8G,SAAS,IAAItI,WAAWuI,MAAM,CAChCe,MAAO,IAAItJ,WAAWuJ,OAAO,CACzBf,KAAM,IAAIxI,WAAWyI,KAAKO,GAC1BN,OAAQ,IAAI1I,WAAW2I,OAAOM,GAC9BxB,OAAQA,IAEZ0B,KAAM,IAAI1J,OAAOX,QAAQtC,SAAS,CAAE2M,KAAMA,EAAMK,UAAW,SAAUhB,KAAM,IAAIxI,WAAWyI,KAAK,CACvFd,MAAO,UACLuB,IACV3C,OAAQA,KAEL/E,GAcXiI,sBAAuB,SAAUxH,GAC7B,IAAI8F,EAAK9F,EAAG8F,GAAIgB,EAAM9G,EAAG8G,IAAK5G,EAAKF,EAAG+G,QAASA,OAAiB,IAAP7G,EAAgB,CAAEwF,MAAO,uBAA0BxF,EAAIE,EAAKJ,EAAGgH,UAAWA,OAAmB,IAAP5G,EAAgB,CAC3JpB,MAAO,EACP0G,MAAO7G,eACPuB,EAMJG,EAAKP,EAAGkH,KAMRA,OAAc,IAAP3G,EAAgB,GAAKA,EAAIG,EAAKV,EAAGiH,QAASA,OAAiB,IAAPvG,EAAgB,GAAKA,EAAIG,EAAKb,EAAGsE,OAAQA,OAAgB,IAAPzD,EAAgB,EAAIA,EAAImF,EAAKhG,EAAGiG,UAAWA,OAAmB,IAAPD,EAAgB,GAAKA,EAAIyB,EAASlL,OAAOyD,EAAI,CAAC,KAAM,MAAO,UAAW,YAAa,OAAQ,UAAW,SAAU,cAChRT,EAAQ,IAAIhC,aAAaV,QAAQtC,SAAS,CAAE+J,OAAQhG,uBAAuBzB,QAAQ8B,KAAKzC,MAAM2J,wBAAwB3J,MAAOiK,SAAU,IAAI9I,OAAO+J,MAAMN,IAAQb,IASpK,OARA1G,EAAM6G,MAAMN,GACZvG,EAAM8G,SAAS,IAAItI,WAAWuI,MAAM,CAChCe,MAAO,IAAItJ,WAAW2J,aAAanN,SAAS,CAAEgM,KAAM,IAAIxI,WAAWyI,KAAKO,GAAUN,OAAQ,IAAI1I,WAAW2I,OAAOM,IAAcS,IAC9HP,KAAM,IAAI1J,OAAOX,QAAQtC,SAAS,CAAE2M,KAAMA,EAAMK,UAAW,SAAUhB,KAAM,IAAIxI,WAAWyI,KAAK,CACvFd,MAAO,UACLuB,IACV3C,OAAQA,KAEL/E,GAoBXoI,eAAgB,SAAU3H,GACtB,IAAI8F,EAAK9F,EAAG8F,GAAIgB,EAAM9G,EAAG8G,IAAK5G,EAAKF,EAAGsE,OAAQA,OAAgB,IAAPpE,EAAgB,EAAIA,EAAI0H,EAAM5H,EAAG4H,IAAKlC,EAAQ1F,EAAG0F,MAAOmC,EAAU7H,EAAG6H,QAASC,EAAQ9H,EAAG8H,MAAOC,EAAS/H,EAAG+H,OAAQ3H,EAAKJ,EAAGgI,SAAUA,OAAkB,IAAP5H,EAAgB,EAAIA,EAAIG,EAAKP,EAAGiI,OAAQA,OAAgB,IAAP1H,EAAgB,CAAC,EAAG,GAAKA,EAAI2H,EAAelI,EAAGkI,aAAcC,EAAOnI,EAAGmI,KAAMzH,EAAKV,EAAGkH,KAAMA,OAAc,IAAPxG,EAAgB,GAAKA,EAAIG,EAAKb,EAAGiH,QAASA,OAAiB,IAAPpG,EAAgB,GAAKA,EAAImF,EAAKhG,EAAGiG,UAAWA,OAAmB,IAAPD,EAAgB,GAAKA,EACxdzG,EAAQ,IAAIhC,aAAaV,QAAQtC,SAAS,CAAE+J,OAAQhG,uBAAuBzB,QAAQ8B,KAAKzC,MAAM2J,wBAAwB3J,MAAOiK,SAAU,IAAI9I,OAAO+J,MAAMN,IAAQb,IAsBpK,OArBA1G,EAAM6G,MAAMN,GACZvG,EAAM8G,SAAS,IAAItI,WAAWuI,MAAM,CAChCe,MAAO,IAAItJ,WAAWqK,KAAK,CACvB1C,MAAOA,EACPkC,IAAKA,EACLG,OAAQA,EACRF,QAASA,EACTC,MAAOA,EACPE,SAAUA,EACVC,OAAQA,EACRC,aAAcA,EACdC,KAAMA,IAEV5B,KAAM,IAAIxI,WAAWyI,KAAK,CACtBd,MAAO,SAEXwB,KAAM,IAAI1J,OAAOX,QAAQtC,SAAS,CAAE2M,KAAMA,EAAMK,UAAW,SAAUhB,KAAM,IAAIxI,WAAWyI,KAAK,CACvFd,MAAO,UACLuB,IACV3C,OAAQA,KAEL/E,GAWX8I,0BAA2B,SAAUC,EAAQ9C,EAAQ+C,EAAOC,EAAGC,GAC3D,IAAIT,EAAW,IAAMQ,EACjBE,EAAQxJ,KAAKyJ,IAAM,EAAIJ,EAAQ,IAC/BP,IACAU,GAAUV,EAAW,IAAO9I,KAAKyJ,IAMrC,IADA,IAAI/B,EAAS,GACJ/L,EAAI,EAAGA,EAAI0N,IAAS1N,EAAG,CAC5B,IACA+N,EAAeF,EAAc,GADpB7N,IAAM,IAAMmN,GAAY,MACA9I,KAAKyJ,GAAMJ,EAC5CM,EAAIP,EAAO,GAAK9C,EAAStG,KAAK4J,IAAIF,GAClCG,EAAIT,EAAO,GAAK9C,EAAStG,KAAK8J,IAAIJ,GAElChC,EAAOqC,KAAK,CAACJ,EAAGE,IAEH,GAAbf,GAEApB,EAAOqC,KAAKX,GAEhB,IAAIY,EAAO,IAAI9L,aAAaP,QAAQ+J,GACpCsC,EAAKC,OAAOjK,KAAKyJ,IAAOF,EAAQD,EAAI,GAAK,IAAOtJ,KAAKyJ,GAAIL,GACrDc,EAAM,IAAIjM,UAAUN,QAAQ,CAAC+J,IAC7ByC,EAAIH,EAAKI,EAEb,OADAF,EAAIE,EAAID,EACDD,GAOXG,cAAe,SAAU1E,EAAc3B,GACnC2B,EAAa0E,cAAcrG,IAM/BsG,iBAAkB,SAAU3E,GACxBA,EAAa4E,SAMjBC,iBAAkB,SAAUzI,GACxBA,EAAI0I,cAAcF,SAQtBG,oBAAqB,SAAU5J,GAC3B,IAAIiB,EAAMjB,EAAGiB,IAAK1B,EAAQS,EAAGT,MAAOW,EAAKF,EAAG6J,SAAUA,OAAkB,IAAP3J,EAAgB,IAAMA,EACvFe,EAAIkB,UAAU2H,QAAQ,CAClBtJ,OAAQjB,EACRsK,SAAUA,KAWlBE,SAAU,SAAU/J,GAChB,IAAI4G,EAAS5G,EAAG4G,OAAQ5H,EAAQgB,EAAGhB,MAAO0G,EAAQ1F,EAAG0F,MAAOxF,EAAKF,EAAGgK,QAASA,OAAiB,IAAP9J,EAAgB,SAAWA,EAAIE,EAAKJ,EAAGiK,SAAUA,OAAkB,IAAP7J,EAAgB,QAAUA,EACzK8J,EAAO,IAAI3M,aAAaV,QAAQ,CAChCsJ,SAAU,IAAI9I,OAAO8M,WAAWvD,KAUpC,OARAsD,EAAK7D,SAAS,IAAItI,WAAWuI,MAAM,CAC/BG,OAAQ,IAAI1I,WAAW2I,OAAO,CAC1B1H,MAAOA,EACP0G,MAAOA,EACPsE,QAASA,EACTC,SAAUA,OAGXC,GAOXE,kBAAmB,SAAUnJ,EAAKnB,GAC9B,IAAIuK,EAAcvK,EAAOuK,YACrBC,EAAyB,IAAItM,UAAUnB,QAAQiD,GAOnD,OANAwK,EAAuB5G,GAAG,YAAa,SAAUlH,GACzC6N,GACAA,EAAY7N,KAGpByE,EAAIsJ,eAAeD,GACZA,GASXE,mBAAoB,SAAUxK,GAC1B,IAAIiB,EAAMjB,EAAGiB,IAAKf,EAAKF,EAAGyK,SAAUA,OAAkB,IAAPvK,GAAuBA,EAAI2E,EAAe7E,EAAG6E,aAAc6F,EAAY1K,EAAG0K,UAAWC,EAAQpO,OAAOyD,EAAI,CAAC,MAAO,WAAY,eAAgB,cACvLsK,EAAyB9P,KAAK4P,kBAAkBnJ,EAAK1G,SAAS,CAAEyK,OAAQH,EAAc+F,KAAM,UAAWH,SAAUA,GAAYE,IAsBjI,OArBAL,EAAuB5G,GAAG,UAAW,SAAUlH,GAC3CA,EAAE0G,QAAQkD,MAAMrJ,OAAOgJ,MACvB,IAAII,EAAW3J,EAAE0G,QAAQ2H,cACrBC,EAAU,GACVC,EAAc5E,EAAS6E,iBAAiB,GAAG/J,IAAI,SAAUhF,GAGzD,OADA6O,EAAQ7B,KAAK3J,gBAAgBrD,IACtBA,IAEPgP,EAAUhK,EAAIkB,UAAU+I,YACxBR,GACAA,EAAU,CACNlO,EAAGA,EACH2J,SAAUA,EACV4E,YAAaA,EACbD,QAASA,EACTG,QAASA,EACTE,iBAAkB7L,gBAAgB2L,OAIvCX,GASXc,kBAAmB,SAAUpL,GACzB,IAAIiB,EAAMjB,EAAGiB,IAAK4D,EAAe7E,EAAG6E,aAAc6F,EAAY1K,EAAG0K,UAAWC,EAAQpO,OAAOyD,EAAI,CAAC,MAAO,eAAgB,cACnHqL,EAAwB7Q,KAAK4P,kBAAkBnJ,EAAK1G,SAAS,CAAEyK,OAAQH,EAAc+F,KAAM,SAAUH,UAAU,GAAQE,IAkB3H,OAjBAU,EAAsB3H,GAAG,UAAW,SAAUlH,GAC1C,IAAI2J,EAAW3J,EAAE0G,QAAQ2H,cAErBrF,EAASW,EAASmF,YAElB9K,EAAS2F,EAAS+E,YACtB1O,EAAE0G,QAAQkD,MAAMrJ,OAAOgJ,MACnB2E,GACAA,EAAU,CACNlO,EAAGA,EACH2J,SAAUA,EACVX,OAAQA,EACRhF,OAAQA,EACR+K,gBAAiBjM,gBAAgBkB,OAItC6K,GASXG,eAAgB,SAAUxL,GACtB,IAAIiB,EAAMjB,EAAGiB,IAAK4D,EAAe7E,EAAG6E,aAAc6F,EAAY1K,EAAG0K,UAAWC,EAAQpO,OAAOyD,EAAI,CAAC,MAAO,eAAgB,cACnHyL,EAAqBjR,KAAK4P,kBAAkBnJ,EAAK1G,SAAS,CAAEyK,OAAQH,EAAc+F,KAAM,SAAUH,UAAU,EAAMiB,iBAAkB1N,UAAU2N,aAAehB,IAiBjK,OAhBAc,EAAmB/H,GAAG,UAAW,SAAUlH,GACvCA,EAAE0G,QAAQkD,MAAMrJ,OAAOgJ,MACvB,IAAII,EAAW3J,EAAE0G,QAAQ2H,cACrBE,EAAc5E,EAAS6E,iBAAiB,GAAG/J,IAAI,SAAUhF,GACzD,OAAOA,IAEPgP,EAAUhK,EAAIkB,UAAU+I,YACxBR,GACAA,EAAU,CACNlO,EAAGA,EACH2J,SAAUA,EACV4E,YAAaA,EACbE,QAASA,MAIdQ,GASXG,qBAAsB,SAAU5L,GAC5B,IAAIiB,EAAMjB,EAAGiB,IAAKf,EAAKF,EAAGyK,SAAUA,OAAkB,IAAPvK,GAAuBA,EAAI2E,EAAe7E,EAAG6E,aAAc6F,EAAY1K,EAAG0K,UAAWC,EAAQpO,OAAOyD,EAAI,CAAC,MAAO,WAAY,eAAgB,cACvLsK,EAAyB9P,KAAK4P,kBAAkBnJ,EAAK1G,SAAS,CAAEyK,OAAQH,EAAc+F,KAAM,aAAcH,SAAUA,GAAYE,IAwBpI,OAvBAL,EAAuB5G,GAAG,UAAW,SAAUlH,GAC3CA,EAAE0G,QAAQkD,MAAMrJ,OAAOgJ,MACvB,IAAII,EAAW3J,EAAE0G,QAAQ2H,cACrBC,EAAU,GACVC,EAAc5E,EAAS6E,iBAAiB/J,IAAI,SAAUhF,GAGtD,OADA6O,EAAQ7B,KAAK3J,gBAAgBrD,IACtBA,IAEPgP,EAAUhK,EAAIkB,UAAU+I,YACxBW,EAAU1F,EAAS2F,YAAYC,QAAQ,GACvCrB,GACAA,EAAU,CACNlO,EAAGA,EACH2J,SAAUA,EACV4E,YAAaA,EACbD,QAASA,EACTG,QAASA,EACTY,QAASA,EACTV,iBAAkB7L,gBAAgB2L,OAIvCX,GASX0B,wBAAyB,SAAUhM,GAC/B,IAAIiB,EAAMjB,EAAGiB,IAAK4D,EAAe7E,EAAG6E,aAAcoH,EAAcjM,EAAGiM,YAC/DC,EAAoB,IAAIjO,SAASpB,QAAQ,CACzCmI,OAAQH,IAWZ,OATAqH,EAAkBxI,GAAG,YAAa,SAAUlH,GACxC,IAAI2P,EAAW3P,EAAE2P,SAASC,WACtBjG,EAAWgG,EAASA,EAASnR,OAAS,GAAG6P,cAC7CoB,EAAY,CACRzP,EAAGA,EACH2J,SAAUA,MAGlBlF,EAAIsJ,eAAe2B,GACZA,GAOXG,kBAAmB,SAAUpL,EAAKqL,GAC9BrL,EAAIoL,kBAAkBC,IAM1BC,qBAAsB,SAAUtL,GAC5BA,EAAIuL,kBAAkB/C,SAQ1BgD,OAAQ,SAAU9L,EAAQ+L,EAAQzL,QAYf,IAAXyL,IAAqBA,EAAS,IACZ,KAFG/L,OAAV,IAAXA,EAA8B,GAE9BA,GAAO3F,QAKXiG,EAAIkB,UAAUwK,IAAIhM,EAAQpG,SAAS,CAAEqS,QAAS,CAAC,GAAI,GAAI,GAAI,IAAKC,qBAAqB,EAAOC,SAAS,EAAMjD,SAAU,KAAO6C,KAShIK,gBAAiB,SAAU/M,GAGvB,IAFA,IAAI4G,EAAS5G,EAAG4G,OAAQlB,EAAQ1F,EAAG0F,MAAOsH,EAAOhN,EAAGgN,KAChDC,EAAS,GACJpS,EAAI,EAAGA,EAAI+L,EAAO5L,OAAS,EAAGH,IAAK,CACxC,IAAIqS,EAAQtG,EAAO/L,GACfsS,EAAMvG,EAAO/L,EAAI,GACjBuS,EAAKD,EAAI,GAAKD,EAAM,GACpBG,EAAKF,EAAI,GAAKD,EAAM,GACpBlF,EAAW9I,KAAKoO,MAAMD,EAAID,GAC1BG,EAAQ,IAAIhQ,aAAaV,QAAQ,CACjCsJ,SAAU,IAAI9I,OAAO+J,MAAM+F,KAE/BI,EAAMlH,SAAS,IAAItI,WAAWuI,MAAM,CAChCe,MAAO,IAAItJ,WAAWqK,KAAK,CACvB1C,MAAOA,EACPkC,IAAKoF,EACLjF,OAAQ,CAAC,GAAK,IACdyF,gBAAgB,EAChBxF,UAAWA,OAInBiF,EAAOhE,KAAKsE,GAEhB,OAAON,GASXQ,iBAAkB,SAAUxM,EAAKyM,EAAWhI,EAAOkB,GAC/C,IAAK,IAAI/L,EAAI,EAAGA,EAAI+L,EAAO5L,OAAS,EAAGH,IAAK,CACxC,IAAIqS,EAAQtG,EAAO/L,GACfsS,EAAMvG,EAAO/L,EAAI,GACjBuS,EAAKD,EAAI,GAAKD,EAAM,GACpBG,EAAKF,EAAI,GAAKD,EAAM,GAEpBS,EADWzO,KAAKoO,MAAMD,EAAID,IACJ,IAAMlO,KAAKyJ,IACjCiF,EAAMC,SAASC,cAAc,OACjCF,EAAIG,UAAY,uCAChBH,EAAI3J,MAAMzE,UAAY,WAAamO,EAAU,OAC7CC,EAAI3J,MAAMyB,MAAQA,EAClBgI,EAAUM,YAAYJ,GACtBpT,KAAKyT,WAAWhN,EAAKkM,EAAKS,KASlCK,WAAY,SAAUhN,EAAKnB,EAAQ8N,GAC3BpL,EAAU,IAAI/E,aAAaZ,QAAQiD,GAEvC,OADAmB,EAAIgN,WAAWzL,GACRA,GAMX0L,OAAQ,SAAUC,GACd,OAAQA,EAAIjP,KAAKyJ,GAAM,KAO3ByF,uBAAwB,SAAUrD,GAC9B,GAA2B,IAAvBA,EAAY/P,OACZ,MAAO,GAEX,GAA2B,IAAvB+P,EAAY/P,OACZ,MAAO,GAAGiH,OAAO8I,EAAY,GAAIA,EAAY,IAIjD,IAFA,IAAIsD,EAAO,GACPC,EAAO,GACFzT,EAAI,EAAGA,EAAIkQ,EAAY/P,OAAQH,IAAK,CACzC,IAAI0E,EAAQwL,EAAYlQ,GAExBwT,EAAKpF,KAAK1J,EAAM,IAEhB+O,EAAKrF,KAAK1J,EAAM,IAgBpB,OAdA8O,EAAKE,KAAK,SAAUC,EAAIC,GACpB,OAAID,EAAKC,GACG,EACHA,EAALD,EACO,EACJ,IAEXF,EAAKC,KAAK,SAAUC,EAAIC,GACpB,OAAID,EAAKC,GACG,EACHA,EAALD,EACO,EACJ,IAEJ,CAACH,EAAK,GAAIC,EAAK,GAAID,EAAKA,EAAKrT,OAAS,GAAIsT,EAAKA,EAAKtT,OAAS,KAQxE0T,wBAAyB,SAAU7J,EAAc+F,GAEzCG,EAAcvQ,KAAKmU,2BAA2B9J,EAD3B+F,OAAV,IAATA,EAA0B,QACkCA,GAChE,OAAOpQ,KAAK4T,uBAAuBrD,IAOvC4D,2BAA4B,SAAU9J,EAAc+F,QACnC,IAATA,IAAmBA,EAAO,SAC9B,IAAIhE,EAAS,GA0Bb,OAzBA/B,EACK+J,cACAC,OAAO,SAAU3I,GAElB,OADeA,EAAE2E,cACDiE,YAAclE,IAE7B3J,IAAI,SAAUiF,GACf,IAcQ6E,EAdJ5E,EAAWD,EAAE2E,cACJ,WAATD,GACIjK,EAASwF,EAAS4I,YAEtBnI,EAAOqC,KAAK,CAACtI,EAAO,GAAIA,EAAO,KAE/BiG,EAAOqC,KAAK,CAACtI,EAAO,GAAIA,EAAO,MAEjB,UAATiK,GACDG,EAAc5E,EAAS6E,iBAE3BpE,EAAOqC,KAAK8B,KAGRA,EAAc5E,EAAS6E,iBAC3BpE,EAASA,EAAO3E,OAAO8I,MAGxBnE,GAQXoI,uBAAwB,SAAUnK,EAAc+F,QAC/B,IAATA,IAAmBA,EAAO,SAE9B,IAAIhE,EAAS,GA0Bb,OAzBA/B,EACK+J,cACAC,OAAO,SAAU3I,GAElB,OADeA,EAAE2E,cACDiE,YAAclE,IAE7B3J,IAAI,SAAUiF,GACf,IAcQ6E,EAdJ5E,EAAWD,EAAE2E,cACJ,WAATD,GACIjK,EAASwF,EAAS4I,YAEtBnI,EAAOqC,KAAK,CAACtI,EAAO,GAAIA,EAAO,KAE/BiG,EAAOqC,KAAK,CAACtI,EAAO,GAAIA,EAAO,MAEjB,UAATiK,GACDG,EAAc5E,EAAS6E,iBAE3BpE,EAAOqC,KAAK8B,KAGRA,EAAc5E,EAAS6E,iBAC3BpE,EAASA,EAAO3E,OAAO8I,MAGxBvQ,KAAKyU,kBAAkBrI,IAOlCqI,kBAAmB,SAAUrI,GAGzB,IAFA,IAAIyH,EAAO,GACPC,EAAO,GACFzT,EAAI,EAAGA,EAAI+L,EAAO5L,OAAQH,IAAK,CACpC,IAAIqU,EAASxR,UAAU8B,UAAUoH,EAAO/L,GAAIyD,uBAAuBzB,QAAQ8B,KAAKzC,MAAMuD,oBAAoBvD,MAAOoC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMwD,oBAAoBxD,OAE/KmS,EAAKpF,KAAKiG,EAAO,IAEjBZ,EAAKrF,KAAKiG,EAAO,IAErB,MAAO,CACHC,UAAWjQ,KAAKkQ,IAAI/T,MAAM6D,KAAMmP,IAASnP,KAAKmQ,IAAIhU,MAAM6D,KAAMmP,GAAQnP,KAAKkQ,IAAI/T,MAAM6D,KAAMmP,IAAS,EACpGiB,UAAWpQ,KAAKkQ,IAAI/T,MAAM6D,KAAMoP,IAASpP,KAAKmQ,IAAIhU,MAAM6D,KAAMoP,GAAQpP,KAAKkQ,IAAI/T,MAAM6D,KAAMoP,IAAS,IAQ5GiB,gBAAiB,SAAU3I,GAGvB,IAFA,IAAIyH,EAAO,GACPC,EAAO,GACFzT,EAAI,EAAGA,EAAI+L,EAAO5L,OAAQH,IAAK,CACpC,IAAIqU,EAASxR,UAAU8B,UAAUoH,EAAO/L,GAAIyD,uBAAuBzB,QAAQ8B,KAAKzC,MAAMwD,oBAAoBxD,MAAOoC,uBAAuBzB,QAAQ8B,KAAKzC,MAAMuD,oBAAoBvD,OAE/KmS,EAAKpF,KAAKiG,EAAO,IAEjBZ,EAAKrF,KAAKiG,EAAO,IAIrB,MAAO,CACHM,QAHU,CAACtQ,KAAKkQ,IAAI/T,MAAM6D,KAAMmP,GAAOnP,KAAKkQ,IAAI/T,MAAM6D,KAAMoP,IAI5DmB,YAHc,CAACvQ,KAAKmQ,IAAIhU,MAAM6D,KAAMmP,GAAOnP,KAAKmQ,IAAIhU,MAAM6D,KAAMoP,MAcxEoB,oBAAqB,SAAUC,EAAMC,EAAMC,EAAMC,GAC7C,IAAI5J,EAAI1L,KAAK0T,QAAQyB,EAAOE,GAAQ,GAChCE,EAAIvV,KAAK0T,QAAQyB,EAAOE,GAAQ,GAChCG,EAAIxV,KAAK0T,QAAQ0B,EAAOE,GAAQ,GAChCzG,EAAI3K,aAEJuR,EAAK/Q,KAAK8J,IAAI+G,GACdG,EAAKhR,KAAK8J,IAAIgH,GACdG,EAAKjR,KAAK8J,IAAI9C,GAIdtL,GAHJqV,GAAMA,IAGQ,GAFdC,GAAMA,KAEmB,GADzBC,GAAMA,IAC6BD,EAC/BE,GAAK,EAAIH,IAAO,EAAIC,GAAMC,EAAKD,EAC/BG,EAAInR,KAAKoR,KAAKpR,KAAKqR,KAAK3V,EAAIwV,IAC5B5H,EAAItJ,KAAKqR,KAAK3V,EAAIwV,GAAKC,EAI3B,OAHQ,EAAIA,EAAIhH,GAGJ,EAdH,EAAI,UAYH,EAAIb,EAAI,GAAK,EAAI4H,EAEAD,GAAM,EAAIF,IAD3B,EAAIzH,EAAI,GAAK,EAAI5N,GACsB,EAAIuV,GAAMF,KAM/DO,QAAS,SAAUtU,GAEf,OAAOA,EAAiB,IADXgD,KAAKuR,OAAOvU,EAAQ,KAAO,MAO5CwU,aAAc,SAAUzP,GACpB,IAAKA,EACD,OAAO,EACX,IAAIN,EAASM,EAAIkB,UAAUwO,gBAAgB1P,EAAI2P,WAC3CC,EAAanT,UAAUoT,SAASnT,YAAYoT,cAAcpQ,IAC1DqQ,EAAWtT,UAAUoT,SAASnT,YAAYsT,YAAYtQ,IACtDuQ,EAAMF,EAAS,GACfG,EAAQ3W,KAAKgW,QAAQQ,EAAS,IAC9BI,EAAO5W,KAAKgW,QAAQK,EAAW,IAC/BQ,EAASR,EAAW,GACxB,MAAO,CACH,CACIS,IAAKF,EACLG,IAAKL,GAET,CACII,IAAKH,EACLI,IAAKL,GAET,CACII,IAAKH,EACLI,IAAKF,GAET,CACIC,IAAKF,EACLG,IAAKF,GAET,CACIC,IAAKF,EACLG,IAAKL,KASjBM,oBAAqB,SAAUvQ,EAAKiC,GAE5BvC,EADWuC,EAAQ2H,cACDkE,YACtB,OAAO9N,EAAIwQ,YAAYrF,WAAW,GAAGsF,YAAYF,oBAAoB7Q,IAOzEgR,eAAgB,SAAU1Q,GACtB,OAAOA,EAAIwQ,YAAY3F,aAE3B8F,IAAK,WAKD,MAAO,IAHC1S,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UAGP,IAFT3S,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UAEG,IADnB3S,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UACa,KAEzCC,QAAS,WAEL,IAAItJ,EAAItJ,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UACpB9B,EAAI7Q,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UACpBE,EAAI7S,KAAKuR,MAAsB,IAAhBvR,KAAK2S,UACxB,MAAO,IAAMrJ,EAAEwJ,SAAS,IAAMjC,EAAEiC,SAAS,IAAMD,EAAEC,SAAS,KAE9DC,aAAc,SAAUC,GAapB,OAAa,GAATA,GAAcA,GAAS,EAZb,CACV,MACA,QACA,OACA,SACA,OACA,UACA,UACA,UACA,UACA,WAGeA,GAGR1X,KAAKsX,WAGpBK,YAAa,SAAUlR,GACnBA,EAAImR,KAAK,cAAe,SAAUC,GAC9B,IACIC,EADSD,EAAME,QAAQC,OACNC,YACjBpJ,EAAIwE,SAASC,cAAc,KAC3BtR,EAAI,IAAIkW,WAAW,SACvBrJ,EAAEsJ,SAAW,MACbtJ,EAAEuJ,KAAON,EACTjJ,EAAEwJ,cAAcrW,KAEpByE,EAAI6R"}