{"version":3,"file":"Util.js","sources":["Util.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Feature_js_1 = __importDefault(require(\"ol/Feature.js\"));\nvar Map_1 = __importDefault(require(\"ol/Map\"));\nvar Overlay_js_1 = __importDefault(require(\"ol/Overlay.js\"));\nvar View_1 = __importDefault(require(\"ol/View\"));\nvar control_js_1 = require(\"ol/control.js\");\nvar MousePosition_js_1 = __importDefault(require(\"ol/control/MousePosition.js\"));\nvar ScaleLine_js_1 = __importDefault(require(\"ol/control/ScaleLine.js\"));\nvar Zoom_js_1 = __importDefault(require(\"ol/control/Zoom.js\"));\nvar coordinate_1 = require(\"ol/coordinate\");\nvar extent_js_1 = require(\"ol/extent.js\");\nvar geom_1 = require(\"ol/geom\");\nvar Circle_1 = __importDefault(require(\"ol/geom/Circle\"));\nvar LinearRing_1 = __importDefault(require(\"ol/geom/LinearRing\"));\nvar Polygon_1 = __importDefault(require(\"ol/geom/Polygon\"));\nvar Draw_js_1 = __importStar(require(\"ol/interaction/Draw.js\"));\nvar Modify_1 = __importDefault(require(\"ol/interaction/Modify\"));\nvar layer_js_1 = require(\"ol/layer.js\");\nvar proj_js_1 = require(\"ol/proj.js\");\nvar source_js_1 = require(\"ol/source.js\");\nvar style_js_1 = require(\"ol/style.js\");\nvar Text_1 = __importDefault(require(\"ol/style/Text\"));\nvar uuid_1 = require(\"uuid\");\nvar adhere_util_resource_1 = __importDefault(require(\"@baifendian/adhere-util-resource\"));\nvar GeoLayer_1 = __importDefault(require(\"./GeoLayer\"));\nvar TitleLayer = __importStar(require(\"./TitleLayer\"));\nvar WindLayer_1 = __importDefault(require(\"./WindLayer\"));\nvar EARTH_RADIUS = adhere_util_resource_1.default.Dict.value.ResourceGisEarthRadius.value; // 单位M\nvar DEFAULT_COLOE = '#1788F3';\n/**\n * getMinZoom\n * @param target\n */\nfunction getMinZoom(target) {\n    var width = target.clientWidth;\n    return Math.ceil(Math.LOG2E * Math.log(width / 256));\n}\n/**\n * transformLonLat\n * @param point\n */\nfunction transformLonLat(point) {\n    return (0, proj_js_1.transform)(point, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value);\n}\nexports.default = {\n    SHOWBASESTATION_MINZOOM: 5,\n    /**\n     * createMap - 创建地图\n     * @param Config\n     */\n    createMap: function (Config) {\n        var config = Config.config, fitZoom = Config.fitZoom, _a = Config.zoom, zoom = _a === void 0 ? getMinZoom(config.target) || 3 : _a, _b = Config.minZoom, minZoom = _b === void 0 ? getMinZoom(config.target) || 3 : _b, _c = Config.maxZoom, maxZoom = _c === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisMapMaxZoom.value : _c, _d = Config.center, center = _d === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisXinbeiquCenterPoint.value : _d, _e = Config.extent, extent = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceGisXinbeiquMapExtent.value : _e, _f = Config.layers, layers = _f === void 0 ? [TitleLayer.getOSMTileLayer()] : _f;\n        // @ts-ignore\n        var map = new Map_1.default(__assign(__assign({}, config), { controls: (0, control_js_1.defaults)({\n                attributionOptions: {\n                    collapsible: false,\n                },\n            }).extend([\n                new Zoom_js_1.default(),\n                new ScaleLine_js_1.default(),\n                new MousePosition_js_1.default({\n                    coordinateFormat: (0, coordinate_1.createStringXY)(5),\n                    projection: adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value,\n                }),\n            ]), pixelRatio: 1, view: new View_1.default({\n                center: (0, proj_js_1.fromLonLat)(center),\n                minZoom: minZoom,\n                maxZoom: maxZoom,\n                zoom: zoom,\n                extent: (0, proj_js_1.transformExtent)((0, extent_js_1.boundingExtent)(extent), adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value),\n                // zoom: 13,\n                // projection : 'EPSG:3857',\n                // projection: 'EPSG:4326',\n            }), layers: layers }));\n        setTimeout(function () {\n            var zoom;\n            if (fitZoom) {\n                zoom = fitZoom;\n            }\n            else {\n                // @ts-ignore\n                var mapExtentTransform = __spreadArray(__spreadArray([], (0, proj_js_1.fromLonLat)(extent[0]), true), (0, proj_js_1.fromLonLat)(extent[1]), true);\n                var resolution = map.getView().getResolutionForExtent(mapExtentTransform);\n                zoom = map.getView().getZoomForResolution(resolution);\n                // zoom = 11.5;\n            }\n            map.getView().setZoom(zoom);\n        }, 100);\n        return map;\n    },\n    /**\n     * setOverlayState - 给overlay赋予状态\n     * @param overlay\n     * @param point\n     */\n    setOverlayState: function (overlay, point) {\n        overlay.setPosition(/* fromLonLat(point) */ point);\n    },\n    /**\n     * addClickListener\n     * 给地图实例添加 click 监听者\n     * 此方法仅监听了单击\n     * @param {Object} mapInstance map实例对象\n     * @param {Object} listeningLayer 监听的layer\n     * @param {Function=} hitCallback 可选 选中的回调\n     * @param {Function=} unHitCallback 可选 未选中的回调\n     * @param {Function} setCursor 设置鼠标滑过当前图层的鼠标样式\n     */\n    addClickListener: (function () {\n        var onClick;\n        var onPointerMove;\n        return function (mapInstance, listeningLayer, hitCallback, unHitCallback, setCursor) {\n            if (hitCallback === void 0) { hitCallback = function (feature) { }; }\n            if (unHitCallback === void 0) { unHitCallback = function (feature) { }; }\n            var displayFeatureInfo = function (pixel) {\n                mapInstance.forEachFeatureAtPixel(pixel, function (feature, layer) {\n                    if (layer === listeningLayer) {\n                        hitCallback(feature);\n                    }\n                    else {\n                        unHitCallback(feature);\n                    }\n                    return true;\n                });\n            };\n            if (onClick) {\n                mapInstance.un('click', onClick);\n            }\n            if (onPointerMove) {\n                mapInstance.un('pointermove', onPointerMove);\n            }\n            onClick = function (evt) {\n                if (evt.dragging)\n                    return;\n                displayFeatureInfo(evt.pixel);\n            };\n            onPointerMove = function (evt) {\n                if (evt.dragging)\n                    return;\n                mapInstance.forEachFeatureAtPixel(evt.pixel, function (_, layer) {\n                    setCursor(layer === listeningLayer ? 'pointer' : '');\n                    return true;\n                });\n            };\n            mapInstance.on('click', onClick);\n            mapInstance.on('pointermove', onPointerMove);\n        };\n    })(),\n    /**\n     * addHoverListener - 给地图实例上的指定layer添加hover监听者\n     * @param {Object} mapInstance map实例对象\n     * @param {Object} listeningLayer 监听的layer\n     * @param {Function=} hitCallback 可选 选中的回调\n     * @param {Function=} unHitCallback 可选 未选中的回调\n     */\n    addHoverListener: (function () {\n        var onPointermove;\n        return function (mapInstance, listeningLayer, hitCallback, unHitCallback) {\n            var displayFeatureInfo = function (pixel) {\n                // 是否在像素中\n                var inPixel = false;\n                mapInstance.forEachFeatureAtPixel(pixel, function (feature, layer) {\n                    inPixel = true;\n                    if (layer === listeningLayer) {\n                        mapInstance.getTarget().style.cursor = 'pointer';\n                        hitCallback(feature);\n                    }\n                    else {\n                        mapInstance.getTarget().style.cursor = '';\n                        unHitCallback(feature);\n                    }\n                    return true;\n                });\n                if (!inPixel) {\n                    unHitCallback();\n                }\n            };\n            if (onPointermove) {\n                mapInstance.un('pointermove', onPointermove);\n            }\n            onPointermove = function (evt) {\n                if (evt.dragging)\n                    return;\n                var pixel = mapInstance.getEventPixel(evt.originalEvent);\n                displayFeatureInfo(pixel);\n            };\n            mapInstance.on('pointermove', onPointermove);\n        };\n    })(),\n    /**\n     * addGeoLayer - 给地图实例添加一个geojson格式的 VectorLayer\n     * @param {Object} mapInstance map实例对象\n     * @param geojsonData\n     * @param {Function=} getStyleConfig 获取该geoJSON的样式\n     * @param {number=} zIndex 该 Layer 的层级 可选, 默认为0\n     * @returns geoLayer 此次生成的layer\n     */\n    addGeoLayer: function (mapInstance, geojsonData, getStyleConfig, zIndex) {\n        if (getStyleConfig === void 0) { getStyleConfig = function () { }; }\n        if (zIndex === void 0) { zIndex = 0; }\n        var geoLayer = new GeoLayer_1.default(geojsonData, getStyleConfig, zIndex);\n        mapInstance.addLayer(geoLayer);\n        return geoLayer;\n    },\n    /**\n     * addWindLayer - 添加风场层\n     * @param mapInstance\n     * @param data\n     * @param config\n     * @param zIndex\n     * @return WindLayer\n     */\n    addWindLayer: function (mapInstance, data, config, zIndex) {\n        if (zIndex === void 0) { zIndex = 0; }\n        var windLayer = new WindLayer_1.default(data, config);\n        mapInstance.addLayer(windLayer);\n        return windLayer;\n    },\n    /**\n     * addVectorLayer - 添加一个向量层\n     * @param map\n     * @param zIndex\n     */\n    addVectorLayer: function (map, zIndex) {\n        var vectorSource = new source_js_1.Vector();\n        var vectorLayer = new layer_js_1.Vector({\n            source: vectorSource,\n            zIndex: zIndex,\n        });\n        map.addLayer(vectorLayer);\n        return {\n            vectorLayer: vectorLayer,\n            vectorSource: vectorSource,\n        };\n    },\n    /**\n     * createHeatMapLayer - 创建一个热力层\n     * @param layoutConfig\n     */\n    createHeatMapLayer: function (layoutConfig) {\n        var vectorSource = new source_js_1.Vector();\n        var layer = new layer_js_1.Heatmap(__assign({ source: vectorSource, gradient: ['#00005c', '#020288', '#0202c0', '#0ff', '#0f0', '#ff0', '#f00'], weight: function () { return 1; }, shadow: 500, blur: 15, radius: 20 }, layoutConfig));\n        return {\n            layer: layer,\n            vectorSource: vectorSource,\n        };\n    },\n    /**\n     * drawCircle - 创建一个圆形\n     * @param center\n     * @param radius\n     * @param color\n     * @param strokeColor\n     * @param strokeWidth\n     * @param zIndex\n     * @param id\n     * @param propertys\n     */\n    drawCircle: function (_a) {\n        var center = _a.center, radius = _a.radius, _b = _a.color, color = _b === void 0 ? 'rgba(23,136,243,.2)' : _b, _c = _a.strokeColor, strokeColor = _c === void 0 ? DEFAULT_COLOE : _c, _d = _a.strokeWidth, strokeWidth = _d === void 0 ? 2 : _d, _e = _a.zIndex, zIndex = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value : _e, _f = _a.id, id = _f === void 0 ? (0, uuid_1.v4)() : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\n        var f = new Feature_js_1.default(__assign({ zIndex: zIndex, geometry: new Circle_1.default(center, radius) }, propertys));\n        f.setId(id);\n        f.setStyle(new style_js_1.Style({\n            fill: new style_js_1.Fill({\n                color: color,\n            }),\n            stroke: new style_js_1.Stroke({\n                width: strokeWidth,\n                color: strokeColor,\n            }),\n        }));\n        return f;\n    },\n    /**\n     * drawPolygon - 创建一个多边形\n     * @param points\n     * @param color\n     * @param strokeColor\n     * @param strokeWidth\n     * @param zIndex\n     * @param id\n     * @param propertys\n     */\n    drawPolygon: function (_a) {\n        var points = _a.points, _b = _a.color, color = _b === void 0 ? 'rgba(23,136,243,.2)' : _b, _c = _a.strokeColor, strokeColor = _c === void 0 ? DEFAULT_COLOE : _c, _d = _a.strokeWidth, strokeWidth = _d === void 0 ? 2 : _d, _e = _a.zIndex, zIndex = _e === void 0 ? adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value : _e, _f = _a.id, id = _f === void 0 ? (0, uuid_1.v4)() : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\n        var f = new Feature_js_1.default(__assign({ zIndex: zIndex, geometry: new Polygon_1.default(points) }, propertys));\n        f.setId(id);\n        f.setStyle(new style_js_1.Style({\n            fill: new style_js_1.Fill({\n                color: color,\n            }),\n            stroke: new style_js_1.Stroke({\n                width: strokeWidth,\n                color: strokeColor,\n            }),\n        }));\n        return f;\n    },\n    /**\n     * drawCirclePoint - 创建一个圆的点\n     * @param id\n     * @param pos\n     * @param fillOpt\n     * @param strokeOpt\n     * @param radius\n     * @param textOpt\n     * @param zIndex\n     * @param text\n     * @param propertys\n     */\n    drawCirclePoint: function (_a) {\n        var id = _a.id, pos = _a.pos, _b = _a.fillOpt, fillOpt = _b === void 0 ? {\n            color: 'rgba(23,136,243,.2)',\n        } : _b, _c = _a.strokeOpt, strokeOpt = _c === void 0 ? {\n            width: 2,\n            color: DEFAULT_COLOE,\n        } : _c, _d = _a.radius, radius = _d === void 0 ? 10 : _d, _e = _a.textOpt, textOpt = _e === void 0 ? {} : _e, _f = _a.zIndex, zIndex = _f === void 0 ? 1 : _f, _g = _a.text, text = _g === void 0 ? '' : _g, _h = _a.propertys, propertys = _h === void 0 ? {} : _h;\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\n        point.setId(id);\n        point.setStyle(new style_js_1.Style({\n            image: new style_js_1.Circle({\n                fill: new style_js_1.Fill(fillOpt),\n                stroke: new style_js_1.Stroke(strokeOpt),\n                radius: radius,\n            }),\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\n                    color: '#fff',\n                }) }, textOpt)),\n            zIndex: zIndex,\n        }));\n        return point;\n    },\n    /**\n     * drawRegularShapePoint - 创建一个多边形的点\n     * @param id\n     * @param pos\n     * @param fillOpt\n     * @param strokeOpt\n     * @param text\n     * @param textOpt\n     * @param zIndex\n     * @param propertys\n     * @param others\n     */\n    drawRegularShapePoint: function (_a) {\n        var id = _a.id, pos = _a.pos, _b = _a.fillOpt, fillOpt = _b === void 0 ? { color: 'rgba(23,136,243,.2)' } : _b, _c = _a.strokeOpt, strokeOpt = _c === void 0 ? {\n            width: 2,\n            color: DEFAULT_COLOE,\n        } : _c, \n        // points = 3,\n        // radius = 10,\n        // radius2 = 0,\n        // rotation = Math.PI / 4,\n        // angle = 0,\n        _d = _a.text, \n        // points = 3,\n        // radius = 10,\n        // radius2 = 0,\n        // rotation = Math.PI / 4,\n        // angle = 0,\n        text = _d === void 0 ? '' : _d, _e = _a.textOpt, textOpt = _e === void 0 ? {} : _e, _f = _a.zIndex, zIndex = _f === void 0 ? 1 : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g, others = __rest(_a, [\"id\", \"pos\", \"fillOpt\", \"strokeOpt\", \"text\", \"textOpt\", \"zIndex\", \"propertys\"]);\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\n        point.setId(id);\n        point.setStyle(new style_js_1.Style({\n            // @ts-ignore\n            image: new style_js_1.RegularShape(__assign({ fill: new style_js_1.Fill(fillOpt), stroke: new style_js_1.Stroke(strokeOpt) }, others)),\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\n                    color: '#fff',\n                }) }, textOpt)),\n            zIndex: zIndex,\n        }));\n        return point;\n    },\n    /**\n     * drawImagePoint - 创建一个图片的点\n     * @param id\n     * @param pos\n     * @param zIndex\n     * @param color\n     * @param src\n     * @param opacity\n     * @param scale\n     * @param anchor\n     * @param rotation\n     * @param offset\n     * @param offsetOrigin\n     * @param size\n     * @param text\n     * @param textOpt\n     * @param propertys\n     */\n    drawImagePoint: function (_a) {\n        var id = _a.id, pos = _a.pos, _b = _a.zIndex, zIndex = _b === void 0 ? 1 : _b, src = _a.src, color = _a.color, opacity = _a.opacity, scale = _a.scale, anchor = _a.anchor, _c = _a.rotation, rotation = _c === void 0 ? 0 : _c, _d = _a.offset, offset = _d === void 0 ? [0, 0] : _d, offsetOrigin = _a.offsetOrigin, size = _a.size, _e = _a.text, text = _e === void 0 ? '' : _e, _f = _a.textOpt, textOpt = _f === void 0 ? {} : _f, _g = _a.propertys, propertys = _g === void 0 ? {} : _g;\n        var point = new Feature_js_1.default(__assign({ zIndex: adhere_util_resource_1.default.Dict.value.ResourceNormalMaxZIndex.value, geometry: new geom_1.Point(pos) }, propertys));\n        point.setId(id);\n        point.setStyle(new style_js_1.Style({\n            image: new style_js_1.Icon({\n                color: color,\n                src: src,\n                anchor: anchor,\n                opacity: opacity,\n                scale: scale,\n                rotation: rotation,\n                offset: offset,\n                offsetOrigin: offsetOrigin,\n                size: size,\n            }),\n            fill: new style_js_1.Fill({\n                color: '#fff',\n            }),\n            text: new Text_1.default(__assign({ text: text, textAlign: 'center', fill: new style_js_1.Fill({\n                    color: '#fff',\n                }) }, textOpt)),\n            zIndex: zIndex,\n        }));\n        return point;\n    },\n    /**\n     * createRegularPolygonCurve - 扇形\n     * @param origin 圆心\n     * @param radius 半径\n     * @param sides 边数\n     * @param r 弧度\n     * @param angel 方向角(以y周围0)(可以自定义自己的x周一样)\n     * @return {Polygon}\n     */\n    createRegularPolygonCurve: function (origin, radius, sides, r, angel) {\n        var rotation = 360 - r;\n        var angle = Math.PI * (1 / sides - 1 / 2);\n        if (rotation) {\n            angle += (rotation / 180) * Math.PI;\n        }\n        var rotatedAngle;\n        var x;\n        var y;\n        var points = [];\n        for (var i = 0; i < sides; ++i) {\n            var an = i * ((360 - rotation) / 360);\n            rotatedAngle = angle + (an * 2 * Math.PI) / sides;\n            x = origin[0] + radius * Math.cos(rotatedAngle);\n            y = origin[1] + radius * Math.sin(rotatedAngle);\n            // @ts-ignore\n            points.push([x, y]);\n        }\n        if (rotation !== 0) {\n            // @ts-ignore\n            points.push(origin);\n        }\n        var ring = new LinearRing_1.default(points);\n        ring.rotate(Math.PI - ((angel - r / 2) / 180) * Math.PI, origin);\n        var poy = new Polygon_1.default([points]);\n        // @ts-ignore\n        var a = ring.A;\n        // @ts-ignore\n        poy.A = a;\n        return poy;\n    },\n    /**\n     * removeFeature - 删除一个feature\n     * @param vectorSource\n     * @param feature\n     */\n    removeFeature: function (vectorSource, feature) {\n        vectorSource.removeFeature(feature);\n    },\n    /**\n     * removeAllFeature - 删除所有feature\n     * @param vectorSource\n     */\n    removeAllFeature: function (vectorSource) {\n        vectorSource.clear();\n    },\n    /**\n     * removeAllOverlay - 删除所有覆盖物\n     * @param map\n     */\n    removeAllOverlay: function (map) {\n        map.getOverlays().clear();\n    },\n    /**\n     * setMapCenterAnimate - 移动地图到指定位置(动画)\n     * @param map\n     * @param point\n     * @param duration\n     */\n    setMapCenterAnimate: function (_a) {\n        var map = _a.map, point = _a.point, _b = _a.duration, duration = _b === void 0 ? 600 : _b;\n        map.getView().animate({\n            center: point,\n            duration: duration,\n        });\n    },\n    /**\n     * drawLine - 创建线\n     * @param points\n     * @param width\n     * @param color\n     * @param lineCap\n     * @param lineJoin\n     */\n    drawLine: function (_a) {\n        var points = _a.points, width = _a.width, color = _a.color, _b = _a.lineCap, lineCap = _b === void 0 ? 'square' : _b, _c = _a.lineJoin, lineJoin = _c === void 0 ? 'round' : _c;\n        var line = new Feature_js_1.default({\n            geometry: new geom_1.LineString(points),\n        });\n        line.setStyle(new style_js_1.Style({\n            stroke: new style_js_1.Stroke({\n                width: width,\n                color: color,\n                lineCap: lineCap,\n                lineJoin: lineJoin,\n            }),\n        }));\n        return line;\n    },\n    /**\n     * createInteraction\n     * @param map\n     * @param config\n     */\n    createInteraction: function (map, config) {\n        var onDrawStart = config.onDrawStart;\n        var drawPolygonInteraction = new Draw_js_1.default(config);\n        drawPolygonInteraction.on('drawstart', function (e) {\n            if (onDrawStart) {\n                onDrawStart(e);\n            }\n        });\n        map.addInteraction(drawPolygonInteraction);\n        return drawPolygonInteraction;\n    },\n    /**\n     * polygonInteraction - 框多边形\n     * @param map\n     * @param vectorSource\n     * @param onDrawStart\n     * @param onDrawEnd\n     */\n    polygonInteraction: function (_a) {\n        var map = _a.map, _b = _a.freehand, freehand = _b === void 0 ? true : _b, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"freehand\", \"vectorSource\", \"onDrawEnd\"]);\n        var drawPolygonInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Polygon', freehand: freehand }, other));\n        drawPolygonInteraction.on('drawend', function (e) {\n            e.feature.setId((0, uuid_1.v4)());\n            var geometry = e.feature.getGeometry();\n            var lonlats = [];\n            var coordinates = geometry.getCoordinates()[0].map(function (v) {\n                // @ts-ignore\n                lonlats.push(transformLonLat(v));\n                return v;\n            });\n            var centerp = map.getView().getCenter();\n            if (onDrawEnd) {\n                onDrawEnd({\n                    e: e,\n                    geometry: geometry,\n                    coordinates: coordinates,\n                    lonlats: lonlats,\n                    centerp: centerp,\n                    transformCenterp: transformLonLat(centerp),\n                });\n            }\n        });\n        return drawPolygonInteraction;\n    },\n    /**\n     * circleInteraction - 框圆形\n     * @param map\n     * @param vectorSource\n     * @param onDrawStart\n     * @param onDrawEnd\n     */\n    circleInteraction: function (_a) {\n        var map = _a.map, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"vectorSource\", \"onDrawEnd\"]);\n        var drawCircleInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Circle', freehand: true }, other));\n        drawCircleInteraction.on('drawend', function (e) {\n            var geometry = e.feature.getGeometry();\n            // 半径\n            var radius = geometry.getRadius();\n            // 中心点\n            var center = geometry.getCenter();\n            e.feature.setId((0, uuid_1.v4)());\n            if (onDrawEnd) {\n                onDrawEnd({\n                    e: e,\n                    geometry: geometry,\n                    radius: radius,\n                    center: center,\n                    transformCenter: transformLonLat(center),\n                });\n            }\n        });\n        return drawCircleInteraction;\n    },\n    /**\n     * boxInteraction - 框线框\n     * @param map\n     * @param vectorSource\n     * @param onDrawEnd\n     * @param other\n     */\n    boxInteraction: function (_a) {\n        var map = _a.map, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"vectorSource\", \"onDrawEnd\"]);\n        var drawBoxInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'Circle', freehand: true, geometryFunction: (0, Draw_js_1.createBox)() }, other));\n        drawBoxInteraction.on('drawend', function (e) {\n            e.feature.setId((0, uuid_1.v4)());\n            var geometry = e.feature.getGeometry();\n            var coordinates = geometry.getCoordinates()[0].map(function (v) {\n                return v;\n            });\n            var centerp = map.getView().getCenter();\n            if (onDrawEnd) {\n                onDrawEnd({\n                    e: e,\n                    geometry: geometry,\n                    coordinates: coordinates,\n                    centerp: centerp,\n                });\n            }\n        });\n        return drawBoxInteraction;\n    },\n    /**\n     * linStringInteraction - 线路\n     * @param map\n     * @param vectorSource\n     * @param onDrawStart\n     * @param onDrawEnd\n     */\n    linStringInteraction: function (_a) {\n        var map = _a.map, _b = _a.freehand, freehand = _b === void 0 ? true : _b, vectorSource = _a.vectorSource, onDrawEnd = _a.onDrawEnd, other = __rest(_a, [\"map\", \"freehand\", \"vectorSource\", \"onDrawEnd\"]);\n        var drawPolygonInteraction = this.createInteraction(map, __assign({ source: vectorSource, type: 'LineString', freehand: freehand }, other));\n        drawPolygonInteraction.on('drawend', function (e) {\n            e.feature.setId((0, uuid_1.v4)());\n            var geometry = e.feature.getGeometry();\n            var lonlats = [];\n            var coordinates = geometry.getCoordinates().map(function (v) {\n                // @ts-ignore\n                lonlats.push(transformLonLat(v));\n                return v;\n            });\n            var centerp = map.getView().getCenter();\n            var mileage = geometry.getLength().toFixed(3);\n            if (onDrawEnd) {\n                onDrawEnd({\n                    e: e,\n                    geometry: geometry,\n                    coordinates: coordinates,\n                    lonlats: lonlats,\n                    centerp: centerp,\n                    mileage: mileage,\n                    transformCenterp: transformLonLat(centerp),\n                });\n            }\n        });\n        return drawPolygonInteraction;\n    },\n    /**\n     * createModifyInteraction\n     * @param map\n     * @param vectorSource\n     * @param onModifyEnd\n     * @return {Modify|Modify}\n     */\n    createModifyInteraction: function (_a) {\n        var map = _a.map, vectorSource = _a.vectorSource, onModifyEnd = _a.onModifyEnd;\n        var modifyInteraction = new Modify_1.default({\n            source: vectorSource,\n        });\n        modifyInteraction.on('modifyend', function (e) {\n            var features = e.features.getArray();\n            var geometry = features[features.length - 1].getGeometry();\n            onModifyEnd({\n                e: e,\n                geometry: geometry,\n            });\n        });\n        map.addInteraction(modifyInteraction);\n        return modifyInteraction;\n    },\n    /**\n     * removeInteraction - 移除interaction\n     * @param map\n     * @param interaction\n     */\n    removeInteraction: function (map, interaction) {\n        map.removeInteraction(interaction);\n    },\n    /**\n     * removeInteractionAll - 移除所有的Interaction\n     * @param map\n     */\n    removeInteractionAll: function (map) {\n        map.getInteractions().clear();\n    },\n    /**\n     * mapFit - 地图自适应\n     * @param extent\n     * @param option\n     * @param map\n     */\n    mapFit: function (extent, option, map) {\n        // if (extent.length === 0) return;\n        // const resolution = map.getView().getResolutionForExtent(extent);\n        // if (resolution === 0) return;\n        // map.getView().setResolution(resolution);\n        // map.getView().fit(extent, Object.assign({\n        //   padding: [10, 10, 10, 10],\n        //   constrainResolution: true,\n        //   nearest: true,\n        //   duration: 500,\n        // }, option));\n        if (extent === void 0) { extent = []; }\n        if (option === void 0) { option = {}; }\n        if (extent.length === 0)\n            return;\n        // const resolution = map.getView().getResolutionForExtent(extent);\n        // if(resolution === 0) return;\n        // map.getView().setResolution(resolution);\n        map.getView().fit(extent, __assign({ padding: [40, 40, 40, 40], constrainResolution: false, nearest: true, duration: 200 }, option));\n    },\n    /**\n     * addArrowsSource - 为一系列点创建箭头\n     * @param points\n     * @param color\n     * @param icon\n     * @return {Array}\n     */\n    addArrowsSource: function (_a) {\n        var points = _a.points, color = _a.color, icon = _a.icon;\n        var arrows = [];\n        for (var i = 0; i < points.length - 1; i++) {\n            var start = points[i];\n            var end = points[i + 1];\n            var dx = end[0] - start[0];\n            var dy = end[1] - start[1];\n            var rotation = Math.atan2(dy, dx);\n            var arrow = new Feature_js_1.default({\n                geometry: new geom_1.Point(end),\n            });\n            arrow.setStyle(new style_js_1.Style({\n                image: new style_js_1.Icon({\n                    color: color,\n                    src: icon,\n                    anchor: [0.5, 0.5],\n                    rotateWithView: true,\n                    rotation: -rotation,\n                }),\n            }));\n            // @ts-ignore\n            arrows.push(arrow);\n        }\n        return arrows;\n    },\n    /**\n     * addArrowsOverlay\n     * @param map\n     * @param parentDom\n     * @param color\n     * @param points\n     */\n    addArrowsOverlay: function (map, parentDom, color, points) {\n        for (var i = 0; i < points.length - 1; i++) {\n            var start = points[i];\n            var end = points[i + 1];\n            var dx = end[0] - start[0];\n            var dy = end[1] - start[1];\n            var rotation = Math.atan2(dy, dx);\n            var degrees = rotation * (180 / Math.PI);\n            var div = document.createElement('div');\n            div.className = 'fa fa-caret-right overleayArrowPoint';\n            div.style.transform = \"rotate(\".concat(-degrees, \"deg)\");\n            div.style.color = color;\n            parentDom.appendChild(div);\n            this.addOverlay(map, end, div);\n        }\n    },\n    /**\n     * addOverlay - 添加覆盖物\n     * @param map\n     * @param config\n     * @param div\n     */\n    addOverlay: function (map, config, div) {\n        var overlay = new Overlay_js_1.default(config);\n        map.addOverlay(overlay);\n        return overlay;\n    },\n    /**\n     * getRad\n     * @param d\n     */\n    getRad: function (d) {\n        return (d * Math.PI) / 180.0;\n    },\n    /**\n     * getExtentByCoordinates - 获取coordinates中的矩形数据\n     * @param coordinates\n     * @return {*}\n     */\n    getExtentByCoordinates: function (coordinates) {\n        if (coordinates.length === 0) {\n            return [];\n        }\n        if (coordinates.length === 1) {\n            return [].concat(coordinates[0], coordinates[0]);\n        }\n        var lons = [];\n        var lats = [];\n        for (var i = 0; i < coordinates.length; i++) {\n            var point = coordinates[i];\n            // @ts-ignore\n            lons.push(point[0]);\n            // @ts-ignore\n            lats.push(point[1]);\n        }\n        lons.sort(function (t1, t2) {\n            if (t1 < t2)\n                return -1;\n            if (t1 > t2)\n                return 1;\n            return 0;\n        });\n        lats.sort(function (t1, t2) {\n            if (t1 < t2)\n                return -1;\n            if (t1 > t2)\n                return 1;\n            return 0;\n        });\n        return [lons[0], lats[0], lons[lons.length - 1], lats[lats.length - 1]];\n    },\n    /**\n     * getExtentByVectorSource - 获取vectorSource中的矩形数据\n     * @param vectorSource\n     * @param type\n     * @return {*}\n     */\n    getExtentByVectorSource: function (vectorSource, type) {\n        if (type === void 0) { type = 'Point'; }\n        var coordinates = this.getCectorSourceCoordinates(vectorSource, type);\n        return this.getExtentByCoordinates(coordinates);\n    },\n    /**\n     * getCectorSourceCoordinates - 获取向量层中的所有点\n     * @param vectorSource\n     * @param type\n     */\n    getCectorSourceCoordinates: function (vectorSource, type) {\n        if (type === void 0) { type = 'Point'; }\n        var points = [];\n        vectorSource\n            .getFeatures()\n            .filter(function (f) {\n            var geometry = f.getGeometry();\n            return geometry.getType() === type;\n        })\n            .map(function (f) {\n            var geometry = f.getGeometry();\n            if (type === 'Circle') {\n                var extent = geometry.getExtent();\n                // @ts-ignore\n                points.push([extent[0], extent[1]]);\n                // @ts-ignore\n                points.push([extent[2], extent[3]]);\n            }\n            else if (type === 'Point') {\n                var coordinates = geometry.getCoordinates();\n                // @ts-ignore\n                points.push(coordinates);\n            }\n            else {\n                var coordinates = geometry.getCoordinates();\n                points = points.concat(coordinates);\n            }\n        });\n        return points;\n    },\n    /**\n     * getCenterByCoordinates - 获取source中所有Point的中心点\n     * @param vectorSource\n     * @param type\n     * @return {{centerLon: number, centerLat: number}}\n     */\n    getCenterByCoordinates: function (vectorSource, type) {\n        if (type === void 0) { type = 'Point'; }\n        // 获取所有点的数据\n        var points = [];\n        vectorSource\n            .getFeatures()\n            .filter(function (f) {\n            var geometry = f.getGeometry();\n            return geometry.getType() === type;\n        })\n            .map(function (f) {\n            var geometry = f.getGeometry();\n            if (type === 'Circle') {\n                var extent = geometry.getExtent();\n                // @ts-ignore\n                points.push([extent[0], extent[1]]);\n                // @ts-ignore\n                points.push([extent[2], extent[3]]);\n            }\n            else if (type === 'Point') {\n                var coordinates = geometry.getCoordinates();\n                // @ts-ignore\n                points.push(coordinates);\n            }\n            else {\n                var coordinates = geometry.getCoordinates();\n                points = points.concat(coordinates);\n            }\n        });\n        return this.getCenterByPoints(points);\n    },\n    /**\n     * getCenterByPoints - 获取一系列点中的中心点\n     * @param points\n     * @return {{centerLon: number, centerLat: number}}\n     */\n    getCenterByPoints: function (points) {\n        var lons = [];\n        var lats = [];\n        for (var i = 0; i < points.length; i++) {\n            var lonlat = (0, proj_js_1.transform)(points[i], adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value);\n            // @ts-ignore\n            lons.push(lonlat[0]);\n            // @ts-ignore\n            lats.push(lonlat[1]);\n        }\n        return {\n            centerLon: Math.min.apply(Math, lons) + (Math.max.apply(Math, lons) - Math.min.apply(Math, lons)) / 2,\n            centerLat: Math.min.apply(Math, lats) + (Math.max.apply(Math, lats) - Math.min.apply(Math, lats)) / 2,\n        };\n    },\n    /**\n     * getPointsExtent - 获取一些列点的矩形范围(左上角[x,y]，右下角[x,y])\n     * @param points\n     * @return {{centerLon: number, centerLat: number}}\n     */\n    getPointsExtent: function (points) {\n        var lons = [];\n        var lats = [];\n        for (var i = 0; i < points.length; i++) {\n            var lonlat = (0, proj_js_1.transform)(points[i], adhere_util_resource_1.default.Dict.value.ResourceGisEpsg4326.value, adhere_util_resource_1.default.Dict.value.ResourceGisEpsg3857.value);\n            // @ts-ignore\n            lons.push(lonlat[0]);\n            // @ts-ignore\n            lats.push(lonlat[1]);\n        }\n        var leftTop = [Math.min.apply(Math, lons), Math.min.apply(Math, lats)];\n        var rightBottom = [Math.max.apply(Math, lons), Math.max.apply(Math, lats)];\n        return {\n            leftTop: leftTop,\n            rightBottom: rightBottom,\n        };\n    },\n    /**\n     * getFlatternDistance - 计算连个经纬度之间的距离(m)\n     * approx distance between two points on earth ellipsoid\n     * @param {Object} lat1\n     * @param {Object} lng1\n     * @param {Object} lat2\n     * @param {Object} lng2\n     */\n    getFlatternDistance: function (lat1, lng1, lat2, lng2) {\n        var f = this.getRad((lat1 + lat2) / 2);\n        var g = this.getRad((lat1 - lat2) / 2);\n        var l = this.getRad((lng1 - lng2) / 2);\n        var a = EARTH_RADIUS;\n        var fl = 1 / 298.257;\n        var sg = Math.sin(g);\n        var sl = Math.sin(l);\n        var sf = Math.sin(f);\n        sg *= sg;\n        sl *= sl;\n        sf *= sf;\n        var s = sg * (1 - sl) + (1 - sf) * sl;\n        var c = (1 - sg) * (1 - sl) + sf * sl;\n        var w = Math.atan(Math.sqrt(s / c));\n        var r = Math.sqrt(s * c) / w;\n        var d = 2 * w * a;\n        var h1 = (3 * r - 1) / 2 / c;\n        var h2 = (3 * r + 1) / 2 / s;\n        return d * (1 + fl * (h1 * sf * (1 - sg) - h2 * (1 - sf) * sg));\n    },\n    /**\n     * wrapLon\n     * @param value\n     */\n    wrapLon: function (value) {\n        var worlds = Math.floor((value + 180) / 360);\n        return value - worlds * 360;\n    },\n    /**\n     * getMapExtent - 获取地图的矩形范围\n     * @param map\n     */\n    getMapExtent: function (map) {\n        if (!map)\n            return false;\n        var extent = map.getView().calculateExtent(map.getSize());\n        var bottomLeft = (0, proj_js_1.toLonLat)((0, extent_js_1.getBottomLeft)(extent));\n        var topRight = (0, proj_js_1.toLonLat)((0, extent_js_1.getTopRight)(extent));\n        var top = topRight[1];\n        var right = this.wrapLon(topRight[0]);\n        var left = this.wrapLon(bottomLeft[0]);\n        var bottom = bottomLeft[1];\n        return [\n            {\n                lon: left,\n                lat: top,\n            },\n            {\n                lon: right,\n                lat: top,\n            },\n            {\n                lon: right,\n                lat: bottom,\n            },\n            {\n                lon: left,\n                lat: bottom,\n            },\n            {\n                lon: left,\n                lat: top,\n            },\n        ];\n    },\n    /**\n     * getFeaturesInExtent\n     * @param map\n     * @param feature\n     */\n    getFeaturesInExtent: function (map, feature) {\n        var geometry = feature.getGeometry();\n        var extent = geometry.getExtent();\n        return map.getLayers().getArray()[1].getSource().getFeaturesInExtent(extent);\n    },\n    /**\n     * getLayersCount - 获取地图的Layers数量\n     * @param map\n     * @return {number}\n     */\n    getLayersCount: function (map) {\n        return map.getLayers().getLength();\n    },\n    rgb: function () {\n        //rgb颜色随机\n        var r = Math.floor(Math.random() * 256);\n        var g = Math.floor(Math.random() * 256);\n        var b = Math.floor(Math.random() * 256);\n        return '(' + r + ',' + g + ',' + b + ')';\n    },\n    color16: function () {\n        //十六进制颜色随机\n        var r = Math.floor(Math.random() * 256);\n        var g = Math.floor(Math.random() * 256);\n        var b = Math.floor(Math.random() * 256);\n        return '#' + r.toString(16) + g.toString(16) + b.toString(16);\n    },\n    getLineColor: function (index) {\n        var palette = [\n            'red',\n            'green',\n            'blue',\n            'yellow',\n            'gray',\n            '#0000cc',\n            '#99ffff',\n            '#000000',\n            '#003333',\n            '#ff6600',\n        ];\n        if (index >= 0 && index <= 9) {\n            return palette[index];\n        }\n        else {\n            return this.color16();\n        }\n    },\n    downLoadMap: function (map) {\n        map.once('postcompose', function (event) {\n            var canvas = event.context.canvas;\n            var dataURL = canvas.toDataURL();\n            var a = document.createElement('a');\n            var e = new MouseEvent('click');\n            a.download = 'map';\n            a.href = dataURL;\n            a.dispatchEvent(e);\n        });\n        map.renderSync();\n        // const exportOptions = {\n        //   filter: function(element) {\n        //     return element.className ? element.className.indexOf('bfd-list-table-wrapselect') === -1 : true;\n        //   }\n        // };\n        //\n        // map.once('postcompose', () => {\n        //   toPng(map.getTargetElement(), exportOptions)\n        //     .then((dataURL) => {\n        //       const a = document.createElement('a');\n        //       a.href = dataURL;\n        //       document.body.appendChild(a);\n        //       a.click();\n        //       a.parentElement.removeChild(a);\n        //     });\n        // });\n        // map.renderSync();\n    },\n};\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","__importDefault","default","Feature_js_1","exports","require","Map_1","Overlay_js_1","View_1","control_js_1","MousePosition_js_1","ScaleLine_js_1","Zoom_js_1","coordinate_1","extent_js_1","geom_1","Circle_1","LinearRing_1","Polygon_1","Draw_js_1","Modify_1","layer_js_1","proj_js_1","source_js_1","style_js_1","Text_1","uuid_1","adhere_util_resource_1","GeoLayer_1","TitleLayer","WindLayer_1","EARTH_RADIUS","Dict","ResourceGisEarthRadius","DEFAULT_COLOE","getMinZoom","target","width","clientWidth","Math","ceil","LOG2E","log","transformLonLat","point","transform","ResourceGisEpsg3857","ResourceGisEpsg4326","SHOWBASESTATION_MINZOOM","createMap","Config","config","fitZoom","_a","zoom","_b","minZoom","_c","maxZoom","ResourceGisMapMaxZoom","_d","center","ResourceGisXinbeiquCenterPoint","_e","extent","ResourceGisXinbeiquMapExtent","_f","layers","getOSMTileLayer","map","controls","defaults","attributionOptions","collapsible","extend","coordinateFormat","createStringXY","projection","pixelRatio","view","fromLonLat","transformExtent","boundingExtent","setTimeout","mapExtentTransform","resolution","getView","getResolutionForExtent","getZoomForResolution","setZoom","setOverlayState","overlay","setPosition","addClickListener","onClick","onPointerMove","mapInstance","listeningLayer","hitCallback","unHitCallback","setCursor","feature","un","evt","dragging","pixel","forEachFeatureAtPixel","layer","_","on","addHoverListener","onPointermove","inPixel","getEventPixel","originalEvent","getTarget","style","cursor","addGeoLayer","geojsonData","getStyleConfig","zIndex","geoLayer","addLayer","addWindLayer","data","windLayer","addVectorLayer","vectorSource","Vector","vectorLayer","source","createHeatMapLayer","layoutConfig","Heatmap","gradient","weight","shadow","blur","radius","drawCircle","color","strokeColor","strokeWidth","ResourceNormalMaxZIndex","id","v4","_g","propertys","f","geometry","setId","setStyle","Style","fill","Fill","stroke","Stroke","drawPolygon","points","drawCirclePoint","pos","fillOpt","strokeOpt","textOpt","text","_h","Point","image","Circle","textAlign","drawRegularShapePoint","others","RegularShape","drawImagePoint","src","opacity","scale","anchor","rotation","offset","offsetOrigin","size","Icon","createRegularPolygonCurve","origin","sides","r","angel","angle","PI","rotatedAngle","x","cos","y","sin","push","ring","poy","rotate","a","A","removeFeature","removeAllFeature","clear","removeAllOverlay","getOverlays","setMapCenterAnimate","duration","animate","drawLine","lineCap","lineJoin","line","LineString","createInteraction","onDrawStart","drawPolygonInteraction","addInteraction","polygonInteraction","freehand","onDrawEnd","other","type","getGeometry","lonlats","coordinates","getCoordinates","centerp","getCenter","transformCenterp","circleInteraction","drawCircleInteraction","getRadius","transformCenter","boxInteraction","drawBoxInteraction","geometryFunction","createBox","linStringInteraction","mileage","getLength","toFixed","createModifyInteraction","onModifyEnd","modifyInteraction","features","getArray","removeInteraction","interaction","removeInteractionAll","getInteractions","mapFit","option","fit","padding","constrainResolution","nearest","addArrowsSource","icon","arrows","start","end","dx","dy","atan2","arrow","rotateWithView","addArrowsOverlay","parentDom","degrees","div","document","createElement","className","appendChild","addOverlay","getRad","d","getExtentByCoordinates","lons","lats","sort","t1","t2","getExtentByVectorSource","getCectorSourceCoordinates","getFeatures","filter","getType","getExtent","getCenterByCoordinates","getCenterByPoints","lonlat","centerLon","min","max","centerLat","getPointsExtent","leftTop","rightBottom","getFlatternDistance","lat1","lng1","lat2","lng2","g","sg","sl","sf","c","w","atan","sqrt","wrapLon","floor","getMapExtent","bottomLeft","top","left","calculateExtent","getSize","toLonLat","getBottomLeft","topRight","getTopRight","right","lon","lat","bottom","getFeaturesInExtent","getLayers","getSource","getLayersCount","rgb","random","color16","b","toString","getLineColor","index","downLoadMap","once","event","dataURL","context","canvas","toDataURL","MouseEvent","download","href","dispatchEvent","renderSync"],"mappings":"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"}