{"version":3,"file":"splitlayout.js","sources":["splitlayout.js"],"sourcesContent":["import classNames from 'classnames';\nimport React, { memo, useContext, useLayoutEffect, useRef } from 'react';\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\nimport * as TRBLC from './TRBLC';\nvar FlexContext = FlexLayout.Context;\nvar flexLayoutSelectorPrefix = FlexLayout.selectorPrefix;\nvar directionProp = {\n    horizontal: {\n        page: 'pageX',\n        dimension: 'width',\n        offset: 'offsetWidth',\n    },\n    vertical: {\n        page: 'pageY',\n        dimension: 'height',\n        offset: 'offsetHeight',\n    },\n};\nvar selectorPrefix = 'adhere-ui-splitlayout';\n/**\n * toPoint - 百分数转化为小数\n * @param percent\n */\nfunction toPoint(percent) {\n    var str = Number(percent.replace('%', ''));\n    return str / 100;\n}\nvar SplitLayout = function (props) {\n    var _a = props.className, className = _a === void 0 ? '' : _a, _b = props.style, style = _b === void 0 ? {} : _b, _c = props.maxSize, maxSize = _c === void 0 ? '100%' : _c, _d = props.minSize, minSize = _d === void 0 ? 10 : _d, onCanDrag = props.onCanDrag, onDragStarted = props.onDragStarted, onDragFinished = props.onDragFinished, \n    // onOut,\n    onChange = props.onChange;\n    var direction = useContext(FlexContext).direction;\n    console.log('direction=====', direction);\n    var el = useRef(null);\n    var fixedEl = useRef(null);\n    var autoEl = useRef(null);\n    var containerEl = useRef();\n    var situation = useRef(new Map([\n        [\"\".concat(flexLayoutSelectorPrefix, \"-fixed_\").concat(flexLayoutSelectorPrefix, \"-auto\"), true],\n        [\"\".concat(flexLayoutSelectorPrefix, \"-auto_\").concat(flexLayoutSelectorPrefix, \"-fixed\"), true],\n    ]));\n    var isEnter = useRef(false);\n    var isOut = useRef(false);\n    var isDown = useRef(false);\n    var isMove = useRef(false);\n    var startVal = useRef(0);\n    var changeVal = useRef(0);\n    var changeBaseVal = useRef(0);\n    var fixedValue = useRef(0);\n    var maxDimension = useRef(0);\n    /**\n     * checked\n     */\n    function checked() {\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\n        var keys = Array.from(situation.current.keys());\n        return keys.some(function (key) {\n            var arr = key.split('_');\n            var prevKey = arr[0];\n            var nextKey = arr[1];\n            return ((previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(prevKey)) &&\n                (nextElementSibling === null || nextElementSibling === void 0 ? void 0 : nextElementSibling.classList.contains(nextKey)));\n        });\n    }\n    /**\n     * getFixedEl\n     */\n    function getFixedEl() {\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-fixed\")))\n            ? previousElementSibling\n            : nextElementSibling;\n    }\n    /**\n     * getAutoEl\n     */\n    function getAutoEl() {\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-auto\")))\n            ? previousElementSibling\n            : nextElementSibling;\n    }\n    /**\n     * getResizeClass\n     */\n    function getResizeClass() {\n        return direction === 'vertical' ? 'row-resize' : 'col-resize';\n    }\n    /**\n     * getProps\n     */\n    function getProps() {\n        return directionProp[direction];\n    }\n    function getFixedElPosition() {\n        var previousElementSibling = el.current.previousElementSibling;\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-fixed\")))\n            ? 'prev'\n            : 'next';\n    }\n    /**\n     * getMaxDimension\n     */\n    function getMaxDimension() {\n        if (maxDimension.current) {\n            return maxDimension.current;\n        }\n        var fixedEl = getFixedEl();\n        var autoEl = getAutoEl();\n        var offset = getProps().offset;\n        maxDimension.current = fixedEl[offset] + autoEl[offset];\n        return maxDimension.current;\n    }\n    function getMaxSize() {\n        var resultVal = 0;\n        var maxDimension = getMaxDimension();\n        if (typeof maxSize === 'string') {\n            resultVal = maxDimension * toPoint(maxSize);\n        }\n        else if (typeof maxSize === 'number') {\n            resultVal = maxSize;\n        }\n        return resultVal > maxDimension ? maxDimension : resultVal;\n    }\n    /**\n     * getMinSize\n     */\n    function getMinSize() {\n        var resultVal = 0;\n        var maxDimension = getMaxDimension();\n        var offset = getProps().offset;\n        var elSize = el[offset];\n        if (typeof minSize === 'string') {\n            resultVal = maxDimension * toPoint(minSize);\n        }\n        else if (typeof minSize === 'number') {\n            resultVal = minSize;\n        }\n        return resultVal < elSize ? elSize : resultVal;\n    }\n    function onMouseenter(e) {\n        var _a;\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\n        isOut.current = false;\n        isEnter.current = true;\n        onCanDrag && onCanDrag(e);\n    }\n    function onMousedown(e) {\n        var _a, _b;\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.remove(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\n        if (isEnter.current) {\n            isDown.current = true;\n            startVal.current = e[getProps().page];\n            fixedValue.current = (_b = fixedEl.current) === null || _b === void 0 ? void 0 : _b[getProps().offset];\n            onDragStarted && onDragStarted(e);\n        }\n    }\n    function onMouseup(e) {\n        var _a;\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\n        if (isDown.current) {\n            isDown.current = false;\n            isMove.current = false;\n            isEnter.current = !isOut;\n            startVal.current = 0;\n            changeBaseVal.current = changeBaseVal.current + changeVal.current;\n            onDragFinished && onDragFinished(e);\n        }\n    }\n    function onMouseleave(e) {\n        if (isDown.current) {\n            isDown.current = false;\n            isMove.current = false;\n            isEnter.current = false;\n            startVal.current = 0;\n            changeBaseVal.current += changeVal.current;\n            onDragFinished && onDragFinished(e);\n        }\n    }\n    function onMousemove(e) {\n        if (isEnter.current && isDown.current) {\n            isMove.current = true;\n            var end = e[getProps().page];\n            changeVal.current = end - startVal.current;\n            var position = getFixedElPosition();\n            var computedValue = position === 'prev'\n                ? fixedValue.current + changeVal.current\n                : fixedValue.current - changeVal.current;\n            var targetValue = void 0;\n            var maxSize_1 = getMaxSize();\n            var minSize_1 = getMinSize();\n            if (computedValue >= maxSize_1 || computedValue <= minSize_1) {\n                if (computedValue >= maxSize_1) {\n                    targetValue = maxSize_1;\n                }\n                else {\n                    if (computedValue <= minSize_1) {\n                        targetValue = minSize_1;\n                    }\n                }\n            }\n            else {\n                targetValue = computedValue;\n            }\n            fixedEl.current.style[getProps().dimension] = \"\".concat(targetValue, \"px\");\n            onChange && onChange(e);\n        }\n    }\n    function onMouseout(e) {\n        isOut.current = true;\n        if (!isDown.current) {\n            isEnter.current = false;\n            onChange && onChange(e);\n        }\n    }\n    function initEvents() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23;\n        (_b = (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener) === null || _b === void 0 ? void 0 : _b.call(_a, 'mouseenter', onMouseenter);\n        (_d = (_c = el.current) === null || _c === void 0 ? void 0 : _c.addEventListener) === null || _d === void 0 ? void 0 : _d.call(_c, 'mouseenter', onMouseenter);\n        (_f = (_e = el.current) === null || _e === void 0 ? void 0 : _e.removeEventListener) === null || _f === void 0 ? void 0 : _f.call(_e, 'mousedown', onMousedown);\n        (_h = (_g = el.current) === null || _g === void 0 ? void 0 : _g.addEventListener) === null || _h === void 0 ? void 0 : _h.call(_g, 'mousedown', onMousedown);\n        (_k = (_j = fixedEl.current) === null || _j === void 0 ? void 0 : _j.removeEventListener) === null || _k === void 0 ? void 0 : _k.call(_j, 'mousemove', onMousemove);\n        (_m = (_l = el.current) === null || _l === void 0 ? void 0 : _l.removeEventListener) === null || _m === void 0 ? void 0 : _m.call(_l, 'mousemove', onMousemove);\n        (_p = (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener) === null || _p === void 0 ? void 0 : _p.call(_o, 'mousemove', onMousemove);\n        (_r = (_q = fixedEl.current) === null || _q === void 0 ? void 0 : _q.addEventListener) === null || _r === void 0 ? void 0 : _r.call(_q, 'mousemove', onMousemove);\n        (_t = (_s = el.current) === null || _s === void 0 ? void 0 : _s.addEventListener) === null || _t === void 0 ? void 0 : _t.call(_s, 'mousemove', onMousemove);\n        (_v = (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.addEventListener) === null || _v === void 0 ? void 0 : _v.call(_u, 'mousemove', onMousemove);\n        (_x = (_w = fixedEl.current) === null || _w === void 0 ? void 0 : _w.removeEventListener) === null || _x === void 0 ? void 0 : _x.call(_w, 'mouseout', onMouseout);\n        (_z = (_y = el.current) === null || _y === void 0 ? void 0 : _y.removeEventListener) === null || _z === void 0 ? void 0 : _z.call(_y, 'mouseout', onMouseout);\n        (_1 = (_0 = autoEl.current) === null || _0 === void 0 ? void 0 : _0.removeEventListener) === null || _1 === void 0 ? void 0 : _1.call(_0, 'mouseout', onMouseout);\n        (_3 = (_2 = fixedEl.current) === null || _2 === void 0 ? void 0 : _2.addEventListener) === null || _3 === void 0 ? void 0 : _3.call(_2, 'mouseout', onMouseout);\n        (_5 = (_4 = el.current) === null || _4 === void 0 ? void 0 : _4.addEventListener) === null || _5 === void 0 ? void 0 : _5.call(_4, 'mouseout', onMouseout);\n        (_7 = (_6 = autoEl.current) === null || _6 === void 0 ? void 0 : _6.addEventListener) === null || _7 === void 0 ? void 0 : _7.call(_6, 'mouseout', onMouseout);\n        (_9 = (_8 = fixedEl.current) === null || _8 === void 0 ? void 0 : _8.removeEventListener) === null || _9 === void 0 ? void 0 : _9.call(_8, 'mouseup', onMouseup);\n        (_11 = (_10 = el.current) === null || _10 === void 0 ? void 0 : _10.removeEventListener) === null || _11 === void 0 ? void 0 : _11.call(_10, 'mouseup', onMouseup);\n        (_13 = (_12 = autoEl.current) === null || _12 === void 0 ? void 0 : _12.removeEventListener) === null || _13 === void 0 ? void 0 : _13.call(_12, 'mouseup', onMouseup);\n        (_15 = (_14 = fixedEl.current) === null || _14 === void 0 ? void 0 : _14.addEventListener) === null || _15 === void 0 ? void 0 : _15.call(_14, 'mouseup', onMouseup);\n        (_17 = (_16 = el.current) === null || _16 === void 0 ? void 0 : _16.addEventListener) === null || _17 === void 0 ? void 0 : _17.call(_16, 'mouseup', onMouseup);\n        (_19 = (_18 = autoEl.current) === null || _18 === void 0 ? void 0 : _18.addEventListener) === null || _19 === void 0 ? void 0 : _19.call(_18, 'mouseup', onMouseup);\n        (_21 = (_20 = containerEl.current) === null || _20 === void 0 ? void 0 : _20.removeEventListener) === null || _21 === void 0 ? void 0 : _21.call(_20, 'mouseleave', onMouseleave);\n        (_23 = (_22 = containerEl.current) === null || _22 === void 0 ? void 0 : _22.addEventListener) === null || _23 === void 0 ? void 0 : _23.call(_22, 'mouseleave', onMouseleave);\n    }\n    function removeEvents() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7, _8, _9, _10, _11, _12, _13, _14, _15, _16, _17, _18, _19, _20, _21, _22, _23;\n        (_b = (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener) === null || _b === void 0 ? void 0 : _b.call(_a, 'mouseenter', onMouseenter);\n        (_d = (_c = el.current) === null || _c === void 0 ? void 0 : _c.removeEventListener) === null || _d === void 0 ? void 0 : _d.call(_c, 'mouseenter', onMouseenter);\n        (_f = (_e = el.current) === null || _e === void 0 ? void 0 : _e.removeEventListener) === null || _f === void 0 ? void 0 : _f.call(_e, 'mousedown', onMousedown);\n        (_h = (_g = el.current) === null || _g === void 0 ? void 0 : _g.removeEventListener) === null || _h === void 0 ? void 0 : _h.call(_g, 'mousedown', onMousedown);\n        (_k = (_j = fixedEl.current) === null || _j === void 0 ? void 0 : _j.removeEventListener) === null || _k === void 0 ? void 0 : _k.call(_j, 'mousemove', onMousemove);\n        (_m = (_l = el.current) === null || _l === void 0 ? void 0 : _l.removeEventListener) === null || _m === void 0 ? void 0 : _m.call(_l, 'mousemove', onMousemove);\n        (_p = (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener) === null || _p === void 0 ? void 0 : _p.call(_o, 'mousemove', onMousemove);\n        (_r = (_q = fixedEl.current) === null || _q === void 0 ? void 0 : _q.removeEventListener) === null || _r === void 0 ? void 0 : _r.call(_q, 'mousemove', onMousemove);\n        (_t = (_s = el.current) === null || _s === void 0 ? void 0 : _s.removeEventListener) === null || _t === void 0 ? void 0 : _t.call(_s, 'mousemove', onMousemove);\n        (_v = (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.removeEventListener) === null || _v === void 0 ? void 0 : _v.call(_u, 'mousemove', onMousemove);\n        (_x = (_w = fixedEl.current) === null || _w === void 0 ? void 0 : _w.removeEventListener) === null || _x === void 0 ? void 0 : _x.call(_w, 'mouseout', onMouseout);\n        (_z = (_y = el.current) === null || _y === void 0 ? void 0 : _y.removeEventListener) === null || _z === void 0 ? void 0 : _z.call(_y, 'mouseout', onMouseout);\n        (_1 = (_0 = autoEl.current) === null || _0 === void 0 ? void 0 : _0.removeEventListener) === null || _1 === void 0 ? void 0 : _1.call(_0, 'mouseout', onMouseout);\n        (_3 = (_2 = fixedEl.current) === null || _2 === void 0 ? void 0 : _2.removeEventListener) === null || _3 === void 0 ? void 0 : _3.call(_2, 'mouseout', onMouseout);\n        (_5 = (_4 = el.current) === null || _4 === void 0 ? void 0 : _4.removeEventListener) === null || _5 === void 0 ? void 0 : _5.call(_4, 'mouseout', onMouseout);\n        (_7 = (_6 = autoEl.current) === null || _6 === void 0 ? void 0 : _6.removeEventListener) === null || _7 === void 0 ? void 0 : _7.call(_6, 'mouseout', onMouseout);\n        (_9 = (_8 = fixedEl.current) === null || _8 === void 0 ? void 0 : _8.removeEventListener) === null || _9 === void 0 ? void 0 : _9.call(_8, 'mouseup', onMouseup);\n        (_11 = (_10 = el.current) === null || _10 === void 0 ? void 0 : _10.removeEventListener) === null || _11 === void 0 ? void 0 : _11.call(_10, 'mouseup', onMouseup);\n        (_13 = (_12 = autoEl.current) === null || _12 === void 0 ? void 0 : _12.removeEventListener) === null || _13 === void 0 ? void 0 : _13.call(_12, 'mouseup', onMouseup);\n        (_15 = (_14 = fixedEl.current) === null || _14 === void 0 ? void 0 : _14.removeEventListener) === null || _15 === void 0 ? void 0 : _15.call(_14, 'mouseup', onMouseup);\n        (_17 = (_16 = el.current) === null || _16 === void 0 ? void 0 : _16.removeEventListener) === null || _17 === void 0 ? void 0 : _17.call(_16, 'mouseup', onMouseup);\n        (_19 = (_18 = autoEl.current) === null || _18 === void 0 ? void 0 : _18.removeEventListener) === null || _19 === void 0 ? void 0 : _19.call(_18, 'mouseup', onMouseup);\n        (_21 = (_20 = containerEl.current) === null || _20 === void 0 ? void 0 : _20.removeEventListener) === null || _21 === void 0 ? void 0 : _21.call(_20, 'mouseleave', onMouseleave);\n        (_23 = (_22 = containerEl.current) === null || _22 === void 0 ? void 0 : _22.removeEventListener) === null || _23 === void 0 ? void 0 : _23.call(_22, 'mouseleave', onMouseleave);\n    }\n    useLayoutEffect(function () {\n        var _a;\n        if (checked()) {\n            fixedEl.current = getFixedEl();\n            autoEl.current = getAutoEl();\n            containerEl.current = (_a = el.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n            containerEl.current.classList.add(\"\".concat(selectorPrefix, \"-no-select\"));\n            initEvents();\n        }\n        return function () { return removeEvents(); };\n    }, []);\n    useLayoutEffect(function () {\n        if (checked()) {\n            isEnter.current = false;\n            isOut.current = false;\n            isDown.current = false;\n            isMove.current = false;\n            startVal.current = 0;\n            changeVal.current = 0;\n            changeBaseVal.current = 0;\n            fixedValue.current = 0;\n            maxDimension.current = 0;\n            fixedEl.current = getFixedEl();\n            autoEl.current = getAutoEl();\n            initEvents();\n        }\n        return function () { return removeEvents(); };\n    });\n    return (React.createElement(\"div\", { ref: el, className: classNames(selectorPrefix, \"\".concat(selectorPrefix, \"-\").concat(direction), className !== null && className !== void 0 ? className : ''), style: style !== null && style !== void 0 ? style : {} }));\n};\n// @ts-ignore\nvar SplitLayoutWrap = memo(SplitLayout);\nSplitLayoutWrap.TRBLC = TRBLC;\nexport default SplitLayoutWrap;\n"],"names":["classNames","React","memo","useContext","useLayoutEffect","useRef","FlexLayout","TRBLC","FlexContext","Context","flexLayoutSelectorPrefix","selectorPrefix","directionProp","horizontal","page","dimension","offset","vertical","toPoint","percent","Number","replace","SplitLayout","props","_a","className","_b","style","_c","maxSize","_d","minSize","onCanDrag","onDragStarted","onDragFinished","onChange","direction","el","console","log","fixedEl","autoEl","containerEl","situation","Map","concat","isEnter","isOut","isDown","isMove","startVal","changeVal","changeBaseVal","fixedValue","maxDimension","checked","current","previousElementSibling","nextElementSibling","Array","from","keys","some","key","arr","split","prevKey","nextKey","classList","contains","getFixedEl","getAutoEl","getResizeClass","getProps","getMaxDimension","onMouseenter","e","add","onMousedown","remove","onMouseup","onMouseleave","onMousemove","targetValue","resultVal","end","computedValue","maxSize_1","elSize","minSize_1","onMouseout","initEvents","_22","_23","removeEventListener","call","addEventListener","_f","_e","_h","_g","_k","_j","_m","_l","_p","_o","_r","_q","_t","_s","_v","_u","_x","_w","_z","_y","_1","_0","_3","_2","_5","_4","_7","_6","_9","_8","_11","_10","_13","_12","_15","_14","_17","_16","_19","_18","_21","_20","removeEvents","parentElement","createElement","ref","SplitLayoutWrap"],"mappings":"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"}