{"version":3,"file":"splitlayout.js","sources":["splitlayout.js"],"sourcesContent":["import classNames from 'classnames';\r\nimport React, { memo, useContext, useLayoutEffect, useRef } from 'react';\r\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\r\nvar FlexContext = FlexLayout.Context;\r\nvar flexLayoutSelectorPrefix = FlexLayout.selectorPrefix;\r\nvar directionProp = {\r\n    horizontal: {\r\n        page: 'pageX',\r\n        dimension: 'width',\r\n        offset: 'offsetWidth',\r\n    },\r\n    vertical: {\r\n        page: 'pageY',\r\n        dimension: 'height',\r\n        offset: 'offsetHeight',\r\n    },\r\n};\r\nvar selectorPrefix = 'adhere-ui-splitlayout';\r\n/**\r\n * toPoint - 百分数转化为小数\r\n * @param percent\r\n */\r\nfunction toPoint(percent) {\r\n    var str = Number(percent.replace('%', ''));\r\n    return str / 100;\r\n}\r\nvar SplitLayout = function (props) {\r\n    var _a = props.className, className = _a === void 0 ? '' : _a, _b = props.style, style = _b === void 0 ? {} : _b, _c = props.maxSize, maxSize = _c === void 0 ? '100%' : _c, _d = props.minSize, minSize = _d === void 0 ? 10 : _d, onCanDrag = props.onCanDrag, onDragStarted = props.onDragStarted, onDragFinished = props.onDragFinished, onOut = props.onOut, onChange = props.onChange;\r\n    var direction = useContext(FlexContext).direction;\r\n    var el = useRef(null);\r\n    var fixedEl = useRef();\r\n    var autoEl = useRef();\r\n    var containerEl = useRef();\r\n    var situation = useRef(new Map([\r\n        [flexLayoutSelectorPrefix + \"-fixed_\" + flexLayoutSelectorPrefix + \"-auto\", true],\r\n        [flexLayoutSelectorPrefix + \"-auto_\" + flexLayoutSelectorPrefix + \"-fixed\", true],\r\n    ]));\r\n    var isEnter = useRef(false);\r\n    var isOut = useRef(false);\r\n    var isDown = useRef(false);\r\n    var isMove = useRef(false);\r\n    var startVal = useRef(0);\r\n    var changeVal = useRef(0);\r\n    var changeBaseVal = useRef(0);\r\n    var fixedValue = useRef(0);\r\n    var maxDimension = useRef(0);\r\n    /**\r\n     * checked\r\n     */\r\n    function checked() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        var keys = Array.from(situation.current.keys());\r\n        return keys.some(function (key) {\r\n            var arr = key.split('_');\r\n            var prevKey = arr[0];\r\n            var nextKey = arr[1];\r\n            return ((previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(prevKey)) && (nextElementSibling === null || nextElementSibling === void 0 ? void 0 : nextElementSibling.classList.contains(nextKey)));\r\n        });\r\n    }\r\n    /**\r\n     * getFixedEl\r\n     */\r\n    function getFixedEl() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(flexLayoutSelectorPrefix + \"-fixed\")) ? previousElementSibling\r\n            : nextElementSibling;\r\n    }\r\n    /**\r\n     * getAutoEl\r\n     */\r\n    function getAutoEl() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(flexLayoutSelectorPrefix + \"-auto\")) ? previousElementSibling\r\n            : nextElementSibling;\r\n    }\r\n    /**\r\n     * getResizeClass\r\n     */\r\n    function getResizeClass() {\r\n        return direction === 'vertical' ? 'rowResize' : 'colResize';\r\n    }\r\n    /**\r\n     * getProps\r\n     */\r\n    function getProps() {\r\n        return directionProp[direction];\r\n    }\r\n    function getFixedElPosition() {\r\n        var previousElementSibling = el.current.previousElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(flexLayoutSelectorPrefix + \"-fixed\")) ? 'prev'\r\n            : 'next';\r\n    }\r\n    /**\r\n     * getMaxDimension\r\n     */\r\n    function getMaxDimension() {\r\n        if (maxDimension.current) {\r\n            return maxDimension.current;\r\n        }\r\n        var fixedEl = getFixedEl();\r\n        var autoEl = getAutoEl();\r\n        var offset = getProps().offset;\r\n        maxDimension.current = fixedEl[offset] + autoEl[offset];\r\n        return maxDimension.current;\r\n    }\r\n    function getMaxSize() {\r\n        var resultVal = 0;\r\n        var maxDimension = getMaxDimension();\r\n        if (typeof maxSize === 'string') {\r\n            resultVal = maxDimension * toPoint(maxSize);\r\n        }\r\n        else if (typeof maxSize === 'number') {\r\n            resultVal = maxSize;\r\n        }\r\n        return resultVal > maxDimension ? maxDimension : resultVal;\r\n    }\r\n    /**\r\n     * getMinSize\r\n     */\r\n    function getMinSize() {\r\n        var resultVal = 0;\r\n        var maxDimension = getMaxDimension();\r\n        var offset = getProps().offset;\r\n        var elSize = el[offset];\r\n        if (typeof minSize === 'string') {\r\n            resultVal = maxDimension * toPoint(minSize);\r\n        }\r\n        else if (typeof minSize === 'number') {\r\n            resultVal = minSize;\r\n        }\r\n        return resultVal < elSize ? elSize : resultVal;\r\n    }\r\n    function onMouseenter(e) {\r\n        var _a;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(selectorPrefix + \"-\" + getResizeClass());\r\n        isOut.current = false;\r\n        isEnter.current = true;\r\n        onCanDrag && onCanDrag(e);\r\n    }\r\n    function onMousedown(e) {\r\n        var _a, _b;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.remove(selectorPrefix + \"-\" + getResizeClass());\r\n        if (isEnter.current) {\r\n            isDown.current = true;\r\n            startVal.current = e[getProps().page];\r\n            fixedValue.current = (_b = fixedEl.current) === null || _b === void 0 ? void 0 : _b[getProps().offset];\r\n            onDragStarted && onDragStarted(e);\r\n        }\r\n    }\r\n    function onMouseup(e) {\r\n        var _a;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(selectorPrefix + \"-\" + getResizeClass());\r\n        if (isDown.current) {\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            isEnter.current = !isOut;\r\n            startVal.current = 0;\r\n            changeBaseVal.current = changeBaseVal.current + changeVal.current;\r\n            onDragFinished && onDragFinished(e);\r\n        }\r\n    }\r\n    function onMouseleave(e) {\r\n        if (isDown.current) {\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            isEnter.current = false;\r\n            startVal.current = 0;\r\n            changeBaseVal.current += changeVal.current;\r\n            onDragFinished && onDragFinished(e);\r\n        }\r\n    }\r\n    function onMousemove(e) {\r\n        if (isEnter.current && isDown.current) {\r\n            isMove.current = true;\r\n            var end = e[getProps().page];\r\n            changeVal.current = end - startVal.current;\r\n            var position = getFixedElPosition();\r\n            var computedValue = position === 'prev'\r\n                ? fixedValue.current + changeVal.current\r\n                : fixedValue.current - changeVal.current;\r\n            var targetValue = void 0;\r\n            var maxSize_1 = getMaxSize();\r\n            var minSize_1 = getMinSize();\r\n            if (computedValue >= maxSize_1 || computedValue <= minSize_1) {\r\n                if (computedValue >= maxSize_1) {\r\n                    targetValue = maxSize_1;\r\n                }\r\n                else {\r\n                    if (computedValue <= minSize_1) {\r\n                        targetValue = minSize_1;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                targetValue = computedValue;\r\n            }\r\n            fixedEl.current.style[getProps().dimension] = targetValue + \"px\";\r\n            onChange && onChange(e);\r\n        }\r\n    }\r\n    function onMouseout(e) {\r\n        isOut.current = true;\r\n        if (!isDown.current) {\r\n            isEnter.current = false;\r\n            onChange && onChange(e);\r\n        }\r\n    }\r\n    function initEvents() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', onMouseenter);\r\n        (_b = el.current) === null || _b === void 0 ? void 0 : _b.addEventListener('mouseenter', onMouseenter);\r\n        (_c = el.current) === null || _c === void 0 ? void 0 : _c.removeEventListener('mousedown', onMousedown);\r\n        (_d = el.current) === null || _d === void 0 ? void 0 : _d.addEventListener('mousedown', onMousedown);\r\n        (_e = fixedEl.current) === null || _e === void 0 ? void 0 : _e.removeEventListener('mousemove', onMousemove);\r\n        (_f = el.current) === null || _f === void 0 ? void 0 : _f.removeEventListener('mousemove', onMousemove);\r\n        (_g = autoEl.current) === null || _g === void 0 ? void 0 : _g.removeEventListener('mousemove', onMousemove);\r\n        (_h = fixedEl.current) === null || _h === void 0 ? void 0 : _h.addEventListener('mousemove', onMousemove);\r\n        (_j = el.current) === null || _j === void 0 ? void 0 : _j.addEventListener('mousemove', onMousemove);\r\n        (_k = autoEl.current) === null || _k === void 0 ? void 0 : _k.addEventListener('mousemove', onMousemove);\r\n        (_l = fixedEl.current) === null || _l === void 0 ? void 0 : _l.removeEventListener('mouseout', onMouseout);\r\n        (_m = el.current) === null || _m === void 0 ? void 0 : _m.removeEventListener('mouseout', onMouseout);\r\n        (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener('mouseout', onMouseout);\r\n        (_p = fixedEl.current) === null || _p === void 0 ? void 0 : _p.addEventListener('mouseout', onMouseout);\r\n        (_q = el.current) === null || _q === void 0 ? void 0 : _q.addEventListener('mouseout', onMouseout);\r\n        (_r = autoEl.current) === null || _r === void 0 ? void 0 : _r.addEventListener('mouseout', onMouseout);\r\n        (_s = fixedEl.current) === null || _s === void 0 ? void 0 : _s.removeEventListener('mouseup', onMouseup);\r\n        (_t = el.current) === null || _t === void 0 ? void 0 : _t.removeEventListener('mouseup', onMouseup);\r\n        (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.removeEventListener('mouseup', onMouseup);\r\n        (_v = fixedEl.current) === null || _v === void 0 ? void 0 : _v.addEventListener('mouseup', onMouseup);\r\n        (_w = el.current) === null || _w === void 0 ? void 0 : _w.addEventListener('mouseup', onMouseup);\r\n        (_x = autoEl.current) === null || _x === void 0 ? void 0 : _x.addEventListener('mouseup', onMouseup);\r\n        (_y = containerEl.current) === null || _y === void 0 ? void 0 : _y.removeEventListener('mouseleave', onMouseleave);\r\n        (_z = containerEl.current) === null || _z === void 0 ? void 0 : _z.addEventListener('mouseleave', onMouseleave);\r\n    }\r\n    function removeEvents() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', onMouseenter);\r\n        (_b = el.current) === null || _b === void 0 ? void 0 : _b.removeEventListener('mouseenter', onMouseenter);\r\n        (_c = el.current) === null || _c === void 0 ? void 0 : _c.removeEventListener('mousedown', onMousedown);\r\n        (_d = el.current) === null || _d === void 0 ? void 0 : _d.removeEventListener('mousedown', onMousedown);\r\n        (_e = fixedEl.current) === null || _e === void 0 ? void 0 : _e.removeEventListener('mousemove', onMousemove);\r\n        (_f = el.current) === null || _f === void 0 ? void 0 : _f.removeEventListener('mousemove', onMousemove);\r\n        (_g = autoEl.current) === null || _g === void 0 ? void 0 : _g.removeEventListener('mousemove', onMousemove);\r\n        (_h = fixedEl.current) === null || _h === void 0 ? void 0 : _h.removeEventListener('mousemove', onMousemove);\r\n        (_j = el.current) === null || _j === void 0 ? void 0 : _j.removeEventListener('mousemove', onMousemove);\r\n        (_k = autoEl.current) === null || _k === void 0 ? void 0 : _k.removeEventListener('mousemove', onMousemove);\r\n        (_l = fixedEl.current) === null || _l === void 0 ? void 0 : _l.removeEventListener('mouseout', onMouseout);\r\n        (_m = el.current) === null || _m === void 0 ? void 0 : _m.removeEventListener('mouseout', onMouseout);\r\n        (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener('mouseout', onMouseout);\r\n        (_p = fixedEl.current) === null || _p === void 0 ? void 0 : _p.removeEventListener('mouseout', onMouseout);\r\n        (_q = el.current) === null || _q === void 0 ? void 0 : _q.removeEventListener('mouseout', onMouseout);\r\n        (_r = autoEl.current) === null || _r === void 0 ? void 0 : _r.removeEventListener('mouseout', onMouseout);\r\n        (_s = fixedEl.current) === null || _s === void 0 ? void 0 : _s.removeEventListener('mouseup', onMouseup);\r\n        (_t = el.current) === null || _t === void 0 ? void 0 : _t.removeEventListener('mouseup', onMouseup);\r\n        (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.removeEventListener('mouseup', onMouseup);\r\n        (_v = fixedEl.current) === null || _v === void 0 ? void 0 : _v.removeEventListener('mouseup', onMouseup);\r\n        (_w = el.current) === null || _w === void 0 ? void 0 : _w.removeEventListener('mouseup', onMouseup);\r\n        (_x = autoEl.current) === null || _x === void 0 ? void 0 : _x.removeEventListener('mouseup', onMouseup);\r\n        (_y = containerEl.current) === null || _y === void 0 ? void 0 : _y.removeEventListener('mouseleave', onMouseleave);\r\n        (_z = containerEl.current) === null || _z === void 0 ? void 0 : _z.removeEventListener('mouseleave', onMouseleave);\r\n    }\r\n    useLayoutEffect(function () {\r\n        var _a;\r\n        if (checked()) {\r\n            fixedEl.current = getFixedEl();\r\n            autoEl.current = getAutoEl();\r\n            containerEl.current = (_a = el.current) === null || _a === void 0 ? void 0 : _a.parentElement;\r\n            containerEl.current.classList.add(selectorPrefix + \"-noSelect\");\r\n            initEvents();\r\n        }\r\n        return function () { return removeEvents(); };\r\n    }, []);\r\n    useLayoutEffect(function () {\r\n        if (checked()) {\r\n            isEnter.current = false;\r\n            isOut.current = false;\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            startVal.current = 0;\r\n            changeVal.current = 0;\r\n            changeBaseVal.current = 0;\r\n            fixedValue.current = 0;\r\n            maxDimension.current = 0;\r\n            fixedEl.current = getFixedEl();\r\n            autoEl.current = getAutoEl();\r\n            initEvents();\r\n        }\r\n        return function () { return removeEvents(); };\r\n    });\r\n    return (React.createElement(\"div\", { ref: el, className: classNames(selectorPrefix, selectorPrefix + \"-\" + direction, className || ''), style: style || {} }));\r\n};\r\nexport default memo(SplitLayout);\r\n"],"names":["classNames","React","memo","useContext","useLayoutEffect","useRef","FlexLayout","FlexContext","Context","flexLayoutSelectorPrefix","selectorPrefix","directionProp","horizontal","page","dimension","offset","vertical","toPoint","percent","Number","replace","SplitLayout","props","_a","className","_b","style","_c","maxSize","_d","minSize","onCanDrag","onDragStarted","onDragFinished","onChange","onOut","direction","el","fixedEl","autoEl","containerEl","situation","Map","isEnter","isOut","isDown","isMove","startVal","changeVal","changeBaseVal","fixedValue","maxDimension","checked","current","previousElementSibling","nextElementSibling","Array","from","keys","some","key","arr","split","prevKey","nextKey","classList","contains","getFixedEl","getAutoEl","getResizeClass","getProps","getMaxDimension","onMouseenter","e","add","onMousedown","remove","onMouseup","onMouseleave","onMousemove","targetValue","resultVal","end","computedValue","maxSize_1","elSize","minSize_1","onMouseout","initEvents","_z","removeEventListener","addEventListener","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","removeEvents","parentElement","createElement","ref"],"mappings":"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"}