{"version":3,"file":"splitlayout.js","sources":["splitlayout.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar adhere_ui_flexlayout_1 = __importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\r\nvar FlexContext = adhere_ui_flexlayout_1.default.Context;\r\n// @ts-ignore\r\nvar flexlayoutSelectorPrefix = adhere_ui_flexlayout_1.default.selectorPrefix;\r\nvar selectorPrefix = 'adhere-ui-splitlayout';\r\n/**\r\n * toPoint - 百分数转化为小数\r\n * @param percent\r\n */\r\nfunction toPoint(percent) {\r\n    var str = percent.replace('%', '');\r\n    // @ts-ignore\r\n    return str / 100;\r\n}\r\n/**\r\n * SplitLayout\r\n * @class SplitLayout\r\n * @classdesc SplitLayout\r\n */\r\nvar SplitLayout = /** @class */ (function (_super) {\r\n    __extends(SplitLayout, _super);\r\n    function SplitLayout() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.situation = new Map([\r\n            [flexlayoutSelectorPrefix + \"-fixed_\" + flexlayoutSelectorPrefix + \"-auto\", true],\r\n            [flexlayoutSelectorPrefix + \"-auto_\" + flexlayoutSelectorPrefix + \"-fixed\", true],\r\n        ]);\r\n        _this.directionProp = {\r\n            horizontal: {\r\n                page: 'pageX',\r\n                dimension: 'width',\r\n                offset: 'offsetWidth',\r\n            },\r\n            vertical: {\r\n                page: 'pageY',\r\n                dimension: 'height',\r\n                offset: 'offsetHeight',\r\n            },\r\n        };\r\n        _this.isEnter = false;\r\n        _this.isOut = false;\r\n        _this.isDown = false;\r\n        _this.isMove = false;\r\n        _this.startVal = 0;\r\n        _this.changeVal = 0;\r\n        _this.changeBaseVal = 0;\r\n        _this.fixedValue = 0;\r\n        _this.maxDimension = 0;\r\n        _this.onMouseenter = function (e) {\r\n            // console.log('mouseenter');\r\n            var _a = _this, splitEl = _a.el, \r\n            // @ts-ignore\r\n            onCanDrag = _a.props.onCanDrag;\r\n            // @ts-ignore\r\n            splitEl.classList.add(selectorPrefix + \"-\" + _this.getResizeClass());\r\n            _this.isOut = false;\r\n            _this.isEnter = true;\r\n            if (onCanDrag) {\r\n                onCanDrag(e);\r\n            }\r\n        };\r\n        _this.onMousedown = function (e) {\r\n            // console.log('mousedown');\r\n            var _a = _this, splitEl = _a.el, fixedEl = _a.fixedEl, \r\n            // @ts-ignore\r\n            onDragStarted = _a.props.onDragStarted;\r\n            // @ts-ignore\r\n            splitEl.classList.remove(selectorPrefix + \"-\" + _this.getResizeClass());\r\n            if (_this.isEnter) {\r\n                _this.isDown = true;\r\n                _this.startVal = e[_this.getProps().page];\r\n                // @ts-ignore\r\n                _this.fixedValue = fixedEl[_this.getProps().offset];\r\n                if (onDragStarted) {\r\n                    onDragStarted(e);\r\n                }\r\n            }\r\n        };\r\n        _this.onMouseup = function (e) {\r\n            // console.log('mouseup');\r\n            var splitEl = _this.el;\r\n            // @ts-ignore\r\n            splitEl.classList.add(selectorPrefix + \"-\" + _this.getResizeClass());\r\n            if (_this.isDown) {\r\n                // @ts-ignore\r\n                var onDragFinished = _this.props.onDragFinished;\r\n                _this.isDown = false;\r\n                _this.isMove = false;\r\n                _this.isEnter = !_this.isOut;\r\n                _this.startVal = 0;\r\n                _this.changeBaseVal += _this.changeVal;\r\n                if (onDragFinished) {\r\n                    onDragFinished(e);\r\n                }\r\n            }\r\n        };\r\n        _this.onMouseleave = function (e) {\r\n            // console.log('onMouseleave');\r\n            if (_this.isDown) {\r\n                // @ts-ignore\r\n                var onDragFinished = _this.props.onDragFinished;\r\n                _this.isDown = false;\r\n                _this.isMove = false;\r\n                _this.isEnter = false;\r\n                _this.startVal = 0;\r\n                _this.changeBaseVal += _this.changeVal;\r\n                if (onDragFinished) {\r\n                    onDragFinished(e);\r\n                }\r\n            }\r\n        };\r\n        _this.onMousemove = function (e) {\r\n            // e.stopPropagation();\r\n            // @ts-ignore\r\n            var onChange = _this.props.onChange;\r\n            // console.log(this.isEnter, this.isDown);\r\n            if (_this.isEnter && _this.isDown) {\r\n                _this.isMove = true;\r\n                var end = e[_this.getProps().page];\r\n                _this.changeVal = end - _this.startVal;\r\n                var position = _this.getFixedElPosition();\r\n                var computedValue = position === 'prev' ? _this.fixedValue + _this.changeVal : _this.fixedValue - _this.changeVal;\r\n                var targetValue = void 0;\r\n                var maxSize = _this.getMaxSize();\r\n                var minSize = _this.getMinSize();\r\n                // @ts-ignore\r\n                if (computedValue >= maxSize || computedValue <= minSize) {\r\n                    // @ts-ignore\r\n                    if (computedValue >= maxSize) {\r\n                        targetValue = maxSize;\r\n                    }\r\n                    else {\r\n                        // @ts-ignore\r\n                        if (computedValue <= minSize) {\r\n                            targetValue = minSize;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    targetValue = computedValue;\r\n                }\r\n                // @ts-ignore\r\n                _this.fixedEl.style[_this.getProps().dimension] = targetValue + \"px\";\r\n                if (onChange) {\r\n                    onChange(e);\r\n                }\r\n            }\r\n        };\r\n        _this.onMouseout = function (e) {\r\n            // console.log('onMouseout');\r\n            _this.isOut = true;\r\n            if (!_this.isDown) {\r\n                // split.style.cursor = 'default';\r\n                _this.isEnter = false;\r\n                // @ts-ignore\r\n                var onChange = _this.props.onChange;\r\n                if (onChange) {\r\n                    onChange(e);\r\n                }\r\n            }\r\n        };\r\n        _this.renderInner = function (_a) {\r\n            var direction = _a.direction;\r\n            // console.log('renderInner-direction',direction);\r\n            _this.direction = direction;\r\n            // @ts-ignore\r\n            var _b = _this.props, className = _b.className, style = _b.style;\r\n            return (react_1.default.createElement(\"div\", { ref: function (el) { return (_this.el = el); }, style: __assign({}, style), className: classnames_1.default(selectorPrefix, selectorPrefix + \"-\" + direction, className.split(/\\s+/)) }));\r\n        };\r\n        return _this;\r\n    }\r\n    SplitLayout.prototype.componentDidMount = function () {\r\n        var _a;\r\n        if (this.checked()) {\r\n            this.fixedEl = this.getFixedEl();\r\n            this.autoEl = this.getAutoEl();\r\n            // @ts-ignore\r\n            this.containerEl = this.el.parentElement;\r\n            (_a = this.containerEl) === null || _a === void 0 ? void 0 : _a.classList.add(selectorPrefix + \"-noSelect\");\r\n            this.initEvents();\r\n        }\r\n    };\r\n    SplitLayout.prototype.componentDidUpdate = function () {\r\n        if (this.checked()) {\r\n            this.isEnter = false;\r\n            this.isOut = false;\r\n            this.isDown = false;\r\n            this.isMove = false;\r\n            this.startVal = 0;\r\n            this.changeVal = 0;\r\n            this.changeBaseVal = 0;\r\n            this.fixedValue = 0;\r\n            this.maxDimension = 0;\r\n            this.fixedEl = this.getFixedEl();\r\n            this.autoEl = this.getAutoEl();\r\n            this.initEvents();\r\n        }\r\n    };\r\n    /**\r\n     * checked\r\n     */\r\n    SplitLayout.prototype.checked = function () {\r\n        // @ts-ignore\r\n        var _a = this.el, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        var keys = Array.from(this.situation.keys());\r\n        return keys.some(function (key) {\r\n            var arr = key.split('_');\r\n            var prevKey = arr[0];\r\n            var nextKey = arr[1];\r\n            // console.log('prevKey', prevKey);\r\n            // console.log('nextKey', nextKey);\r\n            // console.log('previousElementSibling', previousElementSibling);\r\n            // console.log('nextElementSibling', nextElementSibling);\r\n            return (previousElementSibling.classList.contains(prevKey) &&\r\n                nextElementSibling.classList.contains(nextKey));\r\n        });\r\n    };\r\n    /**\r\n     * getFixedEl\r\n     */\r\n    SplitLayout.prototype.getFixedEl = function () {\r\n        // @ts-ignore\r\n        var _a = this.el, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return previousElementSibling.classList.contains(flexlayoutSelectorPrefix + \"-fixed\")\r\n            ? previousElementSibling\r\n            : nextElementSibling;\r\n    };\r\n    /**\r\n     * getAutoEl\r\n     */\r\n    SplitLayout.prototype.getAutoEl = function () {\r\n        // @ts-ignore\r\n        var _a = this.el, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return previousElementSibling.classList.contains(flexlayoutSelectorPrefix + \"-auto\")\r\n            ? previousElementSibling\r\n            : nextElementSibling;\r\n    };\r\n    /**\r\n     * getFixedElPosition\r\n     */\r\n    SplitLayout.prototype.getFixedElPosition = function () {\r\n        // @ts-ignore\r\n        var previousElementSibling = this.el.previousElementSibling;\r\n        return previousElementSibling.classList.contains(flexlayoutSelectorPrefix + \"-fixed\")\r\n            ? 'prev'\r\n            : 'next';\r\n    };\r\n    /**\r\n     * getMaxDimension\r\n     */\r\n    SplitLayout.prototype.getMaxDimension = function () {\r\n        if (this.maxDimension) {\r\n            return this.maxDimension;\r\n        }\r\n        var fixedEl = this.getFixedEl();\r\n        var autoEl = this.getAutoEl();\r\n        // @ts-ignore\r\n        var offset = this.getProps().offset;\r\n        // @ts-ignore\r\n        this.maxDimension = fixedEl[offset] + autoEl[offset];\r\n        return this.maxDimension;\r\n    };\r\n    /**\r\n     * getResizeClass\r\n     */\r\n    SplitLayout.prototype.getResizeClass = function () {\r\n        var direction = this.direction;\r\n        return direction === 'vertical' ? 'rowResize' : 'colResize';\r\n    };\r\n    /**\r\n     * getProps\r\n     */\r\n    SplitLayout.prototype.getProps = function () {\r\n        // @ts-ignore\r\n        return this.directionProp[this.direction];\r\n    };\r\n    /**\r\n     * getMaxSize\r\n     */\r\n    SplitLayout.prototype.getMaxSize = function () {\r\n        // @ts-ignore\r\n        var maxSize = this.props.maxSize;\r\n        var resultVal = 0;\r\n        var maxDimension = this.getMaxDimension();\r\n        if (typeof maxSize === 'string') {\r\n            resultVal = maxDimension * toPoint(maxSize);\r\n        }\r\n        else if (typeof maxSize === 'number') {\r\n            resultVal = maxSize;\r\n        }\r\n        return resultVal > maxDimension ? maxDimension : resultVal;\r\n    };\r\n    /**\r\n     * getMinSize\r\n     */\r\n    SplitLayout.prototype.getMinSize = function () {\r\n        // @ts-ignore\r\n        var minSize = this.props.minSize;\r\n        var resultVal = 0;\r\n        var maxDimension = this.getMaxDimension();\r\n        var offset = this.getProps().offset;\r\n        // @ts-ignore\r\n        var elSize = this.el[offset];\r\n        if (typeof minSize === 'string') {\r\n            resultVal = maxDimension * toPoint(minSize);\r\n        }\r\n        else if (typeof minSize === 'number') {\r\n            resultVal = minSize;\r\n        }\r\n        return resultVal < elSize ? elSize : resultVal;\r\n    };\r\n    SplitLayout.prototype.initEvents = function () {\r\n        var _a = this, fixedEl = _a.fixedEl, autoEl = _a.autoEl, containerEl = _a.containerEl;\r\n        var splitEl = this.el;\r\n        // @ts-ignore\r\n        this.el.removeEventListener('mouseenter', this.onMouseenter);\r\n        // @ts-ignore\r\n        this.el.addEventListener('mouseenter', this.onMouseenter);\r\n        // @ts-ignore\r\n        this.el.removeEventListener('mousedown', this.onMousedown);\r\n        // @ts-ignore\r\n        this.el.addEventListener('mousedown', this.onMousedown);\r\n        // @ts-ignore\r\n        fixedEl.removeEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        splitEl.removeEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        autoEl.removeEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        fixedEl.addEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        splitEl.addEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        autoEl.addEventListener('mousemove', this.onMousemove);\r\n        // @ts-ignore\r\n        fixedEl.removeEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        splitEl.removeEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        autoEl.removeEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        fixedEl.addEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        splitEl.addEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        autoEl.addEventListener('mouseout', this.onMouseout);\r\n        // @ts-ignore\r\n        fixedEl.removeEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        splitEl.removeEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        autoEl.removeEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        fixedEl.addEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        splitEl.addEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        autoEl.addEventListener('mouseup', this.onMouseup);\r\n        // @ts-ignore\r\n        containerEl.removeEventListener('mouseleave', this.onMouseleave);\r\n        // @ts-ignore\r\n        containerEl.addEventListener('mouseleave', this.onMouseleave);\r\n    };\r\n    SplitLayout.prototype.render = function () {\r\n        return react_1.default.createElement(FlexContext.Consumer, null, this.renderInner);\r\n    };\r\n    return SplitLayout;\r\n}(react_1.default.Component));\r\nSplitLayout.defaultProps = {\r\n    onCanDrag: function () { },\r\n    onDragStarted: function () { },\r\n    onDragFinished: function () { },\r\n    onOut: function () { },\r\n    onChange: function () { },\r\n    maxSize: '100%',\r\n    minSize: 10,\r\n    className: '',\r\n    style: {},\r\n};\r\nSplitLayout.propTypes = {\r\n    onCanDrag: prop_types_1.default.func,\r\n    onDragStarted: prop_types_1.default.func,\r\n    onDragFinished: prop_types_1.default.func,\r\n    onOut: prop_types_1.default.func,\r\n    onChange: prop_types_1.default.func,\r\n    maxSize: prop_types_1.default.oneOfType([prop_types_1.default.number, prop_types_1.default.string]),\r\n    minSize: prop_types_1.default.oneOfType([prop_types_1.default.number, prop_types_1.default.string]),\r\n    className: prop_types_1.default.string,\r\n    style: prop_types_1.default.object,\r\n};\r\nexports.default = SplitLayout;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__importDefault","mod","__esModule","default","defineProperty","exports","value","react_1","require","prop_types_1","classnames_1","adhere_ui_flexlayout_1","FlexContext","Context","flexlayoutSelectorPrefix","selectorPrefix","toPoint","percent","replace","SplitLayout","_super","_this","situation","Map","directionProp","horizontal","page","dimension","offset","vertical","isEnter","isOut","isDown","isMove","startVal","changeVal","changeBaseVal","fixedValue","maxDimension","onMouseenter","e","splitEl","el","onCanDrag","props","classList","add","getResizeClass","onMousedown","fixedEl","onDragStarted","remove","getProps","onMouseup","onDragFinished","onMouseleave","onMousemove","computedValue","targetValue","maxSize","minSize","onChange","end","getFixedElPosition","getMaxSize","getMinSize","style","onMouseout","renderInner","_a","direction","_b","className","createElement","ref","split","componentDidMount","checked","getFixedEl","autoEl","getAutoEl","containerEl","parentElement","initEvents","componentDidUpdate","previousElementSibling","nextElementSibling","from","keys","some","key","arr","prevKey","nextKey","contains","getMaxDimension","resultVal","elSize","removeEventListener","addEventListener","render","Consumer","Component","defaultProps","onOut","propTypes","func","oneOfType","number","string","object"],"mappings":"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"}