{"version":3,"file":"splitlayout.js","sources":["splitlayout.js"],"sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar adhere_ui_flexlayout_1 = __importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\r\nvar FlexContext = adhere_ui_flexlayout_1.default.Context;\r\nvar flexLayoutSelectorPrefix = adhere_ui_flexlayout_1.default.selectorPrefix;\r\nvar directionProp = {\r\n    horizontal: {\r\n        page: 'pageX',\r\n        dimension: 'width',\r\n        offset: 'offsetWidth',\r\n    },\r\n    vertical: {\r\n        page: 'pageY',\r\n        dimension: 'height',\r\n        offset: 'offsetHeight',\r\n    },\r\n};\r\nvar selectorPrefix = 'adhere-ui-splitlayout';\r\n/**\r\n * toPoint - 百分数转化为小数\r\n * @param percent\r\n */\r\nfunction toPoint(percent) {\r\n    var str = Number(percent.replace('%', ''));\r\n    return str / 100;\r\n}\r\nvar SplitLayout = function (props) {\r\n    var _a = props.className, className = _a === void 0 ? '' : _a, _b = props.style, style = _b === void 0 ? {} : _b, _c = props.maxSize, maxSize = _c === void 0 ? '100%' : _c, _d = props.minSize, minSize = _d === void 0 ? 10 : _d, onCanDrag = props.onCanDrag, onDragStarted = props.onDragStarted, onDragFinished = props.onDragFinished, onOut = props.onOut, onChange = props.onChange;\r\n    var direction = (0, react_1.useContext)(FlexContext).direction;\r\n    var el = (0, react_1.useRef)(null);\r\n    var fixedEl = (0, react_1.useRef)();\r\n    var autoEl = (0, react_1.useRef)();\r\n    var containerEl = (0, react_1.useRef)();\r\n    var situation = (0, react_1.useRef)(new Map([\r\n        [\"\".concat(flexLayoutSelectorPrefix, \"-fixed_\").concat(flexLayoutSelectorPrefix, \"-auto\"), true],\r\n        [\"\".concat(flexLayoutSelectorPrefix, \"-auto_\").concat(flexLayoutSelectorPrefix, \"-fixed\"), true],\r\n    ]));\r\n    var isEnter = (0, react_1.useRef)(false);\r\n    var isOut = (0, react_1.useRef)(false);\r\n    var isDown = (0, react_1.useRef)(false);\r\n    var isMove = (0, react_1.useRef)(false);\r\n    var startVal = (0, react_1.useRef)(0);\r\n    var changeVal = (0, react_1.useRef)(0);\r\n    var changeBaseVal = (0, react_1.useRef)(0);\r\n    var fixedValue = (0, react_1.useRef)(0);\r\n    var maxDimension = (0, react_1.useRef)(0);\r\n    /**\r\n     * checked\r\n     */\r\n    function checked() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        var keys = Array.from(situation.current.keys());\r\n        return keys.some(function (key) {\r\n            var arr = key.split('_');\r\n            var prevKey = arr[0];\r\n            var nextKey = arr[1];\r\n            return ((previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(prevKey)) &&\r\n                (nextElementSibling === null || nextElementSibling === void 0 ? void 0 : nextElementSibling.classList.contains(nextKey)));\r\n        });\r\n    }\r\n    /**\r\n     * getFixedEl\r\n     */\r\n    function getFixedEl() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-fixed\")))\r\n            ? previousElementSibling\r\n            : nextElementSibling;\r\n    }\r\n    /**\r\n     * getAutoEl\r\n     */\r\n    function getAutoEl() {\r\n        var _a = el.current, previousElementSibling = _a.previousElementSibling, nextElementSibling = _a.nextElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-auto\")))\r\n            ? previousElementSibling\r\n            : nextElementSibling;\r\n    }\r\n    /**\r\n     * getResizeClass\r\n     */\r\n    function getResizeClass() {\r\n        return direction === 'vertical' ? 'rowResize' : 'colResize';\r\n    }\r\n    /**\r\n     * getProps\r\n     */\r\n    function getProps() {\r\n        return directionProp[direction];\r\n    }\r\n    function getFixedElPosition() {\r\n        var previousElementSibling = el.current.previousElementSibling;\r\n        return (previousElementSibling === null || previousElementSibling === void 0 ? void 0 : previousElementSibling.classList.contains(\"\".concat(flexLayoutSelectorPrefix, \"-fixed\")))\r\n            ? 'prev'\r\n            : 'next';\r\n    }\r\n    /**\r\n     * getMaxDimension\r\n     */\r\n    function getMaxDimension() {\r\n        if (maxDimension.current) {\r\n            return maxDimension.current;\r\n        }\r\n        var fixedEl = getFixedEl();\r\n        var autoEl = getAutoEl();\r\n        var offset = getProps().offset;\r\n        maxDimension.current = fixedEl[offset] + autoEl[offset];\r\n        return maxDimension.current;\r\n    }\r\n    function getMaxSize() {\r\n        var resultVal = 0;\r\n        var maxDimension = getMaxDimension();\r\n        if (typeof maxSize === 'string') {\r\n            resultVal = maxDimension * toPoint(maxSize);\r\n        }\r\n        else if (typeof maxSize === 'number') {\r\n            resultVal = maxSize;\r\n        }\r\n        return resultVal > maxDimension ? maxDimension : resultVal;\r\n    }\r\n    /**\r\n     * getMinSize\r\n     */\r\n    function getMinSize() {\r\n        var resultVal = 0;\r\n        var maxDimension = getMaxDimension();\r\n        var offset = getProps().offset;\r\n        var elSize = el[offset];\r\n        if (typeof minSize === 'string') {\r\n            resultVal = maxDimension * toPoint(minSize);\r\n        }\r\n        else if (typeof minSize === 'number') {\r\n            resultVal = minSize;\r\n        }\r\n        return resultVal < elSize ? elSize : resultVal;\r\n    }\r\n    function onMouseenter(e) {\r\n        var _a;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\r\n        isOut.current = false;\r\n        isEnter.current = true;\r\n        onCanDrag && onCanDrag(e);\r\n    }\r\n    function onMousedown(e) {\r\n        var _a, _b;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.remove(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\r\n        if (isEnter.current) {\r\n            isDown.current = true;\r\n            startVal.current = e[getProps().page];\r\n            fixedValue.current = (_b = fixedEl.current) === null || _b === void 0 ? void 0 : _b[getProps().offset];\r\n            onDragStarted && onDragStarted(e);\r\n        }\r\n    }\r\n    function onMouseup(e) {\r\n        var _a;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.classList.add(\"\".concat(selectorPrefix, \"-\").concat(getResizeClass()));\r\n        if (isDown.current) {\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            isEnter.current = !isOut;\r\n            startVal.current = 0;\r\n            changeBaseVal.current = changeBaseVal.current + changeVal.current;\r\n            onDragFinished && onDragFinished(e);\r\n        }\r\n    }\r\n    function onMouseleave(e) {\r\n        if (isDown.current) {\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            isEnter.current = false;\r\n            startVal.current = 0;\r\n            changeBaseVal.current += changeVal.current;\r\n            onDragFinished && onDragFinished(e);\r\n        }\r\n    }\r\n    function onMousemove(e) {\r\n        if (isEnter.current && isDown.current) {\r\n            isMove.current = true;\r\n            var end = e[getProps().page];\r\n            changeVal.current = end - startVal.current;\r\n            var position = getFixedElPosition();\r\n            var computedValue = position === 'prev'\r\n                ? fixedValue.current + changeVal.current\r\n                : fixedValue.current - changeVal.current;\r\n            var targetValue = void 0;\r\n            var maxSize_1 = getMaxSize();\r\n            var minSize_1 = getMinSize();\r\n            if (computedValue >= maxSize_1 || computedValue <= minSize_1) {\r\n                if (computedValue >= maxSize_1) {\r\n                    targetValue = maxSize_1;\r\n                }\r\n                else {\r\n                    if (computedValue <= minSize_1) {\r\n                        targetValue = minSize_1;\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                targetValue = computedValue;\r\n            }\r\n            fixedEl.current.style[getProps().dimension] = \"\".concat(targetValue, \"px\");\r\n            onChange && onChange(e);\r\n        }\r\n    }\r\n    function onMouseout(e) {\r\n        isOut.current = true;\r\n        if (!isDown.current) {\r\n            isEnter.current = false;\r\n            onChange && onChange(e);\r\n        }\r\n    }\r\n    function initEvents() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', onMouseenter);\r\n        (_b = el.current) === null || _b === void 0 ? void 0 : _b.addEventListener('mouseenter', onMouseenter);\r\n        (_c = el.current) === null || _c === void 0 ? void 0 : _c.removeEventListener('mousedown', onMousedown);\r\n        (_d = el.current) === null || _d === void 0 ? void 0 : _d.addEventListener('mousedown', onMousedown);\r\n        (_e = fixedEl.current) === null || _e === void 0 ? void 0 : _e.removeEventListener('mousemove', onMousemove);\r\n        (_f = el.current) === null || _f === void 0 ? void 0 : _f.removeEventListener('mousemove', onMousemove);\r\n        (_g = autoEl.current) === null || _g === void 0 ? void 0 : _g.removeEventListener('mousemove', onMousemove);\r\n        (_h = fixedEl.current) === null || _h === void 0 ? void 0 : _h.addEventListener('mousemove', onMousemove);\r\n        (_j = el.current) === null || _j === void 0 ? void 0 : _j.addEventListener('mousemove', onMousemove);\r\n        (_k = autoEl.current) === null || _k === void 0 ? void 0 : _k.addEventListener('mousemove', onMousemove);\r\n        (_l = fixedEl.current) === null || _l === void 0 ? void 0 : _l.removeEventListener('mouseout', onMouseout);\r\n        (_m = el.current) === null || _m === void 0 ? void 0 : _m.removeEventListener('mouseout', onMouseout);\r\n        (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener('mouseout', onMouseout);\r\n        (_p = fixedEl.current) === null || _p === void 0 ? void 0 : _p.addEventListener('mouseout', onMouseout);\r\n        (_q = el.current) === null || _q === void 0 ? void 0 : _q.addEventListener('mouseout', onMouseout);\r\n        (_r = autoEl.current) === null || _r === void 0 ? void 0 : _r.addEventListener('mouseout', onMouseout);\r\n        (_s = fixedEl.current) === null || _s === void 0 ? void 0 : _s.removeEventListener('mouseup', onMouseup);\r\n        (_t = el.current) === null || _t === void 0 ? void 0 : _t.removeEventListener('mouseup', onMouseup);\r\n        (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.removeEventListener('mouseup', onMouseup);\r\n        (_v = fixedEl.current) === null || _v === void 0 ? void 0 : _v.addEventListener('mouseup', onMouseup);\r\n        (_w = el.current) === null || _w === void 0 ? void 0 : _w.addEventListener('mouseup', onMouseup);\r\n        (_x = autoEl.current) === null || _x === void 0 ? void 0 : _x.addEventListener('mouseup', onMouseup);\r\n        (_y = containerEl.current) === null || _y === void 0 ? void 0 : _y.removeEventListener('mouseleave', onMouseleave);\r\n        (_z = containerEl.current) === null || _z === void 0 ? void 0 : _z.addEventListener('mouseleave', onMouseleave);\r\n    }\r\n    function removeEvents() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z;\r\n        (_a = el.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('mouseenter', onMouseenter);\r\n        (_b = el.current) === null || _b === void 0 ? void 0 : _b.removeEventListener('mouseenter', onMouseenter);\r\n        (_c = el.current) === null || _c === void 0 ? void 0 : _c.removeEventListener('mousedown', onMousedown);\r\n        (_d = el.current) === null || _d === void 0 ? void 0 : _d.removeEventListener('mousedown', onMousedown);\r\n        (_e = fixedEl.current) === null || _e === void 0 ? void 0 : _e.removeEventListener('mousemove', onMousemove);\r\n        (_f = el.current) === null || _f === void 0 ? void 0 : _f.removeEventListener('mousemove', onMousemove);\r\n        (_g = autoEl.current) === null || _g === void 0 ? void 0 : _g.removeEventListener('mousemove', onMousemove);\r\n        (_h = fixedEl.current) === null || _h === void 0 ? void 0 : _h.removeEventListener('mousemove', onMousemove);\r\n        (_j = el.current) === null || _j === void 0 ? void 0 : _j.removeEventListener('mousemove', onMousemove);\r\n        (_k = autoEl.current) === null || _k === void 0 ? void 0 : _k.removeEventListener('mousemove', onMousemove);\r\n        (_l = fixedEl.current) === null || _l === void 0 ? void 0 : _l.removeEventListener('mouseout', onMouseout);\r\n        (_m = el.current) === null || _m === void 0 ? void 0 : _m.removeEventListener('mouseout', onMouseout);\r\n        (_o = autoEl.current) === null || _o === void 0 ? void 0 : _o.removeEventListener('mouseout', onMouseout);\r\n        (_p = fixedEl.current) === null || _p === void 0 ? void 0 : _p.removeEventListener('mouseout', onMouseout);\r\n        (_q = el.current) === null || _q === void 0 ? void 0 : _q.removeEventListener('mouseout', onMouseout);\r\n        (_r = autoEl.current) === null || _r === void 0 ? void 0 : _r.removeEventListener('mouseout', onMouseout);\r\n        (_s = fixedEl.current) === null || _s === void 0 ? void 0 : _s.removeEventListener('mouseup', onMouseup);\r\n        (_t = el.current) === null || _t === void 0 ? void 0 : _t.removeEventListener('mouseup', onMouseup);\r\n        (_u = autoEl.current) === null || _u === void 0 ? void 0 : _u.removeEventListener('mouseup', onMouseup);\r\n        (_v = fixedEl.current) === null || _v === void 0 ? void 0 : _v.removeEventListener('mouseup', onMouseup);\r\n        (_w = el.current) === null || _w === void 0 ? void 0 : _w.removeEventListener('mouseup', onMouseup);\r\n        (_x = autoEl.current) === null || _x === void 0 ? void 0 : _x.removeEventListener('mouseup', onMouseup);\r\n        (_y = containerEl.current) === null || _y === void 0 ? void 0 : _y.removeEventListener('mouseleave', onMouseleave);\r\n        (_z = containerEl.current) === null || _z === void 0 ? void 0 : _z.removeEventListener('mouseleave', onMouseleave);\r\n    }\r\n    (0, react_1.useLayoutEffect)(function () {\r\n        var _a;\r\n        if (checked()) {\r\n            fixedEl.current = getFixedEl();\r\n            autoEl.current = getAutoEl();\r\n            containerEl.current = (_a = el.current) === null || _a === void 0 ? void 0 : _a.parentElement;\r\n            containerEl.current.classList.add(\"\".concat(selectorPrefix, \"-noSelect\"));\r\n            initEvents();\r\n        }\r\n        return function () { return removeEvents(); };\r\n    }, []);\r\n    (0, react_1.useLayoutEffect)(function () {\r\n        if (checked()) {\r\n            isEnter.current = false;\r\n            isOut.current = false;\r\n            isDown.current = false;\r\n            isMove.current = false;\r\n            startVal.current = 0;\r\n            changeVal.current = 0;\r\n            changeBaseVal.current = 0;\r\n            fixedValue.current = 0;\r\n            maxDimension.current = 0;\r\n            fixedEl.current = getFixedEl();\r\n            autoEl.current = getAutoEl();\r\n            initEvents();\r\n        }\r\n        return function () { return removeEvents(); };\r\n    });\r\n    return (react_1.default.createElement(\"div\", { ref: el, className: (0, classnames_1.default)(selectorPrefix, \"\".concat(selectorPrefix, \"-\").concat(direction), className || ''), style: style || {} }));\r\n};\r\nexports.default = (0, react_1.memo)(SplitLayout);\r\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","default","classnames_1","exports","require","react_1","adhere_ui_flexlayout_1","FlexContext","Context","flexLayoutSelectorPrefix","selectorPrefix","directionProp","horizontal","page","dimension","offset","vertical","toPoint","percent","Number","replace","SplitLayout","props","_a","className","_b","style","_c","maxSize","_d","minSize","onCanDrag","onDragStarted","onDragFinished","onChange","onOut","direction","useContext","el","useRef","fixedEl","autoEl","containerEl","situation","Map","concat","isEnter","isOut","isDown","isMove","startVal","changeVal","changeBaseVal","fixedValue","maxDimension","checked","current","previousElementSibling","nextElementSibling","Array","from","keys","some","key","arr","split","prevKey","nextKey","classList","contains","getFixedEl","getAutoEl","getResizeClass","getProps","getMaxDimension","onMouseenter","e","add","onMousedown","remove","onMouseup","onMouseleave","onMousemove","targetValue","resultVal","end","computedValue","maxSize_1","elSize","minSize_1","onMouseout","initEvents","_z","removeEventListener","addEventListener","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","removeEvents","useLayoutEffect","parentElement","createElement","ref","memo"],"mappings":"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"}