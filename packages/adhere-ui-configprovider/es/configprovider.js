import React,{useEffect,createContext,useState}from"react";import Intl from"@baifendian/adhere-util-intl";import Resource from"@baifendian/adhere-util-resource";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Hooks from"@baifendian/adhere-ui-hooks";var Context=createContext({}),useForceUpdate=Hooks.useForceUpdate,ConfigProvider=function(e){var t=e.intl,o=t.lang,n=t.locales,r=t.prefix,i=e.children,e=useState(!1),a=e[0],c=e[1],l=useForceUpdate();return useEffect(function(){Intl.init({prefix:r||"local",currentLocale:o,locales:n||{}},Intl.isInit()).then(function(){Resource.Dict.value.LocalsMoment.value[o](),a?l():c(!0)})},[o,n,r]),React.createElement(ConditionalRender,{conditional:a},function(){return React.createElement(Context.Provider,{value:{}},i())})};export default ConfigProvider;
//# sourceMappingURL=configprovider.js.map
