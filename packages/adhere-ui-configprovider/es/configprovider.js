import init from"@baifendian/adhere-ui-css";import{useUpdateEffect}from"ahooks";import React,{createContext,memo,useEffect,useState}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Hooks from"@baifendian/adhere-ui-hooks";import Intl from"@baifendian/adhere-util-intl";import Resource from"@baifendian/adhere-util-resource";var Context=createContext({}),useForceUpdate=Hooks.useForceUpdate,InternalConfigProvider=memo(function(e){var t=e.intl,n=t.lang,o=t.locales,i=t.prefix,r=t.mainLanguage,a=e.theme,f=e.children,l=e.onIntlInit,t=useState(!1),c=t[0],u=t[1],d=useForceUpdate();return useEffect(function(){Intl.init({prefix:i||"local",currentLocale:n,locales:null!=o?o:{},mainLanguage:r||"zh_CN"},Intl.isInit()).then(function(){Resource.Dict.value.LocalsMoment.value[n](),c?d():(u(!0),l&&l())})},[n,o,i]),useEffect(function(){init(a)},[]),useUpdateEffect(function(){init(a)},[a]),React.createElement(ConditionalRender,{conditional:c},function(){return React.createElement(Context.Provider,{value:{intl:{lang:n,prefix:i,locales:null!=o?o:{}}}},f())})}),ConfigProvider=InternalConfigProvider;ConfigProvider.Context=Context,ConfigProvider.displayName="ConfigProvider";export default ConfigProvider;export{Context};
//# sourceMappingURL=ConfigProvider.js.map
