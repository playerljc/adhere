import React,{useEffect,createContext,useState}from"react";import PropTypes from"prop-types";import Intl from"@baifendian/adhere-util-intl";import Resource from"@baifendian/adhere-util-resource";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Hooks from"@baifendian/adhere-ui-hooks";var Context=createContext({}),useForceUpdate=Hooks.useForceUpdate;function ConfigProvider(e){var o=e.intl,t=o.lang,r=o.locales,n=o.prefix,i=e.children,e=useState(!1),a=e[0],c=e[1],l=useForceUpdate();return useEffect(function(){Intl.init({prefix:n||"local",currentLocale:t,locales:r||{}},Intl.isInit()).then(function(){Resource.Dict.value.LocalsMoment.value[t](),a?l():c(!0)})},[t,r,n]),React.createElement(ConditionalRender,{conditional:a},function(){return React.createElement(Context.Provider,{value:{}},i())})}ConfigProvider.defaultProps={},ConfigProvider.propTypes={intl:PropTypes.object};export default ConfigProvider;
//# sourceMappingURL=configprovider.js.map
