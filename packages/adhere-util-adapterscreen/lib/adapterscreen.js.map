{"version":3,"file":"adapterscreen.js","sources":["adapterscreen.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * detectZoom - 获取浏览器缩放的级别(1为基本单位)\r\n * @return number\r\n */\r\nfunction detectZoom() {\r\n    if (typeof window === 'undefined')\r\n        return;\r\n    var ratio = 0;\r\n    var screen = window.screen;\r\n    var ua = navigator.userAgent.toLowerCase();\r\n    if (window.devicePixelRatio !== undefined) {\r\n        ratio = window.devicePixelRatio;\r\n    }\r\n    else if (~ua.indexOf('msie')) {\r\n        if (screen.deviceXDPI && screen.logicalXDPI) {\r\n            ratio = screen.deviceXDPI / screen.logicalXDPI;\r\n        }\r\n    }\r\n    else if (window.outerWidth !== undefined && window.innerWidth !== undefined) {\r\n        ratio = window.outerWidth / window.innerWidth;\r\n    }\r\n    return ratio;\r\n}\r\n/**\r\n * AdapterScreen\r\n * @param el\r\n */\r\nexports.default = (function (el) {\r\n    if (el === void 0) { el = window.document.body; }\r\n    function onResize() {\r\n        // 1.1 | 0.9\r\n        // 2 | 0.5\r\n        var ratio = detectZoom();\r\n        el.style.transformOrigin = 'left top';\r\n        el.style.transform = \"scale(\" + 1 / ratio + \")\";\r\n        if (ratio !== 1) {\r\n            el.style.width = ratio * 100 + \"%\";\r\n            el.style.height = ratio * 100 + \"%\";\r\n        }\r\n        else if (ratio === 1) {\r\n            el.style.width = \"100%\";\r\n            el.style.height = \"100%\";\r\n        }\r\n    }\r\n    onResize();\r\n    window.addEventListener('resize', onResize);\r\n    return function () {\r\n        window.removeEventListener('reset', onResize);\r\n    };\r\n});\r\n"],"names":["detectZoom","window","ratio","screen","ua","navigator","userAgent","toLowerCase","undefined","devicePixelRatio","indexOf","deviceXDPI","logicalXDPI","outerWidth","innerWidth","Object","defineProperty","exports","value","default","el","onResize","style","transformOrigin","transform","width","height","document","body","addEventListener","removeEventListener"],"mappings":"aAMA,SAASA,aACL,GAAsB,oBAAXC,OAAX,CAEA,IAAIC,EAAQ,EACRC,EAASF,OAAOE,OAChBC,EAAKC,UAAUC,UAAUC,cAY7B,YAXgCC,IAA5BP,OAAOQ,iBACPP,EAAQD,OAAOQ,kBAETL,EAAGM,QAAQ,QACbP,EAAOQ,YAAcR,EAAOS,cAC5BV,EAAQC,EAAOQ,WAAaR,EAAOS,kBAGZJ,IAAtBP,OAAOY,iBAAkDL,IAAtBP,OAAOa,aAC/CZ,EAAQD,OAAOY,WAAaZ,OAAOa,YAEhCZ,GAtBXa,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IA4BtDD,QAAQE,QAAU,SAAWC,GAEzB,SAASC,IAGL,IAAInB,EAAQF,aACZoB,EAAGE,MAAMC,gBAAkB,WAC3BH,EAAGE,MAAME,UAAY,SAAW,EAAItB,EAAQ,IAC9B,IAAVA,GACAkB,EAAGE,MAAMG,MAAgB,IAARvB,EAAc,IAC/BkB,EAAGE,MAAMI,OAAiB,IAARxB,EAAc,KAEjB,IAAVA,IACLkB,EAAGE,MAAMG,MAAQ,OACjBL,EAAGE,MAAMI,OAAS,QAK1B,YAlBW,IAAPN,IAAiBA,EAAKnB,OAAO0B,SAASC,MAgB1CP,IACApB,OAAO4B,iBAAiB,SAAUR,GAC3B,WACHpB,OAAO6B,oBAAoB,QAAST"}