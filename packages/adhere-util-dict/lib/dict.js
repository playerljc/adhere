"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&("get"in i?t.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},react_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importStar(require("./react"))),target={},handlerTarget={},funParams=new Map,defaultConfig={isUseMemo:!0},config=defaultConfig;function diffParams(e,t){if(e.length!==t.length)return!1;for(var r=!1,n=0;n<e.length;n++)if(e[n]!==t[n]){r=!0;break}return!r}function CreateFunProxy(e,a){return new Proxy(e,{apply:function(e,t,r){var t=t||window,n=null,i=funParams.get(a);return i&&diffParams(i.argArray,r)?n=i.result:(n=e.apply(t,r),funParams.set(a,{argArray:r,result:n})),n}})}function initValue(e,t){var r=Dict.handlers[e],t=r(t);return t instanceof Function&&("isUseMemo"in r?r.isUseMemo&&(t=CreateFunProxy(t,e)):"isUseMemo"in config&&config.isUseMemo&&(t=CreateFunProxy(t,e))),t}var Dict={handlers:new Proxy(handlerTarget,{set:function(e,t,r,n){e=Reflect.set(e,t,r,n);return(0,react_1.set)(t),e}}),value:new Proxy(target,{get:function(e,t,r){return t in e||(r[t]={value:initValue(t,null),refresh:function(e){return r[t].value=initValue(t,e),this}}),Reflect.get(e,t,r)}}),init:function(e,t){config=t=void 0===t?defaultConfig:t,((e=void 0===e?[]:e)||[]).forEach(function(e){var t;e&&(null!=(t=null==e?void 0:e.initStatic)&&t.call(e),null!=(t=null==e?void 0:e.initRemote)&&t.call(e))})},React:react_1.default};exports.default=Dict;
//# sourceMappingURL=dict.js.map
