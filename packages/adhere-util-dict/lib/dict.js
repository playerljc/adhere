import DictReactComponent,{init as initReact}from"./react";var target={},funParams=new Map,defaultConfig={isUseMemo:!0},config=defaultConfig;function diffParams(n,t){if(n.length!==t.length)return!1;for(var e=!1,i=0;i<n.length;i++)if(n[i]!==t[i]){e=!0;break}return!e}function CreateFunProxy(n,r){return new Proxy(n,{apply:function(n,t,e){var t=t||window,i=null,a=funParams.get(r);return a&&diffParams(a.argArray,e)?i=a.result:(i=n.apply(t,e),funParams.set(r,{argArray:e,result:i})),i}})}function initValue(n,t){var e=Dict.handlers[n],t=e(t);return t=t instanceof Function&&(e.isUseMemo||config.isUseMemo)?CreateFunProxy(t,n):t}var Dict={handlers:{},value:new Proxy(target,{get:function(n,t,e){return t in n||(e[t]={value:initValue(t,null),refresh:function(n){return e[t].value=initValue(t,n),this}}),Reflect.get(n,t,e)}}),init:function(n,t){config=t=void 0===t?defaultConfig:t,((n=void 0===n?[]:n)||[]).forEach(function(n){var t;n&&(null!=(t=null==n?void 0:n.initStatic)&&t.call(n),null!=(t=null==n?void 0:n.initRemote)&&t.call(n))}),initReact()},React:DictReactComponent};export default Dict;
//# sourceMappingURL=dict.js.map
