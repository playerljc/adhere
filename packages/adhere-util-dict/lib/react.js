var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};import{useUpdateEffect}from"ahooks";import React,{forwardRef,useState}from"react";import Suspense from"@baifendian/adhere-ui-suspense";import Util from"@baifendian/adhere-util";import Dict from"./dict";function set(l){var t;DictReactComponents[l]||(t=Dict.value[l].value,Util.isFunction(t)?DictReactComponents[l]=forwardRef(function(t,e){function n(){Dict.handlers[l].isUseMemo=u||!1;var t=(t=Dict.value[l]).value.apply(t,s||[]);return t.then?t.then(function(t){return f(t),t}):(f(t),Promise.resolve(t))}var r=t.children,i=t.firstLoading,a=t.isEmpty,o=t.renderEmpty,s=t.args,u=t.isUseMemo,t=useState(),c=t[0],f=t[1],t={};i&&(t.firstLoading=i),o&&(t.renderEmpty=o),a&&(t.isEmpty=a);return useUpdateEffect(n,s||[]),React.createElement(Suspense.ASync,__assign({ref:e,fetchData:n},t,{isEmpty:function(){return null==c||(null==a?void 0:a(c))}}),null==r?void 0:r(c))}):t.then?DictReactComponents[l]=forwardRef(function(t,e){var n=t.children,r=t.firstLoading,i=t.isEmpty,t=t.renderEmpty,a=useState(),o=a[0],s=a[1],a={};r&&(a.firstLoading=r),t&&(a.renderEmpty=t),i&&(a.isEmpty=i);return React.createElement(Suspense.ASync,__assign({ref:e,fetchData:function(){return Dict.value[l].value.then(function(t){return s(t),t})}},a,{isEmpty:function(){return null==o||(null==i?void 0:i(o))}}),null==n?void 0:n(o))}):DictReactComponents[l]=function(t){t=t.children;return null==t?void 0:t(Dict.value[l].value)})}var DictReactComponents={};export default DictReactComponents;export{set};
//# sourceMappingURL=react.js.map
