var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};import{useUpdateLayoutEffect}from"ahooks";import React,{forwardRef,useState}from"react";import Suspense from"@baifendian/adhere-ui-suspense";import Util from"@baifendian/adhere-util";import Dict from"./dict";function set(f,t){DictReactComponents[f]||(console.log("value",f,t),Util.isFunction(t)?DictReactComponents[f]=forwardRef(function(t,e){function n(){Dict.handlers[f].isUseMemo=u||!1,console.log(f,Dict.value[f].value);var t=(t=Dict.value[f]).value.apply(t,s||[]);return t.then?t.then(function(t){return l(t),t}):(l(t),Promise.resolve(t))}var r=t.children,i=t.firstLoading,o=t.isEmpty,a=t.renderEmpty,s=t.args,u=t.isUseMemo,t=useState(),c=t[0],l=t[1],t={};i&&(t.firstLoading=i),a&&(t.renderEmpty=a),o&&(t.isEmpty=o);return useUpdateLayoutEffect(function(){n()},s||[]),React.createElement(Suspense.ASync,__assign({ref:e,fetchData:n},t,{isEmpty:function(){return null==c||(null==o?void 0:o(c))}}),null==r?void 0:r(c))}):t.then?DictReactComponents[f]=forwardRef(function(t,e){var n=t.children,r=t.firstLoading,i=t.isEmpty,t=t.renderEmpty,o=useState(),a=o[0],s=o[1],o={};r&&(o.firstLoading=r),t&&(o.renderEmpty=t),i&&(o.isEmpty=i);return React.createElement(Suspense.ASync,__assign({ref:e,fetchData:function(){return Dict.value[f].value.then(function(t){return s(t),t})}},o,{isEmpty:function(){return null==a||(null==i?void 0:i(a))}}),null==n?void 0:n(a))}):DictReactComponents[f]=function(t){t=t.children;return null==t?void 0:t(Dict.value[f].value)})}var DictReactComponents={};export default DictReactComponents;export{set};
//# sourceMappingURL=react.js.map
