{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["import _Spin from \"@baifendian/adhere-ui-anthoc/es/spin\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useMount, useUpdateEffect } from 'ahooks';\nimport debounce from 'lodash.debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Hooks from '@baifendian/adhere-ui-hooks';\nimport Dict from '@baifendian/adhere-util-dict';\nimport WatchMemoized from '@baifendian/adhere-util-watchmemoized';\nimport CheckAllMultiSelectFormItem from '../CheckAllMultiSelectFormItem';\nimport { getItem, setItem } from '../ItemFactory';\nimport MultiSelectFormItem from '../MultiSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nimport { deepDep } from '../util';\nvar memoized = WatchMemoized.memoized;\nvar useForceUpdate = Hooks.useForceUpdate;\nvar AutoSelectCompleteFormItem;\n// SelectFormItemWrap\nvar SelectFormItemWrap = function SelectFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(SelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// MultiSelectFormItem\nvar SelectMultiFormItemWrap = function SelectMultiFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(MultiSelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// CheckAllMultiSelectFormItem\nvar SelectCheckAllMultiFormItemWrap = function SelectCheckAllMultiFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    onCheckAllChange = _a.onCheckAllChange,\n    props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n  return /*#__PURE__*/React.createElement(CheckAllMultiSelectFormItem\n  // @ts-ignore\n  , {\n    // @ts-ignore\n    selectProps: __assign({}, props),\n    dataSource: dataSource,\n    onCheckAllChange: function onCheckAllChange(checkAll) {\n      props.onChange(checkAll ? dataSource.map(function (t) {\n        return t.value;\n      }) : []);\n    }\n  });\n};\n/**\n * SelectFormItem\n */\nsetItem('Select', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var _b = useState([]),\n      dataSource = _b[0],\n      setDataSource = _b[1];\n    function loadData() {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        setDataSource(handler(cascadeParams));\n      } else {\n        setDataSource(handler);\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectMultiFormItem\n */\nsetItem('Select', 'MultiFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var _b = useState([]),\n      dataSource = _b[0],\n      setDataSource = _b[1];\n    function loadData() {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        setDataSource(handler(cascadeParams));\n      } else {\n        setDataSource(handler);\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(SelectMultiFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectCheckAllMultiFormItem\n */\nsetItem('Select', 'CheckAllMultiFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var _b = useState([]),\n      dataSource = _b[0],\n      setDataSource = _b[1];\n    function loadData() {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        setDataSource(handler(cascadeParams));\n      } else {\n        setDataSource(handler);\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMultiFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectDynamicFormItem\n */\nsetItem('SelectDynamic', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    function loadData() {\n      // 如果是Promise直接返回\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      } else if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * SelectDynamicMultiFormItem\n */\nsetItem('SelectDynamic', 'MultiFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    function loadData() {\n      // 如果是Promise直接返回\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      } else if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(SelectMultiFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * SelectDynamicCheckAllMultiFormItem\n */\nsetItem('SelectDynamic', 'CheckAllMultiFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    function loadData() {\n      // 如果是Promise直接返回\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      } else if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMultiFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * AutoSelectCompleteFormItem\n */\nsetItem('AutoSelectComplete', 'FormItem', function (dictName) {\n  return function (_a) {\n    var _b = _a.debounceTimeout,\n      debounceTimeout = _b === void 0 ? 300 : _b,\n      props = __rest(_a, [\"debounceTimeout\"]);\n    var forceUpdate = useForceUpdate();\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _c = useState(false),\n      fetching = _c[0],\n      setFetching = _c[1];\n    var _d = useState([]),\n      options = _d[0],\n      setOptions = _d[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(SelectFormItem\n    // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, props),\n      dataSource: options\n    });\n  };\n});\n/**\n * AutoSelectCompleteMultiFormItem\n */\nsetItem('AutoSelectComplete', 'MultiFormItem', function (originDictName, dictName) {\n  return function (props) {\n    // FormItemComponents[`${dictName}FormItem`];\n    var Component = AutoSelectCompleteFormItem !== null && AutoSelectCompleteFormItem !== void 0 ? AutoSelectCompleteFormItem : AutoSelectCompleteFormItem = getItem({\n      itemName: 'AutoSelectComplete',\n      functionName: 'FormItem',\n      dictName: dictName\n    });\n    return /*#__PURE__*/React.createElement(Component, __assign({\n      mode: \"multiple\"\n    }, props));\n  };\n});\n/**\n * AutoSelectCompleteCheckAllMultiFormItem\n */\nsetItem('AutoSelectComplete', 'CheckAllMultiFormItem', function (dictName) {\n  return function (props) {\n    var forceUpdate = useForceUpdate();\n    var onCheckAllChange = props.onCheckAllChange,\n      debounceTimeout = props.debounceTimeout,\n      others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _a = useState(false),\n      fetching = _a[0],\n      setFetching = _a[1];\n    var _b = useState([]),\n      options = _b[0],\n      setOptions = _b[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(CheckAllMultiSelectFormItem, {\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, others),\n      dataSource: options,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        // @ts-ignore\n        others.onChange(checkAll ? options.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  };\n});"],"names":["_Spin","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useMount","useUpdateEffect","debounce","React","useEffect","useRef","useState","Hooks","Dict","WatchMemoized","CheckAllMultiSelectFormItem","getItem","setItem","MultiSelectFormItem","SelectFormItem","deepDep","AutoSelectCompleteFormItem","memoized","useForceUpdate","SelectFormItemWrap","_a","dataSource","props","createElement","selectProps","SelectMultiFormItemWrap","SelectCheckAllMultiFormItemWrap","onCheckAllChange","checkAll","onChange","map","value","dictName","cascadeParams","onDataSourceChange","handler","_b","setDataSource","loadData","Function","data","setData","then","res","debounceTimeout","forceUpdate","fetchRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","filter","find","v","newOptions","Set","val","item","notFoundContent","size","filterOption","onSearch","onClear","originDictName","Component","itemName","functionName","mode","others"],"mappings":"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"}