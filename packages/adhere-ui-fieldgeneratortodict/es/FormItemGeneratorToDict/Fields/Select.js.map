{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["import _Spin from \"@baifendian/adhere-ui-anthoc/es/spin\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useMount, useUpdateEffect } from 'ahooks';\nimport debounce from 'lodash.debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Hooks from '@baifendian/adhere-ui-hooks';\nimport Dict from '@baifendian/adhere-util-dict';\nimport WatchMemoized from '@baifendian/adhere-util-watchmemoized';\nimport CheckAllMulitSelectFormItem from '../CheckAllMulitSelectFormItem';\nimport { getItem, setItem } from '../ItemFactory';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nimport { deepDep } from '../util';\nvar memoized = WatchMemoized.memoized;\nvar useForceUpdate = Hooks.useForceUpdate;\nvar AutoSelectCompleteFormItem;\n// SelectFormItemWrap\nvar SelectFormItemWrap = function SelectFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(SelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// MulitSelectFormItem\nvar SelectMulitFormItemWrap = function SelectMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// CheckAllMulitSelectFormItem\nvar SelectCheckAllMulitFormItemWrap = function SelectCheckAllMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    onCheckAllChange = _a.onCheckAllChange,\n    props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n  return /*#__PURE__*/React.createElement(CheckAllMulitSelectFormItem\n  // @ts-ignore\n  , {\n    // @ts-ignore\n    selectProps: __assign({}, props),\n    dataSource: dataSource,\n    onCheckAllChange: function onCheckAllChange(checkAll) {\n      props.onChange(checkAll ? dataSource.map(function (t) {\n        return t.value;\n      }) : []);\n    }\n  });\n};\n/**\n * SelectFormItem\n */\nsetItem('Select', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectMulitFormItem\n */\nsetItem('Select', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectCheckAllMulitFormItem\n */\nsetItem('Select', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectDynamicFormItem\n */\nsetItem('SelectDynamic', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * SelectDynamicMulitFormItem\n */\nsetItem('SelectDynamic', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * SelectDynamicCheckAllMulitFormItem\n */\nsetItem('SelectDynamic', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * AutoSelectCompleteFormItem\n */\nsetItem('AutoSelectComplete', 'FormItem', function (dictName) {\n  return function (_a) {\n    var _b = _a.debounceTimeout,\n      debounceTimeout = _b === void 0 ? 300 : _b,\n      props = __rest(_a, [\"debounceTimeout\"]);\n    var forceUpdate = useForceUpdate();\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _c = useState(false),\n      fetching = _c[0],\n      setFetching = _c[1];\n    var _d = useState([]),\n      options = _d[0],\n      setOptions = _d[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        debugger;\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(SelectFormItem\n    // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, props),\n      dataSource: options\n    });\n  };\n});\n/**\n * AutoSelectCompleteMulitFormItem\n */\nsetItem('AutoSelectComplete', 'MulitFormItem', function (originDictName, dictName) {\n  return function (props) {\n    // FormItemComponents[`${dictName}FormItem`];\n    var Component = AutoSelectCompleteFormItem !== null && AutoSelectCompleteFormItem !== void 0 ? AutoSelectCompleteFormItem : AutoSelectCompleteFormItem = getItem({\n      itemName: 'AutoSelectComplete',\n      functionName: 'FormItem',\n      dictName: dictName\n    });\n    return /*#__PURE__*/React.createElement(Component, __assign({\n      mode: \"multiple\"\n    }, props));\n  };\n});\n/**\n * AutoSelectCompleteCheckAllMulitFormItem\n */\nsetItem('AutoSelectComplete', 'CheckAllMulitFormItem', function (dictName) {\n  return function (props) {\n    var forceUpdate = useForceUpdate();\n    var onCheckAllChange = props.onCheckAllChange,\n      debounceTimeout = props.debounceTimeout,\n      others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _a = useState(false),\n      fetching = _a[0],\n      setFetching = _a[1];\n    var _b = useState([]),\n      options = _b[0],\n      setOptions = _b[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(CheckAllMulitSelectFormItem, {\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, others),\n      dataSource: options,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        // @ts-ignore\n        others.onChange(checkAll ? options.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  };\n});"],"names":["_Spin","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useMount","useUpdateEffect","debounce","React","useEffect","useRef","useState","Hooks","Dict","WatchMemoized","CheckAllMulitSelectFormItem","getItem","setItem","MulitSelectFormItem","SelectFormItem","deepDep","AutoSelectCompleteFormItem","memoized","useForceUpdate","SelectFormItemWrap","_a","dataSource","props","createElement","selectProps","SelectMulitFormItemWrap","SelectCheckAllMulitFormItemWrap","onCheckAllChange","checkAll","onChange","map","value","dictName","cascadeParams","onDataSourceChange","handler","Function","_b","data","setData","then","res","debounceTimeout","forceUpdate","fetchRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","filter","find","v","newOptions","Set","val","item","notFoundContent","size","filterOption","onSearch","onClear","originDictName","Component","itemName","functionName","mode","others"],"mappings":"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"}