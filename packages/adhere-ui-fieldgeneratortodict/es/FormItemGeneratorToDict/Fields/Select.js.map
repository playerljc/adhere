{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["import _Spin from \"@baifendian/adhere-ui-anthoc/es/spin\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Hooks from '@baifendian/adhere-ui-hooks';\nimport Dict from '@baifendian/adhere-util-dict';\nimport WatchMemoized from '@baifendian/adhere-util-watchmemoized';\nimport CheckAllMulitSelectFormItem from '../CheckAllMulitSelectFormItem';\nimport { getItem, setItem } from '../ItemFactory';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nimport { deepDep } from '../util';\n// const FormItemComponents = {};\nvar memoized = WatchMemoized.memoized;\nvar useForceUpdate = Hooks.useForceUpdate;\n/**\n * initSelect\n * @description 初始化Select\n */\n// export default () => {\n//   // 名称以Select结尾的字典\n//   const selectDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('Select'),\n//   );\n//\n//   // 名称以DynamicSelect结尾的字典\n//   const selectDynamicDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('SelectDynamic'),\n//   );\n//\n//   // 名称以AutoComplete结尾的字典\n//   const selectAutoCompleteDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('AutoSelectComplete'),\n//   );\n// SelectFormItemWrap\nvar SelectFormItemWrap = function SelectFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(SelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// MulitSelectFormItem\nvar SelectMulitFormItemWrap = function SelectMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// CheckAllMulitSelectFormItem\nvar SelectCheckAllMulitFormItemWrap = function SelectCheckAllMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    onCheckAllChange = _a.onCheckAllChange,\n    props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n  return /*#__PURE__*/React.createElement(CheckAllMulitSelectFormItem\n  // @ts-ignore\n  , {\n    // @ts-ignore\n    selectProps: __assign({}, props),\n    dataSource: dataSource,\n    onCheckAllChange: function onCheckAllChange(checkAll) {\n      props.onChange(checkAll ? dataSource.map(function (t) {\n        return t.value;\n      }) : []);\n    }\n  });\n};\n// 静态的Select\n// selectDictNames.forEach((selectDictName) => {\n// 创建三个FormItem\n// SelectFormItem\n// MulitSelectFormItem\n// CheckAllMulitSelectFormItem\n// SelectFormItem\nsetItem('Select', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// MulitSelectFormItem\nsetItem('Select', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    return /*#__PURE__*/React.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// CheckAllMulitSelectFormItem\nsetItem('Select', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// });\n// 动态的Select\n// selectDynamicDictNames.forEach((dictName) => {\n// 创建三个FormItem\n// SelectFormItem\n// MulitSelectFormItem\n// CheckAllMulitSelectFormItem\n// SelectFormItem\nsetItem('SelectDynamic', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useEffect(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    useEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    return /*#__PURE__*/React.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// MulitSelectFormItem\nsetItem('SelectDynamic', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useEffect(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    useEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    return /*#__PURE__*/React.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// CheckAllMulitSelectFormItem\nsetItem('SelectDynamic', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useEffect(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    useEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// });\n// 自动补全的Select\n// selectAutoCompleteDictNames.forEach((dictName) => {\n// AutoCompleteFormItem\n// FormItem\nsetItem('AutoSelectComplete', 'FormItem', function (dictName) {\n  return function (_a) {\n    var _b = _a.debounceTimeout,\n      debounceTimeout = _b === void 0 ? 300 : _b,\n      props = __rest(_a, [\"debounceTimeout\"]);\n    var forceUpdate = useForceUpdate();\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _c = useState(false),\n      fetching = _c[0],\n      setFetching = _c[1];\n    var _d = useState([]),\n      options = _d[0],\n      setOptions = _d[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(SelectFormItem\n    // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, props),\n      dataSource: options\n    });\n  };\n});\nvar AutoSelectCompleteFormItem;\n// AutoCompleteMulitFormItem\nsetItem('AutoSelectComplete', 'MulitFormItem', function (dictName) {\n  return function (props) {\n    // FormItemComponents[`${dictName}FormItem`];\n    var Component = AutoSelectCompleteFormItem !== null && AutoSelectCompleteFormItem !== void 0 ? AutoSelectCompleteFormItem : AutoSelectCompleteFormItem = getItem({\n      itemName: 'AutoSelectComplete',\n      functionName: 'FormItem',\n      dictName: dictName\n    });\n    return /*#__PURE__*/React.createElement(Component, __assign({\n      mode: \"multiple\"\n    }, props));\n  };\n});\n// CheckAllAutoCompleteMulitSelectFormItem\nsetItem('AutoSelectComplete', 'CheckAllMulitFormItem', function (dictName) {\n  return function (props) {\n    var forceUpdate = useForceUpdate();\n    var onCheckAllChange = props.onCheckAllChange,\n      debounceTimeout = props.debounceTimeout,\n      others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n    var handler = Dict.value[dictName].value;\n    var fetchRef = useRef(0);\n    var _a = useState(false),\n      fetching = _a[0],\n      setFetching = _a[1];\n    var _b = useState([]),\n      options = _b[0],\n      setOptions = _b[1];\n    var debounceFetcher = useRef();\n    useEffect(function () {\n      debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return /*#__PURE__*/React.createElement(CheckAllMulitSelectFormItem, {\n      selectProps: __assign({\n        notFoundContent: fetching ? /*#__PURE__*/React.createElement(_Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, others),\n      dataSource: options,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        // @ts-ignore\n        others.onChange(checkAll ? options.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  };\n});\n// });\n// return FormItemComponents;\n// };"],"names":["_Spin","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","debounce","React","useEffect","useRef","useState","Hooks","Dict","WatchMemoized","CheckAllMulitSelectFormItem","getItem","setItem","MulitSelectFormItem","SelectFormItem","deepDep","AutoSelectCompleteFormItem","memoized","useForceUpdate","SelectFormItemWrap","_a","dataSource","props","createElement","selectProps","SelectMulitFormItemWrap","SelectCheckAllMulitFormItemWrap","onCheckAllChange","checkAll","onChange","map","value","dictName","cascadeParams","handler","Function","_b","data","setData","then","res","debounceTimeout","forceUpdate","fetchRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","filter","find","v","newOptions","Set","val","item","notFoundContent","size","filterOption","onSearch","onClear","Component","itemName","functionName","mode","others"],"mappings":"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"}