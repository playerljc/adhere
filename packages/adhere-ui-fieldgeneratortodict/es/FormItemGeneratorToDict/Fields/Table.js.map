{"version":3,"file":"Table.js","sources":["FormItemGeneratorToDict/Fields/Table.js"],"sourcesContent":["import _Table from \"@baifendian/adhere-ui-anthoc/es/table\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n/***\n  静态的数据\n   普通的表格\n   Select单选\n   MultiSelect多选\n\n  动态的数据\n   普通的表格\n   Select单选\n   MultiSelect多选\n\n  动态的分页数据\n   普通的表格\n   Select单选\n   MultiSelect多选\n***/\nimport { useMount, useUpdateEffect } from 'ahooks';\nimport React, { useRef, useState } from 'react';\nimport Dict from '@baifendian/adhere-util-dict';\nimport { setItem } from '../ItemFactory';\nimport MultiSelectFormItem from '../MultiSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nimport TableFormItem from '../TableFormItem';\nimport TableMultiSelectFormItem from '../TableMultiSelectFormItem';\nimport TableSelectFormItem from '../TableSelectFormItem';\nimport { deepDep } from '../util';\n/**\n * TableFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   rowKey\n * }\n * @return {JSX.Element}\n */\nsetItem('Table', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(TableFormItem, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * SelectFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   rowKey\n *   labelKey\n * }\n * @return {JSX.Element}\n */\nsetItem('Table', 'SelectFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(TableSelectFormItem, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * MultiSelectFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   labelKey\n *   rowKey\n * }\n * @return {JSX.Element}\n */\nsetItem('Table', 'MultiSelectFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var handler = Dict.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(dataSource);\n    }, [dataSource]);\n    return /*#__PURE__*/React.createElement(TableMultiSelectFormItem, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n/**\n * TableFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   rowKey\n * }\n * @return {JSX.Element}\n */\nsetItem('TableDynamic', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(TableFormItem, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * SelectFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   labelKey\n *   rowKey\n * }\n * @return {JSX.Element}\n */\nsetItem('TableDynamic', 'SelectFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(TableSelectFormItem, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * MultiSelectFormItem\n * @param cascadeParams\n * @param props {\n *   cascadeParams\n *   labelKey\n *   rowKey\n * }\n * @return {JSX.Element}\n */\nsetItem('TableDynamic', 'MultiSelectFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      onDataSourceChange = _a.onDataSourceChange,\n      props = __rest(_a, [\"cascadeParams\", \"onDataSourceChange\"]);\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    useMount(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    });\n    useUpdateEffect(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [deepDep(cascadeParams)]);\n    useUpdateEffect(function () {\n      onDataSourceChange === null || onDataSourceChange === void 0 ? void 0 : onDataSourceChange(data);\n    }, [data]);\n    return /*#__PURE__*/React.createElement(TableMultiSelectFormItem, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n/**\n * TableFormItem\n * @param props {\n *   cascadeParams\n *   labelKey\n *   rowKey\n *   dataKey\n *   totalKey\n * }\n * @return {JSX.Element}\n */\nsetItem('TablePagination', 'FormItem', function (dictName) {\n  return function (props) {\n    var _a = useState(false),\n      loading = _a[0],\n      setLoading = _a[1];\n    var _b = useState([]),\n      data = _b[0],\n      setData = _b[1];\n    var _c = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n      pagin = _c[0],\n      setPagin = _c[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    /**\n     * getPagination\n     * @description 获取分页信息\n     */\n    function getPagination() {\n      return {\n        onChange: function onChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        total: pagin.total,\n        current: pagin.current,\n        pageSize: pagin.pageSize,\n        showQuickJumper: true\n      };\n    }\n    /**\n     * loadData\n     */\n    function loadData() {\n      setLoading(true);\n      handler(__assign({}, pagin)).then(function (res) {\n        setPagin(__assign(__assign({}, pagin), {\n          total: res[props.totalKey || 'total']\n        }));\n        setData(res[props.dataKey || 'records']);\n        setLoading(false);\n      }).catch(function () {\n        setLoading(false);\n      });\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [pagin.current, pagin.pageSize]);\n    return /*#__PURE__*/React.createElement(_Table, __assign({\n      dataSource: data,\n      loading: loading,\n      pagination: getPagination(),\n      rowKey: props.rowKey || 'id'\n    }, props));\n  };\n});\n/**\n * TablePaginationSelectFormItem\n * @param props {\n *    rowKey\n *    labelKey\n * }\n */\nsetItem('TablePagination', 'SelectFormItem', function (dictName) {\n  return function (props) {\n    var _a;\n    var _b = useState(''),\n      inputValue = _b[0],\n      setInputValue = _b[1];\n    var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n    var _d = useState([]),\n      data = _d[0],\n      setData = _d[1];\n    var _e = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n      pagin = _e[0],\n      setPagin = _e[1];\n    var _f = useState(props.value ? [props.value] : []),\n      selectedRowKeys = _f[0],\n      setSelectedRowKeys = _f[1];\n    var _g = useState(props.value ? data.find(function (t) {\n        return t[props.rowKey || 'id'] === props.value;\n      }) : []),\n      selectedRows = _g[0],\n      setSelectedRows = _g[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    /**\n     * getPagination\n     * @description 获取分页信息\n     */\n    function getPagination() {\n      return {\n        onChange: function onChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        total: pagin.total,\n        current: pagin.current,\n        pageSize: pagin.pageSize,\n        showQuickJumper: true\n      };\n    }\n    /**\n     * loadData\n     */\n    function loadData() {\n      setLoading(true);\n      handler(__assign({}, pagin)).then(function (res) {\n        setPagin(__assign(__assign({}, pagin), {\n          total: res[props.totalKey || 'total']\n        }));\n        setData(res[props.dataKey || 'records']);\n        setLoading(false);\n      }).catch(function () {\n        setLoading(false);\n      });\n    }\n    /**\n     * renderDropdownRender\n     */\n    function renderDropdownRender() {\n      var dataSource = inputValue ? data.filter(function (t) {\n        return t[props.labelKey || 'name'].indexOf(inputValue) !== -1;\n      }) : data;\n      return /*#__PURE__*/React.createElement(_Table, __assign({\n        dataSource: dataSource,\n        loading: loading,\n        pagination: getPagination(),\n        rowKey: props.rowKey || 'id',\n        rowSelection: {\n          type: 'radio',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onChange: function onChange(selectedRowKeys, selectedRows) {\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows);\n            props.onChange(selectedRowKeys.length ? selectedRowKeys[0] : '');\n          }\n        }\n      }, props));\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [pagin.current, pagin.pageSize]);\n    useUpdateEffect(function () {\n      if (props.value) {\n        setSelectedRowKeys([props.value]);\n        setSelectedRows([data.find(function (t) {\n          return t[props.rowKey || 'id'] === props.value;\n        })]);\n      } else {\n        setSelectedRowKeys([]);\n        setSelectedRows([]);\n      }\n    }, [props.value]);\n    return /*#__PURE__*/React.createElement(SelectFormItem, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(value) {\n          props.onChange(value);\n        },\n        filterOption: function filterOption() {\n          return false;\n        },\n        onSearch: function onSearch(inputValue) {\n          return setInputValue(inputValue);\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onClear: function onClear() {\n          setInputValue('');\n        }\n      }, (_a = props.selectProps) !== null && _a !== void 0 ? _a : {}),\n      dataSource: data.map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  };\n});\n/**\n * TablePaginationMultiSelectFormItem\n * @param props {\n *    rowKey\n *    labelKey\n * }\n */\nsetItem('TablePagination', 'MultiSelectFormItem', function (dictName) {\n  return function (props) {\n    var _a;\n    var _b = useState(''),\n      inputValue = _b[0],\n      setInputValue = _b[1];\n    var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n    var data = useRef(new Map());\n    var _d = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n      pagin = _d[0],\n      setPagin = _d[1];\n    var _e = useState(props.value ? props.value : []),\n      selectedRowKeys = _e[0],\n      setSelectedRowKeys = _e[1];\n    var _f = useState(props.value ? props.value.map(function (t) {\n        return getDataSource().find(function (_item) {\n          return _item[props.rowKey || 'id'] === t;\n        });\n      }) : []),\n      selectedRows = _f[0],\n      setSelectedRows = _f[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = Dict.value[dictName].value;\n    /**\n     * getPagination - 获取分页信息\n     */\n    function getPagination() {\n      return {\n        onChange: function onChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        onShowSizeChange: function onShowSizeChange(current, pageSize) {\n          setPagin(__assign(__assign({}, pagin), {\n            current: current,\n            pageSize: pageSize\n          }));\n        },\n        total: pagin.total,\n        current: pagin.current,\n        pageSize: pagin.pageSize,\n        showQuickJumper: true\n      };\n    }\n    /**\n     * getDataSource\n     * @return {V|*[]}\n     */\n    function getDataSource() {\n      return data.current.get(pagin.current) || [];\n    }\n    /**\n     * loadData\n     */\n    function loadData() {\n      setLoading(true);\n      handler(__assign({}, pagin)).then(function (res) {\n        data.current.set(pagin.current, res[props.dataKey || 'records']);\n        setPagin(__assign(__assign({}, pagin), {\n          total: res[props.totalKey || 'total']\n        }));\n        setLoading(false);\n      }).catch(function () {\n        setLoading(false);\n      });\n    }\n    /**\n     * filter\n     * @param selected\n     * @param records\n     */\n    function filter(selected, records) {\n      var rowKey = props.rowKey || 'id';\n      var _selectedRowKeys;\n      var _selectedRows;\n      if (selected) {\n        // add\n        _selectedRowKeys = __spreadArray(__spreadArray([], selectedRowKeys, true), records.map(function (r) {\n          return r[rowKey];\n        }), true);\n        _selectedRows = __spreadArray(__spreadArray([], selectedRows, true), records, true);\n      } else {\n        // remove\n        _selectedRowKeys = selectedRowKeys.filter(function (key) {\n          return !records.find(function (r) {\n            return r[rowKey] === key;\n          });\n        });\n        _selectedRows = selectedRows.filter(function (row) {\n          return !records.find(function (r) {\n            return r[rowKey] === row[rowKey];\n          });\n        });\n      }\n      setSelectedRowKeys(_selectedRowKeys);\n      setSelectedRows(_selectedRows);\n      props.onChange(_selectedRowKeys);\n    }\n    /**\n     * renderDropdownRender\n     */\n    function renderDropdownRender() {\n      var dataSource = inputValue ? getDataSource().filter(function (t) {\n        return t[props.labelKey || 'name'].indexOf(inputValue) !== -1;\n      }) : getDataSource();\n      return /*#__PURE__*/React.createElement(_Table, __assign({\n        dataSource: dataSource,\n        loading: loading,\n        pagination: getPagination(),\n        rowKey: props.rowKey || 'id',\n        rowSelection: {\n          type: 'checkbox',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onSelect: function onSelect(record, selected) {\n            filter(selected, [record]);\n          },\n          onSelectAll: function onSelectAll(selected, selectedRows, changeRows) {\n            filter(selected, changeRows);\n          }\n        }\n      }, props));\n    }\n    useMount(function () {\n      loadData();\n    });\n    useUpdateEffect(function () {\n      loadData();\n    }, [pagin.current, pagin.pageSize]);\n    return /*#__PURE__*/React.createElement(MultiSelectFormItem, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(value) {\n          props.onChange(value);\n          setSelectedRowKeys(value);\n          setSelectedRows(value.map(function (t) {\n            return Array.from(data.values()).find(function (_item) {\n              return _item[props.rowKey || 'id'] === t;\n            });\n          }));\n        },\n        onClear: function onClear() {\n          setSelectedRowKeys([]);\n          setSelectedRows([]);\n          setInputValue('');\n          props.onChange([]);\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onSearch: function onSearch(inputValue) {\n          return setInputValue(inputValue);\n        },\n        filterOption: function filterOption() {\n          return false;\n        }\n      }, (_a = props.selectProps) !== null && _a !== void 0 ? _a : {}),\n      dataSource: getDataSource().map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  };\n});"],"names":["_Table","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useMount","useUpdateEffect","React","useRef","useState","Dict","setItem","MultiSelectFormItem","SelectFormItem","TableFormItem","TableMultiSelectFormItem","TableSelectFormItem","deepDep","dictName","_a","cascadeParams","onDataSourceChange","props","handler","value","dataSource","Function","createElement","_b","data","setData","then","res","loading","setLoading","_c","current","pageSize","total","pagin","setPagin","loadData","totalKey","dataKey","catch","pagination","onChange","onShowSizeChange","showQuickJumper","rowKey","inputValue","setInputValue","_d","_e","_f","selectedRowKeys","setSelectedRowKeys","_g","find","selectedRows","setSelectedRows","selectProps","dropdownRender","filter","labelKey","rowSelection","type","filterOption","onSearch","onBlur","onClear","map","label","Map","getDataSource","_item","get","set","selected","records","_selectedRowKeys","_selectedRows","r","key","row","onSelect","record","onSelectAll","changeRows","values"],"mappings":"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"}