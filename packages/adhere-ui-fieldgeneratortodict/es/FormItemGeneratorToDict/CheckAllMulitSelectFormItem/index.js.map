{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["import _Divider from \"@baifendian/adhere-ui-anthoc/es/divider\";\nimport _Checkbox from \"@baifendian/adhere-ui-anthoc/es/checkbox\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useEffect, useState } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nvar selectorPrefix = 'adhere-ui-antdformitem';\n/**\n * CheckAllMulitSelectFormItem\n * @param props\n * @constructor\n */\nvar CheckAllMulitSelectFormItem = function CheckAllMulitSelectFormItem(props) {\n  var _a;\n  var _b = useState(false),\n    checked = _b[0],\n    setChecked = _b[1];\n  function onCheckAllChange(e) {\n    setChecked(e.target.checked);\n    if (props.onCheckAllChange) {\n      props.onCheckAllChange(e.target.checked);\n    }\n  }\n  function onChange(value) {\n    var _a, _b;\n    setChecked(value.length === (props.dataSource || []).map(function (t) {\n      return t.value;\n    }).length);\n    (_b = (_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  }\n  function renderDropdownRender(menu) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap-checkallwrap\")\n    }, /*#__PURE__*/React.createElement(_Checkbox, {\n      checked: checked,\n      onChange: onCheckAllChange\n    }, Intl.v('全选'))), /*#__PURE__*/React.createElement(_Divider, {\n      style: {\n        margin: '4px 0'\n      }\n    }), menu);\n  }\n  useEffect(function () {\n    var _a;\n    setChecked(JSON.stringify(JSON.parse(JSON.stringify(((_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value) || [])).sort()) === JSON.stringify((props.dataSource || []).map(function (t) {\n      return t.value;\n    }).sort()));\n  }, [(_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value, props.dataSource]);\n  return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n    selectProps: __assign(__assign({}, props.selectProps), {\n      dropdownRender: renderDropdownRender,\n      onChange: onChange\n    }),\n    dataSource: props.dataSource\n  });\n};\nexport default CheckAllMulitSelectFormItem;"],"names":["_Divider","_Checkbox","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","Intl","MulitSelectFormItem","selectorPrefix","CheckAllMulitSelectFormItem","props","_b","checked","setChecked","onCheckAllChange","e","target","_a","JSON","stringify","parse","selectProps","value","sort","dataSource","map","createElement","dropdownRender","menu","className","concat","onChange","v","style","margin"],"mappings":"OAAOA,aAAc,iDACdC,cAAe,2CACtB,IAAIC,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,SACOO,OAASC,UAAWC,QAAuB,KAAP,eACpCC,SAAU,sCACVC,wBAAyB,yBAChC,IAAIC,eAAiB,yBAMjBC,4BAA8B,SAAqCC,GACrE,IACIC,EAAKN,SAAS,CAAA,CAAK,EACrBO,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAClB,SAASG,EAAiBC,GACxBF,EAAWE,EAAEC,OAAOJ,OAAO,EACvBF,EAAMI,kBACRJ,EAAMI,iBAAiBC,EAAEC,OAAOJ,OAAO,CAE3C,CA4BA,OANAR,UAAU,WACR,IAAIa,EACJJ,EAAWK,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,WAAW,OAACF,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,QAAU,EAAE,CAAC,EAAEC,KAAK,CAAC,IAAML,KAAKC,WAAWT,EAAMc,YAAc,IAAIC,IAAI,SAAUjC,GACnP,OAAOA,EAAE8B,KACX,CAAC,EAAEC,KAAK,CAAC,CAAC,CACZ,EAAG,CAAC,OAACN,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,MAAOZ,EAAMc,WAAW,EACvHrB,MAAMuB,cAAcnB,oBAAqB,CAC3Dc,YAAajC,SAASA,SAAS,GAAIsB,EAAMW,WAAW,EAAG,CACrDM,eAtBJ,SAA8BC,GAC5B,OAAoBzB,MAAMuB,cAAc,MAAO,CAC7CG,UAAW,GAAGC,OAAOtB,eAAgB,OAAO,CAC9C,EAAgBL,MAAMuB,cAAc,MAAO,CACzCG,UAAW,GAAGC,OAAOtB,eAAgB,oBAAoB,CAC3D,EAAgBL,MAAMuB,cAAcvC,UAAW,CAC7CyB,QAASA,EACTmB,SAAUjB,CACZ,EAAGR,KAAK0B,EAAE,IAAI,CAAC,CAAC,EAAgB7B,MAAMuB,cAAcxC,SAAU,CAC5D+C,MAAO,CACLC,OAAQ,OACV,CACF,CAAC,EAAGN,CAAI,CACV,EAUIG,SA9BJ,SAAkBT,GAChB,IAAIL,EAAIN,EACRE,EAAWS,EAAMzB,UAAYa,EAAMc,YAAc,IAAIC,IAAI,SAAUjC,GACjE,OAAOA,EAAE8B,KACX,CAAC,EAAEzB,MAAM,EACT,OAACc,EAAK,OAACM,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGc,WAA+CpB,EAAGV,KAAKgB,EAAIK,CAAK,CACvL,CAyBE,CAAC,EACDE,WAAYd,EAAMc,UACpB,CAAC,CACH,iBACef"}