import _TreeEntityValueHOC from"@baifendian/adhere-ui-anthoc/es/tree-entity-value-hoc";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,t=1,l=arguments.length;t<l;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,n){var t={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)n.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]]);return t};import React,{cloneElement,memo,useRef,useState}from"react";var DEFAULT_TREE_DATA_PROP="treeData",TreeEntityValueHOC=memo(function(e){var n,t=e.children,l=__rest(e,["children"]),e=useState([]),r=e[0],a=e[1],o=useRef(new Map),r=cloneElement(t,__assign(__assign(((e={})[null!=(n=l.treeDataProp)?n:DEFAULT_TREE_DATA_PROP]=r,e),null!=(n=t.props)?n:{}),{onDataSourceChange:function(e,n){var t;n?"paging"===n.type&&void 0!==(null==(t=null==n?void 0:n.info)?void 0:t.page)&&null!==(null==(t=null==n?void 0:n.info)?void 0:t.page)&&""!==(null==(t=null==n?void 0:n.info)?void 0:t.page)&&0!==(null==(t=null==n?void 0:n.info)?void 0:t.page)&&"number"==typeof(null==(t=null==n?void 0:n.info)?void 0:t.page)&&(t=null!=(t=null==(t=null==l?void 0:l.getTreeDataByDataSource)?void 0:t.call(l,e))?t:e,o.current.set(null==(n=null==n?void 0:n.info)?void 0:n.page,t),a(Array.from(o.current.values()).flat())):a(null!=(t=null==(n=null==l?void 0:l.getTreeDataByDataSource)?void 0:n.call(l,e))?t:e)}}));return React.createElement(_TreeEntityValueHOC,__assign({},l),r)});export default TreeEntityValueHOC;
//# sourceMappingURL=TreeEntityValueHOC.js.map
