import _ArrayEntityValueHOC from"@baifendian/adhere-ui-anthoc/es/array-entity-value-hoc";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(n){for(var e,t=1,l=arguments.length;t<l;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}).apply(this,arguments)},__rest=this&&this.__rest||function(n,e){var t={};for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(t[o[l]]=n[o[l]]);return t};import React,{cloneElement,memo,useRef,useState}from"react";var DEFAULT_OPTIONS_PROP="options",ArrayEntityValueHOC=memo(function(n){var e,t=n.children,l=__rest(n,["children"]),n=useState([]),o=n[0],r=n[1],a=useRef(new Map),o=cloneElement(t,__assign(__assign(((n={})[null!=(e=l.optionsProp)?e:DEFAULT_OPTIONS_PROP]=o,n),null!=(e=t.props)?e:{}),{onDataSourceChange:function(n,e){var t;e?"paging"===e.type&&void 0!==(null==(t=null==e?void 0:e.info)?void 0:t.page)&&null!==(null==(t=null==e?void 0:e.info)?void 0:t.page)&&""!==(null==(t=null==e?void 0:e.info)?void 0:t.page)&&0!==(null==(t=null==e?void 0:e.info)?void 0:t.page)&&"number"==typeof(null==(t=null==e?void 0:e.info)?void 0:t.page)&&(t=null!=(t=null==(t=null==l?void 0:l.getOptionsByDataSource)?void 0:t.call(l,n))?t:n,a.current.set(null==(e=null==e?void 0:e.info)?void 0:e.page,t),r(Array.from(a.current.values()).flat())):r(null!=(t=null==(e=null==l?void 0:l.getOptionsByDataSource)?void 0:e.call(l,n))?t:n)}}));return React.createElement(_ArrayEntityValueHOC,__assign({},l),o)});export default ArrayEntityValueHOC;
//# sourceMappingURL=ArrayEntityValueHOC.js.map
