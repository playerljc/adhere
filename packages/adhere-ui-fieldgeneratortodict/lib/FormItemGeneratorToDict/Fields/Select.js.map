{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar debounce_1 = __importDefault(require(\"lodash/debounce\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_ui_anthoc_1 = require(\"@baifendian/adhere-ui-anthoc\");\nvar adhere_ui_hooks_1 = __importDefault(require(\"@baifendian/adhere-ui-hooks\"));\nvar adhere_util_dict_1 = __importDefault(require(\"@baifendian/adhere-util-dict\"));\nvar adhere_util_watchmemoized_1 = __importDefault(require(\"@baifendian/adhere-util-watchmemoized\"));\nvar CheckAllMulitSelectFormItem_1 = __importDefault(require(\"../CheckAllMulitSelectFormItem\"));\nvar ItemFactory_1 = require(\"../ItemFactory\");\nvar MulitSelectFormItem_1 = __importDefault(require(\"../MulitSelectFormItem\"));\nvar SelectFormItem_1 = __importDefault(require(\"../SelectFormItem\"));\nvar util_1 = require(\"../util\");\n// const FormItemComponents = {};\nvar memoized = adhere_util_watchmemoized_1.default.memoized;\nvar useForceUpdate = adhere_ui_hooks_1.default.useForceUpdate;\n/**\n * initSelect\n * @description 初始化Select\n */\n// export default () => {\n//   // 名称以Select结尾的字典\n//   const selectDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('Select'),\n//   );\n//\n//   // 名称以DynamicSelect结尾的字典\n//   const selectDynamicDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('SelectDynamic'),\n//   );\n//\n//   // 名称以AutoComplete结尾的字典\n//   const selectAutoCompleteDictNames = Object.keys(Dict.handlers).filter((dictName) =>\n//     dictName.endsWith('AutoSelectComplete'),\n//   );\n// SelectFormItemWrap\nvar SelectFormItemWrap = function SelectFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return react_1.default.createElement(SelectFormItem_1.default, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// MulitSelectFormItem\nvar SelectMulitFormItemWrap = function SelectMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    props = __rest(_a, [\"dataSource\"]);\n  // @ts-ignore\n  return react_1.default.createElement(MulitSelectFormItem_1.default, {\n    selectProps: __assign({}, props),\n    dataSource: dataSource\n  });\n};\n// CheckAllMulitSelectFormItem\nvar SelectCheckAllMulitFormItemWrap = function SelectCheckAllMulitFormItemWrap(_a) {\n  var dataSource = _a.dataSource,\n    onCheckAllChange = _a.onCheckAllChange,\n    props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n  return react_1.default.createElement(CheckAllMulitSelectFormItem_1.default\n  // @ts-ignore\n  , {\n    // @ts-ignore\n    selectProps: __assign({}, props),\n    dataSource: dataSource,\n    onCheckAllChange: function onCheckAllChange(checkAll) {\n      props.onChange(checkAll ? dataSource.map(function (t) {\n        return t.value;\n      }) : []);\n    }\n  });\n};\n// 静态的Select\n// selectDictNames.forEach((selectDictName) => {\n// 创建三个FormItem\n// SelectFormItem\n// MulitSelectFormItem\n// CheckAllMulitSelectFormItem\n// SelectFormItem\n(0, ItemFactory_1.setItem)('Select', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    console.log('Dict', dictName, adhere_util_dict_1.default.value);\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    return react_1.default.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// MulitSelectFormItem\n(0, ItemFactory_1.setItem)('Select', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    return react_1.default.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// CheckAllMulitSelectFormItem\n(0, ItemFactory_1.setItem)('Select', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    var dataSource;\n    // 如果是函数(一般是级联)\n    if (handler instanceof Function) {\n      dataSource = handler(cascadeParams);\n    } else {\n      dataSource = handler;\n    }\n    // @ts-ignore\n    return react_1.default.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: dataSource\n    }));\n  };\n});\n// });\n// 动态的Select\n// selectDynamicDictNames.forEach((dictName) => {\n// 创建三个FormItem\n// SelectFormItem\n// MulitSelectFormItem\n// CheckAllMulitSelectFormItem\n// SelectFormItem\n(0, ItemFactory_1.setItem)('SelectDynamic', 'FormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = (0, react_1.useState)([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    (0, react_1.useEffect)(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    (0, react_1.useEffect)(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [(0, util_1.deepDep)(cascadeParams)]);\n    return react_1.default.createElement(SelectFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// MulitSelectFormItem\n(0, ItemFactory_1.setItem)('SelectDynamic', 'MulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = (0, react_1.useState)([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    (0, react_1.useEffect)(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    (0, react_1.useEffect)(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [(0, util_1.deepDep)(cascadeParams)]);\n    return react_1.default.createElement(SelectMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// CheckAllMulitSelectFormItem\n(0, ItemFactory_1.setItem)('SelectDynamic', 'CheckAllMulitFormItem', function (dictName) {\n  return function (_a) {\n    var cascadeParams = _a.cascadeParams,\n      props = __rest(_a, [\"cascadeParams\"]);\n    var _b = (0, react_1.useState)([]),\n      data = _b[0],\n      setData = _b[1];\n    // 存放字典的返回值(可能是promise也可能是Function)\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    (0, react_1.useEffect)(function () {\n      // 如果是Promise直接返回\n      if (handler.then) {\n        handler.then(function (res) {\n          setData(res);\n        });\n      }\n    }, []);\n    (0, react_1.useEffect)(function () {\n      // 如果是函数(一般是级联)\n      if (handler instanceof Function) {\n        handler(cascadeParams).then(function (res) {\n          setData(res);\n        });\n      }\n    }, [(0, util_1.deepDep)(cascadeParams)]);\n    // @ts-ignore\n    return react_1.default.createElement(SelectCheckAllMulitFormItemWrap, __assign({}, props, {\n      dataSource: data\n    }));\n  };\n});\n// });\n// 自动补全的Select\n// selectAutoCompleteDictNames.forEach((dictName) => {\n// AutoCompleteFormItem\n// FormItem\n(0, ItemFactory_1.setItem)('AutoSelectComplete', 'FormItem', function (dictName) {\n  return function (_a) {\n    var _b = _a.debounceTimeout,\n      debounceTimeout = _b === void 0 ? 300 : _b,\n      props = __rest(_a, [\"debounceTimeout\"]);\n    var forceUpdate = useForceUpdate();\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    var fetchRef = (0, react_1.useRef)(0);\n    var _c = (0, react_1.useState)(false),\n      fetching = _c[0],\n      setFetching = _c[1];\n    var _d = (0, react_1.useState)([]),\n      options = _d[0],\n      setOptions = _d[1];\n    var debounceFetcher = (0, react_1.useRef)();\n    (0, react_1.useEffect)(function () {\n      debounceFetcher.current = (0, debounce_1.default)(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        debugger;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return react_1.default.createElement(SelectFormItem_1.default\n    // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({\n        notFoundContent: fetching ? react_1.default.createElement(adhere_ui_anthoc_1.Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, props),\n      dataSource: options\n    });\n  };\n});\nvar AutoSelectCompleteFormItem;\n// AutoCompleteMulitFormItem\n(0, ItemFactory_1.setItem)('AutoSelectComplete', 'MulitFormItem', function (dictName) {\n  return function (props) {\n    // FormItemComponents[`${dictName}FormItem`];\n    var Component = AutoSelectCompleteFormItem !== null && AutoSelectCompleteFormItem !== void 0 ? AutoSelectCompleteFormItem : AutoSelectCompleteFormItem = (0, ItemFactory_1.getItem)({\n      itemName: 'AutoSelectComplete',\n      functionName: 'FormItem',\n      dictName: dictName\n    });\n    return react_1.default.createElement(Component, __assign({\n      mode: \"multiple\"\n    }, props));\n  };\n});\n// CheckAllAutoCompleteMulitSelectFormItem\n(0, ItemFactory_1.setItem)('AutoSelectComplete', 'CheckAllMulitFormItem', function (dictName) {\n  return function (props) {\n    var forceUpdate = useForceUpdate();\n    var onCheckAllChange = props.onCheckAllChange,\n      debounceTimeout = props.debounceTimeout,\n      others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n    var handler = adhere_util_dict_1.default.value[dictName].value;\n    var fetchRef = (0, react_1.useRef)(0);\n    var _a = (0, react_1.useState)(false),\n      fetching = _a[0],\n      setFetching = _a[1];\n    var _b = (0, react_1.useState)([]),\n      options = _b[0],\n      setOptions = _b[1];\n    var debounceFetcher = (0, react_1.useRef)();\n    (0, react_1.useEffect)(function () {\n      debounceFetcher.current = (0, debounce_1.default)(memoized.createMemoFun(function (value) {\n        fetchRef.current += 1;\n        var fetchId = fetchRef.current;\n        if (!value || Array.isArray(value) && !value.length) {\n          setOptions(function (_opts) {\n            return _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            });\n          });\n          setFetching(false);\n          return;\n        }\n        handler(value).then(function (newOptions) {\n          if (fetchId !== fetchRef.current) {\n            // for fetch callback order\n            return;\n          }\n          // @ts-ignore\n          setOptions(function (_opts) {\n            var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n              if (Array.isArray(props.value)) {\n                // @ts-ignore\n                return !!props.value.find(function (v) {\n                  return v === t.value;\n                });\n              } else {\n                // @ts-ignore\n                return t.value === props.value;\n              }\n            }), true);\n            return __spreadArray([], Array.from(new Set(data.map(function (t) {\n              return t.value;\n            }))), true).map(function (val) {\n              return data.find(function (item) {\n                return item.value === val;\n              });\n            });\n          });\n          setFetching(false);\n        });\n      }), debounceTimeout || 300);\n      forceUpdate();\n    }, [debounceTimeout, props.value]);\n    return react_1.default.createElement(CheckAllMulitSelectFormItem_1.default, {\n      selectProps: __assign({\n        notFoundContent: fetching ? react_1.default.createElement(adhere_ui_anthoc_1.Spin, {\n          size: \"small\"\n        }) : null,\n        filterOption: false,\n        onSearch: debounceFetcher.current,\n        onClear: function onClear() {\n          setOptions([]);\n          setFetching(false);\n        }\n      }, others),\n      dataSource: options,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        // @ts-ignore\n        others.onChange(checkAll ? options.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  };\n});\n// });\n// return FormItemComponents;\n// };"],"names":["AutoSelectCompleteFormItem","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","__importDefault","default","debounce_1","exports","require","react_1","adhere_ui_anthoc_1","adhere_ui_hooks_1","adhere_util_dict_1","adhere_util_watchmemoized_1","CheckAllMulitSelectFormItem_1","ItemFactory_1","MulitSelectFormItem_1","SelectFormItem_1","util_1","memoized","useForceUpdate","SelectFormItemWrap","_a","dataSource","props","createElement","selectProps","SelectMulitFormItemWrap","SelectCheckAllMulitFormItemWrap","onCheckAllChange","checkAll","onChange","map","setItem","dictName","cascadeParams","handler","console","log","Function","_b","useState","data","setData","useEffect","then","res","deepDep","debounceTimeout","forceUpdate","fetchRef","useRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","filter","find","newOptions","Set","val","item","notFoundContent","Spin","size","filterOption","onSearch","onClear","Component","getItem","itemName","functionName","mode","others"],"mappings":"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"}