{"version":3,"file":"globalindicator.js","sources":["globalindicator.js"],"sourcesContent":["import Resource from '@baifendian/adhere-util-resource';\nvar selectorPrefix = 'adhere-ui-globalindicator';\nvar MAX_ZINDEX = Resource.Dict.value.ResourceNormalMaxZIndex.value;\nvar handlers = new Set();\nexport default {\n    /**\n     * show - 显示一个遮罩\n     * @param {HTMLElement} parent\n     * @param {string} text\n     * @param {number} zIndex\n     * @return {HTMLElement}\n     */\n    show: function (parent, text, zIndex) {\n        if (parent === void 0) { parent = document.body; }\n        if (text === void 0) { text = ''; }\n        if (zIndex === void 0) { zIndex = MAX_ZINDEX; }\n        var el = document.createElement('div');\n        el.innerHTML = \"\\n      <div class=\\\"\".concat(selectorPrefix, \"\\\" style=\\\"z-index: \").concat(zIndex || MAX_ZINDEX, \"\\\">\\n       <span class=\\\"\").concat(selectorPrefix, \"-dot\\\"><i></i><i></i><i></i><i></i></span>\\n       <div class=\\\"\").concat(selectorPrefix, \"-text\\\">\").concat(text, \"</div>\\n      </div>\");\n        var indicatorDom = el.firstElementChild;\n        if (parent === document.body) {\n            indicatorDom.style.position = 'fixed';\n        }\n        parent.appendChild(indicatorDom);\n        handlers.add(indicatorDom);\n        return indicatorDom;\n    },\n    /**\n     * hide - 取消一个遮罩\n     * @param {HTMLElement} indicatorDom\n     */\n    hide: function (indicatorDom) {\n        var _a, _b;\n        if (indicatorDom) {\n            try {\n                (_b = (_a = indicatorDom === null || indicatorDom === void 0 ? void 0 : indicatorDom.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, indicatorDom);\n                handlers.delete(indicatorDom);\n            }\n            catch (e) { }\n        }\n    },\n    /**\n     * hideAll - 隐藏所有遮罩\n     */\n    hideAll: function () {\n        var values = Array.from(handlers.values());\n        values.forEach(function (el) {\n            var _a, _b;\n            try {\n                (_b = (_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, el);\n            }\n            catch (e) { }\n        });\n        handlers.clear();\n    },\n};\n"],"names":["Resource","selectorPrefix","MAX_ZINDEX","Dict","value","ResourceNormalMaxZIndex","handlers","Set","show","parent","text","zIndex","document","body","el","createElement","indicatorDom","innerHTML","concat","firstElementChild","style","position","appendChild","add","hide","_a","_b","parentElement","removeChild","call","delete","e","hideAll","Array","from","values","forEach","clear"],"mappings":"OAAOA,aAAc,mCACrB,IAAIC,eAAiB,4BACjBC,WAAaF,SAASG,KAAKC,MAAMC,wBAAwBD,MACzDE,SAAW,IAAIC,kBACJ,CAQXC,KAAM,SAAUC,EAAQC,EAAMC,GACX,KAAA,IAAXF,IAAqBA,EAASG,SAASC,MAC9B,KAAA,IAATH,IAAmBA,EAAO,IACf,KAAA,IAAXC,IAAqBA,EAAST,YAClC,IAAIY,EAAKF,SAASG,cAAc,KAAK,EAEjCC,GADJF,EAAGG,UAAY,uBAAwBC,OAAOjB,eAAgB,oBAAsB,EAAEiB,OAAOP,GAAUT,WAAY,0BAA4B,EAAEgB,OAAOjB,eAAgB,gEAAkE,EAAEiB,OAAOjB,eAAgB,SAAU,EAAEiB,OAAOR,EAAM,sBAAsB,EAC/RI,EAAGK,mBAMtB,OALIV,IAAWG,SAASC,OACpBG,EAAaI,MAAMC,SAAW,SAElCZ,EAAOa,YAAYN,CAAY,EAC/BV,SAASiB,IAAIP,CAAY,EAClBA,CACX,EAKAQ,KAAM,SAAUR,GACZ,IAAIS,EAAIC,EACR,GAAIV,EACA,IACI,OAACU,EAAK,OAACD,EAAKT,MAAAA,EAAmD,KAAA,EAASA,EAAaW,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIT,CAAY,EACtNV,SAASwB,OAAOd,CAAY,CAEpB,CAAZ,MAAOe,IAEf,EAIAC,QAAS,WACQC,MAAMC,KAAK5B,SAAS6B,OAAO,CAAC,EAClCC,QAAQ,SAAUtB,GACrB,IAAIW,EAAIC,EACR,IACI,OAACA,EAAK,OAACD,EAAKX,MAAAA,EAA+B,KAAA,EAASA,EAAGa,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIX,CAAE,CAEtK,CAAZ,MAAOiB,IACX,CAAC,EACDzB,SAAS+B,MAAM,CACnB,CACJ"}