import _Toast from"antd-mobile/es/components/toast";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,n){var t={};for(s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)n.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(t[s[r]]=e[s[r]]);return t};import{useMount,useUpdateEffect}from"ahooks";import classNames from"classnames";import React,{memo,useMemo,useRef}from"react";import Intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-mobile-ui-spin",Spin=memo(function(e){var n=e.className,t=e.style,r=e.spinning,s=e.zIndex,o=e.text,i=__rest(e,["className","style","spinning","zIndex","text"]),a=useRef({}),u=useRef({}),c=useMemo(function(){return!!r},[r]),l=useMemo(function(){return null!=s?s:999},[s]),e=useMemo(function(){return __assign({zIndex:l},null!=t?t:{})},[t,l]),f=useMemo(function(){return{icon:"loading",content:"".concat(Intl.v("加载中"),"...")}},[]);return useMount(function(){c&&(u.current=_Toast.show(__assign(__assign(__assign({},f),null!=i?i:{}),{content:null!=o?o:f.content,duration:0,getContainer:function(){return a.current}})))}),useUpdateEffect(function(){var e;c?u.current=_Toast.show(__assign(__assign(__assign({},f),null!=i?i:{}),{content:null!=o?o:f.content,duration:0,getContainer:function(){return a.current}})):null!=(e=null==u?void 0:u.current)&&e.close()},[c]),c&&React.createElement("div",{ref:a,className:classNames(selectorPrefix,n),style:e})});export default Spin;
//# sourceMappingURL=Spin.js.map
