{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.string.ends-with.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\n\nvar adhere_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\n\nvar adhere_util_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\n\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\n\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\n\nvar Node = function Node(props) {\n  var _a;\n\n  var _b = props.isReply,\n      isReply = _b === void 0 ? false : _b,\n      _c = props.dataKeys,\n      dataKeys = _c === void 0 ? {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  } : _c,\n      _d = props.limit,\n      limit = _d === void 0 ? 10 : _d,\n      keyProp = props.keyProp,\n      children = props.children,\n      isMoreProp = props.isMoreProp,\n      renderAuthor = props.renderAuthor,\n      renderAvatar = props.renderAvatar,\n      renderContent = props.renderContent,\n      renderDateTime = props.renderDateTime,\n      renderLoading = props.renderLoading,\n      showReplyText = props.showReplyText,\n      hideReplyText = props.hideReplyText,\n      loadMoreReplyText = props.loadMoreReplyText,\n      showReplyTextIcon = props.showReplyTextIcon,\n      loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon,\n      hideReplyTextIcon = props.hideReplyTextIcon,\n      fetchReply = props.fetchReply,\n      emojiPickerProps = props.emojiPickerProps,\n      _e = props.local,\n      local = _e === void 0 ? 'zh' : _e;\n\n  var _f = tslib_1.__read((0, react_1.useState)((_a = {}, _a[dataKeys.current] = 1, _a[dataKeys.list] = [], _a[dataKeys.totalCount] = 0, _a[dataKeys.totalPage] = 0, _a)), 2),\n      listData = _f[0],\n      setListData = _f[1];\n\n  var _g = tslib_1.__read((0, react_1.useState)(props === null || props === void 0 ? void 0 : props.data), 2),\n      data = _g[0],\n      setData = _g[1];\n\n  var _h = tslib_1.__read((0, react_1.useState)(false), 2),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = tslib_1.__read((0, react_1.useState)(false), 2),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = tslib_1.__read((0, react_1.useState)(false), 2),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = (0, react_1.useRef)({\n    page: 1,\n    limit: limit\n  });\n  var renderActions = (0, react_1.useCallback)(function () {\n    var _a;\n\n    var actions = tslib_1.__spreadArray([], tslib_1.__read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign({}, data), function (_data) {\n      return setData(_data);\n    })) || []).map(function (action, index) {\n      var _a, _b;\n\n      return adhere_ui_conditionalrender_1.default.conditionalRender({\n        conditional: !((_b = (_a = action === null || action === void 0 ? void 0 : action.props) === null || _a === void 0 ? void 0 : _a.className) === null || _b === void 0 ? void 0 : _b.endsWith('-actions-action')),\n        noMatch: action,\n        match: react_1.default.createElement(\"li\", {\n          key: index,\n          className: \"\".concat(selectorPrefix, \"-actions-action\")\n        }, action)\n      });\n    })), false);\n\n    if (!actions.find(function (t) {\n      var _a, _b;\n\n      return ((_b = (_a = t === null || t === void 0 ? void 0 : t.props) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.key) === 'reply';\n    })) {\n      actions.push(react_1.default.createElement(\"li\", {\n        key: \"reply\",\n        className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n        onClick: function onClick() {\n          return setShowReply(true);\n        }\n      }, adhere_util_intl_1.default.v('回复')));\n    }\n\n    return actions;\n  }, [props === null || props === void 0 ? void 0 : props.renderActions, data, showReply]);\n  var renderChildren = (0, react_1.useCallback)(function () {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[keyProp]\n      }, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: !children,\n        noMatch: function noMatch() {\n          return children === null || children === void 0 ? void 0 : children(record);\n        }\n      }, function () {\n        return react_1.default.createElement(Info_1.default, {\n          isReply: true,\n          data: record,\n          keyProp: keyProp,\n          isMoreProp: isMoreProp,\n          fetchData: props === null || props === void 0 ? void 0 : props.fetchData,\n          renderActions: props === null || props === void 0 ? void 0 : props.renderActions,\n          renderAuthor: renderAuthor,\n          renderAvatar: renderAvatar,\n          renderContent: renderContent,\n          renderDateTime: renderDateTime,\n          renderLoading: renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon\n        });\n      }));\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return react_1.default.createElement(\"li\", {\n        className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, react_1.default.createElement(\"a\", {\n        onClick: appendData\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(loadMoreCollapseTextIcon),\n        noMatch: function noMatch() {\n          return loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return loadMoreCollapseTextIcon instanceof Function ? loadMoreCollapseTextIcon() : loadMoreCollapseTextIcon;\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(loadMoreReplyText),\n        noMatch: function noMatch() {\n          return loadMoreReplyText;\n        }\n      }, function () {\n        return loadMoreReplyText instanceof Function ? loadMoreReplyText() : loadMoreReplyText;\n      }))));\n    }));\n  }, [listData, dataKeys.list, keyProp, isMoreProp, renderActions, renderAuthor, renderAvatar, renderContent, renderDateTime, renderLoading, showReplyText, hideReplyText, loadMoreReplyText, showReplyTextIcon, hideReplyTextIcon, loadMoreCollapseTextIcon, loading]);\n  var renderMore = (0, react_1.useCallback)(function () {\n    return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return react_1.default.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            return setCollapse(false);\n          }\n        }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(hideReplyTextIcon),\n          noMatch: function noMatch() {\n            return hideReplyTextIcon;\n          }\n        }, function () {\n          return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\n        })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(hideReplyText),\n          noMatch: function noMatch() {\n            return hideReplyText;\n          }\n        }, function () {\n          return hideReplyText instanceof Function ? hideReplyText() : hideReplyText;\n        })));\n      }\n    }, function () {\n      return react_1.default.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a;\n\n          if (!!listData[dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            return setCollapse(true);\n          });\n        }\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(showReplyTextIcon),\n        noMatch: function noMatch() {\n          return showReplyTextIcon;\n        }\n      }, function () {\n        return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(showReplyText),\n        noMatch: function noMatch() {\n          return showReplyText;\n        }\n      }, function () {\n        return showReplyText instanceof Function ? showReplyText() : showReplyText;\n      })));\n    });\n  }, [collapse, listData, dataKeys.list, hideReplyText, hideReplyTextIcon, showReplyText, showReplyTextIcon]);\n  var hasMore = (0, react_1.useCallback)(function () {\n    return listData[dataKeys.list].length <= listData[dataKeys.totalCount];\n  }, [listData, dataKeys.list, dataKeys.totalCount]);\n  var fetchData = (0, react_1.useCallback)(function () {\n    var _a, _b, _c;\n\n    return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign(tslib_1.__assign({}, paging.current), {\n      record: tslib_1.__assign({}, data)\n    }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\n      setLoading(false);\n      return data;\n    })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }, [props === null || props === void 0 ? void 0 : props.fetchData, paging.current.page, paging.current.limit, data]);\n\n  function loadData() {\n    var _a;\n\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: limit\n    };\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    var _a;\n\n    setLoading(true);\n    paging.current.page = paging.current.page + 1;\n    var list = dataKeys.list;\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(function (_listData) {\n        var _a;\n\n        return tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(_listData[list]), false), tslib_1.__read(res[list]), false), _a));\n      });\n    });\n  }\n\n  (0, react_1.useEffect)(function () {\n    return setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"horizontal\",\n    className: (0, classnames_1.default)(selectorPrefix, isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    autoFixed: true,\n    fit: true\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"vertical\"\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(tslib_1.__assign({}, data))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(tslib_1.__assign({}, data)))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null, react_1.default.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: showReply\n  }, function () {\n    return react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, react_1.default.createElement(Submit_1.default, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a;\n\n        (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\n          id: data === null || data === void 0 ? void 0 : data[keyProp],\n          record: tslib_1.__assign({}, data),\n          reply: reply\n        })) === null || _a === void 0 ? void 0 : _a.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      },\n      local: local,\n      emojiPickerProps: emojiPickerProps\n    }));\n  }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: data === null || data === void 0 ? void 0 : data[isMoreProp]\n  }, function () {\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default.Show, {\n      conditional: collapse\n    }, renderChildren()), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: loading\n    }, function () {\n      return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading();\n    }));\n  }))));\n};\n\nexports.default = (0, react_1.memo)(Node);"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","react_1","__importStar","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_1","adhere_util_intl_1","Info_1","Submit_1","selectorPrefix","Node","props","_b","isReply","_c","dataKeys","current","totalPage","list","totalCount","_d","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_e","local","_f","__read","useState","_a","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","renderActions","useCallback","actions","__spreadArray","call","__assign","_data","map","action","index","default","conditionalRender","conditional","className","endsWith","noMatch","match","createElement","key","concat","find","t","push","onClick","v","renderChildren","record","fetchData","hasMore","appendData","isFunction","Function","renderMore","length","loadData","then","catch","error","res","_listData","useEffect","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment","Show","memo"],"mappings":"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"}