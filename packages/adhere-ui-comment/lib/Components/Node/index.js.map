{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\r\nvar adhere_ui_flexlayout_1 = __importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\r\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\r\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar Info_1 = __importDefault(require(\"../../Reply/Info\"));\r\nvar Submit_1 = __importDefault(require(\"../../Reply/Submit\"));\r\nvar selectorPrefix = 'adhere-ui-comment-node';\r\n/**\r\n * Node\r\n * @param props\r\n * @constructor\r\n * @classdesc 节点(评论 | 回复)\r\n */\r\nvar Node = function (props) {\r\n    var _a;\r\n    var _b = props.isReply, isReply = _b === void 0 ? false : _b, _c = props.dataKeys, dataKeys = _c === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _c, _d = props.limit, limit = _d === void 0 ? 10 : _d, keyProp = props.keyProp, children = props.children, isMoreProp = props.isMoreProp, renderAuthor = props.renderAuthor, renderAvatar = props.renderAvatar, renderContent = props.renderContent, renderDateTime = props.renderDateTime, renderLoading = props.renderLoading, showReplyText = props.showReplyText, hideReplyText = props.hideReplyText, loadMoreReplyText = props.loadMoreReplyText, showReplyTextIcon = props.showReplyTextIcon, loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon, hideReplyTextIcon = props.hideReplyTextIcon, fetchReply = props.fetchReply, emojiPickerProps = props.emojiPickerProps, _e = props.local, local = _e === void 0 ? 'zh' : _e;\r\n    var _f = __read((0, react_1.useState)((_a = {},\r\n        _a[dataKeys.current] = 1,\r\n        _a[dataKeys.list] = [],\r\n        _a[dataKeys.totalCount] = 0,\r\n        _a[dataKeys.totalPage] = 0,\r\n        _a)), 2), listData = _f[0], setListData = _f[1];\r\n    var _g = __read((0, react_1.useState)(props === null || props === void 0 ? void 0 : props.data), 2), data = _g[0], setData = _g[1];\r\n    var _h = __read((0, react_1.useState)(false), 2), collapse = _h[0], setCollapse = _h[1];\r\n    var _j = __read((0, react_1.useState)(false), 2), loading = _j[0], setLoading = _j[1];\r\n    var _k = __read((0, react_1.useState)(false), 2), showReply = _k[0], setShowReply = _k[1];\r\n    var paging = (0, react_1.useRef)({\r\n        page: 1,\r\n        limit: limit,\r\n    });\r\n    var renderActions = (0, react_1.useCallback)(function () {\r\n        var _a;\r\n        var actions = __spreadArray([], __read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, __assign({}, data), function (_data) { return setData(_data); })) || []).map(function (action, index) {\r\n            var _a, _b;\r\n            return adhere_ui_conditionalrender_1.default.conditionalRender({\r\n                conditional: !((_b = (_a = action === null || action === void 0 ? void 0 : action.props) === null || _a === void 0 ? void 0 : _a.className) === null || _b === void 0 ? void 0 : _b.endsWith('-actions-action')),\r\n                noMatch: action,\r\n                match: (react_1.default.createElement(\"li\", { key: index, className: \"\".concat(selectorPrefix, \"-actions-action\") }, action)),\r\n            });\r\n        })), false);\r\n        if (!actions.find(function (t) { var _a, _b; return ((_b = (_a = t === null || t === void 0 ? void 0 : t.props) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.key) === 'reply'; })) {\r\n            actions.push(react_1.default.createElement(\"li\", { key: \"reply\", className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")), onClick: function () { return setShowReply(true); } }, adhere_util_intl_1.default.v('回复')));\r\n        }\r\n        return actions;\r\n    }, [props === null || props === void 0 ? void 0 : props.renderActions, data, showReply]);\r\n    var renderChildren = (0, react_1.useCallback)(function () {\r\n        var _a, _b;\r\n        return (react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-children\") }, (_b = (_a = (listData[dataKeys.list] || [])) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 :\r\n            _b.call(_a, function (record) { return (react_1.default.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-children-item\"), key: record[keyProp] },\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !children, noMatch: function () { return children === null || children === void 0 ? void 0 : children(record); } }, function () { return (react_1.default.createElement(Info_1.default, { isReply: true, data: record, dataKeys: dataKeys, limit: limit, keyProp: keyProp, isMoreProp: isMoreProp, fetchData: props === null || props === void 0 ? void 0 : props.fetchData, fetchReply: props === null || props === void 0 ? void 0 : props.fetchReply, renderActions: props === null || props === void 0 ? void 0 : props.renderActions, renderAuthor: renderAuthor, renderAvatar: renderAvatar, renderContent: renderContent, renderDateTime: renderDateTime, renderLoading: renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); }),\r\n            react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !loading && hasMore() }, function () { return (react_1.default.createElement(\"li\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more') },\r\n                react_1.default.createElement(\"a\", { onClick: appendData },\r\n                    react_1.default.createElement(\"span\", null,\r\n                        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(loadMoreCollapseTextIcon), noMatch: function () { return loadMoreCollapseTextIcon; } }, function () {\r\n                            return loadMoreCollapseTextIcon instanceof Function\r\n                                ? loadMoreCollapseTextIcon()\r\n                                : loadMoreCollapseTextIcon;\r\n                        })),\r\n                    react_1.default.createElement(\"span\", null,\r\n                        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(loadMoreReplyText), noMatch: function () { return loadMoreReplyText; } }, function () {\r\n                            return loadMoreReplyText instanceof Function\r\n                                ? loadMoreReplyText()\r\n                                : loadMoreReplyText;\r\n                        }))))); })));\r\n    }, [\r\n        listData,\r\n        dataKeys.list,\r\n        keyProp,\r\n        isMoreProp,\r\n        renderActions,\r\n        renderAuthor,\r\n        renderAvatar,\r\n        renderContent,\r\n        renderDateTime,\r\n        renderLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        loading,\r\n    ]);\r\n    var renderMore = (0, react_1.useCallback)(function () {\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !collapse, noMatch: function () { return (react_1.default.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () { return setCollapse(false); } },\r\n                react_1.default.createElement(\"span\", null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(hideReplyTextIcon), noMatch: function () { return hideReplyTextIcon; } }, function () {\r\n                        return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\r\n                    })),\r\n                react_1.default.createElement(\"span\", null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(hideReplyText), noMatch: function () { return hideReplyText; } }, function () { return (hideReplyText instanceof Function ? hideReplyText() : hideReplyText); })))); } }, function () { return (react_1.default.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () {\r\n                var _a;\r\n                if (!!listData[dataKeys.list].length) {\r\n                    setCollapse(true);\r\n                    return;\r\n                }\r\n                (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () { return setCollapse(true); });\r\n            } },\r\n            react_1.default.createElement(\"span\", null,\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(showReplyTextIcon), noMatch: function () { return showReplyTextIcon; } }, function () {\r\n                    return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\r\n                })),\r\n            react_1.default.createElement(\"span\", null,\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(showReplyText), noMatch: function () { return showReplyText; } }, function () { return (showReplyText instanceof Function ? showReplyText() : showReplyText); })))); }));\r\n    }, [\r\n        collapse,\r\n        listData,\r\n        dataKeys.list,\r\n        hideReplyText,\r\n        hideReplyTextIcon,\r\n        showReplyText,\r\n        showReplyTextIcon,\r\n    ]);\r\n    var hasMore = (0, react_1.useCallback)(function () { return listData[dataKeys.list].length <= listData[dataKeys.totalCount]; }, [listData, dataKeys.list, dataKeys.totalCount]);\r\n    var fetchData = (0, react_1.useCallback)(function () {\r\n        var _a, _b, _c;\r\n        return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), { record: __assign({}, data) }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\r\n            setLoading(false);\r\n            return data;\r\n        })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\r\n            setLoading(false);\r\n            return error;\r\n        });\r\n    }, [props === null || props === void 0 ? void 0 : props.fetchData, paging.current.page, paging.current.limit, data]);\r\n    function loadData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current = {\r\n            page: 1,\r\n            limit: limit,\r\n        };\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(res);\r\n        });\r\n    }\r\n    function appendData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current.page = paging.current.page + 1;\r\n        var list = dataKeys.list;\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(function (_listData) {\r\n                var _a;\r\n                return (__assign(__assign({}, res), (_a = {}, _a[dataKeys.list] = __spreadArray(__spreadArray([], __read(_listData[list]), false), __read(res[list]), false), _a)));\r\n            });\r\n        });\r\n    }\r\n    (0, react_1.useEffect)(function () {\r\n        setData(props.data);\r\n    }, [props === null || props === void 0 ? void 0 : props.data]);\r\n    return (react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"horizontal\", className: (0, classnames_1.default)(selectorPrefix, isReply ? \"\".concat(selectorPrefix, \"-reply\") : null) },\r\n        react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { className: \"\".concat(selectorPrefix, \"-avatar-wrap\") }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(__assign({}, data))),\r\n        react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, { autoFixed: true, fit: true },\r\n            react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"vertical\" },\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { className: \"\".concat(selectorPrefix, \"-title-row\"), fit: false },\r\n                    react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-author\") }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(__assign({}, data))),\r\n                    react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-date-time\") }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(__assign({}, data)))),\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, { className: \"\".concat(selectorPrefix, \"-content-wrap\") }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(__assign({}, data))),\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null,\r\n                    react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-actions\") }, renderActions())),\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: showReply }, function () { return (react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { style: { marginTop: 15 } },\r\n                    react_1.default.createElement(Submit_1.default, { onCancel: function () { return setShowReply(false); }, onResult: function (reply) {\r\n                            var _a;\r\n                            (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\r\n                                id: data === null || data === void 0 ? void 0 : data[keyProp],\r\n                                record: __assign({}, data),\r\n                                reply: reply,\r\n                            })) === null || _a === void 0 ? void 0 : _a.then(function () {\r\n                                setShowReply(false);\r\n                                loadData();\r\n                            });\r\n                        }, local: local, emojiPickerProps: emojiPickerProps }))); }),\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: data === null || data === void 0 ? void 0 : data[isMoreProp] }, function () { return (react_1.default.createElement(react_1.default.Fragment, null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !loading }, function () { return renderMore(); }),\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default.Show, { conditional: collapse }, renderChildren()),\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: loading }, function () { return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading(); }))); })))));\r\n};\r\nexports.default = (0, react_1.memo)(Node);\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__read","Symbol","iterator","r","e","ar","next","done","push","error","__spreadArray","to","from","pack","l","Array","slice","concat","__importDefault","default","classnames_1","exports","require","react_1","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_1","adhere_util_intl_1","Info_1","Submit_1","selectorPrefix","Node","props","_b","isReply","_c","dataKeys","current","totalPage","list","totalCount","_d","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_e","local","_f","useState","_a","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","renderActions","useCallback","actions","_data","map","action","index","conditionalRender","conditional","className","endsWith","noMatch","match","createElement","key","find","onClick","renderChildren","record","fetchData","hasMore","appendData","isFunction","Function","renderMore","loadData","then","catch","res","_listData","useEffect","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment","Show","memo"],"mappings":"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"}