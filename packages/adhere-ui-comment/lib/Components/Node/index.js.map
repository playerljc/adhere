{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propTypes = exports.defaultProps = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\n\nvar adhere_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar adhere_util_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util\"));\n\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\n\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n */\n\nfunction Node(props) {\n  var _a;\n\n  var _b, _c, _d, _e;\n\n  var _f = (0, react_1.useState)((_a = {}, _a[props.dataKeys.current] = 1, _a[props.dataKeys.list] = [], _a[props.dataKeys.totalCount] = 0, _a[props.dataKeys.totalPage] = 0, _a)),\n      listData = _f[0],\n      setListData = _f[1];\n\n  var _g = (0, react_1.useState)(props === null || props === void 0 ? void 0 : props.data),\n      data = _g[0],\n      setData = _g[1];\n\n  var _h = (0, react_1.useState)(false),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = (0, react_1.useState)(false),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = (0, react_1.useState)(false),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = (0, react_1.useRef)({\n    page: 1,\n    limit: props.limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return tslib_1.__spreadArray(tslib_1.__spreadArray([], (((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign({}, data), function (_data) {\n      setData(_data);\n    })) || []).map(function (action, index) {\n      return react_1.default.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    }), true), [react_1.default.createElement(\"li\", {\n      className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, adhere_util_intl_1.default.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[props.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[props.keyProp]\n      }, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: !(props === null || props === void 0 ? void 0 : props.children),\n        noMatch: function noMatch() {\n          var _a;\n\n          return (_a = props === null || props === void 0 ? void 0 : props.children) === null || _a === void 0 ? void 0 : _a.call(props, record);\n        }\n      }, function () {\n        return react_1.default.createElement(Info_1.default, {\n          isReply: true,\n          data: record,\n          keyProp: props.keyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchData,\n          renderActions: props.renderActions,\n          renderAuthor: props.renderAuthor,\n          renderAvatar: props.renderAvatar,\n          renderContent: props.renderContent,\n          renderDateTime: props.renderDateTime,\n          renderLoading: props.renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return react_1.default.createElement(\"li\", {\n        className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, react_1.default.createElement(\"a\", {\n        onClick: appendData\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.loadMoreReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.loadMoreReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreReplyText)();\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return react_1.default.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            // hide\n            setCollapse(false);\n          }\n        }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyTextIcon),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyTextIcon;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyTextIcon)();\n        })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyText),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyText;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyText)();\n        })));\n      }\n    }, function () {\n      return react_1.default.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a; // show\n\n\n          if (!!listData[props.dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            setCollapse(true);\n          });\n        }\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyText)();\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[props.dataKeys.list].length <= listData[props.dataKeys.totalCount];\n  }\n\n  function loadData() {\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: props.limit\n    };\n    return fetchData(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    setLoading(true);\n    paging.current.page = paging.current.page + 1; // @ts-ignore\n\n    var list = props.dataKeys.list;\n    return fetchData(function (res) {\n      var _a;\n\n      setListData(tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[props.dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], listData[list], true), res[list], true), _a)));\n    });\n  }\n\n  function fetchData(callback) {\n    var _a;\n\n    return (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign(tslib_1.__assign({}, paging.current), {\n      record: tslib_1.__assign({}, data)\n    })).then(function (data) {\n      callback(data);\n      setLoading(false);\n      return data;\n    }).catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  (0, react_1.useEffect)(function () {\n    setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"horizontal\",\n    className: (0, classnames_1.default)(selectorPrefix, props.isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, (_b = props === null || props === void 0 ? void 0 : props.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    autoFixed: true,\n    fit: true\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"vertical\"\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, (_c = props === null || props === void 0 ? void 0 : props.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, (_d = props === null || props === void 0 ? void 0 : props.renderDateTime) === null || _d === void 0 ? void 0 : _d.call(props, tslib_1.__assign({}, data)))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, (_e = props === null || props === void 0 ? void 0 : props.renderContent) === null || _e === void 0 ? void 0 : _e.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null, react_1.default.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: showReply\n  }, function () {\n    return react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, react_1.default.createElement(Submit_1.default, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a, _b;\n\n        (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchReply) === null || _a === void 0 ? void 0 : _a.call(props, {\n          id: data === null || data === void 0 ? void 0 : data[props.keyProp],\n          record: tslib_1.__assign({}, data),\n          reply: reply\n        })) === null || _b === void 0 ? void 0 : _b.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      }\n    }));\n  }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: data === null || data === void 0 ? void 0 : data[props.isMoreProp]\n  }, function () {\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: loading\n    }, function () {\n      var _a;\n\n      return (_a = props === null || props === void 0 ? void 0 : props.renderLoading) === null || _a === void 0 ? void 0 : _a.call(props);\n    }));\n  }))));\n}\n\nexports.defaultProps = {\n  isReply: false,\n  limit: 10,\n  dataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  }\n};\nexports.propTypes = {\n  isReply: prop_types_1.default.bool,\n  data: prop_types_1.default.shape({\n    key: prop_types_1.default.string\n  }),\n  dataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  renderLoading: prop_types_1.default.func,\n  limit: prop_types_1.default.number,\n  fetchData: prop_types_1.default.func,\n  fetchReply: prop_types_1.default.func,\n  keyProp: prop_types_1.default.string,\n  isMoreProp: prop_types_1.default.string,\n  renderActions: prop_types_1.default.func,\n  renderAuthor: prop_types_1.default.func,\n  renderAvatar: prop_types_1.default.func,\n  renderContent: prop_types_1.default.func,\n  renderDateTime: prop_types_1.default.func,\n  showReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  hideReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  loadMoreReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  showReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  hideReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  loadMoreCollapseTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func])\n};\nNode.defaultProps = exports.defaultProps;\nNode.propTypes = exports.propTypes;\nexports.default = Node;"],"names":["require","Object","defineProperty","exports","value","propTypes","defaultProps","tslib_1","react_1","__importStar","prop_types_1","__importDefault","classnames_1","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_intl_1","adhere_util_1","Submit_1","Info_1","selectorPrefix","Node","props","_f","useState","_a","dataKeys","current","list","totalCount","totalPage","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","limit","renderChildren","_b","default","createElement","className","concat","map","call","record","key","keyProp","conditional","children","noMatch","isReply","isMoreProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","length","onClick","appendData","isFunction","loadData","res","__assign","__spreadArray","callback","then","catch","error","useEffect","direction","Fixed","Auto","autoFixed","fit","_c","_d","_e","_data","action","index","v","style","marginTop","onCancel","onResult","reply","fetchReply","id","Fragment","bool","shape","string","func","number","oneOfType","node"],"mappings":"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"}