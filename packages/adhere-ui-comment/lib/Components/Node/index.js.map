{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propTypes = exports.defaultProps = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\n\nvar adhere_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar adhere_util_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util\"));\n\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\n\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n */\n\nfunction Node(props) {\n  var _a;\n\n  var _b, _c, _d, _e, _f;\n\n  var _g = (0, react_1.useState)((_a = {}, _a[props.dataKeys.current] = 1, _a[props.dataKeys.list] = [], _a[props.dataKeys.totalCount] = 0, _a[props.dataKeys.totalPage] = 0, _a)),\n      listData = _g[0],\n      setListData = _g[1];\n\n  var _h = (0, react_1.useState)(false),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = (0, react_1.useState)(false),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = (0, react_1.useState)(false),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = (0, react_1.useRef)({\n    page: 1,\n    limit: props.limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return tslib_1.__spreadArray(tslib_1.__spreadArray([], (((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, props === null || props === void 0 ? void 0 : props.data)) || []).map(function (action, index) {\n      return react_1.default.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    }), true), [react_1.default.createElement(\"li\", {\n      className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, adhere_util_intl_1.default.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[props.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[props.keyProp]\n      }, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: !(props === null || props === void 0 ? void 0 : props.children),\n        noMatch: function noMatch() {\n          var _a;\n\n          return (_a = props === null || props === void 0 ? void 0 : props.children) === null || _a === void 0 ? void 0 : _a.call(props, record);\n        }\n      }, function () {\n        return react_1.default.createElement(Info_1.default, {\n          isReply: true,\n          data: record,\n          keyProp: props.keyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchData,\n          renderActions: props.renderActions,\n          renderAuthor: props.renderAuthor,\n          renderAvatar: props.renderAvatar,\n          renderContent: props.renderContent,\n          renderDateTime: props.renderDateTime,\n          renderLoading: props.renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return react_1.default.createElement(\"li\", {\n        className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, react_1.default.createElement(\"a\", {\n        onClick: appendData\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.loadMoreReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.loadMoreReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreReplyText)();\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return react_1.default.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            // hide\n            setCollapse(false);\n          }\n        }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyTextIcon),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyTextIcon;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyTextIcon)();\n        })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyText),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyText;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyText)();\n        })));\n      }\n    }, function () {\n      return react_1.default.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a; // show\n\n\n          if (!!listData[props.dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            setCollapse(true);\n          });\n        }\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyText)();\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[props.dataKeys.list].length <= listData[props.dataKeys.totalCount];\n  }\n\n  function loadData() {\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: props.limit\n    };\n    return fetchData(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    setLoading(true);\n    paging.current.page = paging.current.page + 1; // @ts-ignore\n\n    var list = props.dataKeys.list;\n    return fetchData(function (res) {\n      var _a;\n\n      setListData(tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[props.dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], listData[list], true), res[list], true), _a)));\n    });\n  }\n\n  function fetchData(callback) {\n    var _a, _b;\n\n    return (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign(tslib_1.__assign({}, paging.current), {\n      id: (_b = props === null || props === void 0 ? void 0 : props.data) === null || _b === void 0 ? void 0 : _b[props.keyProp]\n    })).then(function (data) {\n      callback(data);\n      setLoading(false);\n      return data;\n    }).catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  return react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"horizontal\",\n    className: (0, classnames_1.default)(selectorPrefix, props.isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, (_b = props === null || props === void 0 ? void 0 : props.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(props, props.data)), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    autoFixed: true,\n    fit: true\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"vertical\"\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, (_c = props === null || props === void 0 ? void 0 : props.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(props, props.data)), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, (_d = props === null || props === void 0 ? void 0 : props.renderDateTime) === null || _d === void 0 ? void 0 : _d.call(props, props.data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, (_e = props === null || props === void 0 ? void 0 : props.renderContent) === null || _e === void 0 ? void 0 : _e.call(props, props.data)), react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null, react_1.default.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: showReply\n  }, function () {\n    return react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, react_1.default.createElement(Submit_1.default, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a, _b, _c;\n\n        (_c = (_a = props === null || props === void 0 ? void 0 : props.fetchReply) === null || _a === void 0 ? void 0 : _a.call(props, {\n          id: (_b = props === null || props === void 0 ? void 0 : props.data) === null || _b === void 0 ? void 0 : _b[props.keyProp],\n          reply: reply\n        })) === null || _c === void 0 ? void 0 : _c.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      }\n    }));\n  }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: (_f = props === null || props === void 0 ? void 0 : props.data) === null || _f === void 0 ? void 0 : _f[props.isMoreProp]\n  }, function () {\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: loading\n    }, function () {\n      var _a;\n\n      return (_a = props === null || props === void 0 ? void 0 : props.renderLoading) === null || _a === void 0 ? void 0 : _a.call(props);\n    }));\n  }))));\n}\n\nexports.defaultProps = {\n  isReply: false,\n  limit: 10,\n  dataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  }\n};\nexports.propTypes = {\n  isReply: prop_types_1.default.bool,\n  data: prop_types_1.default.shape({\n    key: prop_types_1.default.string\n  }),\n  dataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  renderLoading: prop_types_1.default.func,\n  limit: prop_types_1.default.number,\n  fetchData: prop_types_1.default.func,\n  fetchReply: prop_types_1.default.func,\n  keyProp: prop_types_1.default.string,\n  isMoreProp: prop_types_1.default.string,\n  renderActions: prop_types_1.default.func,\n  renderAuthor: prop_types_1.default.func,\n  renderAvatar: prop_types_1.default.func,\n  renderContent: prop_types_1.default.func,\n  renderDateTime: prop_types_1.default.func,\n  showReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  hideReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  loadMoreReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  showReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  hideReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  loadMoreCollapseTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func])\n};\nNode.defaultProps = exports.defaultProps;\nNode.propTypes = exports.propTypes;\nexports.default = Node;"],"names":["require","Object","defineProperty","exports","value","propTypes","defaultProps","tslib_1","react_1","__importStar","prop_types_1","__importDefault","classnames_1","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_intl_1","adhere_util_1","Submit_1","Info_1","selectorPrefix","Node","props","_g","useState","_a","dataKeys","current","list","totalCount","totalPage","listData","setListData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","limit","renderChildren","_b","default","createElement","className","concat","map","call","record","key","keyProp","conditional","children","noMatch","isReply","data","isMoreProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","length","onClick","appendData","isFunction","loadData","res","__assign","__spreadArray","callback","id","then","catch","error","direction","Fixed","Auto","autoFixed","fit","_c","_d","_e","action","index","v","style","marginTop","onCancel","onResult","reply","fetchReply","_f","Fragment","bool","shape","string","func","number","oneOfType","node"],"mappings":"aAEAA,QAAQ,gDAERA,QAAQ,mCAERC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,UAAYF,QAAQG,kBAAe,EAE3C,IAAIC,QAAUP,QAAQ,SAElBQ,QAAUD,QAAQE,aAAaT,QAAQ,UAEvCU,aAAeH,QAAQI,gBAAgBX,QAAQ,eAE/CY,aAAeL,QAAQI,gBAAgBX,QAAQ,eAE/Ca,8BAAgCN,QAAQI,gBAAgBX,QAAQ,4CAEhEc,uBAAyBP,QAAQI,gBAAgBX,QAAQ,qCAEzDe,mBAAqBR,QAAQI,gBAAgBX,QAAQ,iCAErDgB,cAAgBT,QAAQI,gBAAgBX,QAAQ,4BAEhDiB,SAAWV,QAAQI,gBAAgBX,QAAQ,uBAE3CkB,OAASX,QAAQI,gBAAgBX,QAAQ,qBAEzCmB,eAAiB,yBAOrB,SAASC,KAAKC,GACZ,IAIIC,GAAK,EAAId,QAAQe,YAAWC,EAAK,IAAOH,EAAMI,SAASC,SAAW,EAAGF,EAAGH,EAAMI,SAASE,MAAQ,GAAIH,EAAGH,EAAMI,SAASG,YAAc,EAAGJ,EAAGH,EAAMI,SAASI,WAAa,EAAGL,IACxKM,EAAWR,EAAG,GACdS,EAAcT,EAAG,GAEjBU,GAAK,EAAIxB,QAAQe,WAAU,GAC3BU,EAAWD,EAAG,GACdE,EAAcF,EAAG,GAEjBG,GAAK,EAAI3B,QAAQe,WAAU,GAC3Ba,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAEhBG,GAAK,EAAI9B,QAAQe,WAAU,GAC3BgB,EAAYD,EAAG,GACfE,EAAeF,EAAG,GAElBG,GAAS,EAAIjC,QAAQkC,QAAQ,CAC/BC,KAAM,EACNC,MAAOvB,EAAMuB,QAmBf,SAASC,IACP,IAAIrB,EAAIsB,EAER,OAAOtC,QAAQuC,QAAQC,cAAc,KAAM,CACzCC,UAAW,GAAGC,OAAO/B,eAAgB,cAC8D,QAAjG2B,EAAoD,QAA9CtB,EAAKM,EAAST,EAAMI,SAASE,OAAS,SAAgC,EAASH,EAAG2B,WAAwB,IAAPL,OAAgB,EAASA,EAAGM,KAAK5B,EAAI,SAAU6B,GAC1J,OAAO7C,QAAQuC,QAAQC,cAAc,KAAM,CACzCC,UAAW,GAAGC,OAAO/B,eAAgB,kBACrCmC,IAAKD,EAAOhC,EAAMkC,UACjB/C,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACtES,cAAenC,MAAAA,GAA8CA,EAAMoC,UACnEC,QAAS,WACP,IAAIlC,EAEJ,OAA+E,QAAvEA,EAAKH,MAAAA,OAAqC,EAASA,EAAMoC,gBAA6B,IAAPjC,OAAgB,EAASA,EAAG4B,KAAK/B,EAAOgC,KAEhI,WACD,OAAO7C,QAAQuC,QAAQC,cAAc9B,OAAO6B,QAAS,CACnDY,SAAS,EACTC,KAAMP,EACNE,QAASlC,EAAMkC,QACfM,WAAYxC,EAAMwC,WAClBC,UAAWzC,EAAMyC,UACjBC,cAAe1C,EAAM0C,cACrBC,aAAc3C,EAAM2C,aACpBC,aAAc5C,EAAM4C,aACpBC,cAAe7C,EAAM6C,cACrBC,eAAgB9C,EAAM8C,eACtBC,cAAe/C,EAAM+C,cACrBC,cAAehD,EAAMgD,cACrBC,cAAejD,EAAMiD,cACrBC,kBAAmBlD,EAAMkD,kBACzBC,kBAAmBnD,EAAMmD,kBACzBC,kBAAmBpD,EAAMoD,kBACzBC,yBAA0BrD,EAAMqD,gCAGlClE,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACvES,aAAcpB,GA2FTN,EAAST,EAAMI,SAASE,MAAMgD,QAAU7C,EAAST,EAAMI,SAASG,aA1FpE,WACD,OAAOpB,QAAQuC,QAAQC,cAAc,KAAM,CACzCC,WAAW,EAAIrC,aAAamC,SAAS,GAAGG,OAAO/B,eAAgB,kBAAmB,SACjFX,QAAQuC,QAAQC,cAAc,IAAK,CACpC4B,QAASC,GACRrE,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CAClHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,MAAAA,OAAqC,EAASA,EAAMqD,0BAElGhB,QAAS,WACP,OAAOrC,MAAAA,OAAqC,EAASA,EAAMqD,2BAE5D,WACD,OAAQrD,MAAAA,OAAqC,EAASA,EAAMqD,+BACzDlE,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACpHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,EAAMkD,mBAEpDb,QAAS,WACP,OAAOrC,EAAMkD,oBAEd,WACD,OAAQlD,MAAAA,OAAqC,EAASA,EAAMkD,6BAyElE,SAASQ,IAMP,OALA1C,GAAW,GACXI,EAAOf,QAAU,CACfiB,KAAM,EACNC,MAAOvB,EAAMuB,OAERkB,EAAU,SAAUkB,GACzBjD,EAAYiD,KAIhB,SAASH,IACPxC,GAAW,GACXI,EAAOf,QAAQiB,KAAOF,EAAOf,QAAQiB,KAAO,EAE5C,IAAIhB,EAAON,EAAMI,SAASE,KAC1B,OAAOmC,EAAU,SAAUkB,GACzB,IAAIxD,EAEJO,EAAYxB,QAAQ0E,SAAS1E,QAAQ0E,SAAS,GAAID,KAAOxD,EAAK,IAAOH,EAAMI,SAASE,MAAQpB,QAAQ2E,cAAc3E,QAAQ2E,cAAc,GAAIpD,EAASH,IAAO,GAAOqD,EAAIrD,IAAO,GAAOH,OAIzL,SAASsC,EAAUqB,GACjB,IAAQrC,EAER,OAAgF,QAAxEtB,EAAKH,MAAAA,OAAqC,EAASA,EAAMyC,iBAA8B,IAAPtC,OAAgB,EAASA,EAAG4B,KAAK/B,EAAOd,QAAQ0E,SAAS1E,QAAQ0E,SAAS,GAAIxC,EAAOf,SAAU,CACrL0D,GAAwE,QAAnEtC,EAAKzB,MAAAA,OAAqC,EAASA,EAAMuC,YAAyB,IAAPd,OAAgB,EAASA,EAAGzB,EAAMkC,YAChH8B,KAAK,SAAUzB,GAGjB,OAFAuB,EAASvB,GACTvB,GAAW,GACJuB,IACN0B,MAAM,SAAUC,GAEjB,OADAlD,GAAW,GACJkD,IAIX,OAAO/E,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAS,CACnEyC,UAAW,aACXvC,WAAW,EAAIrC,aAAamC,SAAS5B,eAAgBE,EAAMsC,QAAU,GAAGT,OAAO/B,eAAgB,UAAY,OAC1GX,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ0C,MAAO,CACrExC,UAAW,GAAGC,OAAO/B,eAAgB,iBACwC,QAA3E2B,EAAKzB,MAAAA,OAAqC,EAASA,EAAM4C,oBAAiC,IAAPnB,OAAgB,EAASA,EAAGM,KAAK/B,EAAOA,EAAMuC,OAAQpD,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ2C,KAAM,CAC9MC,WAAW,EACXC,KAAK,GACJpF,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAS,CAC/DyC,UAAW,YACVhF,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ0C,MAAO,CACrExC,UAAW,GAAGC,OAAO/B,eAAgB,cACrCyE,KAAK,GACJpF,QAAQuC,QAAQC,cAAc,MAAO,CACtCC,UAAW,GAAGC,OAAO/B,eAAgB,sBACwC,QAA3E0E,EAAKxE,MAAAA,OAAqC,EAASA,EAAM2C,oBAAiC,IAAP6B,OAAgB,EAASA,EAAGzC,KAAK/B,EAAOA,EAAMuC,OAAQpD,QAAQuC,QAAQC,cAAc,MAAO,CAChLC,UAAW,GAAGC,OAAO/B,eAAgB,yBAC0C,QAA7E2E,EAAKzE,MAAAA,OAAqC,EAASA,EAAM8C,sBAAmC,IAAP2B,OAAgB,EAASA,EAAG1C,KAAK/B,EAAOA,EAAMuC,QAASpD,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ2C,KAAM,CACjNzC,UAAW,GAAGC,OAAO/B,eAAgB,kBACyC,QAA5E4E,EAAK1E,MAAAA,OAAqC,EAASA,EAAM6C,qBAAkC,IAAP6B,OAAgB,EAASA,EAAG3C,KAAK/B,EAAOA,EAAMuC,OAAQpD,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ0C,MAAO,KAAMjF,QAAQuC,QAAQC,cAAc,KAAM,CAC1PC,UAAW,GAAGC,OAAO/B,eAAgB,aA3M9BZ,QAAQ2E,cAAc3E,QAAQ2E,cAAc,KAAmF,QAA5E1D,EAAKH,MAAAA,OAAqC,EAASA,EAAM0C,qBAAkC,IAAPvC,OAAgB,EAASA,EAAG4B,KAAK/B,EAAOA,MAAAA,OAAqC,EAASA,EAAMuC,QAAU,IAAIT,IAAI,SAAU6C,EAAQC,GAC5Q,OAAOzF,QAAQuC,QAAQC,cAAc,KAAM,CACzCM,IAAK2C,EACLhD,UAAW,GAAGC,OAAO/B,eAAgB,oBACpC6E,MACD,GAAO,CAACxF,QAAQuC,QAAQC,cAAc,KAAM,CAC9CC,WAAW,EAAIrC,aAAamC,SAAS,GAAGG,OAAO/B,eAAgB,mBAAoB,GAAG+B,OAAO/B,eAAgB,8BAC7GyD,QAAS,WACP,OAAOpC,GAAa,KAErBzB,mBAAmBgC,QAAQmD,EAAE,SAAS,KAkMrB1F,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACzFS,YAAajB,GACZ,WACD,OAAO/B,QAAQuC,QAAQC,cAAclC,uBAAuBiC,QAAQ0C,MAAO,CACzEU,MAAO,CACLC,UAAW,KAEZ5F,QAAQuC,QAAQC,cAAc/B,SAAS8B,QAAS,CACjDsD,SAAU,WACR,OAAO7D,GAAa,IAEtB8D,SAAU,SAAkBC,GAC1B,IAAQzD,EAKA,QAHP+C,EAA+E,QAAzErE,EAAKH,MAAAA,OAAqC,EAASA,EAAMmF,kBAA+B,IAAPhF,OAAgB,EAASA,EAAG4B,KAAK/B,EAAO,CAC9H+D,GAAwE,QAAnEtC,EAAKzB,MAAAA,OAAqC,EAASA,EAAMuC,YAAyB,IAAPd,OAAgB,EAASA,EAAGzB,EAAMkC,SAClHgD,MAAOA,WACc,IAAPV,GAAyBA,EAAGR,KAAK,WAC/C7C,GAAa,GACbuC,YAIJvE,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACvES,YAAiF,QAAnEiD,EAAKpF,MAAAA,OAAqC,EAASA,EAAMuC,YAAyB,IAAP6C,OAAgB,EAASA,EAAGpF,EAAMwC,aAC1H,WACD,OAAOrD,QAAQuC,QAAQC,cAAcxC,QAAQuC,QAAQ2D,SAAU,KAAMlG,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACxIS,aAAcpB,GACb,WACD,OA3JK5B,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CAC1ES,aAAcvB,EACdyB,QAAS,WACP,OAAOlD,QAAQuC,QAAQC,cAAc,IAAK,CACxCC,UAAW,GAAGC,OAAO/B,eAAgB,aACrCyD,QAAS,WAEP1C,GAAY,KAEb1B,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CAClHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,EAAMoD,mBAEpDf,QAAS,WACP,OAAOrC,EAAMoD,oBAEd,WACD,OAAQpD,MAAAA,OAAqC,EAASA,EAAMoD,wBACzDjE,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACpHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,EAAMiD,eAEpDZ,QAAS,WACP,OAAOrC,EAAMiD,gBAEd,WACD,OAAQjD,MAAAA,OAAqC,EAASA,EAAMiD,uBAG/D,WACD,OAAO9D,QAAQuC,QAAQC,cAAc,IAAK,CACxCC,UAAW,GAAGC,OAAO/B,eAAgB,aACrCyD,QAAS,WACP,IAAIpD,EAGEM,EAAST,EAAMI,SAASE,MAAMgD,OAClCzC,GAAY,GAIQ,QAArBV,EAAKuD,WAA+B,IAAPvD,GAAyBA,EAAG6D,KAAK,WAC7DnD,GAAY,OAGf1B,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CAClHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,EAAMmD,mBAEpDd,QAAS,WACP,OAAOrC,EAAMmD,oBAEd,WACD,OAAQnD,MAAAA,OAAqC,EAASA,EAAMmD,wBACzDhE,QAAQuC,QAAQC,cAAc,OAAQ,KAAMxC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACpHS,YAAaxC,cAAc+B,QAAQ+B,WAAWzD,EAAMgD,eAEpDX,QAAS,WACP,OAAOrC,EAAMgD,gBAEd,WACD,OAAQhD,MAAAA,OAAqC,EAASA,EAAMgD,yBAkG5D7D,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACvES,YAAavB,GAENY,GACLrC,QAAQuC,QAAQC,cAAcnC,8BAA8BkC,QAAS,CACvES,YAAapB,GACZ,WACD,IAAIZ,EAEJ,OAAoF,QAA5EA,EAAKH,MAAAA,OAAqC,EAASA,EAAM+C,qBAAkC,IAAP5C,OAAgB,EAASA,EAAG4B,KAAK/B,WAKnIlB,QAAQG,aAAe,CACrBqD,SAAS,EACTf,MAAO,GACPnB,SAAU,CACRC,QAAS,UACTG,UAAW,YACXF,KAAM,OACNC,WAAY,eAGhBzB,QAAQE,UAAY,CAClBsD,QAASjD,aAAaqC,QAAQ4D,KAC9B/C,KAAMlD,aAAaqC,QAAQ6D,MAAM,CAC/BtD,IAAK5C,aAAaqC,QAAQ8D,SAE5BpF,SAAUf,aAAaqC,QAAQ6D,MAAM,CACnClF,QAAShB,aAAaqC,QAAQ8D,OAC9BhF,UAAWnB,aAAaqC,QAAQ8D,OAChClF,KAAMjB,aAAaqC,QAAQ8D,OAC3BjF,WAAYlB,aAAaqC,QAAQ8D,SAEnCzC,cAAe1D,aAAaqC,QAAQ+D,KACpClE,MAAOlC,aAAaqC,QAAQgE,OAC5BjD,UAAWpD,aAAaqC,QAAQ+D,KAChCN,WAAY9F,aAAaqC,QAAQ+D,KACjCvD,QAAS7C,aAAaqC,QAAQ8D,OAC9BhD,WAAYnD,aAAaqC,QAAQ8D,OACjC9C,cAAerD,aAAaqC,QAAQ+D,KACpC9C,aAActD,aAAaqC,QAAQ+D,KACnC7C,aAAcvD,aAAaqC,QAAQ+D,KACnC5C,cAAexD,aAAaqC,QAAQ+D,KACpC3C,eAAgBzD,aAAaqC,QAAQ+D,KACrCzC,cAAe3D,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQ8D,OAAQnG,aAAaqC,QAAQ+D,OACjGxC,cAAe5D,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQ8D,OAAQnG,aAAaqC,QAAQ+D,OACjGvC,kBAAmB7D,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQ8D,OAAQnG,aAAaqC,QAAQ+D,OACrGtC,kBAAmB9D,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQkE,KAAMvG,aAAaqC,QAAQ+D,OACnGrC,kBAAmB/D,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQkE,KAAMvG,aAAaqC,QAAQ+D,OACnGpC,yBAA0BhE,aAAaqC,QAAQiE,UAAU,CAACtG,aAAaqC,QAAQkE,KAAMvG,aAAaqC,QAAQ+D,QAE5G1F,KAAKd,aAAeH,QAAQG,aAC5Bc,KAAKf,UAAYF,QAAQE,UACzBF,QAAQ4C,QAAU3B"}