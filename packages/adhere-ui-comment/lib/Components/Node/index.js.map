{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propTypes = exports.defaultProps = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\n\nvar adhere_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar adhere_util_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util\"));\n\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\n\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\n\nfunction Node(props) {\n  var _a;\n\n  var _b, _c, _d, _e;\n\n  var _f = tslib_1.__read((0, react_1.useState)((_a = {}, _a[props.dataKeys.current] = 1, _a[props.dataKeys.list] = [], _a[props.dataKeys.totalCount] = 0, _a[props.dataKeys.totalPage] = 0, _a)), 2),\n      listData = _f[0],\n      setListData = _f[1];\n\n  var _g = tslib_1.__read((0, react_1.useState)(props === null || props === void 0 ? void 0 : props.data), 2),\n      data = _g[0],\n      setData = _g[1];\n\n  var _h = tslib_1.__read((0, react_1.useState)(false), 2),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = tslib_1.__read((0, react_1.useState)(false), 2),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = tslib_1.__read((0, react_1.useState)(false), 2),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = (0, react_1.useRef)({\n    page: 1,\n    limit: props.limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign({}, data), function (_data) {\n      setData(_data);\n    })) || []).map(function (action, index) {\n      return react_1.default.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    })), false), [react_1.default.createElement(\"li\", {\n      className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, adhere_util_intl_1.default.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[props.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[props.keyProp]\n      }, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: !(props === null || props === void 0 ? void 0 : props.children),\n        noMatch: function noMatch() {\n          var _a;\n\n          return (_a = props === null || props === void 0 ? void 0 : props.children) === null || _a === void 0 ? void 0 : _a.call(props, record);\n        }\n      }, function () {\n        return react_1.default.createElement(Info_1.default, {\n          isReply: true,\n          data: record,\n          keyProp: props.keyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchData,\n          renderActions: props.renderActions,\n          renderAuthor: props.renderAuthor,\n          renderAvatar: props.renderAvatar,\n          renderContent: props.renderContent,\n          renderDateTime: props.renderDateTime,\n          renderLoading: props.renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return react_1.default.createElement(\"li\", {\n        className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, react_1.default.createElement(\"a\", {\n        onClick: appendData\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.loadMoreReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.loadMoreReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreReplyText)();\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return react_1.default.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            // hide\n            setCollapse(false);\n          }\n        }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyTextIcon),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyTextIcon;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyTextIcon)();\n        })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n          conditional: adhere_util_1.default.isFunction(props.hideReplyText),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyText;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyText)();\n        })));\n      }\n    }, function () {\n      return react_1.default.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a; // show\n\n\n          if (!!listData[props.dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            setCollapse(true);\n          });\n        }\n      }, react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyTextIcon)();\n      })), react_1.default.createElement(\"span\", null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: adhere_util_1.default.isFunction(props.showReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyText)();\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[props.dataKeys.list].length <= listData[props.dataKeys.totalCount];\n  }\n\n  function loadData() {\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: props.limit\n    };\n    return fetchData(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    setLoading(true);\n    paging.current.page = paging.current.page + 1; // @ts-ignore\n\n    var list = props.dataKeys.list;\n    return fetchData(function (res) {\n      var _a;\n\n      setListData(tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[props.dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(listData[list]), false), tslib_1.__read(res[list]), false), _a)));\n    });\n  }\n\n  function fetchData(callback) {\n    var _a;\n\n    return (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign(tslib_1.__assign({}, paging.current), {\n      record: tslib_1.__assign({}, data)\n    })).then(function (data) {\n      callback(data);\n      setLoading(false);\n      return data;\n    }).catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  (0, react_1.useEffect)(function () {\n    setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"horizontal\",\n    className: (0, classnames_1.default)(selectorPrefix, props.isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, (_b = props === null || props === void 0 ? void 0 : props.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    autoFixed: true,\n    fit: true\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default, {\n    direction: \"vertical\"\n  }, react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, (_c = props === null || props === void 0 ? void 0 : props.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, (_d = props === null || props === void 0 ? void 0 : props.renderDateTime) === null || _d === void 0 ? void 0 : _d.call(props, tslib_1.__assign({}, data)))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, (_e = props === null || props === void 0 ? void 0 : props.renderContent) === null || _e === void 0 ? void 0 : _e.call(props, tslib_1.__assign({}, data))), react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null, react_1.default.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: showReply\n  }, function () {\n    return react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, react_1.default.createElement(Submit_1.default, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a, _b;\n\n        (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchReply) === null || _a === void 0 ? void 0 : _a.call(props, {\n          id: data === null || data === void 0 ? void 0 : data[props.keyProp],\n          record: tslib_1.__assign({}, data),\n          reply: reply\n        })) === null || _b === void 0 ? void 0 : _b.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      },\n      local: props.local\n    }));\n  }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: data === null || data === void 0 ? void 0 : data[props.isMoreProp]\n  }, function () {\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: loading\n    }, function () {\n      var _a;\n\n      return (_a = props === null || props === void 0 ? void 0 : props.renderLoading) === null || _a === void 0 ? void 0 : _a.call(props);\n    }));\n  }))));\n}\n\nexports.defaultProps = {\n  isReply: false,\n  limit: 10,\n  dataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  local: 'zh'\n};\nexports.propTypes = {\n  isReply: prop_types_1.default.bool,\n  data: prop_types_1.default.shape({\n    key: prop_types_1.default.string\n  }),\n  dataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  renderLoading: prop_types_1.default.func,\n  limit: prop_types_1.default.number,\n  fetchData: prop_types_1.default.func,\n  fetchReply: prop_types_1.default.func,\n  keyProp: prop_types_1.default.string,\n  isMoreProp: prop_types_1.default.string,\n  renderActions: prop_types_1.default.func,\n  renderAuthor: prop_types_1.default.func,\n  renderAvatar: prop_types_1.default.func,\n  renderContent: prop_types_1.default.func,\n  renderDateTime: prop_types_1.default.func,\n  showReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  hideReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  loadMoreReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  showReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  hideReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  loadMoreCollapseTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  local: prop_types_1.default.string\n};\nNode.defaultProps = exports.defaultProps;\nNode.propTypes = exports.propTypes;\nexports.default = Node;"],"names":["require","Object","defineProperty","exports","value","propTypes","defaultProps","tslib_1","react_1","__importStar","prop_types_1","__importDefault","classnames_1","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_intl_1","adhere_util_1","Submit_1","Info_1","selectorPrefix","Node","props","_f","__read","useState","_a","dataKeys","current","list","totalCount","totalPage","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","limit","renderChildren","_b","default","createElement","className","concat","map","call","record","key","keyProp","conditional","children","noMatch","isReply","isMoreProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","length","onClick","appendData","isFunction","loadData","res","__assign","__spreadArray","callback","then","catch","error","useEffect","direction","Fixed","Auto","autoFixed","fit","_c","_d","_e","_data","action","index","v","style","marginTop","onCancel","onResult","reply","fetchReply","id","local","Fragment","bool","shape","string","func","number","oneOfType","node"],"mappings":"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"}