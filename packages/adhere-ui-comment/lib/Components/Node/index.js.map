{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\r\nvar react_1 = tslib_1.__importStar(require(\"react\"));\r\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\r\nvar adhere_ui_flexlayout_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\r\nvar adhere_util_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util\"));\r\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar Info_1 = tslib_1.__importDefault(require(\"../../Reply/Info\"));\r\nvar Submit_1 = tslib_1.__importDefault(require(\"../../Reply/Submit\"));\r\nvar selectorPrefix = 'adhere-ui-comment-node';\r\n/**\r\n * Node\r\n * @param props\r\n * @constructor\r\n * @classdesc 节点(评论 | 回复)\r\n */\r\nvar Node = function (props) {\r\n    var _a;\r\n    var _b = props.isReply, isReply = _b === void 0 ? false : _b, _c = props.dataKeys, dataKeys = _c === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _c, _d = props.limit, limit = _d === void 0 ? 10 : _d, keyProp = props.keyProp, children = props.children, isMoreProp = props.isMoreProp, renderAuthor = props.renderAuthor, renderAvatar = props.renderAvatar, renderContent = props.renderContent, renderDateTime = props.renderDateTime, renderLoading = props.renderLoading, showReplyText = props.showReplyText, hideReplyText = props.hideReplyText, loadMoreReplyText = props.loadMoreReplyText, showReplyTextIcon = props.showReplyTextIcon, loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon, hideReplyTextIcon = props.hideReplyTextIcon, fetchReply = props.fetchReply, emojiPickerProps = props.emojiPickerProps, _e = props.local, local = _e === void 0 ? 'zh' : _e;\r\n    var _f = tslib_1.__read((0, react_1.useState)((_a = {},\r\n        _a[dataKeys.current] = 1,\r\n        _a[dataKeys.list] = [],\r\n        _a[dataKeys.totalCount] = 0,\r\n        _a[dataKeys.totalPage] = 0,\r\n        _a)), 2), listData = _f[0], setListData = _f[1];\r\n    var _g = tslib_1.__read((0, react_1.useState)(props === null || props === void 0 ? void 0 : props.data), 2), data = _g[0], setData = _g[1];\r\n    var _h = tslib_1.__read((0, react_1.useState)(false), 2), collapse = _h[0], setCollapse = _h[1];\r\n    var _j = tslib_1.__read((0, react_1.useState)(false), 2), loading = _j[0], setLoading = _j[1];\r\n    var _k = tslib_1.__read((0, react_1.useState)(false), 2), showReply = _k[0], setShowReply = _k[1];\r\n    var paging = (0, react_1.useRef)({\r\n        page: 1,\r\n        limit: limit,\r\n    });\r\n    var renderActions = (0, react_1.useCallback)(function () {\r\n        var _a;\r\n        var actions = tslib_1.__spreadArray([], tslib_1.__read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign({}, data), function (_data) { return setData(_data); })) || []).map(function (action, index) {\r\n            var _a, _b;\r\n            return adhere_ui_conditionalrender_1.default.conditionalRender({\r\n                conditional: !((_b = (_a = action === null || action === void 0 ? void 0 : action.props) === null || _a === void 0 ? void 0 : _a.className) === null || _b === void 0 ? void 0 : _b.endsWith('-actions-action')),\r\n                noMatch: action,\r\n                match: (react_1.default.createElement(\"li\", { key: index, className: \"\".concat(selectorPrefix, \"-actions-action\") }, action)),\r\n            });\r\n        })), false);\r\n        if (!actions.find(function (t) { var _a, _b; return ((_b = (_a = t === null || t === void 0 ? void 0 : t.props) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.key) === 'reply'; })) {\r\n            actions.push(react_1.default.createElement(\"li\", { key: \"reply\", className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")), onClick: function () { return setShowReply(true); } }, adhere_util_intl_1.default.v('回复')));\r\n        }\r\n        return actions;\r\n    }, [props === null || props === void 0 ? void 0 : props.renderActions, data, showReply]);\r\n    var renderChildren = (0, react_1.useCallback)(function () {\r\n        var _a, _b;\r\n        return (react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-children\") }, (_b = (_a = (listData[dataKeys.list] || [])) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 :\r\n            _b.call(_a, function (record) { return (react_1.default.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-children-item\"), key: record[keyProp] },\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !children, noMatch: function () { return children === null || children === void 0 ? void 0 : children(record); } }, function () { return (react_1.default.createElement(Info_1.default, { isReply: true, data: record, dataKeys: dataKeys, limit: limit, keyProp: keyProp, isMoreProp: isMoreProp, fetchData: props === null || props === void 0 ? void 0 : props.fetchData, fetchReply: props === null || props === void 0 ? void 0 : props.fetchReply, renderActions: props === null || props === void 0 ? void 0 : props.renderActions, renderAuthor: renderAuthor, renderAvatar: renderAvatar, renderContent: renderContent, renderDateTime: renderDateTime, renderLoading: renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); }),\r\n            react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !loading && hasMore() }, function () { return (react_1.default.createElement(\"li\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-children-item\"), 'more') },\r\n                react_1.default.createElement(\"a\", { onClick: appendData },\r\n                    react_1.default.createElement(\"span\", null,\r\n                        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(loadMoreCollapseTextIcon), noMatch: function () { return loadMoreCollapseTextIcon; } }, function () {\r\n                            return loadMoreCollapseTextIcon instanceof Function\r\n                                ? loadMoreCollapseTextIcon()\r\n                                : loadMoreCollapseTextIcon;\r\n                        })),\r\n                    react_1.default.createElement(\"span\", null,\r\n                        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(loadMoreReplyText), noMatch: function () { return loadMoreReplyText; } }, function () {\r\n                            return loadMoreReplyText instanceof Function\r\n                                ? loadMoreReplyText()\r\n                                : loadMoreReplyText;\r\n                        }))))); })));\r\n    }, [\r\n        listData,\r\n        dataKeys.list,\r\n        keyProp,\r\n        isMoreProp,\r\n        renderActions,\r\n        renderAuthor,\r\n        renderAvatar,\r\n        renderContent,\r\n        renderDateTime,\r\n        renderLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        loading,\r\n    ]);\r\n    var renderMore = (0, react_1.useCallback)(function () {\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !collapse, noMatch: function () { return (react_1.default.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () { return setCollapse(false); } },\r\n                react_1.default.createElement(\"span\", null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(hideReplyTextIcon), noMatch: function () { return hideReplyTextIcon; } }, function () {\r\n                        return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\r\n                    })),\r\n                react_1.default.createElement(\"span\", null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(hideReplyText), noMatch: function () { return hideReplyText; } }, function () { return (hideReplyText instanceof Function ? hideReplyText() : hideReplyText); })))); } }, function () { return (react_1.default.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () {\r\n                var _a;\r\n                if (!!listData[dataKeys.list].length) {\r\n                    setCollapse(true);\r\n                    return;\r\n                }\r\n                (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () { return setCollapse(true); });\r\n            } },\r\n            react_1.default.createElement(\"span\", null,\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(showReplyTextIcon), noMatch: function () { return showReplyTextIcon; } }, function () {\r\n                    return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\r\n                })),\r\n            react_1.default.createElement(\"span\", null,\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: adhere_util_1.default.isFunction(showReplyText), noMatch: function () { return showReplyText; } }, function () { return (showReplyText instanceof Function ? showReplyText() : showReplyText); })))); }));\r\n    }, [\r\n        collapse,\r\n        listData,\r\n        dataKeys.list,\r\n        hideReplyText,\r\n        hideReplyTextIcon,\r\n        showReplyText,\r\n        showReplyTextIcon,\r\n    ]);\r\n    var hasMore = (0, react_1.useCallback)(function () { return listData[dataKeys.list].length <= listData[dataKeys.totalCount]; }, [listData, dataKeys.list, dataKeys.totalCount]);\r\n    var fetchData = (0, react_1.useCallback)(function () {\r\n        var _a, _b, _c;\r\n        return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, tslib_1.__assign(tslib_1.__assign({}, paging.current), { record: tslib_1.__assign({}, data) }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\r\n            setLoading(false);\r\n            return data;\r\n        })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\r\n            setLoading(false);\r\n            return error;\r\n        });\r\n    }, [props === null || props === void 0 ? void 0 : props.fetchData, paging.current.page, paging.current.limit, data]);\r\n    function loadData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current = {\r\n            page: 1,\r\n            limit: limit,\r\n        };\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(res);\r\n        });\r\n    }\r\n    function appendData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current.page = paging.current.page + 1;\r\n        var list = dataKeys.list;\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(function (_listData) {\r\n                var _a;\r\n                return (tslib_1.__assign(tslib_1.__assign({}, res), (_a = {}, _a[dataKeys.list] = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(_listData[list]), false), tslib_1.__read(res[list]), false), _a)));\r\n            });\r\n        });\r\n    }\r\n    (0, react_1.useEffect)(function () { return setData(props.data); }, [props === null || props === void 0 ? void 0 : props.data]);\r\n    return (react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"horizontal\", className: (0, classnames_1.default)(selectorPrefix, isReply ? \"\".concat(selectorPrefix, \"-reply\") : null) },\r\n        react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { className: \"\".concat(selectorPrefix, \"-avatar-wrap\") }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(tslib_1.__assign({}, data))),\r\n        react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, { autoFixed: true, fit: true },\r\n            react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"vertical\" },\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { className: \"\".concat(selectorPrefix, \"-title-row\"), fit: false },\r\n                    react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-author\") }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(tslib_1.__assign({}, data))),\r\n                    react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-date-time\") }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(tslib_1.__assign({}, data)))),\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto, { className: \"\".concat(selectorPrefix, \"-content-wrap\") }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(tslib_1.__assign({}, data))),\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, null,\r\n                    react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-actions\") }, renderActions())),\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: showReply }, function () { return (react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed, { style: { marginTop: 15 } },\r\n                    react_1.default.createElement(Submit_1.default, { onCancel: function () { return setShowReply(false); }, onResult: function (reply) {\r\n                            var _a;\r\n                            (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\r\n                                id: data === null || data === void 0 ? void 0 : data[keyProp],\r\n                                record: tslib_1.__assign({}, data),\r\n                                reply: reply,\r\n                            })) === null || _a === void 0 ? void 0 : _a.then(function () {\r\n                                setShowReply(false);\r\n                                loadData();\r\n                            });\r\n                        }, local: local, emojiPickerProps: emojiPickerProps }))); }),\r\n                react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: data === null || data === void 0 ? void 0 : data[isMoreProp] }, function () { return (react_1.default.createElement(react_1.default.Fragment, null,\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !loading }, function () { return renderMore(); }),\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default.Show, { conditional: collapse }, renderChildren()),\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: loading }, function () { return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading(); }))); })))));\r\n};\r\nexports.default = (0, react_1.memo)(Node);\r\n//# sourceMappingURL=index.js.map"],"names":["Object","defineProperty","exports","value","tslib_1","require","classnames_1","__importDefault","react_1","__importStar","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_util_1","adhere_util_intl_1","Info_1","Submit_1","selectorPrefix","Node","props","_b","isReply","_c","dataKeys","current","totalPage","list","totalCount","_d","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_e","local","_f","__read","useState","_a","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","useRef","page","renderActions","useCallback","actions","__spreadArray","call","__assign","_data","map","action","index","default","conditionalRender","conditional","className","endsWith","noMatch","match","createElement","key","concat","find","t","push","onClick","v","renderChildren","record","fetchData","hasMore","appendData","isFunction","Function","renderMore","length","loadData","then","catch","error","res","_listData","useEffect","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment","Show","memo"],"mappings":"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"}