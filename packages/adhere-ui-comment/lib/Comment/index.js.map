{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar antd_1 = require(\"antd\");\n\nvar icons_1 = require(\"@ant-design/icons\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar ListStandard_1 = tslib_1.__importDefault(require(\"./ListStandard\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"./Info\"));\n\nvar Info_2 = tslib_1.__importDefault(require(\"../Reply/Info\"));\n\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nfunction Comment(props) {\n  function renderList(data) {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[props.commentKeyProp]\n      }, react_1.default.createElement(Info_1.default // @ts-ignore\n      , {\n        // @ts-ignore\n        data: record,\n        dataKeys: props.replyDataKeys,\n        limit: props.replyLimit,\n        keyProp: props.replyKeyProp,\n        isMoreProp: props.isMoreProp,\n        fetchData: props.fetchReplyData,\n        fetchReply: props.fetchReply,\n        renderActions: props.renderCommentActions,\n        renderAuthor: props.renderCommentAuthor,\n        renderAvatar: props.renderCommentAvatar,\n        renderContent: props.renderCommentContent,\n        renderDateTime: props.renderCommentDateTime,\n        renderLoading: props.renderCommentLoading || renderLoading,\n        showReplyText: props.showReplyText,\n        hideReplyText: props.hideReplyText,\n        loadMoreReplyText: props.loadMoreReplyText,\n        showReplyTextIcon: props.showReplyTextIcon,\n        hideReplyTextIcon: props.hideReplyTextIcon,\n        loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n        local: props.local\n      }, function (record) {\n        return react_1.default.createElement(Info_2.default, {\n          data: record,\n          dataKeys: props.replyDataKeys,\n          limit: props.replyLimit,\n          keyProp: props.replyKeyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchReplyData,\n          fetchReply: props.fetchReply,\n          renderActions: props.renderReplyActions,\n          renderAuthor: props.renderReplyAuthor,\n          renderAvatar: props.renderReplyAvatar,\n          renderContent: props.renderReplyContent,\n          renderDateTime: props.renderReplyDateTime,\n          renderLoading: props.renderReplyLoading || renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n          local: props.local\n        });\n      }));\n    }));\n  }\n\n  function renderLoading() {\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, react_1.default.createElement(antd_1.Spin, {\n      indicator: react_1.default.createElement(icons_1.LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }\n\n  return react_1.default.createElement(ListStandard_1.default, {\n    getScrollWrapContainer: props.getScrollWrapContainer,\n    listProps: props.listProps,\n    dataKeys: props.commentDataKeys,\n    limit: props.commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: props.fetchCommentData,\n    renderEmpty: props.renderEmpty,\n    renderFirstLoading: props.renderFirstLoading,\n    flexLayoutProps: props.flexLayoutProps\n  });\n}\n\nComment.defaultProps = {\n  commentKeyProp: 'id',\n  commentDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  commentLimit: 10,\n  replyKeyProp: 'id',\n  replyDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  replyLimit: 10,\n  isMoreProp: 'isMore',\n  showReplyText: adhere_util_intl_1.default.v('显示回复内容'),\n  hideReplyText: adhere_util_intl_1.default.v('收起回复'),\n  loadMoreReplyText: adhere_util_intl_1.default.v('加载更多回复'),\n  showReplyTextIcon: react_1.default.createElement(icons_1.CaretDownOutlined, null),\n  hideReplyTextIcon: react_1.default.createElement(icons_1.CaretUpOutlined, null),\n  loadMoreCollapseTextIcon: react_1.default.createElement(icons_1.EnterOutlined, {\n    className: \"reply-icon\"\n  }),\n  local: 'zh'\n};\nComment.propTypes = {\n  getScrollWrapContainer: prop_types_1.default.func,\n  fetchCommentData: prop_types_1.default.func,\n  commentDataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  commentLimit: prop_types_1.default.number,\n  commentKeyProp: prop_types_1.default.string,\n  renderCommentActions: prop_types_1.default.func,\n  renderCommentAuthor: prop_types_1.default.func,\n  renderCommentAvatar: prop_types_1.default.func,\n  renderCommentContent: prop_types_1.default.func,\n  renderCommentDateTime: prop_types_1.default.func,\n  renderCommentLoading: prop_types_1.default.func,\n  fetchReplyData: prop_types_1.default.func,\n  replyDataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  replyLimit: prop_types_1.default.number,\n  replyKeyProp: prop_types_1.default.string,\n  renderReplyActions: prop_types_1.default.func,\n  renderReplyAuthor: prop_types_1.default.func,\n  renderReplyAvatar: prop_types_1.default.func,\n  renderReplyContent: prop_types_1.default.func,\n  renderReplyDateTime: prop_types_1.default.func,\n  renderReplyLoading: prop_types_1.default.func,\n  renderEmpty: prop_types_1.default.func,\n  renderFirstLoading: prop_types_1.default.func,\n  flexLayoutProps: prop_types_1.default.object,\n  fetchReply: prop_types_1.default.func,\n  listProps: prop_types_1.default.object,\n  isMoreProp: prop_types_1.default.string,\n  showReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  hideReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  loadMoreReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  showReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  hideReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  loadMoreCollapseTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  scrollLoadProps: prop_types_1.default.shape({\n    className: prop_types_1.default.string,\n    style: prop_types_1.default.object,\n    loadClassName: prop_types_1.default.string,\n    loadStyle: prop_types_1.default.object,\n    emptyClassName: prop_types_1.default.string,\n    emptyStyle: prop_types_1.default.object,\n    errorClassName: prop_types_1.default.string,\n    errorStyle: prop_types_1.default.object,\n    distance: prop_types_1.default.number,\n    onScrollBottom: prop_types_1.default.func,\n    onEmptyClick: prop_types_1.default.func,\n    onErrorClick: prop_types_1.default.func,\n    renderLoading: prop_types_1.default.func,\n    renderEmpty: prop_types_1.default.func,\n    renderError: prop_types_1.default.func\n  }),\n  local: prop_types_1.default.string\n};\nexports.default = Comment;"],"names":["require","Object","defineProperty","exports","value","tslib_1","react_1","__importDefault","prop_types_1","antd_1","icons_1","adhere_util_intl_1","ListStandard_1","Info_1","Info_2","selectorPrefix","Comment","props","renderLoading","default","createElement","className","concat","Spin","indicator","LoadingOutlined","style","fontSize","getScrollWrapContainer","listProps","dataKeys","commentDataKeys","limit","commentLimit","renderList","data","_a","_b","list","map","call","record","key","commentKeyProp","replyDataKeys","replyLimit","keyProp","replyKeyProp","isMoreProp","fetchData","fetchReplyData","fetchReply","renderActions","renderCommentActions","renderAuthor","renderCommentAuthor","renderAvatar","renderCommentAvatar","renderContent","renderCommentContent","renderDateTime","renderCommentDateTime","renderCommentLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","local","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","fetchCommentData","renderEmpty","renderFirstLoading","flexLayoutProps","defaultProps","current","totalPage","totalCount","v","CaretDownOutlined","CaretUpOutlined","EnterOutlined","propTypes","func","shape","string","number","object","oneOfType","node","scrollLoadProps","loadClassName","loadStyle","emptyClassName","emptyStyle","errorClassName","errorStyle","distance","onScrollBottom","onEmptyClick","onErrorClick","renderError"],"mappings":"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"}