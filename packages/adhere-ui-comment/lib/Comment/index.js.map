{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar antd_1 = require(\"antd\");\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar icons_1 = require(\"@ant-design/icons\");\r\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar Info_1 = __importDefault(require(\"../Reply/Info\"));\r\nvar Info_2 = __importDefault(require(\"./Info\"));\r\nvar ListStandard_1 = __importDefault(require(\"./ListStandard\"));\r\nvar selectorPrefix = 'adhere-ui-comment';\r\n/**\r\n * Comment\r\n * @param props\r\n * @constructor\r\n * @classdesc 评论\r\n */\r\nvar Comment = function (props) {\r\n    var listProps = props.listProps, _a = props.commentDataKeys, commentDataKeys = _a === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _a, _b = props.commentLimit, commentLimit = _b === void 0 ? 10 : _b, flexLayoutProps = props.flexLayoutProps, getScrollWrapContainer = props.getScrollWrapContainer, _c = props.commentKeyProp, commentKeyProp = _c === void 0 ? 'id' : _c, _d = props.replyDataKeys, replyDataKeys = _d === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _d, _e = props.replyLimit, replyLimit = _e === void 0 ? 10 : _e, _f = props.replyKeyProp, replyKeyProp = _f === void 0 ? 'id' : _f, _g = props.isMoreProp, isMoreProp = _g === void 0 ? 'isMore' : _g, fetchCommentData = props.fetchCommentData, fetchReplyData = props.fetchReplyData, fetchReply = props.fetchReply, renderEmpty = props.renderEmpty, renderFirstLoading = props.renderFirstLoading, renderCommentActions = props.renderCommentActions, renderCommentAuthor = props.renderCommentAuthor, renderCommentAvatar = props.renderCommentAvatar, renderCommentContent = props.renderCommentContent, renderCommentDateTime = props.renderCommentDateTime, renderCommentLoading = props.renderCommentLoading, renderReplyActions = props.renderReplyActions, renderReplyAuthor = props.renderReplyAuthor, renderReplyAvatar = props.renderReplyAvatar, renderReplyContent = props.renderReplyContent, renderReplyDateTime = props.renderReplyDateTime, renderReplyLoading = props.renderReplyLoading, _h = props.showReplyText, showReplyText = _h === void 0 ? adhere_util_intl_1.default.v('显示回复内容') : _h, _j = props.hideReplyText, hideReplyText = _j === void 0 ? adhere_util_intl_1.default.v('收起回复') : _j, _k = props.loadMoreReplyText, loadMoreReplyText = _k === void 0 ? adhere_util_intl_1.default.v('加载更多回复') : _k, _l = props.showReplyTextIcon, showReplyTextIcon = _l === void 0 ? react_1.default.createElement(icons_1.CaretDownOutlined, null) : _l, _m = props.hideReplyTextIcon, hideReplyTextIcon = _m === void 0 ? react_1.default.createElement(icons_1.CaretUpOutlined, null) : _m, _o = props.loadMoreCollapseTextIcon, loadMoreCollapseTextIcon = _o === void 0 ? react_1.default.createElement(icons_1.EnterOutlined, { className: \"reply-icon\" }) : _o, _p = props.local, local = _p === void 0 ? 'zh' : _p, emojiPickerProps = props.emojiPickerProps;\r\n    var renderList = (0, react_1.useCallback)(function (data) {\r\n        var _a, _b;\r\n        return (react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-list\") }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) { return (react_1.default.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-list-item\"), key: record[commentKeyProp] },\r\n            react_1.default.createElement(Info_2.default, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderCommentActions, renderAuthor: renderCommentAuthor, renderAvatar: renderCommentAvatar, renderContent: renderCommentContent, renderDateTime: renderCommentDateTime, renderLoading: renderCommentLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps }, function (record) { return (react_1.default.createElement(Info_1.default, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderReplyActions, renderAuthor: renderReplyAuthor, renderAvatar: renderReplyAvatar, renderContent: renderReplyContent, renderDateTime: renderReplyDateTime, renderLoading: renderReplyLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); })));\r\n    }, [\r\n        replyDataKeys,\r\n        replyLimit,\r\n        replyKeyProp,\r\n        isMoreProp,\r\n        fetchReplyData,\r\n        fetchReply,\r\n        renderCommentActions,\r\n        renderCommentAuthor,\r\n        renderCommentAvatar,\r\n        renderCommentContent,\r\n        renderReplyDateTime,\r\n        renderCommentLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        local,\r\n        emojiPickerProps,\r\n        renderReplyContent,\r\n        renderReplyAvatar,\r\n        renderReplyAuthor,\r\n        renderReplyActions,\r\n    ]);\r\n    var renderLoading = (0, react_1.useCallback)(function () { return (react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-loading\") },\r\n        react_1.default.createElement(antd_1.Spin, { indicator: react_1.default.createElement(icons_1.LoadingOutlined, { style: {\r\n                    fontSize: 24,\r\n                } }) }))); }, []);\r\n    return (react_1.default.createElement(ListStandard_1.default, { getScrollWrapContainer: getScrollWrapContainer, listProps: listProps, dataKeys: commentDataKeys, limit: commentLimit, renderList: renderList, renderLoading: renderLoading, fetchData: fetchCommentData, renderEmpty: renderEmpty, renderFirstLoading: renderFirstLoading, flexLayoutProps: flexLayoutProps }));\r\n};\r\nexports.default = (0, react_1.memo)(Comment);\r\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","default","antd_1","exports","require","react_1","icons_1","adhere_util_intl_1","Info_1","Info_2","ListStandard_1","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","getScrollWrapContainer","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","CaretDownOutlined","_m","hideReplyTextIcon","CaretUpOutlined","_o","loadMoreCollapseTextIcon","EnterOutlined","className","_p","local","emojiPickerProps","renderList","useCallback","data","concat","map","record","key","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","Spin","indicator","LoadingOutlined","style","fontSize","memo"],"mappings":"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"}