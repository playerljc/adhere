{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof = require(\"@babel/runtime/helpers/typeof\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _LoadingOutlined2 = _interopRequireDefault(require(\"@ant-design/icons/lib/icons/LoadingOutlined\"));\nvar _spin = _interopRequireDefault(require(\"antd/lib/spin\"));\nvar _EnterOutlined2 = _interopRequireDefault(require(\"@ant-design/icons/lib/icons/EnterOutlined\"));\nvar _CaretUpOutlined2 = _interopRequireDefault(require(\"@ant-design/icons/lib/icons/CaretUpOutlined\"));\nvar _CaretDownOutlined2 = _interopRequireDefault(require(\"@ant-design/icons/lib/icons/CaretDownOutlined\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _adhereUtilIntl = _interopRequireDefault(require(\"@baifendian/adhere-util-intl\"));\nvar _Info = _interopRequireDefault(require(\"../Reply/Info\"));\nvar _Info2 = _interopRequireDefault(require(\"./Info\"));\nvar _ListStandard = _interopRequireDefault(require(\"./ListStandard\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\nvar Comment = function Comment(props) {\n  var listProps = props.listProps,\n    _a = props.commentDataKeys,\n    commentDataKeys = _a === void 0 ? {\n      current: 'current',\n      totalPage: 'totalPage',\n      list: 'list',\n      totalCount: 'totalCount'\n    } : _a,\n    _b = props.commentLimit,\n    commentLimit = _b === void 0 ? 10 : _b,\n    flexLayoutProps = props.flexLayoutProps,\n    getScrollWrapContainer = props.getScrollWrapContainer,\n    _c = props.commentKeyProp,\n    commentKeyProp = _c === void 0 ? 'id' : _c,\n    _d = props.replyDataKeys,\n    replyDataKeys = _d === void 0 ? {\n      current: 'current',\n      totalPage: 'totalPage',\n      list: 'list',\n      totalCount: 'totalCount'\n    } : _d,\n    _e = props.replyLimit,\n    replyLimit = _e === void 0 ? 10 : _e,\n    _f = props.replyKeyProp,\n    replyKeyProp = _f === void 0 ? 'id' : _f,\n    _g = props.isMoreProp,\n    isMoreProp = _g === void 0 ? 'isMore' : _g,\n    fetchCommentData = props.fetchCommentData,\n    fetchReplyData = props.fetchReplyData,\n    fetchReply = props.fetchReply,\n    renderEmpty = props.renderEmpty,\n    renderFirstLoading = props.renderFirstLoading,\n    renderCommentActions = props.renderCommentActions,\n    renderCommentAuthor = props.renderCommentAuthor,\n    renderCommentAvatar = props.renderCommentAvatar,\n    renderCommentContent = props.renderCommentContent,\n    renderCommentDateTime = props.renderCommentDateTime,\n    renderCommentLoading = props.renderCommentLoading,\n    renderReplyActions = props.renderReplyActions,\n    renderReplyAuthor = props.renderReplyAuthor,\n    renderReplyAvatar = props.renderReplyAvatar,\n    renderReplyContent = props.renderReplyContent,\n    renderReplyDateTime = props.renderReplyDateTime,\n    renderReplyLoading = props.renderReplyLoading,\n    _h = props.showReplyText,\n    showReplyText = _h === void 0 ? _adhereUtilIntl.default.v('显示回复内容') : _h,\n    _j = props.hideReplyText,\n    hideReplyText = _j === void 0 ? _adhereUtilIntl.default.v('收起回复') : _j,\n    _k = props.loadMoreReplyText,\n    loadMoreReplyText = _k === void 0 ? _adhereUtilIntl.default.v('加载更多回复') : _k,\n    _l = props.showReplyTextIcon,\n    showReplyTextIcon = _l === void 0 ? /*#__PURE__*/_react.default.createElement(_CaretDownOutlined2.default, null) : _l,\n    _m = props.hideReplyTextIcon,\n    hideReplyTextIcon = _m === void 0 ? /*#__PURE__*/_react.default.createElement(_CaretUpOutlined2.default, null) : _m,\n    _o = props.loadMoreCollapseTextIcon,\n    loadMoreCollapseTextIcon = _o === void 0 ? /*#__PURE__*/_react.default.createElement(_EnterOutlined2.default, {\n      className: \"reply-icon\"\n    }) : _o,\n    _p = props.local,\n    local = _p === void 0 ? 'zh' : _p,\n    emojiPickerProps = props.emojiPickerProps;\n  var renderList = (0, _react.useCallback)(function (data) {\n    var _a, _b;\n    return /*#__PURE__*/_react.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/_react.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[commentKeyProp]\n      }, /*#__PURE__*/_react.default.createElement(_Info2.default, {\n        data: record,\n        dataKeys: replyDataKeys,\n        limit: replyLimit,\n        keyProp: replyKeyProp,\n        isMoreProp: isMoreProp,\n        fetchData: fetchReplyData,\n        fetchReply: fetchReply,\n        renderActions: renderCommentActions,\n        renderAuthor: renderCommentAuthor,\n        renderAvatar: renderCommentAvatar,\n        renderContent: renderCommentContent,\n        renderDateTime: renderCommentDateTime,\n        renderLoading: renderCommentLoading || renderLoading,\n        showReplyText: showReplyText,\n        hideReplyText: hideReplyText,\n        loadMoreReplyText: loadMoreReplyText,\n        showReplyTextIcon: showReplyTextIcon,\n        hideReplyTextIcon: hideReplyTextIcon,\n        loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n        local: local,\n        emojiPickerProps: emojiPickerProps\n      }, function (record) {\n        return /*#__PURE__*/_react.default.createElement(_Info.default, {\n          data: record,\n          dataKeys: replyDataKeys,\n          limit: replyLimit,\n          keyProp: replyKeyProp,\n          isMoreProp: isMoreProp,\n          fetchData: fetchReplyData,\n          fetchReply: fetchReply,\n          renderActions: renderReplyActions,\n          renderAuthor: renderReplyAuthor,\n          renderAvatar: renderReplyAvatar,\n          renderContent: renderReplyContent,\n          renderDateTime: renderReplyDateTime,\n          renderLoading: renderReplyLoading || renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n          local: local,\n          emojiPickerProps: emojiPickerProps\n        });\n      }));\n    }));\n  }, [replyDataKeys, replyLimit, replyKeyProp, isMoreProp, fetchReplyData, fetchReply, renderCommentActions, renderCommentAuthor, renderCommentAvatar, renderCommentContent, renderReplyDateTime, renderCommentLoading, showReplyText, hideReplyText, loadMoreReplyText, showReplyTextIcon, hideReplyTextIcon, loadMoreCollapseTextIcon, local, emojiPickerProps, renderReplyContent, renderReplyAvatar, renderReplyAuthor, renderReplyActions]);\n  var renderLoading = (0, _react.useCallback)(function () {\n    return /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, /*#__PURE__*/_react.default.createElement(_spin.default, {\n      indicator: /*#__PURE__*/_react.default.createElement(_LoadingOutlined2.default, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(_ListStandard.default, {\n    getScrollWrapContainer: getScrollWrapContainer,\n    listProps: listProps,\n    dataKeys: commentDataKeys,\n    limit: commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: fetchCommentData,\n    renderEmpty: renderEmpty,\n    renderFirstLoading: renderFirstLoading,\n    flexLayoutProps: flexLayoutProps\n  });\n};\nvar _default = /*#__PURE__*/(0, _react.memo)(Comment);\nexports.default = _default;"],"names":["_interopRequireDefault","require","_typeof","_LoadingOutlined2","Object","defineProperty","exports","value","default","_spin","_EnterOutlined2","_CaretUpOutlined2","_CaretDownOutlined2","_react","_interopRequireWildcard","_adhereUtilIntl","_Info","_Info2","_ListStandard","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","WeakMap","obj","__esModule","cache","has","get","key","desc","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","prototype","hasOwnProperty","call","set","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","getScrollWrapContainer","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","v","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","_m","hideReplyTextIcon","_o","loadMoreCollapseTextIcon","className","_p","local","emojiPickerProps","renderList","useCallback","data","concat","map","record","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","indicator","style","fontSize","_default","memo"],"mappings":"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"}