{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar antd_1 = require(\"antd\");\n\nvar icons_1 = require(\"@ant-design/icons\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar ListStandard_1 = tslib_1.__importDefault(require(\"./ListStandard\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"./Info\"));\n\nvar Info_2 = tslib_1.__importDefault(require(\"../Reply/Info\"));\n\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nfunction Comment(props) {\n  function renderList(data) {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[props.commentKeyProp]\n      }, react_1.default.createElement(Info_1.default // @ts-ignore\n      , {\n        // @ts-ignore\n        data: record,\n        dataKeys: props.replyDataKeys,\n        limit: props.replyLimit,\n        keyProp: props.replyKeyProp,\n        isMoreProp: props.isMoreProp,\n        fetchData: props.fetchReplyData,\n        fetchReply: props.fetchReply,\n        renderActions: props.renderCommentActions,\n        renderAuthor: props.renderCommentAuthor,\n        renderAvatar: props.renderCommentAvatar,\n        renderContent: props.renderCommentContent,\n        renderDateTime: props.renderCommentDateTime,\n        renderLoading: props.renderCommentLoading || renderLoading,\n        showReplyText: props.showReplyText,\n        hideReplyText: props.hideReplyText,\n        loadMoreReplyText: props.loadMoreReplyText,\n        showReplyTextIcon: props.showReplyTextIcon,\n        hideReplyTextIcon: props.hideReplyTextIcon,\n        loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n        local: props.local,\n        emojiPickerProps: props.emojiPickerProps\n      }, function (record) {\n        return react_1.default.createElement(Info_2.default, {\n          data: record,\n          dataKeys: props.replyDataKeys,\n          limit: props.replyLimit,\n          keyProp: props.replyKeyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchReplyData,\n          fetchReply: props.fetchReply,\n          renderActions: props.renderReplyActions,\n          renderAuthor: props.renderReplyAuthor,\n          renderAvatar: props.renderReplyAvatar,\n          renderContent: props.renderReplyContent,\n          renderDateTime: props.renderReplyDateTime,\n          renderLoading: props.renderReplyLoading || renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n          local: props.local,\n          emojiPickerProps: props.emojiPickerProps\n        });\n      }));\n    }));\n  }\n\n  function renderLoading() {\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, react_1.default.createElement(antd_1.Spin, {\n      indicator: react_1.default.createElement(icons_1.LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }\n\n  return react_1.default.createElement(ListStandard_1.default, {\n    getScrollWrapContainer: props.getScrollWrapContainer,\n    listProps: props.listProps,\n    dataKeys: props.commentDataKeys,\n    limit: props.commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: props.fetchCommentData,\n    renderEmpty: props.renderEmpty,\n    renderFirstLoading: props.renderFirstLoading,\n    flexLayoutProps: props.flexLayoutProps\n  });\n}\n\nComment.defaultProps = {\n  commentKeyProp: 'id',\n  commentDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  commentLimit: 10,\n  replyKeyProp: 'id',\n  replyDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  replyLimit: 10,\n  isMoreProp: 'isMore',\n  showReplyText: adhere_util_intl_1.default.v('显示回复内容'),\n  hideReplyText: adhere_util_intl_1.default.v('收起回复'),\n  loadMoreReplyText: adhere_util_intl_1.default.v('加载更多回复'),\n  showReplyTextIcon: react_1.default.createElement(icons_1.CaretDownOutlined, null),\n  hideReplyTextIcon: react_1.default.createElement(icons_1.CaretUpOutlined, null),\n  loadMoreCollapseTextIcon: react_1.default.createElement(icons_1.EnterOutlined, {\n    className: \"reply-icon\"\n  }),\n  local: 'zh'\n};\nComment.propTypes = {\n  getScrollWrapContainer: prop_types_1.default.func,\n  fetchCommentData: prop_types_1.default.func,\n  commentDataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  commentLimit: prop_types_1.default.number,\n  commentKeyProp: prop_types_1.default.string,\n  renderCommentActions: prop_types_1.default.func,\n  renderCommentAuthor: prop_types_1.default.func,\n  renderCommentAvatar: prop_types_1.default.func,\n  renderCommentContent: prop_types_1.default.func,\n  renderCommentDateTime: prop_types_1.default.func,\n  renderCommentLoading: prop_types_1.default.func,\n  fetchReplyData: prop_types_1.default.func,\n  replyDataKeys: prop_types_1.default.shape({\n    current: prop_types_1.default.string,\n    totalPage: prop_types_1.default.string,\n    list: prop_types_1.default.string,\n    totalCount: prop_types_1.default.string\n  }),\n  replyLimit: prop_types_1.default.number,\n  replyKeyProp: prop_types_1.default.string,\n  renderReplyActions: prop_types_1.default.func,\n  renderReplyAuthor: prop_types_1.default.func,\n  renderReplyAvatar: prop_types_1.default.func,\n  renderReplyContent: prop_types_1.default.func,\n  renderReplyDateTime: prop_types_1.default.func,\n  renderReplyLoading: prop_types_1.default.func,\n  renderEmpty: prop_types_1.default.func,\n  renderFirstLoading: prop_types_1.default.func,\n  flexLayoutProps: prop_types_1.default.object,\n  fetchReply: prop_types_1.default.func,\n  listProps: prop_types_1.default.object,\n  isMoreProp: prop_types_1.default.string,\n  showReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  hideReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  loadMoreReplyText: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.func]),\n  showReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  hideReplyTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  loadMoreCollapseTextIcon: prop_types_1.default.oneOfType([prop_types_1.default.node, prop_types_1.default.func]),\n  scrollLoadProps: prop_types_1.default.shape({\n    className: prop_types_1.default.string,\n    style: prop_types_1.default.object,\n    loadClassName: prop_types_1.default.string,\n    loadStyle: prop_types_1.default.object,\n    emptyClassName: prop_types_1.default.string,\n    emptyStyle: prop_types_1.default.object,\n    errorClassName: prop_types_1.default.string,\n    errorStyle: prop_types_1.default.object,\n    distance: prop_types_1.default.number,\n    onScrollBottom: prop_types_1.default.func,\n    onEmptyClick: prop_types_1.default.func,\n    onErrorClick: prop_types_1.default.func,\n    renderLoading: prop_types_1.default.func,\n    renderEmpty: prop_types_1.default.func,\n    renderError: prop_types_1.default.func\n  }),\n  local: prop_types_1.default.string,\n  emojiPickerProps: prop_types_1.default.object\n};\nexports.default = Comment;"],"names":["require","Object","defineProperty","exports","value","tslib_1","react_1","__importDefault","prop_types_1","antd_1","icons_1","adhere_util_intl_1","ListStandard_1","Info_1","Info_2","selectorPrefix","Comment","props","renderLoading","default","createElement","className","concat","Spin","indicator","LoadingOutlined","style","fontSize","getScrollWrapContainer","listProps","dataKeys","commentDataKeys","limit","commentLimit","renderList","data","_a","_b","list","map","call","record","key","commentKeyProp","replyDataKeys","replyLimit","keyProp","replyKeyProp","isMoreProp","fetchData","fetchReplyData","fetchReply","renderActions","renderCommentActions","renderAuthor","renderCommentAuthor","renderAvatar","renderCommentAvatar","renderContent","renderCommentContent","renderDateTime","renderCommentDateTime","renderCommentLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","local","emojiPickerProps","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","fetchCommentData","renderEmpty","renderFirstLoading","flexLayoutProps","defaultProps","current","totalPage","totalCount","v","CaretDownOutlined","CaretUpOutlined","EnterOutlined","propTypes","func","shape","string","number","object","oneOfType","node","scrollLoadProps","loadClassName","loadStyle","emptyClassName","emptyStyle","errorClassName","errorStyle","distance","onScrollBottom","onEmptyClick","onErrorClick","renderError"],"mappings":"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"}