{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nvar antd_1 = require(\"antd\");\r\nvar react_1 = tslib_1.__importStar(require(\"react\"));\r\nvar icons_1 = require(\"@ant-design/icons\");\r\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar Info_1 = tslib_1.__importDefault(require(\"../Reply/Info\"));\r\nvar Info_2 = tslib_1.__importDefault(require(\"./Info\"));\r\nvar ListStandard_1 = tslib_1.__importDefault(require(\"./ListStandard\"));\r\nvar selectorPrefix = 'adhere-ui-comment';\r\n/**\r\n * Comment\r\n * @param props\r\n * @constructor\r\n * @classdesc 评论\r\n */\r\nvar Comment = function (props) {\r\n    var listProps = props.listProps, _a = props.commentDataKeys, commentDataKeys = _a === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _a, _b = props.commentLimit, commentLimit = _b === void 0 ? 10 : _b, flexLayoutProps = props.flexLayoutProps, getScrollWrapContainer = props.getScrollWrapContainer, _c = props.commentKeyProp, commentKeyProp = _c === void 0 ? 'id' : _c, _d = props.replyDataKeys, replyDataKeys = _d === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _d, _e = props.replyLimit, replyLimit = _e === void 0 ? 10 : _e, _f = props.replyKeyProp, replyKeyProp = _f === void 0 ? 'id' : _f, _g = props.isMoreProp, isMoreProp = _g === void 0 ? 'isMore' : _g, fetchCommentData = props.fetchCommentData, fetchReplyData = props.fetchReplyData, fetchReply = props.fetchReply, renderEmpty = props.renderEmpty, renderFirstLoading = props.renderFirstLoading, renderCommentActions = props.renderCommentActions, renderCommentAuthor = props.renderCommentAuthor, renderCommentAvatar = props.renderCommentAvatar, renderCommentContent = props.renderCommentContent, renderCommentDateTime = props.renderCommentDateTime, renderCommentLoading = props.renderCommentLoading, renderReplyActions = props.renderReplyActions, renderReplyAuthor = props.renderReplyAuthor, renderReplyAvatar = props.renderReplyAvatar, renderReplyContent = props.renderReplyContent, renderReplyDateTime = props.renderReplyDateTime, renderReplyLoading = props.renderReplyLoading, _h = props.showReplyText, showReplyText = _h === void 0 ? adhere_util_intl_1.default.v('显示回复内容') : _h, _j = props.hideReplyText, hideReplyText = _j === void 0 ? adhere_util_intl_1.default.v('收起回复') : _j, _k = props.loadMoreReplyText, loadMoreReplyText = _k === void 0 ? adhere_util_intl_1.default.v('加载更多回复') : _k, _l = props.showReplyTextIcon, showReplyTextIcon = _l === void 0 ? react_1.default.createElement(icons_1.CaretDownOutlined, null) : _l, _m = props.hideReplyTextIcon, hideReplyTextIcon = _m === void 0 ? react_1.default.createElement(icons_1.CaretUpOutlined, null) : _m, _o = props.loadMoreCollapseTextIcon, loadMoreCollapseTextIcon = _o === void 0 ? react_1.default.createElement(icons_1.EnterOutlined, { className: \"reply-icon\" }) : _o, _p = props.local, local = _p === void 0 ? 'zh' : _p, emojiPickerProps = props.emojiPickerProps;\r\n    var renderList = (0, react_1.useCallback)(function (data) {\r\n        var _a, _b;\r\n        return (react_1.default.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-list\") }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) { return (react_1.default.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-list-item\"), key: record[commentKeyProp] },\r\n            react_1.default.createElement(Info_2.default, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderCommentActions, renderAuthor: renderCommentAuthor, renderAvatar: renderCommentAvatar, renderContent: renderCommentContent, renderDateTime: renderCommentDateTime, renderLoading: renderCommentLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps }, function (record) { return (react_1.default.createElement(Info_1.default, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderReplyActions, renderAuthor: renderReplyAuthor, renderAvatar: renderReplyAvatar, renderContent: renderReplyContent, renderDateTime: renderReplyDateTime, renderLoading: renderReplyLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); })));\r\n    }, [\r\n        replyDataKeys,\r\n        replyLimit,\r\n        replyKeyProp,\r\n        isMoreProp,\r\n        fetchReplyData,\r\n        fetchReply,\r\n        renderCommentActions,\r\n        renderCommentAuthor,\r\n        renderCommentAvatar,\r\n        renderCommentContent,\r\n        renderReplyDateTime,\r\n        renderCommentLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        local,\r\n        emojiPickerProps,\r\n        renderReplyContent,\r\n        renderReplyAvatar,\r\n        renderReplyAuthor,\r\n        renderReplyActions,\r\n    ]);\r\n    var renderLoading = (0, react_1.useCallback)(function () { return (react_1.default.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-loading\") },\r\n        react_1.default.createElement(antd_1.Spin, { indicator: react_1.default.createElement(icons_1.LoadingOutlined, { style: {\r\n                    fontSize: 24,\r\n                } }) }))); }, []);\r\n    return (react_1.default.createElement(ListStandard_1.default, { getScrollWrapContainer: getScrollWrapContainer, listProps: listProps, dataKeys: commentDataKeys, limit: commentLimit, renderList: renderList, renderLoading: renderLoading, fetchData: fetchCommentData, renderEmpty: renderEmpty, renderFirstLoading: renderFirstLoading, flexLayoutProps: flexLayoutProps }));\r\n};\r\nexports.default = (0, react_1.memo)(Comment);\r\n//# sourceMappingURL=index.js.map"],"names":["Object","defineProperty","exports","value","tslib_1","require","antd_1","react_1","__importStar","icons_1","adhere_util_intl_1","__importDefault","Info_1","Info_2","ListStandard_1","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","getScrollWrapContainer","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","default","v","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","CaretDownOutlined","_m","hideReplyTextIcon","CaretUpOutlined","_o","loadMoreCollapseTextIcon","EnterOutlined","className","_p","local","emojiPickerProps","renderList","useCallback","data","concat","map","call","record","key","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","Spin","indicator","LoadingOutlined","style","fontSize","memo"],"mappings":"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"}