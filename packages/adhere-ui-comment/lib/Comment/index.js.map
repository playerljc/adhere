{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar antd_1 = require(\"antd\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar icons_1 = require(\"@ant-design/icons\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar Info_1 = tslib_1.__importDefault(require(\"../Reply/Info\"));\n\nvar Info_2 = tslib_1.__importDefault(require(\"./Info\"));\n\nvar ListStandard_1 = tslib_1.__importDefault(require(\"./ListStandard\"));\n\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nvar Comment = function Comment(props) {\n  var listProps = props.listProps,\n      _a = props.commentDataKeys,\n      commentDataKeys = _a === void 0 ? {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  } : _a,\n      _b = props.commentLimit,\n      commentLimit = _b === void 0 ? 10 : _b,\n      flexLayoutProps = props.flexLayoutProps,\n      getScrollWrapContainer = props.getScrollWrapContainer,\n      _c = props.commentKeyProp,\n      commentKeyProp = _c === void 0 ? 'id' : _c,\n      _d = props.replyDataKeys,\n      replyDataKeys = _d === void 0 ? {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  } : _d,\n      _e = props.replyLimit,\n      replyLimit = _e === void 0 ? 10 : _e,\n      _f = props.replyKeyProp,\n      replyKeyProp = _f === void 0 ? 'id' : _f,\n      _g = props.isMoreProp,\n      isMoreProp = _g === void 0 ? 'isMore' : _g,\n      fetchCommentData = props.fetchCommentData,\n      fetchReplyData = props.fetchReplyData,\n      fetchReply = props.fetchReply,\n      renderEmpty = props.renderEmpty,\n      renderFirstLoading = props.renderFirstLoading,\n      renderCommentActions = props.renderCommentActions,\n      renderCommentAuthor = props.renderCommentAuthor,\n      renderCommentAvatar = props.renderCommentAvatar,\n      renderCommentContent = props.renderCommentContent,\n      renderCommentDateTime = props.renderCommentDateTime,\n      renderCommentLoading = props.renderCommentLoading,\n      renderReplyActions = props.renderReplyActions,\n      renderReplyAuthor = props.renderReplyAuthor,\n      renderReplyAvatar = props.renderReplyAvatar,\n      renderReplyContent = props.renderReplyContent,\n      renderReplyDateTime = props.renderReplyDateTime,\n      renderReplyLoading = props.renderReplyLoading,\n      _h = props.showReplyText,\n      showReplyText = _h === void 0 ? adhere_util_intl_1.default.v('显示回复内容') : _h,\n      _j = props.hideReplyText,\n      hideReplyText = _j === void 0 ? adhere_util_intl_1.default.v('收起回复') : _j,\n      _k = props.loadMoreReplyText,\n      loadMoreReplyText = _k === void 0 ? adhere_util_intl_1.default.v('加载更多回复') : _k,\n      _l = props.showReplyTextIcon,\n      showReplyTextIcon = _l === void 0 ? react_1.default.createElement(icons_1.CaretDownOutlined, null) : _l,\n      _m = props.hideReplyTextIcon,\n      hideReplyTextIcon = _m === void 0 ? react_1.default.createElement(icons_1.CaretUpOutlined, null) : _m,\n      _o = props.loadMoreCollapseTextIcon,\n      loadMoreCollapseTextIcon = _o === void 0 ? react_1.default.createElement(icons_1.EnterOutlined, {\n    className: \"reply-icon\"\n  }) : _o,\n      _p = props.local,\n      local = _p === void 0 ? 'zh' : _p,\n      emojiPickerProps = props.emojiPickerProps;\n  var renderList = (0, react_1.useCallback)(function (data) {\n    var _a, _b;\n\n    return react_1.default.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return react_1.default.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[commentKeyProp]\n      }, react_1.default.createElement(Info_2.default, {\n        data: record,\n        dataKeys: replyDataKeys,\n        limit: replyLimit,\n        keyProp: replyKeyProp,\n        isMoreProp: isMoreProp,\n        fetchData: fetchReplyData,\n        fetchReply: fetchReply,\n        renderActions: renderCommentActions,\n        renderAuthor: renderCommentAuthor,\n        renderAvatar: renderCommentAvatar,\n        renderContent: renderCommentContent,\n        renderDateTime: renderCommentDateTime,\n        renderLoading: renderCommentLoading || renderLoading,\n        showReplyText: showReplyText,\n        hideReplyText: hideReplyText,\n        loadMoreReplyText: loadMoreReplyText,\n        showReplyTextIcon: showReplyTextIcon,\n        hideReplyTextIcon: hideReplyTextIcon,\n        loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n        local: local,\n        emojiPickerProps: emojiPickerProps\n      }, function (record) {\n        return react_1.default.createElement(Info_1.default, {\n          data: record,\n          dataKeys: replyDataKeys,\n          limit: replyLimit,\n          keyProp: replyKeyProp,\n          isMoreProp: isMoreProp,\n          fetchData: fetchReplyData,\n          fetchReply: fetchReply,\n          renderActions: renderReplyActions,\n          renderAuthor: renderReplyAuthor,\n          renderAvatar: renderReplyAvatar,\n          renderContent: renderReplyContent,\n          renderDateTime: renderReplyDateTime,\n          renderLoading: renderReplyLoading || renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n          local: local,\n          emojiPickerProps: emojiPickerProps\n        });\n      }));\n    }));\n  }, [replyDataKeys, replyLimit, replyKeyProp, isMoreProp, fetchReplyData, fetchReply, renderCommentActions, renderCommentAuthor, renderCommentAvatar, renderCommentContent, renderReplyDateTime, renderCommentLoading, showReplyText, hideReplyText, loadMoreReplyText, showReplyTextIcon, hideReplyTextIcon, loadMoreCollapseTextIcon, local, emojiPickerProps, renderReplyContent, renderReplyAvatar, renderReplyAuthor, renderReplyActions]);\n  var renderLoading = (0, react_1.useCallback)(function () {\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, react_1.default.createElement(antd_1.Spin, {\n      indicator: react_1.default.createElement(icons_1.LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }, []);\n  return react_1.default.createElement(ListStandard_1.default, {\n    getScrollWrapContainer: getScrollWrapContainer,\n    listProps: listProps,\n    dataKeys: commentDataKeys,\n    limit: commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: fetchCommentData,\n    renderEmpty: renderEmpty,\n    renderFirstLoading: renderFirstLoading,\n    flexLayoutProps: flexLayoutProps\n  });\n};\n\nexports.default = (0, react_1.memo)(Comment);"],"names":["require","Object","defineProperty","exports","value","tslib_1","antd_1","react_1","__importStar","icons_1","adhere_util_intl_1","__importDefault","Info_1","Info_2","ListStandard_1","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","getScrollWrapContainer","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","default","v","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","CaretDownOutlined","_m","hideReplyTextIcon","CaretUpOutlined","_o","loadMoreCollapseTextIcon","EnterOutlined","className","_p","local","emojiPickerProps","renderList","useCallback","data","concat","map","call","record","key","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","Spin","indicator","LoadingOutlined","style","fontSize","memo"],"mappings":"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"}