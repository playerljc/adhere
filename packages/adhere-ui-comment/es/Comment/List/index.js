import _Skeleton from"antd/es/skeleton";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.promise.js";import{__assign}from"tslib";import React,{useRef}from"react";import ReactDOM from"react-dom";import classnames from"classnames";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import ScrollLoad from"@baifendian/adhere-ui-scrollload";import BackTopAnimation from"@baifendian/adhere-ui-backtopanimation";var selectorPrefix="adhere-ui-comment-inner-list",CommentList=function(e){var r,n=e.className,t=void 0===n?"":n,o=e.style,i=void 0===o?{}:o,a=e.isLoading,l=void 0!==a&&a,n=e.hasMore,o=void 0!==n&&n,a=e.onLoadMore,n=e.scrollLoadProps,c=void 0===n?{}:n,s=e.renderFirstLoading,d=e.getScrollWrapContainer,m=e.children,n=useRef(!0),e=useRef(!1),u=useRef(null);return React.createElement("div",{className:classnames(selectorPrefix,t||""),style:i||{},ref:u},(l=l,n.current&&!e.current&&l&&(e.current=!0),n.current&&e.current&&!l&&(n.current=!1,e.current=!1),n.current?function(){if(s)return s();for(var e=[],r=0;r<7;r++)e.push(React.createElement(_Skeleton,{key:r+1,loading:!0,avatar:!0}));return React.createElement("div",{className:"".concat(selectorPrefix,"-first-loading-wrap")},e)}():(r={getScrollContainer:function(){var e;return null===(e=null==d?void 0:d())||void 0===e?void 0:e.firstElementChild},onScrollBottom:a},React.createElement(ConditionalRender,{conditional:o},function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-normal-wrap")},React.createElement(ScrollLoad,__assign({},r,c||{},{distance:(null==c?void 0:c.distance)||50}),m),React.createElement(ConditionalRender,{conditional:!(!d||!d()),noMatch:function(){return React.createElement(BackTopAnimation,{getContainer:function(){var e,r;return null===(r=null===(e=null==u?void 0:u.current)||void 0===e?void 0:e.querySelector)||void 0===r?void 0:r.call(e,".adhere-ui-scrollload")},onTrigger:function(){return Promise.resolve()}})}},function(){return ReactDOM.createPortal(React.createElement(BackTopAnimation,{getContainer:function(){var e;return null===(e=null==d?void 0:d())||void 0===e?void 0:e.firstElementChild},onTrigger:function(){return Promise.resolve()}}),null==d?void 0:d())}))}))))};export default CommentList;
//# sourceMappingURL=index.js.map
