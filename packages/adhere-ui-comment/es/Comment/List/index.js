import _Skeleton from"antd/es/skeleton";import"core-js/modules/es.object.to-string.js";import"core-js/modules/es.promise.js";import{__assign}from"tslib";import classnames from"classnames";import React,{memo,useRef}from"react";import ReactDOM from"react-dom";import BackTopAnimation from"@baifendian/adhere-ui-backtopanimation";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import ScrollLoad from"@baifendian/adhere-ui-scrollload";var selectorPrefix="adhere-ui-comment-inner-list",CommentList=function(e){var r=e.className,r=void 0===r?"":r,n=e.style,n=void 0===n?{}:n,t=e.isLoading,o=void 0!==t&&t,t=e.hasMore,i=void 0!==t&&t,a=e.onLoadMore,t=e.scrollLoadProps,l=void 0===t?{}:t,c=e.renderFirstLoading,s=e.getScrollWrapContainer,m=e.children,d=useRef(!0),u=useRef(!1),f=useRef(null);return React.createElement("div",{className:classnames(selectorPrefix,r||""),style:n||{},ref:f},function(){var e,r=o;if(d.current&&!u.current&&r&&(u.current=!0),d.current&&u.current&&!r&&(d.current=!1,u.current=!1),d.current){if(c)return c();for(var n=[],t=0;t<7;t++)n.push(React.createElement(_Skeleton,{key:t+1,loading:!0,avatar:!0}));return React.createElement("div",{className:"".concat(selectorPrefix,"-first-loading-wrap")},n)}return e={getScrollContainer:function(){var e;return null==(e=null==s?void 0:s())?void 0:e.firstElementChild},onScrollBottom:a},React.createElement(ConditionalRender,{conditional:i},function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-normal-wrap")},React.createElement(ScrollLoad,__assign({},e,l||{},{distance:(null==l?void 0:l.distance)||50}),m),React.createElement(ConditionalRender,{conditional:!(!s||!s()),noMatch:function(){return React.createElement(BackTopAnimation,{getContainer:function(){var e,r;return null==(r=null==(e=null==f?void 0:f.current)?void 0:e.querySelector)?void 0:r.call(e,".adhere-ui-scrollload")},onTrigger:function(){return Promise.resolve()}})}},function(){return ReactDOM.createPortal(React.createElement(BackTopAnimation,{getContainer:function(){var e;return null==(e=null==s?void 0:s())?void 0:e.firstElementChild},onTrigger:function(){return Promise.resolve()}}),null==s?void 0:s())}))})}())};export default memo(CommentList);
//# sourceMappingURL=index.js.map
