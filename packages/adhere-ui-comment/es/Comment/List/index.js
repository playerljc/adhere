import _Skeleton from"antd/es/skeleton";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var o in n=arguments[r])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};import classnames from"classnames";import React,{memo,useRef}from"react";import ReactDOM from"react-dom";import BackTopAnimation from"@baifendian/adhere-ui-backtopanimation";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import ScrollLoad from"@baifendian/adhere-ui-scrollload";var selectorPrefix="adhere-ui-comment-inner-list",CommentList=memo(function(e){var n=e.className,n=void 0===n?"":n,r=e.style,r=void 0===r?{}:r,t=e.isLoading,o=void 0!==t&&t,t=e.hasMore,a=void 0!==t&&t,i=e.onLoadMore,t=e.scrollLoadProps,l=void 0===t?{}:t,c=e.renderFirstLoading,s=e.getScrollWrapContainer,u=e.children,m=useRef(!0),d=useRef(!1),f=useRef(null);return React.createElement("div",{className:classnames(selectorPrefix,null!=n?n:""),style:null!=r?r:{},ref:f},function(){var e,n=o;if(m.current&&!d.current&&n&&(d.current=!0),m.current&&d.current&&!n&&(m.current=!1,d.current=!1),m.current){if(c)return c();for(var r=[],t=0;t<7;t++)r.push(React.createElement(_Skeleton,{key:t+1,loading:!0,avatar:!0}));return React.createElement("div",{className:"".concat(selectorPrefix,"-first-loading-wrap")},r)}return e={getScrollContainer:function(){var e;return null==(e=null==s?void 0:s())?void 0:e.firstElementChild},onScrollBottom:i},React.createElement(ConditionalRender,{conditional:a},function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-normal-wrap")},React.createElement(ScrollLoad,__assign({},e,null!=l?l:{},{distance:(null==l?void 0:l.distance)||50}),u),React.createElement(ConditionalRender,{conditional:!(!s||!s()),noMatch:function(){return React.createElement(BackTopAnimation,{getContainer:function(){var e,n;return null==(n=null==(e=null==f?void 0:f.current)?void 0:e.querySelector)?void 0:n.call(e,".adhere-ui-scroll-load")},onTrigger:function(){return Promise.resolve()}})}},function(){return ReactDOM.createPortal(React.createElement(BackTopAnimation,{getContainer:function(){var e;return null==(e=null==s?void 0:s())?void 0:e.firstElementChild},onTrigger:function(){return Promise.resolve()}}),null==s?void 0:s())}))})}())});CommentList.displayName="CommentList";export default CommentList;
//# sourceMappingURL=index.js.map
