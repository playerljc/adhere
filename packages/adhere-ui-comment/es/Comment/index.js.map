{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["import { Spin } from 'antd';\r\nimport React, { memo, useCallback } from 'react';\r\nimport { CaretDownOutlined, CaretUpOutlined, EnterOutlined, LoadingOutlined, } from '@ant-design/icons';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport ReplyInfo from '../Reply/Info';\r\nimport CommentInfo from './Info';\r\nimport ListStandard from './ListStandard';\r\nvar selectorPrefix = 'adhere-ui-comment';\r\n/**\r\n * Comment\r\n * @param props\r\n * @constructor\r\n * @classdesc 评论\r\n */\r\nvar Comment = function (props) {\r\n    var listProps = props.listProps, _a = props.commentDataKeys, commentDataKeys = _a === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _a, _b = props.commentLimit, commentLimit = _b === void 0 ? 10 : _b, flexLayoutProps = props.flexLayoutProps, getScrollWrapContainer = props.getScrollWrapContainer, _c = props.commentKeyProp, commentKeyProp = _c === void 0 ? 'id' : _c, _d = props.replyDataKeys, replyDataKeys = _d === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _d, _e = props.replyLimit, replyLimit = _e === void 0 ? 10 : _e, _f = props.replyKeyProp, replyKeyProp = _f === void 0 ? 'id' : _f, _g = props.isMoreProp, isMoreProp = _g === void 0 ? 'isMore' : _g, fetchCommentData = props.fetchCommentData, fetchReplyData = props.fetchReplyData, fetchReply = props.fetchReply, renderEmpty = props.renderEmpty, renderFirstLoading = props.renderFirstLoading, renderCommentActions = props.renderCommentActions, renderCommentAuthor = props.renderCommentAuthor, renderCommentAvatar = props.renderCommentAvatar, renderCommentContent = props.renderCommentContent, renderCommentDateTime = props.renderCommentDateTime, renderCommentLoading = props.renderCommentLoading, renderReplyActions = props.renderReplyActions, renderReplyAuthor = props.renderReplyAuthor, renderReplyAvatar = props.renderReplyAvatar, renderReplyContent = props.renderReplyContent, renderReplyDateTime = props.renderReplyDateTime, renderReplyLoading = props.renderReplyLoading, _h = props.showReplyText, showReplyText = _h === void 0 ? Intl.v('显示回复内容') : _h, _j = props.hideReplyText, hideReplyText = _j === void 0 ? Intl.v('收起回复') : _j, _k = props.loadMoreReplyText, loadMoreReplyText = _k === void 0 ? Intl.v('加载更多回复') : _k, _l = props.showReplyTextIcon, showReplyTextIcon = _l === void 0 ? React.createElement(CaretDownOutlined, null) : _l, _m = props.hideReplyTextIcon, hideReplyTextIcon = _m === void 0 ? React.createElement(CaretUpOutlined, null) : _m, _o = props.loadMoreCollapseTextIcon, loadMoreCollapseTextIcon = _o === void 0 ? React.createElement(EnterOutlined, { className: \"reply-icon\" }) : _o, _p = props.local, local = _p === void 0 ? 'zh' : _p, emojiPickerProps = props.emojiPickerProps;\r\n    var renderList = useCallback(function (data) {\r\n        var _a, _b;\r\n        return (React.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-list\") }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) { return (React.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-list-item\"), key: record[commentKeyProp] },\r\n            React.createElement(CommentInfo, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderCommentActions, renderAuthor: renderCommentAuthor, renderAvatar: renderCommentAvatar, renderContent: renderCommentContent, renderDateTime: renderCommentDateTime, renderLoading: renderCommentLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps }, function (record) { return (React.createElement(ReplyInfo, { data: record, dataKeys: replyDataKeys, limit: replyLimit, keyProp: replyKeyProp, isMoreProp: isMoreProp, fetchData: fetchReplyData, fetchReply: fetchReply, renderActions: renderReplyActions, renderAuthor: renderReplyAuthor, renderAvatar: renderReplyAvatar, renderContent: renderReplyContent, renderDateTime: renderReplyDateTime, renderLoading: renderReplyLoading || renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); })));\r\n    }, [\r\n        replyDataKeys,\r\n        replyLimit,\r\n        replyKeyProp,\r\n        isMoreProp,\r\n        fetchReplyData,\r\n        fetchReply,\r\n        renderCommentActions,\r\n        renderCommentAuthor,\r\n        renderCommentAvatar,\r\n        renderCommentContent,\r\n        renderReplyDateTime,\r\n        renderCommentLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        local,\r\n        emojiPickerProps,\r\n        renderReplyContent,\r\n        renderReplyAvatar,\r\n        renderReplyAuthor,\r\n        renderReplyActions,\r\n    ]);\r\n    var renderLoading = useCallback(function () { return (React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-loading\") },\r\n        React.createElement(Spin, { indicator: React.createElement(LoadingOutlined, { style: {\r\n                    fontSize: 24,\r\n                } }) }))); }, []);\r\n    return (React.createElement(ListStandard, { getScrollWrapContainer: getScrollWrapContainer, listProps: listProps, dataKeys: commentDataKeys, limit: commentLimit, renderList: renderList, renderLoading: renderLoading, fetchData: fetchCommentData, renderEmpty: renderEmpty, renderFirstLoading: renderFirstLoading, flexLayoutProps: flexLayoutProps }));\r\n};\r\nexport default memo(Comment);\r\n"],"names":["Spin","React","memo","useCallback","CaretDownOutlined","CaretUpOutlined","EnterOutlined","LoadingOutlined","Intl","ReplyInfo","CommentInfo","ListStandard","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","getScrollWrapContainer","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","v","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","_m","hideReplyTextIcon","_o","loadMoreCollapseTextIcon","className","_p","local","emojiPickerProps","renderList","data","concat","map","call","record","key","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","indicator","style","fontSize"],"mappings":"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"}