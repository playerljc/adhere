{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["import _EnterOutlined from \"@ant-design/icons/es/icons/EnterOutlined\";\nimport _CaretUpOutlined from \"@ant-design/icons/es/icons/CaretUpOutlined\";\nimport _CaretDownOutlined from \"@ant-design/icons/es/icons/CaretDownOutlined\";\nimport _LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport _Spin from \"antd/es/spin\";\nimport \"core-js/modules/es.array.map.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Intl from '@baifendian/adhere-util-intl';\nimport ListStandard from './ListStandard';\nimport CommentInfo from './Info';\nimport ReplyInfo from '../Reply/Info';\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n */\n\nfunction Comment(props) {\n  function renderList(data) {\n    var _a, _b;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[props.commentKeyProp]\n      }, /*#__PURE__*/React.createElement(CommentInfo // @ts-ignore\n      , {\n        // @ts-ignore\n        data: record,\n        dataKeys: props.replyDataKeys,\n        limit: props.replyLimit,\n        keyProp: props.replyKeyProp,\n        isMoreProp: props.isMoreProp,\n        fetchData: props.fetchReplyData,\n        fetchReply: props.fetchReply,\n        renderActions: props.renderCommentActions,\n        renderAuthor: props.renderCommentAuthor,\n        renderAvatar: props.renderCommentAvatar,\n        renderContent: props.renderCommentContent,\n        renderDateTime: props.renderCommentDateTime,\n        renderLoading: props.renderCommentLoading || renderLoading,\n        showReplyText: props.showReplyText,\n        hideReplyText: props.hideReplyText,\n        loadMoreReplyText: props.loadMoreReplyText,\n        showReplyTextIcon: props.showReplyTextIcon,\n        hideReplyTextIcon: props.hideReplyTextIcon,\n        loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n      }, function (record) {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          data: record,\n          dataKeys: props.replyDataKeys,\n          limit: props.replyLimit,\n          keyProp: props.replyKeyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchReplyData,\n          fetchReply: props.fetchReply,\n          renderActions: props.renderReplyActions,\n          renderAuthor: props.renderReplyAuthor,\n          renderAvatar: props.renderReplyAvatar,\n          renderContent: props.renderReplyContent,\n          renderDateTime: props.renderReplyDateTime,\n          renderLoading: props.renderReplyLoading || renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }));\n  }\n\n  function renderLoading() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      indicator: /*#__PURE__*/React.createElement(_LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(ListStandard, {\n    getScrollWrapContainer: props.getScrollWrapContainer,\n    listProps: props.listProps,\n    dataKeys: props.commentDataKeys,\n    limit: props.commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: props.fetchCommentData,\n    renderEmpty: props.renderEmpty,\n    renderFirstLoading: props.renderFirstLoading,\n    flexLayoutProps: props.flexLayoutProps\n  });\n}\n\nComment.defaultProps = {\n  commentKeyProp: 'id',\n  commentDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  commentLimit: 10,\n  replyKeyProp: 'id',\n  replyDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  replyLimit: 10,\n  isMoreProp: 'isMore',\n  showReplyText: Intl.v('显示回复内容'),\n  hideReplyText: Intl.v('收起回复'),\n  loadMoreReplyText: Intl.v('加载更多回复'),\n  showReplyTextIcon: /*#__PURE__*/React.createElement(_CaretDownOutlined, null),\n  hideReplyTextIcon: /*#__PURE__*/React.createElement(_CaretUpOutlined, null),\n  loadMoreCollapseTextIcon: /*#__PURE__*/React.createElement(_EnterOutlined, {\n    className: \"reply-icon\"\n  })\n};\nComment.propTypes = {\n  getScrollWrapContainer: PropTypes.func,\n  fetchCommentData: PropTypes.func,\n  commentDataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  commentLimit: PropTypes.number,\n  commentKeyProp: PropTypes.string,\n  renderCommentActions: PropTypes.func,\n  renderCommentAuthor: PropTypes.func,\n  renderCommentAvatar: PropTypes.func,\n  renderCommentContent: PropTypes.func,\n  renderCommentDateTime: PropTypes.func,\n  renderCommentLoading: PropTypes.func,\n  fetchReplyData: PropTypes.func,\n  replyDataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  replyLimit: PropTypes.number,\n  replyKeyProp: PropTypes.string,\n  renderReplyActions: PropTypes.func,\n  renderReplyAuthor: PropTypes.func,\n  renderReplyAvatar: PropTypes.func,\n  renderReplyContent: PropTypes.func,\n  renderReplyDateTime: PropTypes.func,\n  renderReplyLoading: PropTypes.func,\n  renderEmpty: PropTypes.func,\n  renderFirstLoading: PropTypes.func,\n  flexLayoutProps: PropTypes.object,\n  fetchReply: PropTypes.func,\n  listProps: PropTypes.object,\n  isMoreProp: PropTypes.string,\n  showReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  hideReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  loadMoreReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  showReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  hideReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  loadMoreCollapseTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  scrollLoadProps: PropTypes.shape({\n    className: PropTypes.string,\n    style: PropTypes.object,\n    loadClassName: PropTypes.string,\n    loadStyle: PropTypes.object,\n    emptyClassName: PropTypes.string,\n    emptyStyle: PropTypes.object,\n    errorClassName: PropTypes.string,\n    errorStyle: PropTypes.object,\n    distance: PropTypes.number,\n    onScrollBottom: PropTypes.func,\n    onEmptyClick: PropTypes.func,\n    onErrorClick: PropTypes.func,\n    renderLoading: PropTypes.func,\n    renderEmpty: PropTypes.func,\n    renderError: PropTypes.func\n  })\n};\nexport default Comment;"],"names":["_EnterOutlined","_CaretUpOutlined","_CaretDownOutlined","_LoadingOutlined","_Spin","React","PropTypes","Intl","ListStandard","CommentInfo","ReplyInfo","selectorPrefix","Comment","props","renderLoading","createElement","className","concat","indicator","style","fontSize","getScrollWrapContainer","listProps","dataKeys","commentDataKeys","limit","commentLimit","renderList","data","_a","_b","list","map","call","record","key","commentKeyProp","replyDataKeys","replyLimit","keyProp","replyKeyProp","isMoreProp","fetchData","fetchReplyData","fetchReply","renderActions","renderCommentActions","renderAuthor","renderCommentAuthor","renderAvatar","renderCommentAvatar","renderContent","renderCommentContent","renderDateTime","renderCommentDateTime","renderCommentLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","fetchCommentData","renderEmpty","renderFirstLoading","flexLayoutProps","defaultProps","current","totalPage","totalCount","v","propTypes","func","shape","string","number","object","oneOfType","node","scrollLoadProps","loadClassName","loadStyle","emptyClassName","emptyStyle","errorClassName","errorStyle","distance","onScrollBottom","onEmptyClick","onErrorClick","renderError"],"mappings":"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"}