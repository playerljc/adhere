{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["import _EnterOutlined from \"@ant-design/icons/es/icons/EnterOutlined\";\nimport _CaretUpOutlined from \"@ant-design/icons/es/icons/CaretUpOutlined\";\nimport _CaretDownOutlined from \"@ant-design/icons/es/icons/CaretDownOutlined\";\nimport _LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport _Spin from \"antd/es/spin\";\nimport \"core-js/modules/es.array.map.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Intl from '@baifendian/adhere-util-intl';\nimport ListStandard from './ListStandard';\nimport CommentInfo from './Info';\nimport ReplyInfo from '../Reply/Info';\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\n\nfunction Comment(props) {\n  function renderList(data) {\n    var _a, _b;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[props.commentKeyProp]\n      }, /*#__PURE__*/React.createElement(CommentInfo // @ts-ignore\n      , {\n        // @ts-ignore\n        data: record,\n        dataKeys: props.replyDataKeys,\n        limit: props.replyLimit,\n        keyProp: props.replyKeyProp,\n        isMoreProp: props.isMoreProp,\n        fetchData: props.fetchReplyData,\n        fetchReply: props.fetchReply,\n        renderActions: props.renderCommentActions,\n        renderAuthor: props.renderCommentAuthor,\n        renderAvatar: props.renderCommentAvatar,\n        renderContent: props.renderCommentContent,\n        renderDateTime: props.renderCommentDateTime,\n        renderLoading: props.renderCommentLoading || renderLoading,\n        showReplyText: props.showReplyText,\n        hideReplyText: props.hideReplyText,\n        loadMoreReplyText: props.loadMoreReplyText,\n        showReplyTextIcon: props.showReplyTextIcon,\n        hideReplyTextIcon: props.hideReplyTextIcon,\n        loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n        local: props.local,\n        emojiPickerProps: props.emojiPickerProps\n      }, function (record) {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          data: record,\n          dataKeys: props.replyDataKeys,\n          limit: props.replyLimit,\n          keyProp: props.replyKeyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchReplyData,\n          fetchReply: props.fetchReply,\n          renderActions: props.renderReplyActions,\n          renderAuthor: props.renderReplyAuthor,\n          renderAvatar: props.renderReplyAvatar,\n          renderContent: props.renderReplyContent,\n          renderDateTime: props.renderReplyDateTime,\n          renderLoading: props.renderReplyLoading || renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon,\n          local: props.local,\n          emojiPickerProps: props.emojiPickerProps\n        });\n      }));\n    }));\n  }\n\n  function renderLoading() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      indicator: /*#__PURE__*/React.createElement(_LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(ListStandard, {\n    getScrollWrapContainer: props.getScrollWrapContainer,\n    listProps: props.listProps,\n    dataKeys: props.commentDataKeys,\n    limit: props.commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: props.fetchCommentData,\n    renderEmpty: props.renderEmpty,\n    renderFirstLoading: props.renderFirstLoading,\n    flexLayoutProps: props.flexLayoutProps\n  });\n}\n\nComment.defaultProps = {\n  commentKeyProp: 'id',\n  commentDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  commentLimit: 10,\n  replyKeyProp: 'id',\n  replyDataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  replyLimit: 10,\n  isMoreProp: 'isMore',\n  showReplyText: Intl.v('显示回复内容'),\n  hideReplyText: Intl.v('收起回复'),\n  loadMoreReplyText: Intl.v('加载更多回复'),\n  showReplyTextIcon: /*#__PURE__*/React.createElement(_CaretDownOutlined, null),\n  hideReplyTextIcon: /*#__PURE__*/React.createElement(_CaretUpOutlined, null),\n  loadMoreCollapseTextIcon: /*#__PURE__*/React.createElement(_EnterOutlined, {\n    className: \"reply-icon\"\n  }),\n  local: 'zh'\n};\nComment.propTypes = {\n  getScrollWrapContainer: PropTypes.func,\n  fetchCommentData: PropTypes.func,\n  commentDataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  commentLimit: PropTypes.number,\n  commentKeyProp: PropTypes.string,\n  renderCommentActions: PropTypes.func,\n  renderCommentAuthor: PropTypes.func,\n  renderCommentAvatar: PropTypes.func,\n  renderCommentContent: PropTypes.func,\n  renderCommentDateTime: PropTypes.func,\n  renderCommentLoading: PropTypes.func,\n  fetchReplyData: PropTypes.func,\n  replyDataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  replyLimit: PropTypes.number,\n  replyKeyProp: PropTypes.string,\n  renderReplyActions: PropTypes.func,\n  renderReplyAuthor: PropTypes.func,\n  renderReplyAvatar: PropTypes.func,\n  renderReplyContent: PropTypes.func,\n  renderReplyDateTime: PropTypes.func,\n  renderReplyLoading: PropTypes.func,\n  renderEmpty: PropTypes.func,\n  renderFirstLoading: PropTypes.func,\n  flexLayoutProps: PropTypes.object,\n  fetchReply: PropTypes.func,\n  listProps: PropTypes.object,\n  isMoreProp: PropTypes.string,\n  showReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  hideReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  loadMoreReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  showReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  hideReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  loadMoreCollapseTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  scrollLoadProps: PropTypes.shape({\n    className: PropTypes.string,\n    style: PropTypes.object,\n    loadClassName: PropTypes.string,\n    loadStyle: PropTypes.object,\n    emptyClassName: PropTypes.string,\n    emptyStyle: PropTypes.object,\n    errorClassName: PropTypes.string,\n    errorStyle: PropTypes.object,\n    distance: PropTypes.number,\n    onScrollBottom: PropTypes.func,\n    onEmptyClick: PropTypes.func,\n    onErrorClick: PropTypes.func,\n    renderLoading: PropTypes.func,\n    renderEmpty: PropTypes.func,\n    renderError: PropTypes.func\n  }),\n  local: PropTypes.string,\n  emojiPickerProps: PropTypes.object\n};\nexport default Comment;"],"names":["_EnterOutlined","_CaretUpOutlined","_CaretDownOutlined","_LoadingOutlined","_Spin","React","PropTypes","Intl","ListStandard","CommentInfo","ReplyInfo","selectorPrefix","Comment","props","renderLoading","createElement","className","concat","indicator","style","fontSize","getScrollWrapContainer","listProps","dataKeys","commentDataKeys","limit","commentLimit","renderList","data","_a","_b","list","map","call","record","key","commentKeyProp","replyDataKeys","replyLimit","keyProp","replyKeyProp","isMoreProp","fetchData","fetchReplyData","fetchReply","renderActions","renderCommentActions","renderAuthor","renderCommentAuthor","renderAvatar","renderCommentAvatar","renderContent","renderCommentContent","renderDateTime","renderCommentDateTime","renderCommentLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","local","emojiPickerProps","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","fetchCommentData","renderEmpty","renderFirstLoading","flexLayoutProps","defaultProps","current","totalPage","totalCount","v","propTypes","func","shape","string","number","object","oneOfType","node","scrollLoadProps","loadClassName","loadStyle","emptyClassName","emptyStyle","errorClassName","errorStyle","distance","onScrollBottom","onEmptyClick","onErrorClick","renderError"],"mappings":"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"}