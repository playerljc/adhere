{"version":3,"file":"index.js","sources":["Comment/index.js"],"sourcesContent":["import _LoadingOutlined from \"@ant-design/icons/es/icons/LoadingOutlined\";\nimport _Spin from \"antd/es/spin\";\nimport _EnterOutlined from \"@ant-design/icons/es/icons/EnterOutlined\";\nimport _CaretUpOutlined from \"@ant-design/icons/es/icons/CaretUpOutlined\";\nimport _CaretDownOutlined from \"@ant-design/icons/es/icons/CaretDownOutlined\";\nimport React, { memo, useCallback } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nimport ReplyInfo from '../Reply/Info';\nimport CommentInfo from './Info';\nimport ListStandard from './ListStandard';\nvar selectorPrefix = 'adhere-ui-comment';\n/**\n * Comment\n * @param props\n * @constructor\n * @classdesc 评论\n */\nvar Comment = /*#__PURE__*/memo(function (props) {\n  var listProps = props.listProps,\n    _a = props.commentDataKeys,\n    commentDataKeys = _a === void 0 ? {\n      current: 'current',\n      totalPage: 'totalPage',\n      list: 'list',\n      totalCount: 'totalCount'\n    } : _a,\n    _b = props.commentLimit,\n    commentLimit = _b === void 0 ? 10 : _b,\n    flexLayoutProps = props.flexLayoutProps,\n    _c = props.commentKeyProp,\n    commentKeyProp = _c === void 0 ? 'id' : _c,\n    _d = props.replyDataKeys,\n    replyDataKeys = _d === void 0 ? {\n      current: 'current',\n      totalPage: 'totalPage',\n      list: 'list',\n      totalCount: 'totalCount'\n    } : _d,\n    _e = props.replyLimit,\n    replyLimit = _e === void 0 ? 10 : _e,\n    _f = props.replyKeyProp,\n    replyKeyProp = _f === void 0 ? 'id' : _f,\n    _g = props.isMoreProp,\n    isMoreProp = _g === void 0 ? 'isMore' : _g,\n    fetchCommentData = props.fetchCommentData,\n    fetchReplyData = props.fetchReplyData,\n    fetchReply = props.fetchReply,\n    renderEmpty = props.renderEmpty,\n    renderFirstLoading = props.renderFirstLoading,\n    renderCommentActions = props.renderCommentActions,\n    renderCommentAuthor = props.renderCommentAuthor,\n    renderCommentAvatar = props.renderCommentAvatar,\n    renderCommentContent = props.renderCommentContent,\n    renderCommentDateTime = props.renderCommentDateTime,\n    renderCommentLoading = props.renderCommentLoading,\n    renderReplyActions = props.renderReplyActions,\n    renderReplyAuthor = props.renderReplyAuthor,\n    renderReplyAvatar = props.renderReplyAvatar,\n    renderReplyContent = props.renderReplyContent,\n    renderReplyDateTime = props.renderReplyDateTime,\n    renderReplyLoading = props.renderReplyLoading,\n    _h = props.showReplyText,\n    showReplyText = _h === void 0 ? Intl.v('显示回复内容') : _h,\n    _j = props.hideReplyText,\n    hideReplyText = _j === void 0 ? Intl.v('收起回复') : _j,\n    _k = props.loadMoreReplyText,\n    loadMoreReplyText = _k === void 0 ? Intl.v('加载更多回复') : _k,\n    _l = props.showReplyTextIcon,\n    showReplyTextIcon = _l === void 0 ? /*#__PURE__*/React.createElement(_CaretDownOutlined, null) : _l,\n    _m = props.hideReplyTextIcon,\n    hideReplyTextIcon = _m === void 0 ? /*#__PURE__*/React.createElement(_CaretUpOutlined, null) : _m,\n    _o = props.loadMoreCollapseTextIcon,\n    loadMoreCollapseTextIcon = _o === void 0 ? /*#__PURE__*/React.createElement(_EnterOutlined, {\n      className: \"reply-icon\"\n    }) : _o,\n    _p = props.local,\n    local = _p === void 0 ? 'zh' : _p,\n    emojiPickerProps = props.emojiPickerProps;\n  var renderList = useCallback(function (data) {\n    var _a, _b;\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-list\")\n    }, (_b = (_a = data === null || data === void 0 ? void 0 : data.list) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-list-item\"),\n        key: record[commentKeyProp]\n      }, /*#__PURE__*/React.createElement(CommentInfo, {\n        data: record,\n        dataKeys: replyDataKeys,\n        limit: replyLimit,\n        keyProp: replyKeyProp,\n        isMoreProp: isMoreProp,\n        fetchData: fetchReplyData,\n        fetchReply: fetchReply,\n        renderActions: renderCommentActions,\n        renderAuthor: renderCommentAuthor,\n        renderAvatar: renderCommentAvatar,\n        renderContent: renderCommentContent,\n        renderDateTime: renderCommentDateTime,\n        renderLoading: renderCommentLoading || renderLoading,\n        showReplyText: showReplyText,\n        hideReplyText: hideReplyText,\n        loadMoreReplyText: loadMoreReplyText,\n        showReplyTextIcon: showReplyTextIcon,\n        hideReplyTextIcon: hideReplyTextIcon,\n        loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n        local: local,\n        emojiPickerProps: emojiPickerProps\n      }, function (record) {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          data: record,\n          dataKeys: replyDataKeys,\n          limit: replyLimit,\n          keyProp: replyKeyProp,\n          isMoreProp: isMoreProp,\n          fetchData: fetchReplyData,\n          fetchReply: fetchReply,\n          renderActions: renderReplyActions,\n          renderAuthor: renderReplyAuthor,\n          renderAvatar: renderReplyAvatar,\n          renderContent: renderReplyContent,\n          renderDateTime: renderReplyDateTime,\n          renderLoading: renderReplyLoading || renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n          local: local,\n          emojiPickerProps: emojiPickerProps\n        });\n      }));\n    }));\n  }, [replyDataKeys, replyLimit, replyKeyProp, isMoreProp, fetchReplyData, fetchReply, renderCommentActions, renderCommentAuthor, renderCommentAvatar, renderCommentContent, renderReplyDateTime, renderCommentLoading, showReplyText, hideReplyText, loadMoreReplyText, showReplyTextIcon, hideReplyTextIcon, loadMoreCollapseTextIcon, local, emojiPickerProps, renderReplyContent, renderReplyAvatar, renderReplyAuthor, renderReplyActions]);\n  var renderLoading = useCallback(function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      indicator: /*#__PURE__*/React.createElement(_LoadingOutlined, {\n        style: {\n          fontSize: 24\n        }\n      })\n    }));\n  }, []);\n  return /*#__PURE__*/React.createElement(ListStandard, {\n    listProps: listProps,\n    dataKeys: commentDataKeys,\n    limit: commentLimit,\n    renderList: renderList,\n    renderLoading: renderLoading,\n    fetchData: fetchCommentData,\n    renderEmpty: renderEmpty,\n    renderFirstLoading: renderFirstLoading,\n    flexLayoutProps: flexLayoutProps\n  });\n});\nComment.displayName = 'Comment';\nexport default Comment;"],"names":["_LoadingOutlined","_Spin","_EnterOutlined","_CaretUpOutlined","_CaretDownOutlined","React","memo","useCallback","Intl","ReplyInfo","CommentInfo","ListStandard","selectorPrefix","Comment","props","listProps","_a","commentDataKeys","current","totalPage","list","totalCount","_b","commentLimit","flexLayoutProps","_c","commentKeyProp","_d","replyDataKeys","_e","replyLimit","_f","replyKeyProp","_g","isMoreProp","fetchCommentData","fetchReplyData","fetchReply","renderEmpty","renderFirstLoading","renderCommentActions","renderCommentAuthor","renderCommentAvatar","renderCommentContent","renderCommentDateTime","renderCommentLoading","renderReplyActions","renderReplyAuthor","renderReplyAvatar","renderReplyContent","renderReplyDateTime","renderReplyLoading","_h","showReplyText","v","_j","hideReplyText","_k","loadMoreReplyText","_l","showReplyTextIcon","createElement","_m","hideReplyTextIcon","_o","loadMoreCollapseTextIcon","className","_p","local","emojiPickerProps","renderList","data","concat","map","call","record","key","dataKeys","limit","keyProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","indicator","style","fontSize","displayName"],"mappings":"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"}