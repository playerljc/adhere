{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["import \"core-js/modules/es.array.map.js\";\nimport { __assign, __read, __spreadArray } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\nimport Intl from '@baifendian/adhere-util-intl';\nimport Util from '@baifendian/adhere-util';\nimport ReplySubmit from '../../Reply/Submit';\nimport ReplyInfo from '../../Reply/Info';\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\n\nfunction Node(props) {\n  var _a;\n\n  var _b, _c, _d, _e;\n\n  var _f = __read(useState((_a = {}, _a[props.dataKeys.current] = 1, _a[props.dataKeys.list] = [], _a[props.dataKeys.totalCount] = 0, _a[props.dataKeys.totalPage] = 0, _a)), 2),\n      listData = _f[0],\n      setListData = _f[1];\n\n  var _g = __read(useState(props === null || props === void 0 ? void 0 : props.data), 2),\n      data = _g[0],\n      setData = _g[1];\n\n  var _h = __read(useState(false), 2),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = __read(useState(false), 2),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = __read(useState(false), 2),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = useRef({\n    page: 1,\n    limit: props.limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return __spreadArray(__spreadArray([], __read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, __assign({}, data), function (_data) {\n      setData(_data);\n    })) || []).map(function (action, index) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    })), false), [/*#__PURE__*/React.createElement(\"li\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, Intl.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[props.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[props.keyProp]\n      }, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: !(props === null || props === void 0 ? void 0 : props.children),\n        noMatch: function noMatch() {\n          var _a;\n\n          return (_a = props === null || props === void 0 ? void 0 : props.children) === null || _a === void 0 ? void 0 : _a.call(props, record);\n        }\n      }, function () {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          isReply: true,\n          data: record,\n          keyProp: props.keyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchData,\n          renderActions: props.renderActions,\n          renderAuthor: props.renderAuthor,\n          renderAvatar: props.renderAvatar,\n          renderContent: props.renderContent,\n          renderDateTime: props.renderDateTime,\n          renderLoading: props.renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classNames(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: appendData\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon)();\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.loadMoreReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.loadMoreReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreReplyText)();\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            // hide\n            setCollapse(false);\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(props.hideReplyTextIcon),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyTextIcon;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyTextIcon)();\n        })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(props.hideReplyText),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyText;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyText)();\n        })));\n      }\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a; // show\n\n\n          if (!!listData[props.dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            setCollapse(true);\n          });\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.showReplyTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyTextIcon)();\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.showReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyText)();\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[props.dataKeys.list].length <= listData[props.dataKeys.totalCount];\n  }\n\n  function loadData() {\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: props.limit\n    };\n    return fetchData(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    setLoading(true);\n    paging.current.page = paging.current.page + 1; // @ts-ignore\n\n    var list = props.dataKeys.list;\n    return fetchData(function (res) {\n      var _a;\n\n      setListData(__assign(__assign({}, res), (_a = {}, _a[props.dataKeys.list] = __spreadArray(__spreadArray([], __read(listData[list]), false), __read(res[list]), false), _a)));\n    });\n  }\n\n  function fetchData(callback) {\n    var _a;\n\n    return (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), {\n      record: __assign({}, data)\n    })).then(function (data) {\n      callback(data);\n      setLoading(false);\n      return data;\n    }).catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  useEffect(function () {\n    setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"horizontal\",\n    className: classNames(selectorPrefix, props.isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, (_b = props === null || props === void 0 ? void 0 : props.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(props, __assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    autoFixed: true,\n    fit: true\n  }, /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"vertical\"\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, (_c = props === null || props === void 0 ? void 0 : props.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(props, __assign({}, data))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, (_d = props === null || props === void 0 ? void 0 : props.renderDateTime) === null || _d === void 0 ? void 0 : _d.call(props, __assign({}, data)))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, (_e = props === null || props === void 0 ? void 0 : props.renderContent) === null || _e === void 0 ? void 0 : _e.call(props, __assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Fixed, null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: showReply\n  }, function () {\n    return /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, /*#__PURE__*/React.createElement(ReplySubmit, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a, _b;\n\n        (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchReply) === null || _a === void 0 ? void 0 : _a.call(props, {\n          id: data === null || data === void 0 ? void 0 : data[props.keyProp],\n          record: __assign({}, data),\n          reply: reply\n        })) === null || _b === void 0 ? void 0 : _b.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      },\n      local: props.local\n    }));\n  }), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: data === null || data === void 0 ? void 0 : data[props.isMoreProp]\n  }, function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: loading\n    }, function () {\n      var _a;\n\n      return (_a = props === null || props === void 0 ? void 0 : props.renderLoading) === null || _a === void 0 ? void 0 : _a.call(props);\n    }));\n  }))));\n}\n\nexport var defaultProps = {\n  isReply: false,\n  limit: 10,\n  dataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  },\n  local: 'zh'\n};\nexport var propTypes = {\n  isReply: PropTypes.bool,\n  data: PropTypes.shape({\n    key: PropTypes.string\n  }),\n  dataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  renderLoading: PropTypes.func,\n  limit: PropTypes.number,\n  fetchData: PropTypes.func,\n  fetchReply: PropTypes.func,\n  keyProp: PropTypes.string,\n  isMoreProp: PropTypes.string,\n  renderActions: PropTypes.func,\n  renderAuthor: PropTypes.func,\n  renderAvatar: PropTypes.func,\n  renderContent: PropTypes.func,\n  renderDateTime: PropTypes.func,\n  showReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  hideReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  loadMoreReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  showReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  hideReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  loadMoreCollapseTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  local: PropTypes.string\n};\nNode.defaultProps = defaultProps;\nNode.propTypes = propTypes;\nexport default Node;"],"names":["__assign","__read","__spreadArray","React","useEffect","useRef","useState","PropTypes","classNames","ConditionalRender","FlexLayout","Intl","Util","ReplySubmit","ReplyInfo","selectorPrefix","Node","props","_f","_a","dataKeys","current","list","totalCount","totalPage","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","page","limit","renderChildren","_b","createElement","className","concat","map","call","record","key","keyProp","conditional","children","noMatch","isReply","isMoreProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","length","onClick","appendData","isFunction","loadData","res","callback","then","catch","error","direction","Fixed","Auto","autoFixed","fit","_c","_d","_e","_data","action","index","v","style","marginTop","onCancel","onResult","reply","fetchReply","id","local","Fragment","defaultProps","propTypes","bool","shape","string","func","number","oneOfType","node"],"mappings":"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"}