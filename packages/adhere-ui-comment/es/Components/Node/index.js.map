{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["import \"core-js/modules/es.array.map.js\";\nimport { __assign, __spreadArray } from \"tslib\";\nimport React, { useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\nimport Intl from '@baifendian/adhere-util-intl';\nimport Util from '@baifendian/adhere-util';\nimport ReplySubmit from '../../Reply/Submit';\nimport ReplyInfo from '../../Reply/Info';\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n */\n\nfunction Node(props) {\n  var _a;\n\n  var _b, _c, _d, _e, _f;\n\n  var _g = useState((_a = {}, _a[props.dataKeys.current] = 1, _a[props.dataKeys.list] = [], _a[props.dataKeys.totalCount] = 0, _a[props.dataKeys.totalPage] = 0, _a)),\n      listData = _g[0],\n      setListData = _g[1];\n\n  var _h = useState(false),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = useState(false),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = useState(false),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = useRef({\n    page: 1,\n    limit: props.limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return __spreadArray(__spreadArray([], (((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, props === null || props === void 0 ? void 0 : props.data)) || []).map(function (action, index) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    }), true), [/*#__PURE__*/React.createElement(\"li\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, Intl.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[props.dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[props.keyProp]\n      }, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: !(props === null || props === void 0 ? void 0 : props.children),\n        noMatch: function noMatch() {\n          var _a;\n\n          return (_a = props === null || props === void 0 ? void 0 : props.children) === null || _a === void 0 ? void 0 : _a.call(props, record);\n        }\n      }, function () {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          isReply: true,\n          data: record,\n          keyProp: props.keyProp,\n          isMoreProp: props.isMoreProp,\n          fetchData: props.fetchData,\n          renderActions: props.renderActions,\n          renderAuthor: props.renderAuthor,\n          renderAvatar: props.renderAvatar,\n          renderContent: props.renderContent,\n          renderDateTime: props.renderDateTime,\n          renderLoading: props.renderLoading,\n          showReplyText: props.showReplyText,\n          hideReplyText: props.hideReplyText,\n          loadMoreReplyText: props.loadMoreReplyText,\n          showReplyTextIcon: props.showReplyTextIcon,\n          hideReplyTextIcon: props.hideReplyTextIcon,\n          loadMoreCollapseTextIcon: props.loadMoreCollapseTextIcon\n        });\n      }));\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classNames(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: appendData\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreCollapseTextIcon)();\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.loadMoreReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.loadMoreReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.loadMoreReplyText)();\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            // hide\n            setCollapse(false);\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(props.hideReplyTextIcon),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyTextIcon;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyTextIcon)();\n        })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(props.hideReplyText),\n          // @ts-ignore\n          noMatch: function noMatch() {\n            return props.hideReplyText;\n          }\n        }, function () {\n          return (props === null || props === void 0 ? void 0 : props.hideReplyText)();\n        })));\n      }\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a; // show\n\n\n          if (!!listData[props.dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            setCollapse(true);\n          });\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.showReplyTextIcon),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyTextIcon;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyTextIcon)();\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(props.showReplyText),\n        // @ts-ignore\n        noMatch: function noMatch() {\n          return props.showReplyText;\n        }\n      }, function () {\n        return (props === null || props === void 0 ? void 0 : props.showReplyText)();\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[props.dataKeys.list].length <= listData[props.dataKeys.totalCount];\n  }\n\n  function loadData() {\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: props.limit\n    };\n    return fetchData(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    setLoading(true);\n    paging.current.page = paging.current.page + 1; // @ts-ignore\n\n    var list = props.dataKeys.list;\n    return fetchData(function (res) {\n      var _a;\n\n      setListData(__assign(__assign({}, res), (_a = {}, _a[props.dataKeys.list] = __spreadArray(__spreadArray([], listData[list], true), res[list], true), _a)));\n    });\n  }\n\n  function fetchData(callback) {\n    var _a;\n\n    return (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), {\n      record: props === null || props === void 0 ? void 0 : props.data\n    })).then(function (data) {\n      callback(data);\n      setLoading(false);\n      return data;\n    }).catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"horizontal\",\n    className: classNames(selectorPrefix, props.isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, (_b = props === null || props === void 0 ? void 0 : props.renderAvatar) === null || _b === void 0 ? void 0 : _b.call(props, props.data)), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    autoFixed: true,\n    fit: true\n  }, /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"vertical\"\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, (_c = props === null || props === void 0 ? void 0 : props.renderAuthor) === null || _c === void 0 ? void 0 : _c.call(props, props.data)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, (_d = props === null || props === void 0 ? void 0 : props.renderDateTime) === null || _d === void 0 ? void 0 : _d.call(props, props.data))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, (_e = props === null || props === void 0 ? void 0 : props.renderContent) === null || _e === void 0 ? void 0 : _e.call(props, props.data)), /*#__PURE__*/React.createElement(FlexLayout.Fixed, null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: showReply\n  }, function () {\n    return /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, /*#__PURE__*/React.createElement(ReplySubmit, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a, _b, _c;\n\n        (_c = (_a = props === null || props === void 0 ? void 0 : props.fetchReply) === null || _a === void 0 ? void 0 : _a.call(props, {\n          id: (_b = props === null || props === void 0 ? void 0 : props.data) === null || _b === void 0 ? void 0 : _b[props.keyProp],\n          record: props === null || props === void 0 ? void 0 : props.data,\n          reply: reply\n        })) === null || _c === void 0 ? void 0 : _c.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: (_f = props === null || props === void 0 ? void 0 : props.data) === null || _f === void 0 ? void 0 : _f[props.isMoreProp]\n  }, function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: loading\n    }, function () {\n      var _a;\n\n      return (_a = props === null || props === void 0 ? void 0 : props.renderLoading) === null || _a === void 0 ? void 0 : _a.call(props);\n    }));\n  }))));\n}\n\nexport var defaultProps = {\n  isReply: false,\n  limit: 10,\n  dataKeys: {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  }\n};\nexport var propTypes = {\n  isReply: PropTypes.bool,\n  data: PropTypes.shape({\n    key: PropTypes.string\n  }),\n  dataKeys: PropTypes.shape({\n    current: PropTypes.string,\n    totalPage: PropTypes.string,\n    list: PropTypes.string,\n    totalCount: PropTypes.string\n  }),\n  renderLoading: PropTypes.func,\n  limit: PropTypes.number,\n  fetchData: PropTypes.func,\n  fetchReply: PropTypes.func,\n  keyProp: PropTypes.string,\n  isMoreProp: PropTypes.string,\n  renderActions: PropTypes.func,\n  renderAuthor: PropTypes.func,\n  renderAvatar: PropTypes.func,\n  renderContent: PropTypes.func,\n  renderDateTime: PropTypes.func,\n  showReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  hideReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  loadMoreReplyText: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  showReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  hideReplyTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  loadMoreCollapseTextIcon: PropTypes.oneOfType([PropTypes.node, PropTypes.func])\n};\nNode.defaultProps = defaultProps;\nNode.propTypes = propTypes;\nexport default Node;"],"names":["__assign","__spreadArray","React","useRef","useState","PropTypes","classNames","ConditionalRender","FlexLayout","Intl","Util","ReplySubmit","ReplyInfo","selectorPrefix","Node","props","_g","_a","dataKeys","current","list","totalCount","totalPage","listData","setListData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","page","limit","renderChildren","_b","createElement","className","concat","map","call","record","key","keyProp","conditional","children","noMatch","isReply","data","isMoreProp","fetchData","renderActions","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","hideReplyTextIcon","loadMoreCollapseTextIcon","length","onClick","appendData","isFunction","loadData","res","callback","then","catch","error","direction","Fixed","Auto","autoFixed","fit","_c","_d","_e","action","index","v","style","marginTop","onCancel","onResult","reply","fetchReply","id","_f","Fragment","defaultProps","propTypes","bool","shape","string","func","number","oneOfType","node"],"mappings":"+CACSA,SAAUC,iCACZC,OAASC,OAAQC,4BACjBC,kCACAC,mCACAC,uEACAC,yDACAC,+CACAC,0CACAC,4CACAC,iCACP,IAAIC,eAAiB,yBAOrB,SAASC,KAAKC,GACZ,IAIIC,EAAKZ,WAAUa,EAAK,IAAOF,EAAMG,SAASC,SAAW,EAAGF,EAAGF,EAAMG,SAASE,MAAQ,GAAIH,EAAGF,EAAMG,SAASG,YAAc,EAAGJ,EAAGF,EAAMG,SAASI,WAAa,EAAGL,IAC3JM,EAAWP,EAAG,GACdQ,EAAcR,EAAG,GAEjBS,EAAKrB,UAAS,GACdsB,EAAWD,EAAG,GACdE,EAAcF,EAAG,GAEjBG,EAAKxB,UAAS,GACdyB,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAEhBG,EAAK3B,UAAS,GACd4B,EAAYD,EAAG,GACfE,EAAeF,EAAG,GAElBG,EAAS/B,OAAO,CAClBgC,KAAM,EACNC,MAAOrB,EAAMqB,QAmBf,SAASC,IACP,IAAIpB,EAAIqB,EAER,OAAoBpC,MAAMqC,cAAc,KAAM,CAC5CC,UAAW,GAAGC,OAAO5B,eAAgB,cAC8D,QAAjGyB,EAAoD,QAA9CrB,EAAKM,EAASR,EAAMG,SAASE,OAAS,SAAgC,EAASH,EAAGyB,WAAwB,IAAPJ,OAAgB,EAASA,EAAGK,KAAK1B,EAAI,SAAU2B,GAC1J,OAAoB1C,MAAMqC,cAAc,KAAM,CAC5CC,UAAW,GAAGC,OAAO5B,eAAgB,kBACrCgC,IAAKD,EAAO7B,EAAM+B,UACJ5C,MAAMqC,cAAchC,kBAAmB,CACrDwC,cAAehC,MAAAA,GAA8CA,EAAMiC,UACnEC,QAAS,WACP,IAAIhC,EAEJ,OAA+E,QAAvEA,EAAKF,MAAAA,OAAqC,EAASA,EAAMiC,gBAA6B,IAAP/B,OAAgB,EAASA,EAAG0B,KAAK5B,EAAO6B,KAEhI,WACD,OAAoB1C,MAAMqC,cAAc3B,UAAW,CACjDsC,SAAS,EACTC,KAAMP,EACNE,QAAS/B,EAAM+B,QACfM,WAAYrC,EAAMqC,WAClBC,UAAWtC,EAAMsC,UACjBC,cAAevC,EAAMuC,cACrBC,aAAcxC,EAAMwC,aACpBC,aAAczC,EAAMyC,aACpBC,cAAe1C,EAAM0C,cACrBC,eAAgB3C,EAAM2C,eACtBC,cAAe5C,EAAM4C,cACrBC,cAAe7C,EAAM6C,cACrBC,cAAe9C,EAAM8C,cACrBC,kBAAmB/C,EAAM+C,kBACzBC,kBAAmBhD,EAAMgD,kBACzBC,kBAAmBjD,EAAMiD,kBACzBC,yBAA0BlD,EAAMkD,gCAGrB/D,MAAMqC,cAAchC,kBAAmB,CACtDwC,aAAclB,GA2FTN,EAASR,EAAMG,SAASE,MAAM8C,QAAU3C,EAASR,EAAMG,SAASG,aA1FpE,WACD,OAAoBnB,MAAMqC,cAAc,KAAM,CAC5CC,UAAWlC,WAAW,GAAGmC,OAAO5B,eAAgB,kBAAmB,SACrDX,MAAMqC,cAAc,IAAK,CACvC4B,QAASC,GACKlE,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACpGwC,YAAarC,KAAK2D,WAAWtD,MAAAA,OAAqC,EAASA,EAAMkD,0BAEjFhB,QAAS,WACP,OAAOlC,MAAAA,OAAqC,EAASA,EAAMkD,2BAE5D,WACD,OAAQlD,MAAAA,OAAqC,EAASA,EAAMkD,+BAC5C/D,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACtGwC,YAAarC,KAAK2D,WAAWtD,EAAM+C,mBAEnCb,QAAS,WACP,OAAOlC,EAAM+C,oBAEd,WACD,OAAQ/C,MAAAA,OAAqC,EAASA,EAAM+C,6BAyElE,SAASQ,IAMP,OALAxC,GAAW,GACXI,EAAOf,QAAU,CACfgB,KAAM,EACNC,MAAOrB,EAAMqB,OAERiB,EAAU,SAAUkB,GACzB/C,EAAY+C,KAIhB,SAASH,IACPtC,GAAW,GACXI,EAAOf,QAAQgB,KAAOD,EAAOf,QAAQgB,KAAO,EAE5C,IAAIf,EAAOL,EAAMG,SAASE,KAC1B,OAAOiC,EAAU,SAAUkB,GACzB,IAAItD,EAEJO,EAAYxB,SAASA,SAAS,GAAIuE,KAAOtD,EAAK,IAAOF,EAAMG,SAASE,MAAQnB,cAAcA,cAAc,GAAIsB,EAASH,IAAO,GAAOmD,EAAInD,IAAO,GAAOH,OAIzJ,SAASoC,EAAUmB,GACjB,IAAIvD,EAEJ,OAAgF,QAAxEA,EAAKF,MAAAA,OAAqC,EAASA,EAAMsC,iBAA8B,IAAPpC,OAAgB,EAASA,EAAG0B,KAAK5B,EAAOf,SAASA,SAAS,GAAIkC,EAAOf,SAAU,CACrKyB,OAAQ7B,MAAAA,OAAqC,EAASA,EAAMoC,QAC1DsB,KAAK,SAAUtB,GAGjB,OAFAqB,EAASrB,GACTrB,GAAW,GACJqB,IACNuB,MAAM,SAAUC,GAEjB,OADA7C,GAAW,GACJ6C,IAIX,OAAoBzE,MAAMqC,cAAc/B,WAAY,CAClDoE,UAAW,aACXpC,UAAWlC,WAAWO,eAAgBE,EAAMmC,QAAU,GAAGT,OAAO5B,eAAgB,UAAY,OAC9EX,MAAMqC,cAAc/B,WAAWqE,MAAO,CACpDrC,UAAW,GAAGC,OAAO5B,eAAgB,iBACwC,QAA3EyB,EAAKvB,MAAAA,OAAqC,EAASA,EAAMyC,oBAAiC,IAAPlB,OAAgB,EAASA,EAAGK,KAAK5B,EAAOA,EAAMoC,OAAqBjD,MAAMqC,cAAc/B,WAAWsE,KAAM,CAC7LC,WAAW,EACXC,KAAK,GACS9E,MAAMqC,cAAc/B,WAAY,CAC9CoE,UAAW,YACG1E,MAAMqC,cAAc/B,WAAWqE,MAAO,CACpDrC,UAAW,GAAGC,OAAO5B,eAAgB,cACrCmE,KAAK,GACS9E,MAAMqC,cAAc,MAAO,CACzCC,UAAW,GAAGC,OAAO5B,eAAgB,sBACwC,QAA3EoE,EAAKlE,MAAAA,OAAqC,EAASA,EAAMwC,oBAAiC,IAAP0B,OAAgB,EAASA,EAAGtC,KAAK5B,EAAOA,EAAMoC,OAAqBjD,MAAMqC,cAAc,MAAO,CACnLC,UAAW,GAAGC,OAAO5B,eAAgB,yBAC0C,QAA7EqE,EAAKnE,MAAAA,OAAqC,EAASA,EAAM2C,sBAAmC,IAAPwB,OAAgB,EAASA,EAAGvC,KAAK5B,EAAOA,EAAMoC,QAAsBjD,MAAMqC,cAAc/B,WAAWsE,KAAM,CAChMtC,UAAW,GAAGC,OAAO5B,eAAgB,kBACyC,QAA5EsE,EAAKpE,MAAAA,OAAqC,EAASA,EAAM0C,qBAAkC,IAAP0B,OAAgB,EAASA,EAAGxC,KAAK5B,EAAOA,EAAMoC,OAAqBjD,MAAMqC,cAAc/B,WAAWqE,MAAO,KAAmB3E,MAAMqC,cAAc,KAAM,CAC5OC,UAAW,GAAGC,OAAO5B,eAAgB,aA3M9BZ,cAAcA,cAAc,KAAmF,QAA5EgB,EAAKF,MAAAA,OAAqC,EAASA,EAAMuC,qBAAkC,IAAPrC,OAAgB,EAASA,EAAG0B,KAAK5B,EAAOA,MAAAA,OAAqC,EAASA,EAAMoC,QAAU,IAAIT,IAAI,SAAU0C,EAAQC,GAC5P,OAAoBnF,MAAMqC,cAAc,KAAM,CAC5CM,IAAKwC,EACL7C,UAAW,GAAGC,OAAO5B,eAAgB,oBACpCuE,MACD,GAAO,CAAclF,MAAMqC,cAAc,KAAM,CACjDC,UAAWlC,WAAW,GAAGmC,OAAO5B,eAAgB,mBAAoB,GAAG4B,OAAO5B,eAAgB,8BAC9FsD,QAAS,WACP,OAAOlC,GAAa,KAErBxB,KAAK6E,EAAE,SAAS,KAkMcpF,MAAMqC,cAAchC,kBAAmB,CACxEwC,YAAaf,GACZ,WACD,OAAoB9B,MAAMqC,cAAc/B,WAAWqE,MAAO,CACxDU,MAAO,CACLC,UAAW,KAECtF,MAAMqC,cAAc5B,YAAa,CAC/C8E,SAAU,WACR,OAAOxD,GAAa,IAEtByD,SAAU,SAAkBC,GAC1B,IAAQrD,EAMA,QAJP2C,EAA+E,QAAzEhE,EAAKF,MAAAA,OAAqC,EAASA,EAAM6E,kBAA+B,IAAP3E,OAAgB,EAASA,EAAG0B,KAAK5B,EAAO,CAC9H8E,GAAwE,QAAnEvD,EAAKvB,MAAAA,OAAqC,EAASA,EAAMoC,YAAyB,IAAPb,OAAgB,EAASA,EAAGvB,EAAM+B,SAClHF,OAAQ7B,MAAAA,OAAqC,EAASA,EAAMoC,KAC5DwC,MAAOA,WACc,IAAPV,GAAyBA,EAAGR,KAAK,WAC/CxC,GAAa,GACbqC,YAISpE,MAAMqC,cAAchC,kBAAmB,CACtDwC,YAAiF,QAAnE+C,EAAK/E,MAAAA,OAAqC,EAASA,EAAMoC,YAAyB,IAAP2C,OAAgB,EAASA,EAAG/E,EAAMqC,aAC1H,WACD,OAAoBlD,MAAMqC,cAAcrC,MAAM6F,SAAU,KAAmB7F,MAAMqC,cAAchC,kBAAmB,CAChHwC,aAAclB,GACb,WACD,OA5JkB3B,MAAMqC,cAAchC,kBAAmB,CACzDwC,aAAcrB,EACduB,QAAS,WACP,OAAoB/C,MAAMqC,cAAc,IAAK,CAC3CC,UAAW,GAAGC,OAAO5B,eAAgB,aACrCsD,QAAS,WAEPxC,GAAY,KAEAzB,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACpGwC,YAAarC,KAAK2D,WAAWtD,EAAMiD,mBAEnCf,QAAS,WACP,OAAOlC,EAAMiD,oBAEd,WACD,OAAQjD,MAAAA,OAAqC,EAASA,EAAMiD,wBAC5C9D,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACtGwC,YAAarC,KAAK2D,WAAWtD,EAAM8C,eAEnCZ,QAAS,WACP,OAAOlC,EAAM8C,gBAEd,WACD,OAAQ9C,MAAAA,OAAqC,EAASA,EAAM8C,uBAG/D,WACD,OAAoB3D,MAAMqC,cAAc,IAAK,CAC3CC,UAAW,GAAGC,OAAO5B,eAAgB,aACrCsD,QAAS,WACP,IAAIlD,EAGEM,EAASR,EAAMG,SAASE,MAAM8C,OAClCvC,GAAY,GAIQ,QAArBV,EAAKqD,WAA+B,IAAPrD,GAAyBA,EAAGwD,KAAK,WAC7D9C,GAAY,OAGFzB,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACpGwC,YAAarC,KAAK2D,WAAWtD,EAAMgD,mBAEnCd,QAAS,WACP,OAAOlC,EAAMgD,oBAEd,WACD,OAAQhD,MAAAA,OAAqC,EAASA,EAAMgD,wBAC5C7D,MAAMqC,cAAc,OAAQ,KAAmBrC,MAAMqC,cAAchC,kBAAmB,CACtGwC,YAAarC,KAAK2D,WAAWtD,EAAM6C,eAEnCX,QAAS,WACP,OAAOlC,EAAM6C,gBAEd,WACD,OAAQ7C,MAAAA,OAAqC,EAASA,EAAM6C,yBAmG/C1D,MAAMqC,cAAchC,kBAAmB,CACtDwC,YAAarB,GAENW,GACQnC,MAAMqC,cAAchC,kBAAmB,CACtDwC,YAAalB,GACZ,WACD,IAAIZ,EAEJ,OAAoF,QAA5EA,EAAKF,MAAAA,OAAqC,EAASA,EAAM4C,qBAAkC,IAAP1C,OAAgB,EAASA,EAAG0B,KAAK5B,WAK5H,IAAIiF,aAAe,CACxB9C,SAAS,EACTd,MAAO,GACPlB,SAAU,CACRC,QAAS,UACTG,UAAW,YACXF,KAAM,OACNC,WAAY,eAGL4E,UAAY,CACrB/C,QAAS7C,UAAU6F,KACnB/C,KAAM9C,UAAU8F,MAAM,CACpBtD,IAAKxC,UAAU+F,SAEjBlF,SAAUb,UAAU8F,MAAM,CACxBhF,QAASd,UAAU+F,OACnB9E,UAAWjB,UAAU+F,OACrBhF,KAAMf,UAAU+F,OAChB/E,WAAYhB,UAAU+F,SAExBzC,cAAetD,UAAUgG,KACzBjE,MAAO/B,UAAUiG,OACjBjD,UAAWhD,UAAUgG,KACrBT,WAAYvF,UAAUgG,KACtBvD,QAASzC,UAAU+F,OACnBhD,WAAY/C,UAAU+F,OACtB9C,cAAejD,UAAUgG,KACzB9C,aAAclD,UAAUgG,KACxB7C,aAAcnD,UAAUgG,KACxB5C,cAAepD,UAAUgG,KACzB3C,eAAgBrD,UAAUgG,KAC1BzC,cAAevD,UAAUkG,UAAU,CAAClG,UAAU+F,OAAQ/F,UAAUgG,OAChExC,cAAexD,UAAUkG,UAAU,CAAClG,UAAU+F,OAAQ/F,UAAUgG,OAChEvC,kBAAmBzD,UAAUkG,UAAU,CAAClG,UAAU+F,OAAQ/F,UAAUgG,OACpEtC,kBAAmB1D,UAAUkG,UAAU,CAAClG,UAAUmG,KAAMnG,UAAUgG,OAClErC,kBAAmB3D,UAAUkG,UAAU,CAAClG,UAAUmG,KAAMnG,UAAUgG,OAClEpC,yBAA0B5D,UAAUkG,UAAU,CAAClG,UAAUmG,KAAMnG,UAAUgG,QAE3EvF,KAAKkF,aAAeA,aACpBlF,KAAKmF,UAAYA,yBACFnF,YAzCJkF,aAUAC"}