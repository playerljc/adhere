{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["import \"core-js/modules/es.array.map.js\";\nimport { __assign, __read, __spreadArray } from \"tslib\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\nimport Intl from '@baifendian/adhere-util-intl';\nimport Util from '@baifendian/adhere-util';\nimport ReplySubmit from '../../Reply/Submit';\nimport ReplyInfo from '../../Reply/Info';\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\n\nvar Node = function Node(props) {\n  var _a;\n\n  var _b = props.isReply,\n      isReply = _b === void 0 ? false : _b,\n      _c = props.dataKeys,\n      dataKeys = _c === void 0 ? {\n    current: 'current',\n    totalPage: 'totalPage',\n    list: 'list',\n    totalCount: 'totalCount'\n  } : _c,\n      _d = props.limit,\n      limit = _d === void 0 ? 10 : _d,\n      keyProp = props.keyProp,\n      children = props.children,\n      isMoreProp = props.isMoreProp,\n      renderAuthor = props.renderAuthor,\n      renderAvatar = props.renderAvatar,\n      renderContent = props.renderContent,\n      renderDateTime = props.renderDateTime,\n      renderLoading = props.renderLoading,\n      showReplyText = props.showReplyText,\n      hideReplyText = props.hideReplyText,\n      loadMoreReplyText = props.loadMoreReplyText,\n      showReplyTextIcon = props.showReplyTextIcon,\n      loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon,\n      hideReplyTextIcon = props.hideReplyTextIcon,\n      fetchReply = props.fetchReply,\n      emojiPickerProps = props.emojiPickerProps,\n      _e = props.local,\n      local = _e === void 0 ? 'zh' : _e;\n\n  var _f = __read(useState((_a = {}, _a[dataKeys.current] = 1, _a[dataKeys.list] = [], _a[dataKeys.totalCount] = 0, _a[dataKeys.totalPage] = 0, _a)), 2),\n      listData = _f[0],\n      setListData = _f[1];\n\n  var _g = __read(useState(props === null || props === void 0 ? void 0 : props.data), 2),\n      data = _g[0],\n      setData = _g[1];\n\n  var _h = __read(useState(false), 2),\n      collapse = _h[0],\n      setCollapse = _h[1];\n\n  var _j = __read(useState(false), 2),\n      loading = _j[0],\n      setLoading = _j[1];\n\n  var _k = __read(useState(false), 2),\n      showReply = _k[0],\n      setShowReply = _k[1];\n\n  var paging = useRef({\n    page: 1,\n    limit: limit\n  });\n\n  function renderActions() {\n    var _a;\n\n    return __spreadArray(__spreadArray([], __read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, __assign({}, data), function (_data) {\n      setData(_data);\n    })) || []).map(function (action, index) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"\".concat(selectorPrefix, \"-actions-action\")\n      }, action);\n    })), false), [/*#__PURE__*/React.createElement(\"li\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n      onClick: function onClick() {\n        return setShowReply(true);\n      }\n    }, Intl.v('回复'))], false);\n  }\n\n  function renderChildren() {\n    var _a, _b;\n\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[keyProp]\n      }, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: !children,\n        noMatch: function noMatch() {\n          return children === null || children === void 0 ? void 0 : children(record);\n        }\n      }, function () {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          isReply: true,\n          data: record,\n          keyProp: keyProp,\n          isMoreProp: isMoreProp,\n          fetchData: fetchData,\n          renderActions: renderActions,\n          renderAuthor: renderAuthor,\n          renderAvatar: renderAvatar,\n          renderContent: renderContent,\n          renderDateTime: renderDateTime,\n          renderLoading: renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon\n        });\n      }));\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classNames(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: appendData\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(loadMoreCollapseTextIcon),\n        noMatch: function noMatch() {\n          return loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return loadMoreCollapseTextIcon instanceof Function ? loadMoreCollapseTextIcon() : loadMoreCollapseTextIcon;\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(loadMoreReplyText),\n        noMatch: function noMatch() {\n          return loadMoreReplyText;\n        }\n      }, function () {\n        return loadMoreReplyText instanceof Function ? loadMoreReplyText() : loadMoreReplyText;\n      }))));\n    }));\n  }\n\n  function renderMore() {\n    return /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            return setCollapse(false);\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(hideReplyTextIcon),\n          noMatch: function noMatch() {\n            return hideReplyTextIcon;\n          }\n        }, function () {\n          return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\n        })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(hideReplyText),\n          noMatch: function noMatch() {\n            return hideReplyText;\n          }\n        }, function () {\n          return hideReplyText instanceof Function ? hideReplyText() : hideReplyText;\n        })));\n      }\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a;\n\n          if (!!listData[dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            return setCollapse(true);\n          });\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(showReplyTextIcon),\n        noMatch: function noMatch() {\n          return showReplyTextIcon;\n        }\n      }, function () {\n        return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(showReplyText),\n        noMatch: function noMatch() {\n          return showReplyText;\n        }\n      }, function () {\n        return showReplyText instanceof Function ? showReplyText() : showReplyText;\n      })));\n    });\n  }\n\n  function hasMore() {\n    return listData[dataKeys.list].length <= listData[dataKeys.totalCount];\n  }\n\n  function loadData() {\n    var _a;\n\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: limit\n    };\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(res);\n    });\n  }\n\n  function appendData() {\n    var _a;\n\n    setLoading(true);\n    paging.current.page = paging.current.page + 1;\n    var list = dataKeys.list;\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(function (_listData) {\n        var _a;\n\n        return __assign(__assign({}, res), (_a = {}, _a[dataKeys.list] = __spreadArray(__spreadArray([], __read(_listData[list]), false), __read(res[list]), false), _a));\n      });\n    });\n  }\n\n  function fetchData() {\n    var _a, _b, _c;\n\n    return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), {\n      record: __assign({}, data)\n    }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\n      setLoading(false);\n      return data;\n    })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }\n\n  useEffect(function () {\n    return setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"horizontal\",\n    className: classNames(selectorPrefix, isReply ? \"\".concat(selectorPrefix, \"-reply\") : null)\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(__assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    autoFixed: true,\n    fit: true\n  }, /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"vertical\"\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(__assign({}, data))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(__assign({}, data)))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(__assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Fixed, null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: showReply\n  }, function () {\n    return /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, /*#__PURE__*/React.createElement(ReplySubmit, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a;\n\n        (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\n          id: data === null || data === void 0 ? void 0 : data[keyProp],\n          record: __assign({}, data),\n          reply: reply\n        })) === null || _a === void 0 ? void 0 : _a.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      },\n      local: local,\n      emojiPickerProps: emojiPickerProps\n    }));\n  }), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: data === null || data === void 0 ? void 0 : data[isMoreProp]\n  }, function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: collapse\n    }, function () {\n      return renderChildren();\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: loading\n    }, function () {\n      return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading();\n    }));\n  }))));\n};\n\nexport default Node;"],"names":["__assign","__read","__spreadArray","React","useEffect","useRef","useState","classNames","ConditionalRender","FlexLayout","Intl","Util","ReplySubmit","ReplyInfo","selectorPrefix","Node","props","_b","isReply","_c","dataKeys","current","totalPage","list","totalCount","_d","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_e","local","_f","_a","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","page","renderActions","call","_data","map","action","index","createElement","key","className","concat","onClick","v","renderChildren","record","conditional","noMatch","fetchData","length","appendData","isFunction","Function","loadData","then","res","_listData","catch","error","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment"],"mappings":"+CACSA,SAAUC,OAAQC,iCACpBC,OAASC,UAAWC,OAAQC,4BAC5BC,mCACAC,uEACAC,yDACAC,+CACAC,0CACAC,4CACAC,iCACP,IAAIC,eAAiB,yBAQjBC,KAAO,SAAcC,GACvB,IAEIC,EAAKD,EAAME,QACXA,OAAiB,IAAPD,GAAwBA,EAClCE,EAAKH,EAAMI,SACXA,OAAkB,IAAPD,EAAgB,CAC7BE,QAAS,UACTC,UAAW,YACXC,KAAM,OACNC,WAAY,cACVL,EACAM,EAAKT,EAAMU,MACXA,OAAe,IAAPD,EAAgB,GAAKA,EAC7BE,EAAUX,EAAMW,QAChBC,EAAWZ,EAAMY,SACjBC,EAAab,EAAMa,WACnBC,EAAed,EAAMc,aACrBC,EAAef,EAAMe,aACrBC,EAAgBhB,EAAMgB,cACtBC,EAAiBjB,EAAMiB,eACvBC,EAAgBlB,EAAMkB,cACtBC,EAAgBnB,EAAMmB,cACtBC,EAAgBpB,EAAMoB,cACtBC,EAAoBrB,EAAMqB,kBAC1BC,EAAoBtB,EAAMsB,kBAC1BC,EAA2BvB,EAAMuB,yBACjCC,EAAoBxB,EAAMwB,kBAC1BC,EAAazB,EAAMyB,WACnBC,EAAmB1B,EAAM0B,iBACzBC,EAAK3B,EAAM4B,MACXA,OAAe,IAAPD,EAAgB,KAAOA,EAE/BE,EAAK5C,OAAOK,WAAUwC,EAAK,IAAO1B,EAASC,SAAW,EAAGyB,EAAG1B,EAASG,MAAQ,GAAIuB,EAAG1B,EAASI,YAAc,EAAGsB,EAAG1B,EAASE,WAAa,EAAGwB,IAAM,GAChJC,EAAWF,EAAG,GACdG,EAAcH,EAAG,GAEjBI,EAAKhD,OAAOK,SAASU,MAAAA,OAAqC,EAASA,EAAMkC,MAAO,GAChFA,EAAOD,EAAG,GACVE,EAAUF,EAAG,GAEbG,EAAKnD,OAAOK,UAAS,GAAQ,GAC7B+C,EAAWD,EAAG,GACdE,EAAcF,EAAG,GAEjBG,EAAKtD,OAAOK,UAAS,GAAQ,GAC7BkD,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAEhBG,EAAKzD,OAAOK,UAAS,GAAQ,GAC7BqD,EAAYD,EAAG,GACfE,EAAeF,EAAG,GAElBG,EAASxD,OAAO,CAClByD,KAAM,EACNpC,MAAOA,IAGT,SAASqC,IACP,IAAIjB,EAEJ,OAAO5C,cAAcA,cAAc,GAAID,SAAsF,QAA5E6C,EAAK9B,MAAAA,OAAqC,EAASA,EAAM+C,qBAAkC,IAAPjB,OAAgB,EAASA,EAAGkB,KAAKhD,EAAOhB,SAAS,GAAIkD,GAAO,SAAUe,GACzMd,EAAQc,OACH,IAAIC,IAAI,SAAUC,EAAQC,GAC/B,OAAoBjE,MAAMkE,cAAc,KAAM,CAC5CC,IAAKF,EACLG,UAAW,GAAGC,OAAO1D,eAAgB,oBACpCqD,OACA,GAAQ,CAAchE,MAAMkE,cAAc,KAAM,CACnDE,UAAWhE,WAAW,GAAGiE,OAAO1D,eAAgB,mBAAoB,GAAG0D,OAAO1D,eAAgB,8BAC9F2D,QAAS,WACP,OAAOb,GAAa,KAErBlD,KAAKgE,EAAE,SAAS,GAGrB,SAASC,IACP,IAAI7B,EAAI7B,EAER,OAAoBd,MAAMkE,cAAc,KAAM,CAC5CE,UAAW,GAAGC,OAAO1D,eAAgB,cACwD,QAA3FG,EAA8C,QAAxC6B,EAAKC,EAAS3B,EAASG,OAAS,SAAgC,EAASuB,EAAGoB,WAAwB,IAAPjD,OAAgB,EAASA,EAAG+C,KAAKlB,EAAI,SAAU8B,GACpJ,OAAoBzE,MAAMkE,cAAc,KAAM,CAC5CE,UAAW,GAAGC,OAAO1D,eAAgB,kBACrCwD,IAAKM,EAAOjD,IACExB,MAAMkE,cAAc7D,kBAAmB,CACrDqE,aAAcjD,EACdkD,QAAS,WACP,OAAOlD,MAAAA,OAA2C,EAASA,EAASgD,KAErE,WACD,OAAoBzE,MAAMkE,cAAcxD,UAAW,CACjDK,SAAS,EACTgC,KAAM0B,EACNjD,QAASA,EACTE,WAAYA,EACZkD,UAAWA,EACXhB,cAAeA,EACfjC,aAAcA,EACdC,aAAcA,EACdC,cAAeA,EACfC,eAAgBA,EAChBC,cAAeA,EACfC,cAAeA,EACfC,cAAeA,EACfC,kBAAmBA,EACnBC,kBAAmBA,EACnBE,kBAAmBA,EACnBD,yBAA0BA,SAGfpC,MAAMkE,cAAc7D,kBAAmB,CACtDqE,aAAcrB,GAmFTT,EAAS3B,EAASG,MAAMyD,QAAUjC,EAAS3B,EAASI,aAlFxD,WACD,OAAoBrB,MAAMkE,cAAc,KAAM,CAC5CE,UAAWhE,WAAW,GAAGiE,OAAO1D,eAAgB,kBAAmB,SACrDX,MAAMkE,cAAc,IAAK,CACvCI,QAASQ,GACK9E,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACpGqE,YAAalE,KAAKuE,WAAW3C,GAC7BuC,QAAS,WACP,OAAOvC,IAER,WACD,OAAOA,aAAoC4C,SAAW5C,IAA6BA,KACnEpC,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACtGqE,YAAalE,KAAKuE,WAAW7C,GAC7ByC,QAAS,WACP,OAAOzC,IAER,WACD,OAAOA,aAA6B8C,SAAW9C,IAAsBA,UAmE3E,SAAS+C,IACP,IAAItC,EAOJ,OALAW,GAAW,GACXI,EAAOxC,QAAU,CACfyC,KAAM,EACNpC,MAAOA,GAEqB,QAAtBoB,EAAKiC,WAAgC,IAAPjC,OAAgB,EAASA,EAAGuC,KAAK,SAAUC,GAC/EtC,EAAYsC,KAIhB,SAASL,IACP,IAAInC,EAEJW,GAAW,GACXI,EAAOxC,QAAQyC,KAAOD,EAAOxC,QAAQyC,KAAO,EAC5C,IAAIvC,EAAOH,EAASG,KACpB,OAA8B,QAAtBuB,EAAKiC,WAAgC,IAAPjC,OAAgB,EAASA,EAAGuC,KAAK,SAAUC,GAC/EtC,EAAY,SAAUuC,GACpB,IAAIzC,EAEJ,OAAO9C,SAASA,SAAS,GAAIsF,KAAOxC,EAAK,IAAO1B,EAASG,MAAQrB,cAAcA,cAAc,GAAID,OAAOsF,EAAUhE,KAAQ,GAAQtB,OAAOqF,EAAI/D,KAAQ,GAAQuB,QAKnK,SAASiC,IACP,IAAY5D,EAEZ,OAKQ,QALAA,EAEC,QAFKF,EAA8E,QAAxE6B,EAAK9B,MAAAA,OAAqC,EAASA,EAAM+D,iBAA8B,IAAPjC,OAAgB,EAASA,EAAGkB,KAAKhD,EAAOhB,SAASA,SAAS,GAAI6D,EAAOxC,SAAU,CACjLuD,OAAQ5E,SAAS,GAAIkD,aACC,IAAPjC,OAAgB,EAASA,EAAGoE,KAAK,SAAUnC,GAE1D,OADAO,GAAW,GACJP,WACc,IAAP/B,OAAgB,EAASA,EAAGqE,MAAM,SAAUC,GAE1D,OADAhC,GAAW,GACJgC,IAOX,OAHArF,UAAU,WACR,OAAO+C,EAAQnC,EAAMkC,OACpB,CAAClC,MAAAA,OAAqC,EAASA,EAAMkC,OACpC/C,MAAMkE,cAAc5D,WAAY,CAClDiF,UAAW,aACXnB,UAAWhE,WAAWO,eAAgBI,EAAU,GAAGsD,OAAO1D,eAAgB,UAAY,OACxEX,MAAMkE,cAAc5D,WAAWkF,MAAO,CACpDpB,UAAW,GAAGC,OAAO1D,eAAgB,iBACpCiB,MAAAA,OAAmD,EAASA,EAAa/B,SAAS,GAAIkD,KAAsB/C,MAAMkE,cAAc5D,WAAWmF,KAAM,CAClJC,WAAW,EACXC,KAAK,GACS3F,MAAMkE,cAAc5D,WAAY,CAC9CiF,UAAW,YACGvF,MAAMkE,cAAc5D,WAAWkF,MAAO,CACpDpB,UAAW,GAAGC,OAAO1D,eAAgB,cACrCgF,KAAK,GACS3F,MAAMkE,cAAc,MAAO,CACzCE,UAAW,GAAGC,OAAO1D,eAAgB,sBACpCgB,MAAAA,OAAmD,EAASA,EAAa9B,SAAS,GAAIkD,KAAsB/C,MAAMkE,cAAc,MAAO,CACxIE,UAAW,GAAGC,OAAO1D,eAAgB,yBACpCmB,MAAAA,OAAuD,EAASA,EAAejC,SAAS,GAAIkD,MAAuB/C,MAAMkE,cAAc5D,WAAWmF,KAAM,CACzJrB,UAAW,GAAGC,OAAO1D,eAAgB,kBACpCkB,MAAAA,OAAqD,EAASA,EAAchC,SAAS,GAAIkD,KAAsB/C,MAAMkE,cAAc5D,WAAWkF,MAAO,KAAmBxF,MAAMkE,cAAc,KAAM,CACnME,UAAW,GAAGC,OAAO1D,eAAgB,aACpCiD,MAAgC5D,MAAMkE,cAAc7D,kBAAmB,CACxEqE,YAAalB,GACZ,WACD,OAAoBxD,MAAMkE,cAAc5D,WAAWkF,MAAO,CACxDI,MAAO,CACLC,UAAW,KAEC7F,MAAMkE,cAAczD,YAAa,CAC/CqF,SAAU,WACR,OAAOrC,GAAa,IAEtBsC,SAAU,SAAkBC,GAOlB,QAJPrD,EAAKL,MAAAA,OAA+C,EAASA,EAAW,CACvE2D,GAAIlD,MAAAA,OAAmC,EAASA,EAAKvB,GACrDiD,OAAQ5E,SAAS,GAAIkD,GACrBiD,MAAOA,WACc,IAAPrD,GAAyBA,EAAGuC,KAAK,WAC/CzB,GAAa,GACbwB,OAGJxC,MAAOA,EACPF,iBAAkBA,OAELvC,MAAMkE,cAAc7D,kBAAmB,CACtDqE,YAAa3B,MAAAA,OAAmC,EAASA,EAAKrB,IAC7D,WACD,OAAoB1B,MAAMkE,cAAclE,MAAMkG,SAAU,KAAmBlG,MAAMkE,cAAc7D,kBAAmB,CAChHqE,aAAcrB,GACb,WACD,OA/JkBrD,MAAMkE,cAAc7D,kBAAmB,CACzDqE,aAAcxB,EACdyB,QAAS,WACP,OAAoB3E,MAAMkE,cAAc,IAAK,CAC3CE,UAAW,GAAGC,OAAO1D,eAAgB,aACrC2D,QAAS,WACP,OAAOnB,GAAY,KAEPnD,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACpGqE,YAAalE,KAAKuE,WAAW1C,GAC7BsC,QAAS,WACP,OAAOtC,IAER,WACD,OAAOA,aAA6B2C,SAAW3C,IAAsBA,KACrDrC,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACtGqE,YAAalE,KAAKuE,WAAW9C,GAC7B0C,QAAS,WACP,OAAO1C,IAER,WACD,OAAOA,aAAyB+C,SAAW/C,IAAkBA,QAGhE,WACD,OAAoBjC,MAAMkE,cAAc,IAAK,CAC3CE,UAAW,GAAGC,OAAO1D,eAAgB,aACrC2D,QAAS,WACP,IAAI3B,EAEEC,EAAS3B,EAASG,MAAMyD,OAC5B1B,GAAY,GAIQ,QAArBR,EAAKsC,WAA+B,IAAPtC,GAAyBA,EAAGuC,KAAK,WAC7D,OAAO/B,GAAY,OAGTnD,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACpGqE,YAAalE,KAAKuE,WAAW5C,GAC7BwC,QAAS,WACP,OAAOxC,IAER,WACD,OAAOA,aAA6B6C,SAAW7C,IAAsBA,KACrDnC,MAAMkE,cAAc,OAAQ,KAAmBlE,MAAMkE,cAAc7D,kBAAmB,CACtGqE,YAAalE,KAAKuE,WAAW/C,GAC7B2C,QAAS,WACP,OAAO3C,IAER,WACD,OAAOA,aAAyBgD,SAAWhD,IAAkBA,UA4GhDhC,MAAMkE,cAAc7D,kBAAmB,CACtDqE,YAAaxB,GAENsB,GACQxE,MAAMkE,cAAc7D,kBAAmB,CACtDqE,YAAarB,GACZ,WACD,OAAOtB,MAAAA,OAAqD,EAASA,4BAK5DnB"}