{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["import { __assign, __read, __spreadArray } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\r\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\r\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\r\nimport Util from '@baifendian/adhere-util';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport ReplyInfo from '../../Reply/Info';\r\nimport ReplySubmit from '../../Reply/Submit';\r\nvar selectorPrefix = 'adhere-ui-comment-node';\r\n/**\r\n * Node\r\n * @param props\r\n * @constructor\r\n * @classdesc 节点(评论 | 回复)\r\n */\r\nvar Node = function (props) {\r\n    var _a;\r\n    var _b = props.isReply, isReply = _b === void 0 ? false : _b, _c = props.dataKeys, dataKeys = _c === void 0 ? {\r\n        current: 'current',\r\n        totalPage: 'totalPage',\r\n        list: 'list',\r\n        totalCount: 'totalCount',\r\n    } : _c, _d = props.limit, limit = _d === void 0 ? 10 : _d, keyProp = props.keyProp, children = props.children, isMoreProp = props.isMoreProp, renderAuthor = props.renderAuthor, renderAvatar = props.renderAvatar, renderContent = props.renderContent, renderDateTime = props.renderDateTime, renderLoading = props.renderLoading, showReplyText = props.showReplyText, hideReplyText = props.hideReplyText, loadMoreReplyText = props.loadMoreReplyText, showReplyTextIcon = props.showReplyTextIcon, loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon, hideReplyTextIcon = props.hideReplyTextIcon, fetchReply = props.fetchReply, emojiPickerProps = props.emojiPickerProps, _e = props.local, local = _e === void 0 ? 'zh' : _e;\r\n    var _f = __read(useState((_a = {},\r\n        _a[dataKeys.current] = 1,\r\n        _a[dataKeys.list] = [],\r\n        _a[dataKeys.totalCount] = 0,\r\n        _a[dataKeys.totalPage] = 0,\r\n        _a)), 2), listData = _f[0], setListData = _f[1];\r\n    var _g = __read(useState(props === null || props === void 0 ? void 0 : props.data), 2), data = _g[0], setData = _g[1];\r\n    var _h = __read(useState(false), 2), collapse = _h[0], setCollapse = _h[1];\r\n    var _j = __read(useState(false), 2), loading = _j[0], setLoading = _j[1];\r\n    var _k = __read(useState(false), 2), showReply = _k[0], setShowReply = _k[1];\r\n    var paging = useRef({\r\n        page: 1,\r\n        limit: limit,\r\n    });\r\n    var renderActions = useCallback(function () {\r\n        var _a;\r\n        var actions = __spreadArray([], __read((((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, __assign({}, data), function (_data) { return setData(_data); })) || []).map(function (action, index) {\r\n            var _a, _b;\r\n            return ConditionalRender.conditionalRender({\r\n                conditional: !((_b = (_a = action === null || action === void 0 ? void 0 : action.props) === null || _a === void 0 ? void 0 : _a.className) === null || _b === void 0 ? void 0 : _b.endsWith('-actions-action')),\r\n                noMatch: action,\r\n                match: (React.createElement(\"li\", { key: index, className: \"\".concat(selectorPrefix, \"-actions-action\") }, action)),\r\n            });\r\n        })), false);\r\n        if (!actions.find(function (t) { var _a, _b; return ((_b = (_a = t === null || t === void 0 ? void 0 : t.props) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.key) === 'reply'; })) {\r\n            actions.push(React.createElement(\"li\", { key: \"reply\", className: classNames(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")), onClick: function () { return setShowReply(true); } }, Intl.v('回复')));\r\n        }\r\n        return actions;\r\n    }, [props === null || props === void 0 ? void 0 : props.renderActions, data, showReply]);\r\n    var renderChildren = useCallback(function () {\r\n        var _a, _b;\r\n        return (React.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-children\") }, (_b = (_a = (listData[dataKeys.list] || [])) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 :\r\n            _b.call(_a, function (record) { return (React.createElement(\"li\", { className: \"\".concat(selectorPrefix, \"-children-item\"), key: record[keyProp] },\r\n                React.createElement(ConditionalRender, { conditional: !children, noMatch: function () { return children === null || children === void 0 ? void 0 : children(record); } }, function () { return (React.createElement(ReplyInfo, { isReply: true, data: record, dataKeys: dataKeys, limit: limit, keyProp: keyProp, isMoreProp: isMoreProp, fetchData: props === null || props === void 0 ? void 0 : props.fetchData, fetchReply: props === null || props === void 0 ? void 0 : props.fetchReply, renderActions: props === null || props === void 0 ? void 0 : props.renderActions, renderAuthor: renderAuthor, renderAvatar: renderAvatar, renderContent: renderContent, renderDateTime: renderDateTime, renderLoading: renderLoading, showReplyText: showReplyText, hideReplyText: hideReplyText, loadMoreReplyText: loadMoreReplyText, showReplyTextIcon: showReplyTextIcon, hideReplyTextIcon: hideReplyTextIcon, loadMoreCollapseTextIcon: loadMoreCollapseTextIcon, local: local, emojiPickerProps: emojiPickerProps })); }))); }),\r\n            React.createElement(ConditionalRender, { conditional: !loading && hasMore() }, function () { return (React.createElement(\"li\", { className: classNames(\"\".concat(selectorPrefix, \"-children-item\"), 'more') },\r\n                React.createElement(\"a\", { onClick: appendData },\r\n                    React.createElement(\"span\", null,\r\n                        React.createElement(ConditionalRender, { conditional: Util.isFunction(loadMoreCollapseTextIcon), noMatch: function () { return loadMoreCollapseTextIcon; } }, function () {\r\n                            return loadMoreCollapseTextIcon instanceof Function\r\n                                ? loadMoreCollapseTextIcon()\r\n                                : loadMoreCollapseTextIcon;\r\n                        })),\r\n                    React.createElement(\"span\", null,\r\n                        React.createElement(ConditionalRender, { conditional: Util.isFunction(loadMoreReplyText), noMatch: function () { return loadMoreReplyText; } }, function () {\r\n                            return loadMoreReplyText instanceof Function\r\n                                ? loadMoreReplyText()\r\n                                : loadMoreReplyText;\r\n                        }))))); })));\r\n    }, [\r\n        listData,\r\n        dataKeys.list,\r\n        keyProp,\r\n        isMoreProp,\r\n        renderActions,\r\n        renderAuthor,\r\n        renderAvatar,\r\n        renderContent,\r\n        renderDateTime,\r\n        renderLoading,\r\n        showReplyText,\r\n        hideReplyText,\r\n        loadMoreReplyText,\r\n        showReplyTextIcon,\r\n        hideReplyTextIcon,\r\n        loadMoreCollapseTextIcon,\r\n        loading,\r\n    ]);\r\n    var renderMore = useCallback(function () {\r\n        return (React.createElement(ConditionalRender, { conditional: !collapse, noMatch: function () { return (React.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () { return setCollapse(false); } },\r\n                React.createElement(\"span\", null,\r\n                    React.createElement(ConditionalRender, { conditional: Util.isFunction(hideReplyTextIcon), noMatch: function () { return hideReplyTextIcon; } }, function () {\r\n                        return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\r\n                    })),\r\n                React.createElement(\"span\", null,\r\n                    React.createElement(ConditionalRender, { conditional: Util.isFunction(hideReplyText), noMatch: function () { return hideReplyText; } }, function () { return (hideReplyText instanceof Function ? hideReplyText() : hideReplyText); })))); } }, function () { return (React.createElement(\"a\", { className: \"\".concat(selectorPrefix, \"-collapse\"), onClick: function () {\r\n                var _a;\r\n                if (!!listData[dataKeys.list].length) {\r\n                    setCollapse(true);\r\n                    return;\r\n                }\r\n                (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () { return setCollapse(true); });\r\n            } },\r\n            React.createElement(\"span\", null,\r\n                React.createElement(ConditionalRender, { conditional: Util.isFunction(showReplyTextIcon), noMatch: function () { return showReplyTextIcon; } }, function () {\r\n                    return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\r\n                })),\r\n            React.createElement(\"span\", null,\r\n                React.createElement(ConditionalRender, { conditional: Util.isFunction(showReplyText), noMatch: function () { return showReplyText; } }, function () { return (showReplyText instanceof Function ? showReplyText() : showReplyText); })))); }));\r\n    }, [\r\n        collapse,\r\n        listData,\r\n        dataKeys.list,\r\n        hideReplyText,\r\n        hideReplyTextIcon,\r\n        showReplyText,\r\n        showReplyTextIcon,\r\n    ]);\r\n    var hasMore = useCallback(function () { return listData[dataKeys.list].length <= listData[dataKeys.totalCount]; }, [listData, dataKeys.list, dataKeys.totalCount]);\r\n    var fetchData = useCallback(function () {\r\n        var _a, _b, _c;\r\n        return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), { record: __assign({}, data) }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\r\n            setLoading(false);\r\n            return data;\r\n        })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\r\n            setLoading(false);\r\n            return error;\r\n        });\r\n    }, [props === null || props === void 0 ? void 0 : props.fetchData, paging.current.page, paging.current.limit, data]);\r\n    function loadData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current = {\r\n            page: 1,\r\n            limit: limit,\r\n        };\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(res);\r\n        });\r\n    }\r\n    function appendData() {\r\n        var _a;\r\n        setLoading(true);\r\n        paging.current.page = paging.current.page + 1;\r\n        var list = dataKeys.list;\r\n        return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\r\n            setListData(function (_listData) {\r\n                var _a;\r\n                return (__assign(__assign({}, res), (_a = {}, _a[dataKeys.list] = __spreadArray(__spreadArray([], __read(_listData[list]), false), __read(res[list]), false), _a)));\r\n            });\r\n        });\r\n    }\r\n    useEffect(function () { return setData(props.data); }, [props === null || props === void 0 ? void 0 : props.data]);\r\n    return (React.createElement(FlexLayout, { direction: \"horizontal\", className: classNames(selectorPrefix, isReply ? \"\".concat(selectorPrefix, \"-reply\") : null) },\r\n        React.createElement(FlexLayout.Fixed, { className: \"\".concat(selectorPrefix, \"-avatar-wrap\") }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(__assign({}, data))),\r\n        React.createElement(FlexLayout.Auto, { autoFixed: true, fit: true },\r\n            React.createElement(FlexLayout, { direction: \"vertical\" },\r\n                React.createElement(FlexLayout.Fixed, { className: \"\".concat(selectorPrefix, \"-title-row\"), fit: false },\r\n                    React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-author\") }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(__assign({}, data))),\r\n                    React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-title-row-date-time\") }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(__assign({}, data)))),\r\n                React.createElement(FlexLayout.Auto, { className: \"\".concat(selectorPrefix, \"-content-wrap\") }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(__assign({}, data))),\r\n                React.createElement(FlexLayout.Fixed, null,\r\n                    React.createElement(\"ul\", { className: \"\".concat(selectorPrefix, \"-actions\") }, renderActions())),\r\n                React.createElement(ConditionalRender, { conditional: showReply }, function () { return (React.createElement(FlexLayout.Fixed, { style: { marginTop: 15 } },\r\n                    React.createElement(ReplySubmit, { onCancel: function () { return setShowReply(false); }, onResult: function (reply) {\r\n                            var _a;\r\n                            (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\r\n                                id: data === null || data === void 0 ? void 0 : data[keyProp],\r\n                                record: __assign({}, data),\r\n                                reply: reply,\r\n                            })) === null || _a === void 0 ? void 0 : _a.then(function () {\r\n                                setShowReply(false);\r\n                                loadData();\r\n                            });\r\n                        }, local: local, emojiPickerProps: emojiPickerProps }))); }),\r\n                React.createElement(ConditionalRender, { conditional: data === null || data === void 0 ? void 0 : data[isMoreProp] }, function () { return (React.createElement(React.Fragment, null,\r\n                    React.createElement(ConditionalRender, { conditional: !loading }, function () { return renderMore(); }),\r\n                    React.createElement(ConditionalRender.Show, { conditional: collapse }, renderChildren()),\r\n                    React.createElement(ConditionalRender, { conditional: loading }, function () { return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading(); }))); })))));\r\n};\r\nexport default memo(Node);\r\n//# sourceMappingURL=index.js.map"],"names":["__assign","__read","__spreadArray","classNames","React","memo","useCallback","useEffect","useRef","useState","ConditionalRender","FlexLayout","Util","Intl","ReplyInfo","ReplySubmit","selectorPrefix","Node","props","_b","isReply","_c","dataKeys","current","totalPage","list","totalCount","_d","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_e","local","_f","_a","listData","setListData","_g","data","setData","_h","collapse","setCollapse","_j","loading","setLoading","_k","showReply","setShowReply","paging","page","renderActions","actions","call","_data","map","action","index","conditionalRender","conditional","className","endsWith","noMatch","match","createElement","key","concat","find","t","push","onClick","v","renderChildren","record","fetchData","hasMore","appendData","isFunction","Function","renderMore","length","loadData","then","catch","error","res","_listData","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment","Show"],"mappings":"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"}