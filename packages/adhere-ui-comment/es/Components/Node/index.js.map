{"version":3,"file":"index.js","sources":["Components/Node/index.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport classNames from 'classnames';\nimport React, { memo, useCallback, useEffect, useRef, useState } from 'react';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport FlexLayout from '@baifendian/adhere-ui-flexlayout';\nimport Util from '@baifendian/adhere-util';\nimport Intl from '@baifendian/adhere-util-intl';\nimport ReplyInfo from '../../Reply/Info';\nimport ReplySubmit from '../../Reply/Submit';\nvar selectorPrefix = 'adhere-ui-comment-node';\n/**\n * Node\n * @param props\n * @constructor\n * @classdesc 节点(评论 | 回复)\n */\nvar Node = /*#__PURE__*/memo(function (props) {\n  var _a, _b;\n  var _c = props.isReply,\n    isReply = _c === void 0 ? false : _c,\n    _d = props.dataKeys,\n    dataKeys = _d === void 0 ? {\n      current: 'current',\n      totalPage: 'totalPage',\n      list: 'list',\n      totalCount: 'totalCount'\n    } : _d,\n    _e = props.limit,\n    limit = _e === void 0 ? 10 : _e,\n    keyProp = props.keyProp,\n    children = props.children,\n    isMoreProp = props.isMoreProp,\n    renderAuthor = props.renderAuthor,\n    renderAvatar = props.renderAvatar,\n    renderContent = props.renderContent,\n    renderDateTime = props.renderDateTime,\n    renderLoading = props.renderLoading,\n    showReplyText = props.showReplyText,\n    hideReplyText = props.hideReplyText,\n    loadMoreReplyText = props.loadMoreReplyText,\n    showReplyTextIcon = props.showReplyTextIcon,\n    loadMoreCollapseTextIcon = props.loadMoreCollapseTextIcon,\n    hideReplyTextIcon = props.hideReplyTextIcon,\n    fetchReply = props.fetchReply,\n    emojiPickerProps = props.emojiPickerProps,\n    _f = props.local,\n    local = _f === void 0 ? 'zh' : _f;\n  var _g = useState((_a = {}, _a[dataKeys.current] = 1, _a[dataKeys.list] = [], _a[dataKeys.totalCount] = 0, _a[dataKeys.totalPage] = 0, _a)),\n    listData = _g[0],\n    setListData = _g[1];\n  var _h = useState(props === null || props === void 0 ? void 0 : props.data),\n    data = _h[0],\n    setData = _h[1];\n  var _j = useState(false),\n    collapse = _j[0],\n    setCollapse = _j[1];\n  var _k = useState(false),\n    loading = _k[0],\n    setLoading = _k[1];\n  var _l = useState(false),\n    showReply = _l[0],\n    setShowReply = _l[1];\n  var paging = useRef({\n    page: 1,\n    limit: limit\n  });\n  var renderActions = useCallback(function () {\n    var _a;\n    var actions = __spreadArray([], (((_a = props === null || props === void 0 ? void 0 : props.renderActions) === null || _a === void 0 ? void 0 : _a.call(props, __assign({}, data), function (_data) {\n      return setData(_data);\n    })) || []).map(function (action, index) {\n      var _a, _b;\n      return ConditionalRender.conditionalRender({\n        conditional: !((_b = (_a = action === null || action === void 0 ? void 0 : action.props) === null || _a === void 0 ? void 0 : _a.className) === null || _b === void 0 ? void 0 : _b.endsWith('-actions-action')),\n        noMatch: action,\n        match: /*#__PURE__*/React.createElement(\"li\", {\n          key: index,\n          className: \"\".concat(selectorPrefix, \"-actions-action\")\n        }, action)\n      });\n    }), true);\n    if (!actions.find(function (t) {\n      var _a, _b;\n      return ((_b = (_a = t === null || t === void 0 ? void 0 : t.props) === null || _a === void 0 ? void 0 : _a.children) === null || _b === void 0 ? void 0 : _b.key) === 'reply';\n    })) {\n      actions.push( /*#__PURE__*/React.createElement(\"li\", {\n        key: \"reply\",\n        className: classNames(\"\".concat(selectorPrefix, \"-actions-action\"), \"\".concat(selectorPrefix, \"-actions-action-reply-btn\")),\n        onClick: function onClick() {\n          return setShowReply(true);\n        }\n      }, Intl.v('回复')));\n    }\n    return actions;\n  }, [props === null || props === void 0 ? void 0 : props.renderActions, data, showReply]);\n  var renderChildren = useCallback(function () {\n    var _a, _b;\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, (_b = (_a = listData[dataKeys.list] || []) === null || _a === void 0 ? void 0 : _a.map) === null || _b === void 0 ? void 0 : _b.call(_a, function (record) {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"\".concat(selectorPrefix, \"-children-item\"),\n        key: record[keyProp]\n      }, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: !children,\n        noMatch: function noMatch() {\n          return children === null || children === void 0 ? void 0 : children(record);\n        }\n      }, function () {\n        return /*#__PURE__*/React.createElement(ReplyInfo, {\n          isReply: true,\n          data: record,\n          dataKeys: dataKeys,\n          limit: limit,\n          keyProp: keyProp,\n          isMoreProp: isMoreProp,\n          fetchData: props === null || props === void 0 ? void 0 : props.fetchData,\n          fetchReply: props === null || props === void 0 ? void 0 : props.fetchReply,\n          renderActions: props === null || props === void 0 ? void 0 : props.renderActions,\n          renderAuthor: renderAuthor,\n          renderAvatar: renderAvatar,\n          renderContent: renderContent,\n          renderDateTime: renderDateTime,\n          renderLoading: renderLoading,\n          showReplyText: showReplyText,\n          hideReplyText: hideReplyText,\n          loadMoreReplyText: loadMoreReplyText,\n          showReplyTextIcon: showReplyTextIcon,\n          hideReplyTextIcon: hideReplyTextIcon,\n          loadMoreCollapseTextIcon: loadMoreCollapseTextIcon,\n          local: local,\n          emojiPickerProps: emojiPickerProps\n        });\n      }));\n    }), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading && hasMore()\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classNames(\"\".concat(selectorPrefix, \"-children-item\"), 'more')\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: appendData\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(loadMoreCollapseTextIcon),\n        noMatch: function noMatch() {\n          return loadMoreCollapseTextIcon;\n        }\n      }, function () {\n        return loadMoreCollapseTextIcon instanceof Function ? loadMoreCollapseTextIcon() : loadMoreCollapseTextIcon;\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(loadMoreReplyText),\n        noMatch: function noMatch() {\n          return loadMoreReplyText;\n        }\n      }, function () {\n        return loadMoreReplyText instanceof Function ? loadMoreReplyText() : loadMoreReplyText;\n      }))));\n    }));\n  }, [listData, dataKeys.list, keyProp, isMoreProp, renderActions, renderAuthor, renderAvatar, renderContent, renderDateTime, renderLoading, showReplyText, hideReplyText, loadMoreReplyText, showReplyTextIcon, hideReplyTextIcon, loadMoreCollapseTextIcon, loading]);\n  var renderMore = useCallback(function () {\n    return /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !collapse,\n      noMatch: function noMatch() {\n        return /*#__PURE__*/React.createElement(\"a\", {\n          className: \"\".concat(selectorPrefix, \"-collapse\"),\n          onClick: function onClick() {\n            return setCollapse(false);\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(hideReplyTextIcon),\n          noMatch: function noMatch() {\n            return hideReplyTextIcon;\n          }\n        }, function () {\n          return hideReplyTextIcon instanceof Function ? hideReplyTextIcon() : hideReplyTextIcon;\n        })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n          conditional: Util.isFunction(hideReplyText),\n          noMatch: function noMatch() {\n            return hideReplyText;\n          }\n        }, function () {\n          return hideReplyText instanceof Function ? hideReplyText() : hideReplyText;\n        })));\n      }\n    }, function () {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        className: \"\".concat(selectorPrefix, \"-collapse\"),\n        onClick: function onClick() {\n          var _a;\n          if (!!listData[dataKeys.list].length) {\n            setCollapse(true);\n            return;\n          }\n          (_a = loadData()) === null || _a === void 0 ? void 0 : _a.then(function () {\n            return setCollapse(true);\n          });\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(showReplyTextIcon),\n        noMatch: function noMatch() {\n          return showReplyTextIcon;\n        }\n      }, function () {\n        return showReplyTextIcon instanceof Function ? showReplyTextIcon() : showReplyTextIcon;\n      })), /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(ConditionalRender, {\n        conditional: Util.isFunction(showReplyText),\n        noMatch: function noMatch() {\n          return showReplyText;\n        }\n      }, function () {\n        return showReplyText instanceof Function ? showReplyText() : showReplyText;\n      })));\n    });\n  }, [collapse, listData, dataKeys.list, hideReplyText, hideReplyTextIcon, showReplyText, showReplyTextIcon]);\n  var hasMore = useCallback(\n  // @ts-ignore\n  function () {\n    return listData[dataKeys.list].length <= listData[dataKeys.totalCount];\n  }, [listData, dataKeys.list, dataKeys.totalCount]);\n  var fetchData = useCallback(function () {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = props === null || props === void 0 ? void 0 : props.fetchData) === null || _a === void 0 ? void 0 : _a.call(props, __assign(__assign({}, paging.current), {\n      record: __assign({}, data)\n    }))) === null || _b === void 0 ? void 0 : _b.then(function (data) {\n      setLoading(false);\n      return data;\n    })) === null || _c === void 0 ? void 0 : _c.catch(function (error) {\n      setLoading(false);\n      return error;\n    });\n  }, [props === null || props === void 0 ? void 0 : props.fetchData, paging.current.page, paging.current.limit, data]);\n  function loadData() {\n    var _a;\n    setLoading(true);\n    paging.current = {\n      page: 1,\n      limit: limit\n    };\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(res);\n    });\n  }\n  function appendData() {\n    var _a;\n    setLoading(true);\n    paging.current.page = paging.current.page + 1;\n    var list = dataKeys.list;\n    return (_a = fetchData()) === null || _a === void 0 ? void 0 : _a.then(function (res) {\n      setListData(function (_listData) {\n        var _a;\n        return __assign(__assign({}, res), (_a = {}, _a[dataKeys.list] = __spreadArray(__spreadArray([], _listData[list], true), res[list], true), _a));\n      });\n    });\n  }\n  useEffect(function () {\n    setData(props.data);\n  }, [props === null || props === void 0 ? void 0 : props.data]);\n  return /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"horizontal\",\n    className: classNames(selectorPrefix, (_b = {}, _b[\"\".concat(selectorPrefix, \"-reply\")] = isReply, _b))\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-avatar-wrap\")\n  }, renderAvatar === null || renderAvatar === void 0 ? void 0 : renderAvatar(__assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    autoFixed: true,\n    fit: true\n  }, /*#__PURE__*/React.createElement(FlexLayout, {\n    direction: \"vertical\"\n  }, /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n    className: \"\".concat(selectorPrefix, \"-title-row\"),\n    fit: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-author\")\n  }, renderAuthor === null || renderAuthor === void 0 ? void 0 : renderAuthor(__assign({}, data))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title-row-date-time\")\n  }, renderDateTime === null || renderDateTime === void 0 ? void 0 : renderDateTime(__assign({}, data)))), /*#__PURE__*/React.createElement(FlexLayout.Auto, {\n    className: \"\".concat(selectorPrefix, \"-content-wrap\")\n  }, renderContent === null || renderContent === void 0 ? void 0 : renderContent(__assign({}, data))), /*#__PURE__*/React.createElement(FlexLayout.Fixed, null, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-actions\")\n  }, renderActions())), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: showReply\n  }, function () {\n    return /*#__PURE__*/React.createElement(FlexLayout.Fixed, {\n      style: {\n        marginTop: 15\n      }\n    }, /*#__PURE__*/React.createElement(ReplySubmit, {\n      onCancel: function onCancel() {\n        return setShowReply(false);\n      },\n      onResult: function onResult(reply) {\n        var _a;\n        (_a = fetchReply === null || fetchReply === void 0 ? void 0 : fetchReply({\n          id: data === null || data === void 0 ? void 0 : data[keyProp],\n          record: __assign({}, data),\n          reply: reply\n        })) === null || _a === void 0 ? void 0 : _a.then(function () {\n          setShowReply(false);\n          loadData();\n        });\n      },\n      local: local,\n      emojiPickerProps: emojiPickerProps\n    }));\n  }), /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: data === null || data === void 0 ? void 0 : data[isMoreProp]\n  }, function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: !loading\n    }, function () {\n      return renderMore();\n    }), /*#__PURE__*/React.createElement(ConditionalRender.Show, {\n      conditional: collapse\n    }, renderChildren()), /*#__PURE__*/React.createElement(ConditionalRender, {\n      conditional: loading\n    }, function () {\n      return renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading();\n    }));\n  }))));\n});\nNode.displayName = 'Node';\nexport default Node;"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","ar","l","Array","slice","concat","classNames","React","memo","useCallback","useEffect","useRef","useState","ConditionalRender","FlexLayout","Util","Intl","ReplyInfo","ReplySubmit","selectorPrefix","Node","props","_b","_c","isReply","_d","dataKeys","current","totalPage","list","totalCount","_e","limit","keyProp","children","isMoreProp","renderAuthor","renderAvatar","renderContent","renderDateTime","renderLoading","showReplyText","hideReplyText","loadMoreReplyText","showReplyTextIcon","loadMoreCollapseTextIcon","hideReplyTextIcon","fetchReply","emojiPickerProps","_f","local","_g","_a","listData","setListData","_h","data","setData","_j","collapse","setCollapse","_k","loading","setLoading","_l","showReply","setShowReply","paging","page","renderActions","actions","_data","map","action","index","conditionalRender","conditional","className","endsWith","noMatch","match","createElement","key","find","push","onClick","v","renderChildren","record","fetchData","hasMore","appendData","isFunction","Function","renderMore","loadData","then","catch","error","res","_listData","direction","Fixed","Auto","autoFixed","fit","style","marginTop","onCancel","onResult","reply","id","Fragment","Show","displayName"],"mappings":"AAAA,IAAIA,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,EACIO,cAAgBd,MAAQA,KAAKc,eAAiB,SAAUC,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBV,UAAUC,OAAc,IAAK,IAA4BU,EAAxBb,EAAI,EAAGc,EAAIH,EAAKR,OAAYH,EAAIc,EAAGd,CAAC,GAC3Ea,CAAAA,GAAQb,KAAKW,KACVE,EAAAA,GAASE,MAAMV,UAAUW,MAAMT,KAAKI,EAAM,EAAGX,CAAC,GAChDA,GAAKW,EAAKX,IAGjB,OAAOU,EAAGO,OAAOJ,GAAME,MAAMV,UAAUW,MAAMT,KAAKI,CAAI,CAAC,CACzD,SACOO,eAAgB,oBAChBC,OAASC,KAAMC,YAAaC,UAAWC,OAAQC,QAAuB,KAAP,eAC/DC,sBAAuB,iDACvBC,eAAgB,0CAChBC,SAAU,iCACVC,SAAU,sCACVC,cAAe,0BACfC,gBAAiB,qBACxB,IAAIC,eAAiB,yBAOjBC,KAAoBZ,KAAK,SAAUa,GACrC,IAAQC,EACJC,EAAKF,EAAMG,QACbA,EAAiB,KAAA,IAAPD,GAAwBA,EAClCE,EAAKJ,EAAMK,SACXA,EAAkB,KAAA,IAAPD,EAAgB,CACzBE,QAAS,UACTC,UAAW,YACXC,KAAM,OACNC,WAAY,YACd,EAAIL,EACJM,EAAKV,EAAMW,MACXA,EAAe,KAAA,IAAPD,EAAgB,GAAKA,EAC7BE,EAAUZ,EAAMY,QAChBC,EAAWb,EAAMa,SACjBC,EAAad,EAAMc,WACnBC,EAAef,EAAMe,aACrBC,EAAehB,EAAMgB,aACrBC,EAAgBjB,EAAMiB,cACtBC,EAAiBlB,EAAMkB,eACvBC,EAAgBnB,EAAMmB,cACtBC,EAAgBpB,EAAMoB,cACtBC,EAAgBrB,EAAMqB,cACtBC,EAAoBtB,EAAMsB,kBAC1BC,EAAoBvB,EAAMuB,kBAC1BC,EAA2BxB,EAAMwB,yBACjCC,EAAoBzB,EAAMyB,kBAC1BC,EAAa1B,EAAM0B,WACnBC,EAAmB3B,EAAM2B,iBACzBC,EAAK5B,EAAM6B,MACXA,EAAe,KAAA,IAAPD,EAAgB,KAAOA,EAC7BE,EAAKvC,WAAUwC,EAAK,IAAO1B,EAASC,SAAW,EAAGyB,EAAG1B,EAASG,MAAQ,GAAIuB,EAAG1B,EAASI,YAAc,EAAGsB,EAAG1B,EAASE,WAAa,EAAGwB,EAAG,EACxIC,EAAWF,EAAG,GACdG,EAAcH,EAAG,GACfI,EAAK3C,SAASS,MAAAA,EAAqC,KAAA,EAASA,EAAMmC,IAAI,EACxEA,EAAOD,EAAG,GACVE,EAAUF,EAAG,GACXG,EAAK9C,SAAS,CAAA,CAAK,EACrB+C,EAAWD,EAAG,GACdE,EAAcF,EAAG,GACfG,EAAKjD,SAAS,CAAA,CAAK,EACrBkD,EAAUD,EAAG,GACbE,EAAaF,EAAG,GACdG,EAAKpD,SAAS,CAAA,CAAK,EACrBqD,EAAYD,EAAG,GACfE,EAAeF,EAAG,GAChBG,EAASxD,OAAO,CAClByD,KAAM,EACNpC,MAAOA,CACT,CAAC,EACGqC,EAAgB5D,YAAY,WAC9B,IACI6D,EAAUzE,cAAc,KAAM,OAACuD,EAAK/B,MAAAA,EAAqC,KAAA,EAASA,EAAMgD,eAA2C,KAAA,EAASjB,EAAGzD,KAAK0B,EAAOvC,SAAS,GAAI0E,CAAI,EAAG,SAAUe,GAC3L,OAAOd,EAAQc,CAAK,CACtB,CAAC,IAAM,IAAIC,IAAI,SAAUC,EAAQC,GAC/B,IAAQpD,EACR,OAAOT,kBAAkB8D,kBAAkB,CACzCC,YAAa,EAAE,OAACtD,EAAK,OAAC8B,EAAKqB,MAAAA,EAAuC,KAAA,EAASA,EAAOpD,OAAmC,KAAA,EAAS+B,EAAGyB,YAAgDvD,EAAGwD,SAAS,iBAAiB,GAC9MC,QAASN,EACTO,MAAoBzE,MAAM0E,cAAc,KAAM,CAC5CC,IAAKR,EACLG,UAAW,GAAGxE,OAAOc,eAAgB,iBAAiB,CACxD,EAAGsD,CAAM,CACX,CAAC,CACH,CAAC,EAAG,CAAA,CAAI,EAaR,OAZKH,EAAQa,KAAK,SAAUjG,GAE1B,MAAsK,WAA9J,OAACoC,EAAK,OAAC8B,EAAKlE,MAAAA,EAA6B,KAAA,EAASA,EAAEmC,OAAmC,KAAA,EAAS+B,EAAGlB,UAAsC,KAAA,EAASZ,EAAG4D,IAC/J,CAAC,GACCZ,EAAQc,KAAmB7E,MAAM0E,cAAc,KAAM,CACnDC,IAAK,QACLL,UAAWvE,WAAW,GAAGD,OAAOc,eAAgB,iBAAiB,EAAG,GAAGd,OAAOc,eAAgB,2BAA2B,CAAC,EAC1HkE,QAAS,WACP,OAAOnB,EAAa,CAAA,CAAI,CAC1B,CACF,EAAGlD,KAAKsE,EAAE,IAAI,CAAC,CAAC,EAEXhB,CACT,EAAG,CAACjD,MAAAA,EAAqC,KAAA,EAASA,EAAMgD,cAAeb,EAAMS,EAAU,EACnFsB,EAAiB9E,YAAY,WAC/B,IAAI2C,EAAI9B,EACR,OAAoBf,MAAM0E,cAAc,KAAM,CAC5CJ,UAAW,GAAGxE,OAAOc,eAAgB,WAAW,CAClD,EAAG,OAACG,EAA8C,QAAxC8B,EAAKC,EAAS3B,EAASG,OAAS,IAAgC,KAAA,EAASuB,EAAGoB,KAAiC,KAAA,EAASlD,EAAG3B,KAAKyD,EAAI,SAAUoC,GACpJ,OAAoBjF,MAAM0E,cAAc,KAAM,CAC5CJ,UAAW,GAAGxE,OAAOc,eAAgB,gBAAgB,EACrD+D,IAAKM,EAAOvD,EACd,EAAgB1B,MAAM0E,cAAcpE,kBAAmB,CACrD+D,YAAa,CAAC1C,EACd6C,QAAS,WACP,OAAO7C,MAAAA,EAA2C,KAAA,EAASA,EAASsD,CAAM,CAC5E,CACF,EAAG,WACD,OAAoBjF,MAAM0E,cAAchE,UAAW,CACjDO,QAAS,CAAA,EACTgC,KAAMgC,EACN9D,SAAUA,EACVM,MAAOA,EACPC,QAASA,EACTE,WAAYA,EACZsD,UAAWpE,MAAAA,EAAqC,KAAA,EAASA,EAAMoE,UAC/D1C,WAAY1B,MAAAA,EAAqC,KAAA,EAASA,EAAM0B,WAChEsB,cAAehD,MAAAA,EAAqC,KAAA,EAASA,EAAMgD,cACnEjC,aAAcA,EACdC,aAAcA,EACdC,cAAeA,EACfC,eAAgBA,EAChBC,cAAeA,EACfC,cAAeA,EACfC,cAAeA,EACfC,kBAAmBA,EACnBC,kBAAmBA,EACnBE,kBAAmBA,EACnBD,yBAA0BA,EAC1BK,MAAOA,EACPF,iBAAkBA,CACpB,CAAC,CACH,CAAC,CAAC,CACJ,CAAC,EAAgBzC,MAAM0E,cAAcpE,kBAAmB,CACtD+D,YAAa,CAACd,GAAW4B,EAAQ,CACnC,EAAG,WACD,OAAoBnF,MAAM0E,cAAc,KAAM,CAC5CJ,UAAWvE,WAAW,GAAGD,OAAOc,eAAgB,gBAAgB,EAAG,MAAM,CAC3E,EAAgBZ,MAAM0E,cAAc,IAAK,CACvCI,QAASM,CACX,EAAgBpF,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACpG+D,YAAa7D,KAAK6E,WAAW/C,CAAwB,EACrDkC,QAAS,WACP,OAAOlC,CACT,CACF,EAAG,WACD,OAAOA,aAAoCgD,SAAWhD,EAAyB,EAAIA,CACrF,CAAC,CAAC,EAAgBtC,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACtG+D,YAAa7D,KAAK6E,WAAWjD,CAAiB,EAC9CoC,QAAS,WACP,OAAOpC,CACT,CACF,EAAG,WACD,OAAOA,aAA6BkD,SAAWlD,EAAkB,EAAIA,CACvE,CAAC,CAAC,CAAC,CAAC,CACN,CAAC,CAAC,CACJ,EAAG,CAACU,EAAU3B,EAASG,KAAMI,EAASE,EAAYkC,EAAejC,EAAcC,EAAcC,EAAeC,EAAgBC,EAAeC,EAAeC,EAAeC,EAAmBC,EAAmBE,EAAmBD,EAA0BiB,EAAQ,EAChQgC,EAAarF,YAAY,WAC3B,OAAoBF,MAAM0E,cAAcpE,kBAAmB,CACzD+D,YAAa,CAACjB,EACdoB,QAAS,WACP,OAAoBxE,MAAM0E,cAAc,IAAK,CAC3CJ,UAAW,GAAGxE,OAAOc,eAAgB,WAAW,EAChDkE,QAAS,WACP,OAAOzB,EAAY,CAAA,CAAK,CAC1B,CACF,EAAgBrD,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACpG+D,YAAa7D,KAAK6E,WAAW9C,CAAiB,EAC9CiC,QAAS,WACP,OAAOjC,CACT,CACF,EAAG,WACD,OAAOA,aAA6B+C,SAAW/C,EAAkB,EAAIA,CACvE,CAAC,CAAC,EAAgBvC,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACtG+D,YAAa7D,KAAK6E,WAAWlD,CAAa,EAC1CqC,QAAS,WACP,OAAOrC,CACT,CACF,EAAG,WACD,OAAOA,aAAyBmD,SAAWnD,EAAc,EAAIA,CAC/D,CAAC,CAAC,CAAC,CACL,CACF,EAAG,WACD,OAAoBnC,MAAM0E,cAAc,IAAK,CAC3CJ,UAAW,GAAGxE,OAAOc,eAAgB,WAAW,EAChDkE,QAAS,WACP,IAAIjC,EACEC,EAAS3B,EAASG,MAAMtC,OAC5BqE,EAAY,CAAA,CAAI,EAGlB,OAACR,EAAK2C,EAAS,IAAwC3C,EAAG4C,KAAK,WAC7D,OAAOpC,EAAY,CAAA,CAAI,CACzB,CAAC,CACH,CACF,EAAgBrD,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACpG+D,YAAa7D,KAAK6E,WAAWhD,CAAiB,EAC9CmC,QAAS,WACP,OAAOnC,CACT,CACF,EAAG,WACD,OAAOA,aAA6BiD,SAAWjD,EAAkB,EAAIA,CACvE,CAAC,CAAC,EAAgBrC,MAAM0E,cAAc,OAAQ,KAAmB1E,MAAM0E,cAAcpE,kBAAmB,CACtG+D,YAAa7D,KAAK6E,WAAWnD,CAAa,EAC1CsC,QAAS,WACP,OAAOtC,CACT,CACF,EAAG,WACD,OAAOA,aAAyBoD,SAAWpD,EAAc,EAAIA,CAC/D,CAAC,CAAC,CAAC,CACL,CAAC,CACH,EAAG,CAACkB,EAAUN,EAAU3B,EAASG,KAAMa,EAAeI,EAAmBL,EAAeG,EAAkB,EACtG8C,EAAUjF,YAEd,WACE,OAAO4C,EAAS3B,EAASG,MAAMtC,QAAU8D,EAAS3B,EAASI,WAC7D,EAAG,CAACuB,EAAU3B,EAASG,KAAMH,EAASI,WAAW,EAC7C2D,EAAYhF,YAAY,WAC1B,IAAYc,EACZ,OAAO,OAACA,EAAK,OAACD,EAAK,OAAC8B,EAAK/B,MAAAA,EAAqC,KAAA,EAASA,EAAMoE,WAAuC,KAAA,EAASrC,EAAGzD,KAAK0B,EAAOvC,SAASA,SAAS,GAAIqF,EAAOxC,OAAO,EAAG,CACjL6D,OAAQ1G,SAAS,GAAI0E,CAAI,CAC3B,CAAC,CAAC,GAA+B,KAAA,EAASlC,EAAG0E,KAAK,SAAUxC,GAE1D,OADAO,EAAW,CAAA,CAAK,EACTP,CACT,CAAC,GAA+B,KAAA,EAASjC,EAAG0E,MAAM,SAAUC,GAE1D,OADAnC,EAAW,CAAA,CAAK,EACTmC,CACT,CAAC,CACH,EAAG,CAAC7E,MAAAA,EAAqC,KAAA,EAASA,EAAMoE,UAAWtB,EAAOxC,QAAQyC,KAAMD,EAAOxC,QAAQK,MAAOwB,EAAK,EACnH,SAASuC,IACP,IAAI3C,EAMJ,OALAW,EAAW,CAAA,CAAI,EACfI,EAAOxC,QAAU,CACfyC,KAAM,EACNpC,MAAOA,CACT,EACO,OAACoB,EAAKqC,EAAU,GAA+B,KAAA,EAASrC,EAAG4C,KAAK,SAAUG,GAC/E7C,EAAY6C,CAAG,CACjB,CAAC,CACH,CACA,SAASR,IAEP5B,EAAW,CAAA,CAAI,EACfI,EAAOxC,QAAQyC,KAAOD,EAAOxC,QAAQyC,KAAO,EAF5C,IAAIhB,EAGAvB,EAAOH,EAASG,KACpB,OAAO,OAACuB,EAAKqC,EAAU,GAA+B,KAAA,EAASrC,EAAG4C,KAAK,SAAUG,GAC/E7C,EAAY,SAAU8C,GACpB,IAAIhD,EACJ,OAAOtE,SAASA,SAAS,GAAIqH,CAAG,IAAI/C,EAAK,IAAO1B,EAASG,MAAQhC,cAAcA,cAAc,GAAIuG,EAAUvE,GAAO,CAAA,CAAI,EAAGsE,EAAItE,GAAO,CAAA,CAAI,EAAGuB,EAAG,CAChJ,CAAC,CACH,CAAC,CACH,CAIA,OAHA1C,UAAU,WACR+C,EAAQpC,EAAMmC,IAAI,CACpB,EAAG,CAACnC,MAAAA,EAAqC,KAAA,EAASA,EAAMmC,KAAK,EACzCjD,MAAM0E,cAAcnE,WAAY,CAClDuF,UAAW,aACXxB,UAAWvE,WAAWa,iBAAiBG,EAAK,IAAO,GAAGjB,OAAOc,eAAgB,QAAQ,GAAKK,EAASF,EAAG,CACxG,EAAgBf,MAAM0E,cAAcnE,WAAWwF,MAAO,CACpDzB,UAAW,GAAGxE,OAAOc,eAAgB,cAAc,CACrD,EAAGkB,MAAAA,EAAmD,KAAA,EAASA,EAAavD,SAAS,GAAI0E,CAAI,CAAC,CAAC,EAAgBjD,MAAM0E,cAAcnE,WAAWyF,KAAM,CAClJC,UAAW,CAAA,EACXC,IAAK,CAAA,CACP,EAAgBlG,MAAM0E,cAAcnE,WAAY,CAC9CuF,UAAW,UACb,EAAgB9F,MAAM0E,cAAcnE,WAAWwF,MAAO,CACpDzB,UAAW,GAAGxE,OAAOc,eAAgB,YAAY,EACjDsF,IAAK,CAAA,CACP,EAAgBlG,MAAM0E,cAAc,MAAO,CACzCJ,UAAW,GAAGxE,OAAOc,eAAgB,mBAAmB,CAC1D,EAAGiB,MAAAA,EAAmD,KAAA,EAASA,EAAatD,SAAS,GAAI0E,CAAI,CAAC,CAAC,EAAgBjD,MAAM0E,cAAc,MAAO,CACxIJ,UAAW,GAAGxE,OAAOc,eAAgB,sBAAsB,CAC7D,EAAGoB,MAAAA,EAAuD,KAAA,EAASA,EAAezD,SAAS,GAAI0E,CAAI,CAAC,CAAC,CAAC,EAAgBjD,MAAM0E,cAAcnE,WAAWyF,KAAM,CACzJ1B,UAAW,GAAGxE,OAAOc,eAAgB,eAAe,CACtD,EAAGmB,MAAAA,EAAqD,KAAA,EAASA,EAAcxD,SAAS,GAAI0E,CAAI,CAAC,CAAC,EAAgBjD,MAAM0E,cAAcnE,WAAWwF,MAAO,KAAmB/F,MAAM0E,cAAc,KAAM,CACnMJ,UAAW,GAAGxE,OAAOc,eAAgB,UAAU,CACjD,EAAGkD,EAAc,CAAC,CAAC,EAAgB9D,MAAM0E,cAAcpE,kBAAmB,CACxE+D,YAAaX,CACf,EAAG,WACD,OAAoB1D,MAAM0E,cAAcnE,WAAWwF,MAAO,CACxDI,MAAO,CACLC,UAAW,EACb,CACF,EAAgBpG,MAAM0E,cAAc/D,YAAa,CAC/C0F,SAAU,WACR,OAAO1C,EAAa,CAAA,CAAK,CAC3B,EACA2C,SAAU,SAAkBC,GAE1B,OAAC1D,EAAKL,MAAAA,EAA+C,KAAA,EAASA,EAAW,CACvEgE,GAAIvD,MAAAA,EAAmC,KAAA,EAASA,EAAKvB,GACrDuD,OAAQ1G,SAAS,GAAI0E,CAAI,EACzBsD,MAAOA,CACT,CAAC,IAAwC1D,EAAG4C,KAAK,WAC/C9B,EAAa,CAAA,CAAK,EAClB6B,EAAS,CACX,CAAC,CACH,EACA7C,MAAOA,EACPF,iBAAkBA,CACpB,CAAC,CAAC,CACJ,CAAC,EAAgBzC,MAAM0E,cAAcpE,kBAAmB,CACtD+D,YAAapB,MAAAA,EAAmC,KAAA,EAASA,EAAKrB,EAChE,EAAG,WACD,OAAoB5B,MAAM0E,cAAc1E,MAAMyG,SAAU,KAAmBzG,MAAM0E,cAAcpE,kBAAmB,CAChH+D,YAAa,CAACd,CAChB,EAAG,WACD,OAAOgC,EAAW,CACpB,CAAC,EAAgBvF,MAAM0E,cAAcpE,kBAAkBoG,KAAM,CAC3DrC,YAAajB,CACf,EAAG4B,EAAe,CAAC,EAAgBhF,MAAM0E,cAAcpE,kBAAmB,CACxE+D,YAAad,CACf,EAAG,WACD,OAAOtB,MAAAA,EAAqD,KAAA,EAASA,EAAc,CACrF,CAAC,CAAC,CACJ,CAAC,CAAC,CAAC,CAAC,CACN,CAAC,EACDpB,KAAK8F,YAAc,sBACJ9F"}