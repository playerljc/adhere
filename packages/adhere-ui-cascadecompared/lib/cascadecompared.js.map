{"version":3,"file":"cascadecompared.js","sources":["cascadecompared.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar iscroll_probe_1 = __importDefault(require(\"iscroll/build/iscroll-probe\"));\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar adhere_ui_stickuplayout_1 = __importDefault(require(\"@baifendian/adhere-ui-stickuplayout\"));\r\nvar selectorPrefix = 'adhere-ui-cascadecompared';\r\nvar defaultCellWidth = 120;\r\nvar Item = adhere_ui_stickuplayout_1.default.Item;\r\nvar StickupLayoutItem = Item;\r\n/**\r\n * initTouch\r\n */\r\nfunction initTouch() {\r\n    function isPassive() {\r\n        var supportsPassiveOption = false;\r\n        try {\r\n            // @ts-ignore\r\n            addEventListener('test', null, Object.defineProperty({}, 'passive', {\r\n                get: function () {\r\n                    supportsPassiveOption = true;\r\n                },\r\n            }));\r\n        }\r\n        catch (e) { }\r\n        return supportsPassiveOption;\r\n    }\r\n    document.addEventListener('touchmove', function (e) {\r\n        e.preventDefault();\r\n    }, isPassive()\r\n        ? {\r\n            capture: false,\r\n            passive: false,\r\n        }\r\n        : false);\r\n}\r\ninitTouch();\r\n/**\r\n * CascadeComparedProps\r\n * @param props\r\n * @param ref\r\n * @constructor\r\n */\r\nvar CascadeCompared = function (props, ref) {\r\n    var _a = props.className, className = _a === void 0 ? '' : _a, _b = props.style, style = _b === void 0 ? {} : _b, _c = props.indicatorClassName, indicatorClassName = _c === void 0 ? '' : _c, _d = props.indicatorStyle, indicatorStyle = _d === void 0 ? {} : _d, _e = props.indicatorFixedWrapClassName, indicatorFixedWrapClassName = _e === void 0 ? '' : _e, _f = props.indicatorFixedWrapStyle, indicatorFixedWrapStyle = _f === void 0 ? {} : _f, _g = props.indicatorAutoWrapClassName, indicatorAutoWrapClassName = _g === void 0 ? '' : _g, _h = props.indicatorAutoWrapStyle, indicatorAutoWrapStyle = _h === void 0 ? {} : _h, _j = props.indicator, _k = _j.columns, columns = _k === void 0 ? [] : _k, _l = _j.dataSource, dataSource = _l === void 0 ? {} : _l, _m = props.masterClassName, masterClassName = _m === void 0 ? '' : _m, _o = props.masterStyle, masterStyle = _o === void 0 ? {} : _o, _p = props.masterInnerClassName, masterInnerClassName = _p === void 0 ? '' : _p, _q = props.masterInnerStyle, masterInnerStyle = _q === void 0 ? {} : _q, _r = props.masterStickFixedClassName, masterStickFixedClassName = _r === void 0 ? '' : _r, _s = props.masterStickFixedStyle, masterStickFixedStyle = _s === void 0 ? {} : _s, _t = props.masterStickInnerClassName, masterStickInnerClassName = _t === void 0 ? '' : _t, _u = props.masterStickInnerStyle, masterStickInnerStyle = _u === void 0 ? {} : _u, _v = props.master, master = _v === void 0 ? [] : _v, onStickChange = props.onStickChange;\r\n    var el = react_1.useRef(null);\r\n    var stickup = react_1.useRef(null);\r\n    var scrolls = react_1.useRef([]);\r\n    /**\r\n     * initScroll\r\n     */\r\n    function initScroll() {\r\n        var wrapEls = el.current.querySelectorAll(\".\" + selectorPrefix + \"-autoWrap\");\r\n        for (var i = 0; i < scrolls.current.length; i++) {\r\n            scrolls.current[i].destroy();\r\n        }\r\n        scrolls.current = [];\r\n        var _loop_1 = function (i) {\r\n            var scroll_1 = new iscroll_probe_1.default(wrapEls[i], {\r\n                probeType: 3,\r\n                eventPassthrough: true,\r\n                scrollX: true,\r\n                scrollY: false,\r\n                preventDefault: false,\r\n            });\r\n            scrolls.current.push(scroll_1);\r\n            scroll_1.on('scroll', function () {\r\n                for (var j = 0; j < scrolls.current.length; j++) {\r\n                    if (scrolls.current[j] !== scroll_1) {\r\n                        scrolls.current[j].scrollTo(scroll_1.x, scroll_1.y);\r\n                    }\r\n                }\r\n            });\r\n        };\r\n        for (var i = 0; i < wrapEls.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n    }\r\n    /**\r\n     * getFixedColumnConfig\r\n     * @param columns\r\n     */\r\n    function getFixedColumnConfig(columns) {\r\n        var config = columns.find(function (t) { return t.isFixed; });\r\n        if (config)\r\n            return config;\r\n        return columns.length ? columns[0] : null;\r\n    }\r\n    /**\r\n     * renderCell\r\n     * @param config\r\n     * @param dataSource\r\n     * @param groupIndex\r\n     * @param rowIndex\r\n     * @param columnIndex\r\n     */\r\n    function renderCell(config, dataSource, groupIndex, rowIndex, columnIndex) {\r\n        if (!config)\r\n            return null;\r\n        if (config.render) {\r\n            return config.render(dataSource[config.dataIndex], dataSource, groupIndex, rowIndex, columnIndex);\r\n        }\r\n        return dataSource[config.dataIndex];\r\n    }\r\n    /**\r\n     * renderIndicator\r\n     */\r\n    function renderIndicator() {\r\n        var fixedColumnConfig = getFixedColumnConfig(columns);\r\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-indicator\", indicatorClassName || ''), style: __assign({}, indicatorStyle) },\r\n            react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-fixedWrap\", indicatorFixedWrapClassName || ''), style: __assign(__assign({}, (indicatorFixedWrapStyle || {})), { width: (fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.width) || defaultCellWidth }) },\r\n                react_1.default.createElement(\"div\", { className: selectorPrefix + \"-item\" },\r\n                    react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-cell\", (fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.className) || ''), style: __assign({}, ((fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.style) || {})) }, renderCell(fixedColumnConfig, dataSource, -1, -1, -1)))),\r\n            react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-autoWrap\", indicatorAutoWrapClassName || ''), style: __assign({}, (indicatorAutoWrapStyle || {})) },\r\n                react_1.default.createElement(\"div\", { className: selectorPrefix + \"-item\" }, columns\r\n                    .filter(function (column) { return column !== fixedColumnConfig; })\r\n                    .map(function (column, columnIndex) { return (react_1.default.createElement(\"div\", { key: column.dataIndex, className: classnames_1.default(selectorPrefix + \"-cell\", column.className || ''), style: __assign(__assign({}, (column.style || {})), { width: (column === null || column === void 0 ? void 0 : column.width) || defaultCellWidth }) }, renderCell(column, dataSource, -1, -1, columnIndex))); })))));\r\n    }\r\n    /**\r\n     * renderMasterGroupContent\r\n     * @param dataSource\r\n     * @param columns\r\n     * @param fixedWrapClassName\r\n     * @param fixedWrapStyle\r\n     * @param autoWrapClassName\r\n     * @param autoWrapStyle\r\n     * @param autoInnerClassName\r\n     * @param autoInnerStyle\r\n     * @param groupIndex\r\n     */\r\n    function renderMasterGroupContent(_a, groupIndex) {\r\n        var _b = _a.dataSource, dataSource = _b === void 0 ? [] : _b, _c = _a.columns, columns = _c === void 0 ? [] : _c, _d = _a.fixedWrapClassName, fixedWrapClassName = _d === void 0 ? '' : _d, _e = _a.fixedWrapStyle, fixedWrapStyle = _e === void 0 ? {} : _e, _f = _a.autoWrapClassName, autoWrapClassName = _f === void 0 ? '' : _f, _g = _a.autoWrapStyle, autoWrapStyle = _g === void 0 ? {} : _g, _h = _a.autoInnerClassName, autoInnerClassName = _h === void 0 ? '' : _h, _j = _a.autoInnerStyle, autoInnerStyle = _j === void 0 ? {} : _j;\r\n        var fixedColumnConfig = getFixedColumnConfig(columns);\r\n        return (react_1.default.createElement(react_1.default.Fragment, null,\r\n            react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-fixedWrap\", fixedWrapClassName || ''), style: __assign(__assign({}, (fixedWrapStyle || {})), { width: (fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.width) || defaultCellWidth }) }, dataSource.map(function (record, rowIndex) { return (react_1.default.createElement(\"div\", { key: rowIndex, className: selectorPrefix + \"-item\" },\r\n                react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-cell\", (fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.className) || ''), style: __assign({}, ((fixedColumnConfig === null || fixedColumnConfig === void 0 ? void 0 : fixedColumnConfig.style) || {})) }, renderCell(fixedColumnConfig, record, groupIndex, rowIndex, -1)))); })),\r\n            react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-autoWrap\", autoWrapClassName || ''), style: __assign({}, (autoWrapStyle || {})) },\r\n                react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-autoInner\", autoInnerClassName || ''), style: __assign({}, autoInnerStyle) }, dataSource.map(function (record, rowIndex) { return (react_1.default.createElement(\"div\", { key: rowIndex, className: selectorPrefix + \"-item\" }, columns\r\n                    .filter(function (column) { return column !== fixedColumnConfig; })\r\n                    .map(function (column, columnIndex) { return (react_1.default.createElement(\"div\", { key: column.dataIndex, className: classnames_1.default(selectorPrefix + \"-cell\", column.className || ''), style: __assign(__assign({}, (column.style || {})), { width: (column === null || column === void 0 ? void 0 : column.width) || defaultCellWidth }) }, renderCell(column, record, groupIndex, rowIndex, columnIndex))); }))); })))));\r\n    }\r\n    /**\r\n     * renderMasterGroup\r\n     * @param config\r\n     * @param groupIndex\r\n     */\r\n    function renderMasterGroup(config, groupIndex) {\r\n        var _a = config.title, title = _a === void 0 ? undefined : _a, _b = config.className, className = _b === void 0 ? '' : _b, _c = config.style, style = _c === void 0 ? {} : _c;\r\n        return (react_1.default.createElement(StickupLayoutItem, { key: groupIndex, className: classnames_1.default(className || ''), style: __assign({}, (style || {})), title: title, content: renderMasterGroupContent(config, groupIndex) }));\r\n    }\r\n    /**\r\n     * renderMaster\r\n     */\r\n    function renderMaster() {\r\n        var stickupLayoutProps = {\r\n            ref: stickup,\r\n            className: classnames_1.default(selectorPrefix + \"-master-inner\", masterInnerClassName || ''),\r\n            style: masterInnerStyle || {},\r\n            fixedClassName: classnames_1.default(masterStickFixedClassName || ''),\r\n            fixedStyle: masterStickFixedStyle || {},\r\n            innerClassName: classnames_1.default(masterStickInnerClassName || ''),\r\n            innerStyle: masterStickInnerStyle || {},\r\n            onChange: onStickChange,\r\n        };\r\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix + \"-master\", masterClassName || ''), style: __assign({}, (masterStyle || {})) },\r\n            react_1.default.createElement(adhere_ui_stickuplayout_1.default, __assign({}, stickupLayoutProps), master.map(function (config, index) { return renderMasterGroup(config, index); }))));\r\n    }\r\n    /**\r\n     * useImperativeHandle\r\n     */\r\n    react_1.useImperativeHandle(ref, function () { return ({\r\n        /**\r\n         * scrollToByIndex\r\n         * @param index\r\n         * @param duration\r\n         */\r\n        scrollToByIndex: function (index, duration) {\r\n            if (duration === void 0) { duration = 300; }\r\n            stickup.current.scrollToByIndex(index, duration);\r\n        },\r\n        /**\r\n         * scrollToByHeaderEl\r\n         * @param headerEl\r\n         * @param duration\r\n         */\r\n        scrollToByHeaderEl: function (headerEl, duration) {\r\n            if (duration === void 0) { duration = 300; }\r\n            stickup.current.scrollToByHeaderEl(headerEl, duration);\r\n        },\r\n        /**\r\n         * scrollToByColumn\r\n         * @param columnIndex\r\n         */\r\n        scrollToByColumn: function (columnIndex) {\r\n            var scroll = scrolls.current[0];\r\n            var el = scroll.wrapper.querySelector(\".\" + selectorPrefix + \"-item .\" + selectorPrefix + \"-cell:nth-of-type(\" + columnIndex + \")\");\r\n            scroll.scrollToElement(el);\r\n        },\r\n    }); });\r\n    /**\r\n     * useLayoutEffect\r\n     */\r\n    react_1.useLayoutEffect(function () {\r\n        stickup.current.refresh();\r\n        initScroll();\r\n    });\r\n    return (react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix, className || ''), style: __assign({}, (style || {})), ref: el },\r\n        renderIndicator(),\r\n        renderMaster()));\r\n};\r\nexports.default = react_1.memo(react_1.forwardRef(CascadeCompared));\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","default","classnames_1","exports","require","iscroll_probe_1","react_1","adhere_ui_stickuplayout_1","selectorPrefix","defaultCellWidth","Item","StickupLayoutItem","initTouch","document","addEventListener","e","preventDefault","isPassive","supportsPassiveOption","capture","passive","CascadeCompared","props","ref","fixedColumnConfig","_a","className","_b","style","_c","indicatorClassName","_d","indicatorStyle","_e","indicatorFixedWrapClassName","_f","indicatorFixedWrapStyle","_g","indicatorAutoWrapClassName","_h","indicatorAutoWrapStyle","_j","indicator","_k","columns","_l","dataSource","_m","masterClassName","_o","masterStyle","_p","masterInnerClassName","_q","masterInnerStyle","_r","masterStickFixedClassName","_s","masterStickFixedStyle","_t","masterStickInnerClassName","_u","masterStickInnerStyle","_v","master","onStickChange","el","useRef","stickup","scrolls","initScroll","wrapEls","current","querySelectorAll","destroy","_loop_1","scroll_1","probeType","eventPassthrough","scrollX","scrollY","push","on","j","scrollTo","x","y","getFixedColumnConfig","config","find","isFixed","renderCell","groupIndex","rowIndex","columnIndex","render","dataIndex","renderMasterGroup","autoWrapStyle","autoInnerClassName","title","createElement","key","content","fixedWrapClassName","fixedWrapStyle","autoWrapClassName","autoInnerStyle","Fragment","width","map","record","filter","column","useImperativeHandle","scrollToByIndex","index","duration","scrollToByHeaderEl","headerEl","scrollToByColumn","scroll","wrapper","querySelector","scrollToElement","useLayoutEffect","refresh","stickupLayoutProps","fixedClassName","fixedStyle","innerClassName","innerStyle","onChange","memo","forwardRef"],"mappings":"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"}