{"version":3,"file":"SearchHistory.js","sources":["SearchKeyWord/SearchHistory.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_mobile_1 = require(\"antd-mobile\");\nvar antd_mobile_icons_1 = require(\"antd-mobile-icons\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\nvar selectorPrefix = 'adhere-mobile-ui-prsl-search-history';\n/**\n * SearchHistory\n * @param className\n * @param style\n * @param searchKeyWordBarProps\n * @param defaultSearchKeyWord\n * @param onSearch\n * @param onSearchClear\n * @param historyData\n * @param addHistory\n * @param removeHistory\n * @param clearHistory\n * @param closeSelf\n * @param title\n * @constructor\n */\nvar SearchHistory = function SearchHistory(_a) {\n  var className = _a.className,\n    style = _a.style,\n    searchKeyWordBarProps = _a.searchKeyWordBarProps,\n    defaultSearchKeyWord = _a.defaultSearchKeyWord,\n    onSearch = _a.onSearch,\n    onSearchClear = _a.onSearchClear,\n    historyData = _a.historyData,\n    addHistory = _a.addHistory,\n    removeHistory = _a.removeHistory,\n    clearHistory = _a.clearHistory,\n    closeSelf = _a.closeSelf,\n    title = _a.title;\n  function search(value) {\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(value);\n  }\n  function clear() {\n    onSearchClear === null || onSearchClear === void 0 ? void 0 : onSearchClear();\n  }\n  var isEmpty = (0, react_1.useCallback)(function () {\n    return !(historyData === null || historyData === void 0 ? void 0 : historyData.length);\n  }, [historyData]);\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat((0, classnames_1.default)(selectorPrefix, className !== null && className !== void 0 ? className : '')),\n    style: style !== null && style !== void 0 ? style : {}\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-search-bar\")\n  }, react_1.default.createElement(antd_mobile_1.SearchBar, __assign({\n    defaultValue: defaultSearchKeyWord !== null && defaultSearchKeyWord !== void 0 ? defaultSearchKeyWord : '',\n    onSearch: function onSearch(val) {\n      addHistory === null || addHistory === void 0 ? void 0 : addHistory(val);\n      search(val);\n      closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n    },\n    onClear: function onClear() {\n      clear();\n      closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n    }\n  }, searchKeyWordBarProps !== null && searchKeyWordBarProps !== void 0 ? searchKeyWordBarProps : {}))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-main\")\n  }, isEmpty() && react_1.default.createElement(antd_mobile_1.ErrorBlock, {\n    status: \"empty\"\n  }), !isEmpty() && react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title\")\n  }, react_1.default.createElement(\"span\", null, title !== null && title !== void 0 ? title : adhere_util_intl_1.default.v('搜索历史')), react_1.default.createElement(\"span\", {\n    onClick: function onClick() {\n      clearHistory === null || clearHistory === void 0 ? void 0 : clearHistory();\n    }\n  }, react_1.default.createElement(antd_mobile_icons_1.DeleteOutline, null))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-content\")\n  }, react_1.default.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-content-inner\")\n  }, (historyData !== null && historyData !== void 0 ? historyData : []).map(function (_a) {\n    var id = _a.id,\n      kw = _a.kw;\n    return react_1.default.createElement(\"li\", {\n      key: id,\n      className: \"\".concat(selectorPrefix, \"-item\"),\n      onClick: function onClick() {\n        onSearch === null || onSearch === void 0 ? void 0 : onSearch(kw);\n        closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n      }\n    }, react_1.default.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-item-label\")\n    }, kw), react_1.default.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-item-close\"),\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        removeHistory === null || removeHistory === void 0 ? void 0 : removeHistory(id);\n      }\n    }, react_1.default.createElement(antd_mobile_icons_1.CloseOutline, null)));\n  }))))));\n};\nexports.default = SearchHistory;"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__importDefault","default","antd_mobile_1","exports","require","antd_mobile_icons_1","classnames_1","react_1","adhere_util_intl_1","selectorPrefix","SearchHistory","_a","className","style","searchKeyWordBarProps","defaultSearchKeyWord","onSearch","onSearchClear","historyData","addHistory","removeHistory","clearHistory","closeSelf","title","isEmpty","useCallback","createElement","concat","SearchBar","defaultValue","val","onClear","ErrorBlock","status","Fragment","onClick","DeleteOutline","map","id","kw","key","e","stopPropagation","CloseOutline"],"mappings":"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"}