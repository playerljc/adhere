"use strict";var __spreadArray=function(e,r,a){if(a||2===arguments.length)for(var t,n=0,o=r.length;n<o;n++)!t&&n in r||((t=t||Array.prototype.slice.call(r,0,n))[n]=r[n]);return e.concat(t||Array.prototype.slice.call(r))},ahooks_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("ahooks")),array_move_1=require("array-move"),react_1=require("react");function UseDND(e){var r=e.mode,t=e.dataSource,a=e.reset,n=e.rowKey,e=(0,react_1.useState)(__spreadArray([],null!=t?t:[],!0)),o=e[0],u=e[1],e=(0,react_1.useMemo)(function(){return"dnd"===r},[r]);return(0,ahooks_1.useUpdateEffect)(function(){u(__spreadArray([],null!=t?t:[],!0))},[t]),{optionDataSource:{data:o,total:o.length},isUseDNDMode:e,finish:function(){return o.reduce(function(e,r,a){a=t[a][n],r=r[n];return a!==r&&e.push({preValue:a,currentValue:r}),e},[])},cancel:function(){u(__spreadArray([],null!=t?t:[],!0)),a()},move:function(e){var r=e.oldIndex,a=e.newIndex;u(function(e){return(0,array_move_1.arrayMoveImmutable)(e,r,a)})}}}exports.default=UseDND;
//# sourceMappingURL=useDND.js.map
