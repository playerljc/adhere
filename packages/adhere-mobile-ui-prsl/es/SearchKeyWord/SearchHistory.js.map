{"version":3,"file":"SearchHistory.js","sources":["SearchKeyWord/SearchHistory.js"],"sourcesContent":["import _CloseOutline from \"antd-mobile-icons/es/CloseOutline\";\nimport _DeleteOutline from \"antd-mobile-icons/es/DeleteOutline\";\nimport _ErrorBlock from \"antd-mobile/es/components/error-block\";\nimport _SearchBar from \"antd-mobile/es/components/search-bar\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport classNames from 'classnames';\nimport React, { useCallback } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nvar selectorPrefix = 'adhere-mobile-ui-prsl-search-history';\n/**\n * SearchHistory\n * @param className\n * @param style\n * @param searchKeyWordBarProps\n * @param defaultSearchKeyWord\n * @param onSearch\n * @param onSearchClear\n * @param historyData\n * @param addHistory\n * @param removeHistory\n * @param clearHistory\n * @param closeSelf\n * @param title\n * @constructor\n */\nvar SearchHistory = function SearchHistory(_a) {\n  var className = _a.className,\n    style = _a.style,\n    searchKeyWordBarProps = _a.searchKeyWordBarProps,\n    defaultSearchKeyWord = _a.defaultSearchKeyWord,\n    onSearch = _a.onSearch,\n    onSearchClear = _a.onSearchClear,\n    historyData = _a.historyData,\n    addHistory = _a.addHistory,\n    removeHistory = _a.removeHistory,\n    clearHistory = _a.clearHistory,\n    closeSelf = _a.closeSelf,\n    title = _a.title;\n  function search(value) {\n    onSearch === null || onSearch === void 0 ? void 0 : onSearch(value);\n  }\n  function clear() {\n    onSearchClear === null || onSearchClear === void 0 ? void 0 : onSearchClear();\n  }\n  var isEmpty = useCallback(function () {\n    return !(historyData === null || historyData === void 0 ? void 0 : historyData.length);\n  }, [historyData]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(classNames(selectorPrefix, className !== null && className !== void 0 ? className : '')),\n    style: style !== null && style !== void 0 ? style : {}\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-search-bar\")\n  }, /*#__PURE__*/React.createElement(_SearchBar, __assign({\n    defaultValue: defaultSearchKeyWord !== null && defaultSearchKeyWord !== void 0 ? defaultSearchKeyWord : '',\n    onSearch: function onSearch(val) {\n      addHistory === null || addHistory === void 0 ? void 0 : addHistory(val);\n      search(val);\n      closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n    },\n    onClear: function onClear() {\n      clear();\n      closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n    }\n  }, searchKeyWordBarProps !== null && searchKeyWordBarProps !== void 0 ? searchKeyWordBarProps : {}))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-main\")\n  }, isEmpty() && /*#__PURE__*/React.createElement(_ErrorBlock, {\n    status: \"empty\"\n  }), !isEmpty() && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-title\")\n  }, /*#__PURE__*/React.createElement(\"span\", null, title !== null && title !== void 0 ? title : Intl.v('搜索历史')), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: function onClick() {\n      clearHistory === null || clearHistory === void 0 ? void 0 : clearHistory();\n    }\n  }, /*#__PURE__*/React.createElement(_DeleteOutline, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-content\")\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(selectorPrefix, \"-content-inner\")\n  }, (historyData !== null && historyData !== void 0 ? historyData : []).map(function (_a) {\n    var id = _a.id,\n      kw = _a.kw;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: id,\n      className: \"\".concat(selectorPrefix, \"-item\"),\n      onClick: function onClick() {\n        onSearch === null || onSearch === void 0 ? void 0 : onSearch(kw);\n        closeSelf === null || closeSelf === void 0 ? void 0 : closeSelf();\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-item-label\")\n    }, kw), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-item-close\"),\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        removeHistory === null || removeHistory === void 0 ? void 0 : removeHistory(id);\n      }\n    }, /*#__PURE__*/React.createElement(_CloseOutline, null)));\n  }))))));\n};\nexport default SearchHistory;"],"names":["_CloseOutline","_DeleteOutline","_ErrorBlock","_SearchBar","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","classNames","React","useCallback","Intl","selectorPrefix","SearchHistory","_a","className","style","searchKeyWordBarProps","defaultSearchKeyWord","onSearch","onSearchClear","historyData","addHistory","removeHistory","clearHistory","closeSelf","title","isEmpty","createElement","concat","defaultValue","val","value","onClear","status","Fragment","v","onClick","map","id","kw","key","e","stopPropagation"],"mappings":"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"}