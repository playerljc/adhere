import _HolderOutlined from"@ant-design/icons/es/icons/HolderOutlined";import _Popover from"antd-mobile/es/components/popover";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};import classNames from"classnames";import React,{memo,useMemo}from"react";import{isElement}from"react-is";import Intl from"@baifendian/adhere-util-intl";import FilterItem from"./Items/FilterItem";import NormalItem from"./Items/NormalItem";import SortItem from"./Items/SortItem";import ViewSettingItem from"./Items/ViewSettingItem";var selectorPrefix="adhere-mobile-ui-prsl-toolbar",ToolBar=memo(function(e){var t=e.className,r=e.style,o=e.showTotal,l=void 0===o||o,o=e.renderToolBar,n=e.afterToolBarRender,i=e.beforeToolBarRender,a=e.beforeToolBarRenderClassName,s=e.beforeToolBarRenderStyle,c=e.afterToolBarRenderClassName,m=e.afterToolBarRenderStyle,u=e.isShowFilterTrigger,f=void 0===u||u,d=e.renderFilterTrigger,u=e.isShowSortTrigger,g=void 0===u||u,p=e.renderSortTrigger,u=e.isShowViewSettingTrigger,v=void 0===u||u,R=e.renderViewSettingTrigger,T=e.toolbarCollapseCount,N=e.toolbarConfig,S=e.filterTriggerMode,P=e.filterTriggerProps,E=e.renderFilter,I=e.filterFormProps,h=e.filterConfig,M=e.defaultFilterValues,F=e.onFilter,b=e.onFilterReset,H=e.sortTriggerMode,j=e.sortTriggerProps,k=e.renderSort,q=e.sortConfig,z=e.defaultSortValues,A=e.onSort,D=e.onSortReset,u=e.total,w=void 0===u?0:u,x=useMemo(function(){return l&&0<w?React.createElement("div",{className:"".concat(selectorPrefix,"-show-total")},Intl.v("共{total}个结果",{total:w})):null},[l,w]),e=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-show-total"))},x)},[x]),_=useMemo(function(){return f?React.createElement(FilterItem,{filterTriggerMode:S,filterTriggerProps:P,renderFilter:E,filterFormProps:I,filterConfig:h,defaultFilterValues:M,onFilter:F,onFilterReset:b},function(e){return null==d?void 0:d(e)}):null},[f,d,S,P,E,I,h,M,F,b]),B=useMemo(function(){return g?React.createElement(SortItem,{sortTriggerMode:H,sortTriggerProps:j,renderSort:k,sortConfig:q,defaultSortValues:z,onSort:A,onSortReset:D},function(e){return null==p?void 0:p(e)}):null},[g,p,H,j,k,q,z,A,D]),y=useMemo(function(){return v?React.createElement(ViewSettingItem,null,function(e){return null==R?void 0:R(e)}):null},[v,R]),C=useMemo(function(){var e;return(null!=(e=null==N?void 0:N([_,B,y].filter(function(e){return!!e})))?e:[_,B,y]).map(function(e){return isElement(e)?e:React.createElement(NormalItem,__assign({},e))}).filter(function(e){return!!e})},[N,_,B,y]),u=useMemo(function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-tool-items")},C.slice(0,T).map(function(e){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-tool-item"))},e)}))},[C,T]),G=useMemo(function(){var e=C.slice(T);return e.length?React.createElement(_Popover,{placement:"bottom-start",trigger:"click",content:React.createElement("ul",{className:"".concat(selectorPrefix,"-tool-menu-items")},e.map(function(e){return React.createElement("li",{className:"".concat(selectorPrefix,"-tool-menu-item")},e)}))},React.createElement("div",{className:"".concat(selectorPrefix,"-tool-menu-trigger")},React.createElement(_HolderOutlined,null))):null},[C,T]),V=useMemo(function(){return null==i?void 0:i()},[i]),J=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-before"),null!=a?a:""),style:null!=s?s:{}},V)},[V,a,s]),O=useMemo(function(){return null==n?void 0:n()},[n]),K=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-after"),null!=c?c:""),style:null!=m?m:{}},O)},[c,m,O]);return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-wrapper"),null!=t?t:""),style:null!=r?r:{}},V&&J,React.createElement("div",{className:"".concat(selectorPrefix,"-inner")},null!=(t=null==o?void 0:o(C,x))?t:(r=[],l&&r.push(e),r.push(u),r.push(G),r.filter(function(e){return!!e}))),O&&K)});ToolBar.displayName="ToolBar";export default ToolBar;
//# sourceMappingURL=index.js.map
