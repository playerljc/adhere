import _HolderOutlined from"@ant-design/icons/es/icons/HolderOutlined";import _Popover from"antd-mobile/es/components/popover";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};import classNames from"classnames";import React,{memo,useMemo}from"react";import{isElement}from"react-is";import Intl from"@baifendian/adhere-util-intl";import FilterItem from"./Items/FilterItem";import NormalItem from"./Items/NormalItem";import SortItem from"./Items/SortItem";import ViewSettingItem from"./Items/ViewSettingItem";var selectorPrefix="adhere-mobile-ui-prsl-toolbar",ToolBar=memo(function(e){var t=e.className,r=e.style,o=e.showTotal,n=void 0===o||o,o=e.renderToolBar,i=e.afterToolBarRender,l=e.beforeToolBarRender,a=e.beforeToolBarRenderClassName,s=e.beforeToolBarRenderStyle,c=e.afterToolBarRenderClassName,m=e.afterToolBarRenderStyle,u=e.isShowFilterTrigger,f=void 0===u||u,g=e.renderFilterTrigger,u=e.isShowSortTrigger,d=void 0===u||u,p=e.renderSortTrigger,u=e.isShowViewSettingTrigger,v=void 0===u||u,S=e.renderViewSettingTrigger,R=e.viewSettingTriggerMode,T=e.viewSettingTriggerProps,w=e.renderViewSetting,N=e.viewSettingConfig,P=e.defaultViewSettingValue,E=e.onViewSetting,M=e.onViewSettingReset,V=e.toolbarCollapseCount,b=e.toolbarConfig,H=e.filterTriggerMode,j=e.filterTriggerProps,k=e.renderFilter,q=e.filterFormProps,z=e.filterConfig,A=e.defaultFilterValues,D=e.onFilter,G=e.onFilterReset,J=e.sortTriggerMode,K=e.sortTriggerProps,L=e.renderSort,Q=e.sortConfig,U=e.defaultSortValues,W=e.onSort,X=e.onSortReset,u=e.total,I=void 0===u?0:u,h=e.disabled,F=useMemo(function(){return n&&0<I?React.createElement("div",{className:"".concat(selectorPrefix,"-show-total")},Intl.v("共{total}个结果",{total:I})):null},[n,I]),u=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-show-total"))},F)},[F]),x=useMemo(function(){return f?React.createElement(FilterItem,{disabled:h,filterTriggerMode:H,filterTriggerProps:j,renderFilter:k,filterFormProps:q,filterConfig:z,defaultFilterValues:A,onFilter:D,onFilterReset:G},function(e){return null==g?void 0:g(e)}):null},[h,f,g,H,j,k,q,z,A,D,G]),_=useMemo(function(){return d?React.createElement(SortItem,{disabled:h,sortTriggerMode:J,sortTriggerProps:K,renderSort:L,sortConfig:Q,defaultSortValues:U,onSort:W,onSortReset:X},function(e){return null==p?void 0:p(e)}):null},[h,d,p,J,K,L,Q,U,W,X]),B=useMemo(function(){return v?React.createElement(ViewSettingItem,{disabled:h,viewSettingTriggerMode:R,viewSettingTriggerProps:T,renderViewSetting:w,viewSettingConfig:N,defaultViewSettingValue:P,onViewSetting:E,onViewSettingReset:M},function(e){return null==S?void 0:S(e)}):null},[h,v,S,R,T,w,N,P,E,M]),C=useMemo(function(){var e;return(null!=(e=null==b?void 0:b([x,_,B].filter(function(e){return!!e})))?e:[x,_,B]).map(function(e){return isElement(e)?e:React.createElement(NormalItem,__assign({disabled:h},e))}).filter(function(e){return!!e})},[b,x,_,B,h]),e=useMemo(function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-tool-items")},C.slice(0,V).map(function(e){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-tool-item"))},e)}))},[C,V]),Y=useMemo(function(){var e=C.slice(V);return e.length?React.createElement(_Popover,{placement:"bottom-start",trigger:"click",content:React.createElement("ul",{className:"".concat(selectorPrefix,"-tool-menu-items")},e.map(function(e){return React.createElement("li",{className:"".concat(selectorPrefix,"-tool-menu-item")},e)}))},React.createElement("div",{className:"".concat(selectorPrefix,"-tool-menu-trigger")},React.createElement(_HolderOutlined,null))):null},[C,V]),y=useMemo(function(){return null==l?void 0:l()},[l]),Z=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-before"),null!=a?a:""),style:null!=s?s:{}},y)},[y,a,s]),O=useMemo(function(){return null==i?void 0:i()},[i]),$=useMemo(function(){return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-after"),null!=c?c:""),style:null!=m?m:{}},O)},[c,m,O]);return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-wrapper"),null!=t?t:""),style:null!=r?r:{}},y&&Z,React.createElement("div",{className:"".concat(selectorPrefix,"-inner")},null!=(t=null==o?void 0:o(C,F,h))?t:(r=[],n&&r.push(u),r.push(e),r.push(Y),r.filter(function(e){return!!e}))),O&&$)});ToolBar.displayName="ToolBar";export default ToolBar;
//# sourceMappingURL=index.js.map
