{"version":3,"file":"PRSL.js","sources":["PRSL.js"],"sourcesContent":["import _Radio from \"antd-mobile/es/components/radio\";\nimport _PullToRefresh from \"antd-mobile/es/components/pull-to-refresh\";\nimport _Button from \"antd-mobile/es/components/button\";\nimport _ErrorBlock from \"antd-mobile/es/components/error-block\";\nimport _DotLoading from \"antd-mobile/es/components/dot-loading\";\nimport _Skeleton from \"antd-mobile/es/components/skeleton\";\nimport _typeof from \"@babel/runtime/helpers/typeof\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useMount, useNetwork, useUpdate, useUpdateEffect } from 'ahooks';\nimport classNames from 'classnames';\nimport isPrimaryEmpty from 'lodash.isempty';\nimport React, { forwardRef, memo, useCallback, useMemo, useRef, useState } from 'react';\nimport { useImmer } from 'use-immer';\nimport BackTopAnimation from '@baifendian/adhere-ui-backtopanimation';\nimport ScrollLoad from '@baifendian/adhere-ui-scrollload';\nimport Intl from '@baifendian/adhere-util-intl';\nimport Context from './Context';\nimport PRSLItem from './PRSLItem';\nimport SearchKeyWord from './SearchKeyWord';\nimport { SelectionCheckAllManage, SelectionManageButton, useSelection } from './Selection';\nimport ToolBar from './Toolbar';\nvar selectorPrefix = 'adhere-mobile-ui-prsl';\nvar DEFAULT_PAGING_SIZE = 30;\nvar DEFAULT_PAGING_PAGE = 1;\nvar DEFAULT_DISTANCE = 50;\nvar DEFAULT_TOOLBAR_COLLAPSE_COUNT = 3;\nvar DEFAULT_SEARCH_KEY_WORD_HISTORY_STORE_TYPE = 'session';\nvar DEFAULT_ROW_KEY = 'id';\n/**\n * InternalPRSL\n * @description\n * SearchKeyWord\n * Toolbar\n * beforeInnerElement\n * pullToRefreshElement: {\n *   {scrollLoadBeforeInnerElement}\n *   {scrollLoadElement}\n *   {scrollLoadAfterInnerElement}\n *   {showBackTopAnimation && backTopAnimationElement}\n * }\n * afterInnerElement\n */\nvar InternalPRSL = /*#__PURE__*/memo( /*#__PURE__*/forwardRef(function (_a) {\n  var _b, _c, _d;\n  var _e = _a.className,\n    className = _e === void 0 ? '' : _e,\n    style = _a.style,\n    _f = _a.innerClassName,\n    innerClassName = _f === void 0 ? '' : _f,\n    innerStyle = _a.innerStyle,\n    _g = _a.isLoading,\n    isLoading = _g === void 0 ? true : _g,\n    _h = _a.isUseFirstLoading,\n    isUseFirstLoading = _h === void 0 ? true : _h,\n    firstLoading = _a.firstLoading,\n    pullToRefreshProps = _a.pullToRefreshProps,\n    onRefreshBefore = _a.onRefreshBefore,\n    paging = _a.paging,\n    onRefresh = _a.onRefresh,\n    rowKey = _a.rowKey,\n    _j = _a.showKeyWordSearchBar,\n    showKeyWordSearchBar = _j === void 0 ? true : _j,\n    searchKeyWordBarProps = _a.searchKeyWordBarProps,\n    _k = _a.searchKeyWordWrapperClassName,\n    searchKeyWordWrapperClassName = _k === void 0 ? '' : _k,\n    searchKeyWordWrapperStyle = _a.searchKeyWordWrapperStyle,\n    searchKeyWordMode = _a.searchKeyWordMode,\n    searchKeyWordHistoryMaxSize = _a.searchKeyWordHistoryMaxSize,\n    isSearchKeyWordHistoryIntoStore = _a.isSearchKeyWordHistoryIntoStore,\n    searchKeyWordHistoryStoreType = _a.searchKeyWordHistoryStoreType,\n    defaultSearchKeyWord = _a.defaultSearchKeyWord,\n    _l = _a.showToolBar,\n    showToolBar = _l === void 0 ? true : _l,\n    showTotal = _a.showTotal,\n    renderToolBar = _a.renderToolBar,\n    afterToolBarRender = _a.afterToolBarRender,\n    beforeToolBarRender = _a.beforeToolBarRender,\n    _m = _a.beforeToolBarRenderClassName,\n    beforeToolBarRenderClassName = _m === void 0 ? '' : _m,\n    beforeToolBarRenderStyle = _a.beforeToolBarRenderStyle,\n    _o = _a.afterToolBarRenderClassName,\n    afterToolBarRenderClassName = _o === void 0 ? '' : _o,\n    afterToolBarRenderStyle = _a.afterToolBarRenderStyle,\n    _p = _a.toolbarWrapperClassName,\n    toolbarWrapperClassName = _p === void 0 ? '' : _p,\n    toolbarWrapperStyle = _a.toolbarWrapperStyle,\n    _q = _a.toolbarCollapseCount,\n    toolbarCollapseCount = _q === void 0 ? DEFAULT_TOOLBAR_COLLAPSE_COUNT : _q,\n    toolbarConfig = _a.toolbarConfig,\n    scrollLoadProps = _a.scrollLoadProps,\n    onLoadMore = _a.onLoadMore,\n    loadMoreLoading = _a.loadMoreLoading,\n    _r = _a.showBackTopAnimation,\n    showBackTopAnimation = _r === void 0 ? true : _r,\n    backTopAnimationProps = _a.backTopAnimationProps,\n    scrollLoadBeforeRender = _a.scrollLoadBeforeRender,\n    scrollLoadAfterRender = _a.scrollLoadAfterRender,\n    _s = _a.scrollLoadBeforeRenderClassName,\n    scrollLoadBeforeRenderClassName = _s === void 0 ? '' : _s,\n    scrollLoadBeforeRenderStyle = _a.scrollLoadBeforeRenderStyle,\n    _t = _a.scrollLoadAfterRenderClassName,\n    scrollLoadAfterRenderClassName = _t === void 0 ? '' : _t,\n    scrollLoadAfterRenderStyle = _a.scrollLoadAfterRenderStyle,\n    beforeRender = _a.beforeRender,\n    afterRender = _a.afterRender,\n    _u = _a.beforeRenderClassName,\n    beforeRenderClassName = _u === void 0 ? '' : _u,\n    beforeRenderStyle = _a.beforeRenderStyle,\n    _v = _a.afterRenderClassName,\n    afterRenderClassName = _v === void 0 ? '' : _v,\n    afterRenderStyle = _a.afterRenderStyle,\n    isShowFilterTrigger = _a.isShowFilterTrigger,\n    renderFilterTrigger = _a.renderFilterTrigger,\n    isShowSortTrigger = _a.isShowSortTrigger,\n    renderSortTrigger = _a.renderSortTrigger,\n    isShowViewSettingTrigger = _a.isShowViewSettingTrigger,\n    renderViewSettingTrigger = _a.renderViewSettingTrigger,\n    viewSettingTriggerMode = _a.viewSettingTriggerMode,\n    viewSettingTriggerProps = _a.viewSettingTriggerProps,\n    renderViewSetting = _a.renderViewSetting,\n    viewSettingConfig = _a.viewSettingConfig,\n    defaultViewSettingValue = _a.defaultViewSettingValue,\n    onViewSetting = _a.onViewSetting,\n    onViewSettingReset = _a.onViewSettingReset,\n    loadData = _a.loadData,\n    renderEmpty = _a.renderEmpty,\n    renderOffLine = _a.renderOffLine,\n    filterTriggerMode = _a.filterTriggerMode,\n    filterTriggerProps = _a.filterTriggerProps,\n    renderFilter = _a.renderFilter,\n    filterFormProps = _a.filterFormProps,\n    filterConfig = _a.filterConfig,\n    defaultFilterValues = _a.defaultFilterValues,\n    sortTriggerMode = _a.sortTriggerMode,\n    sortTriggerProps = _a.sortTriggerProps,\n    renderSort = _a.renderSort,\n    sortConfig = _a.sortConfig,\n    defaultSortValues = _a.defaultSortValues,\n    isUseLocal = _a.isUseLocal,\n    // 选择模式开始\n    selectedRowKeys = _a.selectedRowKeys,\n    selectionMultiple = _a.selectionMultiple,\n    onSelectChange = _a.onSelectChange,\n    // 选择模式结束\n    children = _a.children;\n  var networkState = useNetwork();\n  var forceUpdate = useUpdate();\n  var _w = useState({\n      data: [],\n      total: 0\n    }),\n    dataSource = _w[0],\n    setDataSource = _w[1];\n  var _x = useState('normal'),\n    mode = _x[0],\n    setMode = _x[1];\n  var targetRowKey = useMemo(function () {\n    return rowKey !== null && rowKey !== void 0 ? rowKey : DEFAULT_ROW_KEY;\n  }, [rowKey]);\n  var _y = useSelection({\n      selectedRowKeys: selectedRowKeys,\n      selectionMultiple: selectionMultiple,\n      mode: mode,\n      dataSource: dataSource.data,\n      rowKey: targetRowKey\n    }),\n    optionSelectedRowKeys = _y.optionSelectedRowKeys,\n    _isUseSelectionMode2 = _y.isUseSelectionMode,\n    isSelectionMultiple = _y.isSelectionMultiple,\n    finish = _y.finish,\n    cancel = _y.cancel,\n    selectionChange = _y.selectionChange,\n    selectionAllChange = _y.selectionAllChange;\n  var _z = useImmer({\n      searchKeyWord: defaultSearchKeyWord !== null && defaultSearchKeyWord !== void 0 ? defaultSearchKeyWord : '',\n      filterValues: defaultFilterValues !== null && defaultFilterValues !== void 0 ? defaultFilterValues : {},\n      sortValues: defaultSortValues !== null && defaultSortValues !== void 0 ? defaultSortValues : []\n    }),\n    combinationParams = _z[0],\n    setCombinationParams = _z[1];\n  // const [targetSelectedRowKeys, setTargetSelectedRowKeys] = useState(selectedRowKeys ?? []);\n  // const [optionSelectedRowKeys, setOptionSelectedRowKeys] = useState(selectedRowKeys ?? []);\n  var isFirstRef = useRef(true);\n  var isFirstLoadingRef = useRef(false);\n  var pagingRef = useRef({\n    page: typeof paging !== 'undefined' && _typeof(paging) === 'object' ? (_b = paging.page) !== null && _b !== void 0 ? _b : DEFAULT_PAGING_PAGE : DEFAULT_PAGING_PAGE,\n    pageSize: typeof paging !== 'undefined' && _typeof(paging) === 'object' ? (_c = paging.defaultPageSize) !== null && _c !== void 0 ? _c : DEFAULT_PAGING_SIZE : DEFAULT_PAGING_SIZE\n  });\n  var isUsePaging = useMemo(function () {\n    if (typeof paging === 'boolean') return paging;else return true;\n  }, [paging]);\n  var scrollLoadRef = useRef();\n  var scrollRef = useRef(undefined);\n  var callbackHandler = useRef(null);\n  var status = useRef(ScrollLoad.NORMAL);\n  /**\n   * renderFirstLoading\n   * @description 渲染First的Loading\n   */\n  var renderFirstLoading = useCallback(function () {\n    var _a;\n    return (_a = firstLoading === null || firstLoading === void 0 ? void 0 : firstLoading()) !== null && _a !== void 0 ? _a : defaultFirstLoading;\n  }, [firstLoading]);\n  /**\n   * renderLoadMoreLoading\n   * @description 渲染加载更多的Loading\n   */\n  var renderLoadMoreLoading = useCallback(function () {\n    var _a;\n    return (_a = loadMoreLoading === null || loadMoreLoading === void 0 ? void 0 : loadMoreLoading()) !== null && _a !== void 0 ? _a : defaultLoadMoreLoading;\n  }, [loadMoreLoading]);\n  // 是否使用本地模式\n  var isLocal = useMemo(function () {\n    return typeof isUseLocal !== 'boolean' ? true : isUseLocal;\n  }, [isUseLocal]);\n  // 排序和过滤后的数据\n  var sortAndFilterData = useMemo(function () {\n    var _a, _b;\n    var _c = combinationParams.searchKeyWord,\n      searchKeyWord = _c === void 0 ? '' : _c,\n      _d = combinationParams.filterValues,\n      filterValues = _d === void 0 ? {} : _d,\n      _e = combinationParams.sortValues,\n      sortValues = _e === void 0 ? [] : _e;\n    var targetData = (_a = dataSource.data) !== null && _a !== void 0 ? _a : [];\n    // sort\n    if ((sortValues !== null && sortValues !== void 0 ? sortValues : []).length) {\n      targetData = sortValues.reduce(function (_dataSource, sortValue) {\n        var order = sortValue.order,\n          name = sortValue.name;\n        _dataSource = _dataSource.sort(function (r1, r2) {\n          if (order === 'asc') {\n            if (r1[name] > r2[name]) return 1;else if (r1[name] < r2[name]) return -1;else return 0;\n          } else {\n            if (r1[name] < r2[name]) return 1;else if (r1[name] > r2[name]) return -1;else return 0;\n          }\n        });\n        return __spreadArray([], _dataSource, true);\n      }, (_b = dataSource.data) !== null && _b !== void 0 ? _b : []);\n    }\n    // filter\n    if (!(!searchKeyWord && isPrimaryEmpty(filterValues) && !sortValues.length)) {\n      targetData = targetData.filter(function (record) {\n        if (searchKeyWord) {\n          return Object.keys(record).some(function (_key) {\n            return record[_key].indexOf(searchKeyWord) !== -1;\n          });\n        } else if (!isPrimaryEmpty(filterValues)) {\n          return Object.keys(filterValues).filter(function (_key) {\n            return !!filterValues[_key];\n          }).every(function (_key) {\n            return record[_key].indexOf(filterValues[_key]) !== -1;\n          });\n        }\n        return true;\n      });\n    }\n    return targetData;\n  }, [combinationParams, dataSource]);\n  var targetDataSource = useMemo(function () {\n    if (!isLocal) return dataSource;\n    var currentData = sortAndFilterData;\n    if (isUsePaging) {\n      var startIndex = (pagingRef.current.page - 1) * pagingRef.current.pageSize;\n      currentData = sortAndFilterData.slice(startIndex, pagingRef.current.page * pagingRef.current.pageSize);\n      if (pagingRef.current.page !== 1) {\n        currentData = __spreadArray(__spreadArray([], sortAndFilterData.slice(0, startIndex), true), currentData, true);\n      }\n    }\n    return {\n      total: sortAndFilterData.length,\n      data: currentData\n    };\n  }, [dataSource, sortAndFilterData, isLocal, isUsePaging, pagingRef.current.page, pagingRef.current.pageSize]);\n  var isEmpty = useCallback(function () {\n    return !targetDataSource.data.length;\n  }, [targetDataSource.data]);\n  // 总页数\n  var pages = useMemo(function () {\n    var _a;\n    return ((_a = targetDataSource === null || targetDataSource === void 0 ? void 0 : targetDataSource.total) !== null && _a !== void 0 ? _a : 0) / pagingRef.current.pageSize;\n  }, [pagingRef.current.pageSize, targetDataSource.total]);\n  var defaultFirstLoading = useMemo(function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-first-loading\")\n    }, /*#__PURE__*/React.createElement(_Skeleton.Title, {\n      animated: true\n    }), /*#__PURE__*/React.createElement(_Skeleton.Paragraph, {\n      lineCount: 25,\n      animated: true\n    }));\n  }, []);\n  var defaultLoadMoreLoading = useMemo(function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-load-more-loading\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-load-more-loading-dot\")\n    }, /*#__PURE__*/React.createElement(_DotLoading, {\n      color: \"primary\"\n    })), /*#__PURE__*/React.createElement(\"div\", null, \"\".concat(Intl.v('数据加载中')), \"...\"));\n  }, []);\n  var offlineElement = useMemo(function () {\n    var _a;\n    return (_a = renderOffLine === null || renderOffLine === void 0 ? void 0 : renderOffLine()) !== null && _a !== void 0 ? _a : /*#__PURE__*/React.createElement(_ErrorBlock, {\n      status: \"disconnected\"\n    }, /*#__PURE__*/React.createElement(_Button, {\n      color: \"primary\",\n      onClick: function onClick() {\n        forceUpdate();\n      }\n    }, Intl.v('点击重试')));\n  }, [renderOffLine]);\n  var searchKeyWordElement = useMemo(function () {\n    var _a;\n    return /*#__PURE__*/React.createElement(SearchKeyWord, {\n      className: searchKeyWordWrapperClassName !== null && searchKeyWordWrapperClassName !== void 0 ? searchKeyWordWrapperClassName : '',\n      style: searchKeyWordWrapperStyle !== null && searchKeyWordWrapperStyle !== void 0 ? searchKeyWordWrapperStyle : {},\n      searchKeyWordBarProps: searchKeyWordBarProps,\n      searchKeyWordMode: searchKeyWordMode !== null && searchKeyWordMode !== void 0 ? searchKeyWordMode : 'normal',\n      searchKeyWordHistoryMaxSize: searchKeyWordHistoryMaxSize !== null && searchKeyWordHistoryMaxSize !== void 0 ? searchKeyWordHistoryMaxSize : DEFAULT_DISTANCE,\n      isSearchKeyWordHistoryIntoStore: isSearchKeyWordHistoryIntoStore !== null && isSearchKeyWordHistoryIntoStore !== void 0 ? isSearchKeyWordHistoryIntoStore : true,\n      searchKeyWordHistoryStoreType: searchKeyWordHistoryStoreType !== null && searchKeyWordHistoryStoreType !== void 0 ? searchKeyWordHistoryStoreType : DEFAULT_SEARCH_KEY_WORD_HISTORY_STORE_TYPE,\n      disabled: _isUseSelectionMode2,\n      defaultSearchKeyWord: (_a = combinationParams.searchKeyWord) !== null && _a !== void 0 ? _a : '',\n      onSearch: onSearch,\n      onSearchClear: onSearchClear\n    });\n  }, [searchKeyWordWrapperClassName, searchKeyWordWrapperStyle, searchKeyWordBarProps, searchKeyWordMode, searchKeyWordHistoryMaxSize, combinationParams.searchKeyWord, _isUseSelectionMode2]);\n  var toolBarElement = /*#__PURE__*/React.createElement(ToolBar, {\n    className: toolbarWrapperClassName,\n    style: toolbarWrapperStyle,\n    showTotal: showTotal,\n    renderToolBar: renderToolBar,\n    afterToolBarRender: afterToolBarRender,\n    beforeToolBarRender: beforeToolBarRender,\n    beforeToolBarRenderClassName: beforeToolBarRenderClassName,\n    beforeToolBarRenderStyle: beforeToolBarRenderStyle,\n    afterToolBarRenderClassName: afterToolBarRenderClassName,\n    afterToolBarRenderStyle: afterToolBarRenderStyle,\n    isShowFilterTrigger: isShowFilterTrigger,\n    renderFilterTrigger: renderFilterTrigger,\n    isShowSortTrigger: isShowSortTrigger,\n    renderSortTrigger: renderSortTrigger,\n    isShowViewSettingTrigger: isShowViewSettingTrigger,\n    renderViewSettingTrigger: renderViewSettingTrigger,\n    viewSettingTriggerMode: viewSettingTriggerMode,\n    viewSettingTriggerProps: viewSettingTriggerProps,\n    renderViewSetting: renderViewSetting,\n    viewSettingConfig: viewSettingConfig,\n    defaultViewSettingValue: defaultViewSettingValue,\n    onViewSetting: onViewSetting,\n    onViewSettingReset: onViewSettingReset,\n    toolbarCollapseCount: toolbarCollapseCount,\n    toolbarConfig: toolbarConfig,\n    total: (_d = targetDataSource === null || targetDataSource === void 0 ? void 0 : targetDataSource.total) !== null && _d !== void 0 ? _d : 0,\n    filterTriggerMode: filterTriggerMode,\n    filterTriggerProps: filterTriggerProps,\n    renderFilter: renderFilter,\n    filterFormProps: filterFormProps,\n    filterConfig: filterConfig,\n    defaultFilterValues: combinationParams.filterValues,\n    onFilter: onFilter,\n    onFilterReset: onFilterReset,\n    sortTriggerMode: sortTriggerMode,\n    sortTriggerProps: sortTriggerProps,\n    renderSort: renderSort,\n    sortConfig: sortConfig,\n    defaultSortValues: combinationParams.sortValues,\n    disabled: _isUseSelectionMode2,\n    onSort: onSort,\n    onSortReset: onSortReset\n  });\n  var beforeInnerElement = useMemo(function () {\n    var element = beforeRender === null || beforeRender === void 0 ? void 0 : beforeRender();\n    return element && /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-inner-before\"), beforeRenderClassName !== null && beforeRenderClassName !== void 0 ? beforeRenderClassName : ''),\n      style: beforeRenderStyle !== null && beforeRenderStyle !== void 0 ? beforeRenderStyle : {}\n    }, element);\n  }, [beforeRender, beforeRenderClassName, beforeRenderStyle]);\n  var afterInnerElement = useMemo(function () {\n    var element = afterRender === null || afterRender === void 0 ? void 0 : afterRender();\n    return element && /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-inner-after\"), afterRenderClassName !== null && afterRenderClassName !== void 0 ? afterRenderClassName : ''),\n      style: afterRenderStyle !== null && afterRenderStyle !== void 0 ? afterRenderStyle : {}\n    }, element);\n  }, [afterRender, afterRenderClassName, afterRenderStyle]);\n  var scrollLoadBeforeInnerElement = useMemo(function () {\n    var element = scrollLoadBeforeRender === null || scrollLoadBeforeRender === void 0 ? void 0 : scrollLoadBeforeRender();\n    return element && /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-scroll-before\"), scrollLoadBeforeRenderClassName !== null && scrollLoadBeforeRenderClassName !== void 0 ? scrollLoadBeforeRenderClassName : ''),\n      style: scrollLoadBeforeRenderStyle !== null && scrollLoadBeforeRenderStyle !== void 0 ? scrollLoadBeforeRenderStyle : {}\n    }, element);\n  }, [scrollLoadBeforeRender, scrollLoadBeforeRenderClassName, scrollLoadBeforeRenderStyle]);\n  var scrollLoadAfterInnerElement = useMemo(function () {\n    var element = scrollLoadAfterRender === null || scrollLoadAfterRender === void 0 ? void 0 : scrollLoadAfterRender();\n    return element && /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-scroll-after\"), scrollLoadAfterRenderClassName !== null && scrollLoadAfterRenderClassName !== void 0 ? scrollLoadAfterRenderClassName : ''),\n      style: scrollLoadAfterRenderStyle !== null && scrollLoadAfterRenderStyle !== void 0 ? scrollLoadAfterRenderStyle : {}\n    }, element);\n  }, [scrollLoadAfterRender, scrollLoadAfterRenderClassName, scrollLoadAfterRenderStyle]);\n  var scrollLoadElement = useMemo(function () {\n    var _a;\n    return /*#__PURE__*/React.createElement(ScrollLoad\n    // @ts-ignore\n    , __assign({\n      // @ts-ignore\n      ref: scrollLoadRef,\n      renderLoading: renderLoadMoreLoading,\n      distance: (scrollLoadProps === null || scrollLoadProps === void 0 ? void 0 : scrollLoadProps.distance) || 50,\n      onScrollBottom: onScrollBottom\n    }, scrollLoadProps || {}, {\n      disabled: _isUseSelectionMode2,\n      className: classNames(\"\".concat(selectorPrefix, \"-scroll-load\"), (_a = scrollLoadProps === null || scrollLoadProps === void 0 ? void 0 : scrollLoadProps.className) !== null && _a !== void 0 ? _a : '')\n    }), renderSelectionWrapper(children === null || children === void 0 ? void 0 : children(targetDataSource.data)));\n  }, [renderLoadMoreLoading, scrollLoadProps, children, _isUseSelectionMode2, targetDataSource.data]);\n  var normalListElement = useMemo(function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-scroll\"),\n      // @ts-ignore\n      ref: scrollRef\n    }, children === null || children === void 0 ? void 0 : children(targetDataSource.data));\n  }, [children, targetDataSource.data]);\n  var backTopAnimationElement = useMemo(function () {\n    return /*#__PURE__*/React.createElement(BackTopAnimation, __assign({}, backTopAnimationProps !== null && backTopAnimationProps !== void 0 ? backTopAnimationProps : {}, {\n      getContainer: function getContainer() {\n        return getScrollEl();\n      },\n      onTrigger: function onTrigger() {\n        return Promise.resolve();\n      }\n    }));\n  }, [backTopAnimationProps]);\n  var pullToRefreshElement = useMemo(function () {\n    var _a;\n    return /*#__PURE__*/React.createElement(_PullToRefresh, __assign({}, pullToRefreshProps !== null && pullToRefreshProps !== void 0 ? pullToRefreshProps : {}, {\n      onRefresh: onPullToRefresh,\n      disabled: _isUseSelectionMode2\n    }), scrollLoadBeforeInnerElement, isEmpty() && ((_a = renderEmpty === null || renderEmpty === void 0 ? void 0 : renderEmpty()) !== null && _a !== void 0 ? _a : /*#__PURE__*/React.createElement(_ErrorBlock, {\n      status: \"empty\"\n    })), !isEmpty() && isUsePaging && scrollLoadElement, !isEmpty() && !isUsePaging && normalListElement, scrollLoadAfterInnerElement, showBackTopAnimation && backTopAnimationElement);\n  }, [paging, pullToRefreshProps, scrollLoadBeforeInnerElement, scrollLoadAfterInnerElement, scrollLoadElement, normalListElement, showBackTopAnimation, backTopAnimationElement, _isUseSelectionMode2, renderEmpty, isUsePaging]);\n  /**\n   * renderInner\n   * @description 渲染Inner\n   */\n  var renderInner = useCallback(function () {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-header\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-header-main\")\n    }, showKeyWordSearchBar && searchKeyWordElement), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-header-extra\")\n    }, /*#__PURE__*/React.createElement(SelectionManageButton, {\n      isUseSelectionMode: _isUseSelectionMode2,\n      onChange: function onChange(_isUseSelectionMode) {\n        if (_isUseSelectionMode) {\n          setSelectionMode();\n        } else {\n          setNormalMode();\n        }\n      },\n      onFinish: function onFinish() {\n        var _a = finish(),\n          selectedRows = _a.selectedRows,\n          selectedRowKeys = _a.selectedRowKeys,\n          changeRowKeys = _a.changeRowKeys,\n          info = _a.info;\n        onSelectChange === null || onSelectChange === void 0 ? void 0 : onSelectChange(selectedRowKeys, selectedRows, changeRowKeys,\n        // @ts-ignore\n        info);\n      },\n      onCancel: cancel\n    }))), showToolBar && toolBarElement, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-inner\"), innerClassName !== null && innerClassName !== void 0 ? innerClassName : ''),\n      style: innerStyle !== null && innerStyle !== void 0 ? innerStyle : {}\n    }, beforeInnerElement, pullToRefreshElement, afterInnerElement), _isUseSelectionMode2 && isSelectionMultiple && /*#__PURE__*/React.createElement(SelectionCheckAllManage, null));\n  }, [showKeyWordSearchBar, searchKeyWordElement, showToolBar, toolBarElement, innerClassName, innerStyle, beforeInnerElement, pullToRefreshElement, afterInnerElement, _isUseSelectionMode2]);\n  function setNormalMode() {\n    setMode('normal');\n  }\n  function setSelectionMode() {\n    setMode('selection');\n  }\n  function setDragMode() {\n    setMode('drag');\n  }\n  function renderSelectionWrapper(_children) {\n    if (_isUseSelectionMode2 && !isSelectionMultiple) {\n      return /*#__PURE__*/React.createElement(_Radio.Group, null, _children);\n    }\n    return _children;\n  }\n  function loadDataCall(_combinationParams) {\n    if (!loadData) {\n      return Promise.resolve();\n    }\n    return loadData(__assign(__assign({}, pagingRef.current), _combinationParams)).then(function (res) {\n      setDataSource(res);\n      return res;\n    });\n  }\n  function appendData() {\n    if (isLocal) {\n      pagingRef.current.page += 1;\n      forceUpdate();\n      return;\n    }\n    return onLoadMore === null || onLoadMore === void 0 ? void 0 : onLoadMore(__assign({\n      page: pagingRef.current.page + 1,\n      pageSize: pagingRef.current.pageSize\n    }, combinationParams)).then(function (res) {\n      pagingRef.current.page += 1;\n      setDataSource(function (_dataSource) {\n        _dataSource.total = res.total;\n        _dataSource.data = __spreadArray(__spreadArray([], _dataSource.data, true), res.data, true);\n        return __assign({}, _dataSource);\n      });\n    });\n  }\n  function resetScrollLoadOrPaging() {\n    resetScrollLoad();\n    resetPaging();\n  }\n  function resetScrollLoad() {\n    var _a, _b;\n    var scrollEl = getScrollEl === null || getScrollEl === void 0 ? void 0 : getScrollEl();\n    if (scrollEl) {\n      scrollEl.scrollTop = 0;\n    }\n    (_b = (_a = scrollLoadRef === null || scrollLoadRef === void 0 ? void 0 : scrollLoadRef.current) === null || _a === void 0 ? void 0 : _a.hideAll) === null || _b === void 0 ? void 0 : _b.call(_a);\n    callbackHandler.current = null;\n    status.current = ScrollLoad.NORMAL;\n  }\n  function resetPaging() {\n    var _a, _b;\n    // 重置 paging\n    pagingRef.current.page = typeof paging !== 'undefined' && _typeof(paging) === 'object' ? (_a = paging.page) !== null && _a !== void 0 ? _a : DEFAULT_PAGING_PAGE : DEFAULT_PAGING_PAGE;\n    pagingRef.current.pageSize = typeof paging !== 'undefined' && _typeof(paging) === 'object' ? (_b = paging.defaultPageSize) !== null && _b !== void 0 ? _b : DEFAULT_PAGING_SIZE : DEFAULT_PAGING_SIZE;\n  }\n  function resetSearchOrFilterOrSort() {\n    setCombinationParams(function (draft) {\n      draft.searchKeyWord = defaultSearchKeyWord;\n      draft.filterValues = defaultFilterValues;\n      draft.sortValues = defaultSortValues;\n    });\n  }\n  function reset() {\n    resetScrollLoadOrPaging();\n    resetSearchOrFilterOrSort();\n  }\n  function onFilter(filterData) {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.filterValues = filterData;\n    });\n    if (isLocal) {\n      return Promise.resolve();\n    }\n    return loadDataCall(__assign(__assign({}, combinationParams), {\n      filterValues: filterData\n    }));\n  }\n  function onFilterReset() {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.filterValues = {};\n    });\n    if (isLocal) {\n      return Promise.resolve();\n    }\n    return loadDataCall(__assign(__assign({}, combinationParams), {\n      filterValues: {}\n    }));\n  }\n  function onSort(sortData) {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.sortValues = sortData;\n    });\n    if (isLocal) {\n      return Promise.resolve();\n    }\n    return loadDataCall(__assign(__assign({}, combinationParams), {\n      sortValues: sortData\n    }));\n  }\n  function onSortReset() {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.sortValues = [];\n    });\n    if (isLocal) {\n      return Promise.resolve();\n    }\n    return loadDataCall(__assign(__assign({}, combinationParams), {\n      sortValues: []\n    }));\n  }\n  function onSearch(value) {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.searchKeyWord = value;\n    });\n    if (isLocal) {\n      return;\n    }\n    loadDataCall(__assign(__assign({}, combinationParams), {\n      searchKeyWord: value\n    }));\n  }\n  function onSearchClear() {\n    resetScrollLoadOrPaging();\n    setCombinationParams(function (draft) {\n      draft.searchKeyWord = '';\n    });\n    if (isLocal) {\n      return;\n    }\n    loadDataCall(__assign(__assign({}, combinationParams), {\n      searchKeyWord: ''\n    }));\n  }\n  /**\n   * getScrollEl\n   * @description 获取滚动元素\n   */\n  function getScrollEl() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = scrollLoadRef.current) === null || _a === void 0 ? void 0 : _a.getScrollContainer()) !== null && _b !== void 0 ? _b : scrollRef.current) !== null && _c !== void 0 ? _c : document.body;\n  }\n  /**\n   * onPullToRefresh\n   * @description 完全重置\n   */\n  function onPullToRefresh() {\n    var params = {\n      searchKeyWord: defaultSearchKeyWord,\n      filterValues: defaultFilterValues,\n      sortValues: defaultSortValues\n    };\n    var resolve = onRefreshBefore ? onRefreshBefore(__assign(__assign({}, pagingRef.current), params)) : Promise.resolve();\n    if (onRefresh) {\n      return resolve.then(function () {\n        reset();\n        if (isLocal) {\n          return;\n        }\n        return onRefresh === null || onRefresh === void 0 ? void 0 : onRefresh(__assign(__assign({}, pagingRef.current), params)).then(function (res) {\n          setDataSource(res);\n        });\n      });\n    } else {\n      return Promise.resolve(dataSource);\n    }\n  }\n  /**\n   * onScrollBottom\n   * @description 滚动到底部\n   * @param callback\n   */\n  function onScrollBottom(callback) {\n    if (status.current === ScrollLoad.EMPTY) {\n      status.current = ScrollLoad.EMPTY;\n      callback(ScrollLoad.EMPTY);\n      return;\n    }\n    callbackHandler.current = callback;\n    return appendData();\n  }\n  /**\n   * renderChildren\n   * @description 渲染Children\n   */\n  function renderChildren() {\n    if (isUseFirstLoading) {\n      if (isFirstRef.current && !isFirstLoadingRef.current && isLoading) {\n        isFirstLoadingRef.current = true;\n      }\n      if (isFirstRef.current && isFirstLoadingRef.current && !isLoading) {\n        isFirstRef.current = false;\n        isFirstLoadingRef.current = false;\n      }\n      if (isFirstRef.current) {\n        return renderFirstLoading();\n      }\n      return renderInner();\n    }\n    return renderInner();\n  }\n  useMount(function () {\n    loadDataCall({\n      searchKeyWord: defaultSearchKeyWord,\n      filterValues: defaultFilterValues,\n      sortValues: defaultSortValues\n    });\n  });\n  useUpdateEffect(function () {\n    if (callbackHandler.current) {\n      status.current = pagingRef.current.page < pages ? ScrollLoad.NORMAL : ScrollLoad.EMPTY;\n      callbackHandler.current(status.current);\n    }\n  }, [dataSource.data, pages, pagingRef.current.page]);\n  useUpdateEffect(function () {\n    reset();\n    loadDataCall({\n      searchKeyWord: defaultSearchKeyWord,\n      filterValues: defaultFilterValues,\n      sortValues: defaultSortValues\n    });\n  }, [defaultSearchKeyWord, defaultSortValues, defaultFilterValues, isLocal]);\n  var expose = {\n    isUseSelectionMode: function isUseSelectionMode() {\n      return _isUseSelectionMode2;\n    },\n    getRowKey: function getRowKey() {\n      return targetRowKey;\n    },\n    getOptionSelectedRowKeys: function getOptionSelectedRowKeys() {\n      return optionSelectedRowKeys !== null && optionSelectedRowKeys !== void 0 ? optionSelectedRowKeys : [];\n    },\n    selectionChange: selectionChange,\n    selectionAllChange: selectionAllChange,\n    getDatasourceLength: function getDatasourceLength() {\n      return dataSource.data.length;\n    },\n    getSelectionMultiple: function getSelectionMultiple() {\n      return isSelectionMultiple;\n    }\n  };\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: expose\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(selectorPrefix, className !== null && className !== void 0 ? className : ''),\n    style: style !== null && style !== void 0 ? style : {}\n  }, networkState.online && renderChildren(), !networkState.online && offlineElement));\n}));\nvar PRSL = InternalPRSL;\nPRSL.displayName = 'PRSL';\nPRSL.Item = PRSLItem;\nexport default PRSL;"],"names":["_Radio","_PullToRefresh","_Button","_ErrorBlock","_DotLoading","_Skeleton","_typeof","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","ar","l","Array","slice","concat","useMount","useNetwork","useUpdate","useUpdateEffect","classNames","isPrimaryEmpty","React","forwardRef","memo","useCallback","useMemo","useRef","useState","useImmer","BackTopAnimation","ScrollLoad","Intl","Context","PRSLItem","SearchKeyWord","SelectionCheckAllManage","SelectionManageButton","useSelection","ToolBar","selectorPrefix","DEFAULT_PAGING_SIZE","DEFAULT_PAGING_PAGE","DEFAULT_DISTANCE","DEFAULT_TOOLBAR_COLLAPSE_COUNT","DEFAULT_SEARCH_KEY_WORD_HISTORY_STORE_TYPE","DEFAULT_ROW_KEY","InternalPRSL","_a","_e","className","style","_f","innerClassName","innerStyle","_g","isLoading","_h","isUseFirstLoading","firstLoading","pullToRefreshProps","onRefreshBefore","paging","onRefresh","rowKey","_j","showKeyWordSearchBar","searchKeyWordBarProps","_k","searchKeyWordWrapperClassName","searchKeyWordWrapperStyle","searchKeyWordMode","searchKeyWordHistoryMaxSize","isSearchKeyWordHistoryIntoStore","searchKeyWordHistoryStoreType","defaultSearchKeyWord","_l","showToolBar","showTotal","renderToolBar","afterToolBarRender","beforeToolBarRender","_m","beforeToolBarRenderClassName","beforeToolBarRenderStyle","_o","afterToolBarRenderClassName","afterToolBarRenderStyle","_p","toolbarWrapperClassName","toolbarWrapperStyle","_q","toolbarCollapseCount","toolbarConfig","scrollLoadProps","onLoadMore","loadMoreLoading","_r","showBackTopAnimation","backTopAnimationProps","scrollLoadBeforeRender","scrollLoadAfterRender","_s","scrollLoadBeforeRenderClassName","scrollLoadBeforeRenderStyle","_t","scrollLoadAfterRenderClassName","scrollLoadAfterRenderStyle","beforeRender","afterRender","_u","beforeRenderClassName","beforeRenderStyle","_v","afterRenderClassName","afterRenderStyle","isShowFilterTrigger","renderFilterTrigger","isShowSortTrigger","renderSortTrigger","isShowViewSettingTrigger","renderViewSettingTrigger","viewSettingTriggerMode","viewSettingTriggerProps","renderViewSetting","viewSettingConfig","defaultViewSettingValue","onViewSetting","onViewSettingReset","loadData","renderEmpty","renderOffLine","filterTriggerMode","filterTriggerProps","renderFilter","filterFormProps","filterConfig","defaultFilterValues","sortTriggerMode","sortTriggerProps","renderSort","sortConfig","defaultSortValues","isUseLocal","selectedRowKeys","selectionMultiple","onSelectChange","children","networkState","forceUpdate","_w","data","total","dataSource","setDataSource","_x","mode","setMode","targetRowKey","_y","optionSelectedRowKeys","_isUseSelectionMode2","isUseSelectionMode","isSelectionMultiple","finish","cancel","selectionChange","selectionAllChange","_z","searchKeyWord","filterValues","sortValues","combinationParams","setCombinationParams","isFirstRef","isFirstLoadingRef","pagingRef","page","_b","pageSize","_c","defaultPageSize","isUsePaging","scrollLoadRef","scrollRef","undefined","callbackHandler","status","NORMAL","renderFirstLoading","defaultFirstLoading","renderLoadMoreLoading","defaultLoadMoreLoading","isLocal","sortAndFilterData","_d","targetData","reduce","_dataSource","sortValue","order","name","sort","r1","r2","filter","record","keys","some","_key","indexOf","every","targetDataSource","startIndex","currentData","current","isEmpty","pages","createElement","Title","animated","Paragraph","lineCount","color","v","offlineElement","onClick","searchKeyWordElement","disabled","onSearch","onSearchClear","toolBarElement","onFilter","filterData","resetScrollLoadOrPaging","draft","Promise","resolve","loadDataCall","onFilterReset","onSort","sortData","onSortReset","beforeInnerElement","element","afterInnerElement","scrollLoadBeforeInnerElement","scrollLoadAfterInnerElement","scrollLoadElement","_children","ref","renderLoading","distance","onScrollBottom","Group","normalListElement","backTopAnimationElement","getContainer","getScrollEl","onTrigger","pullToRefreshElement","onPullToRefresh","renderInner","Fragment","onChange","_isUseSelectionMode","onFinish","selectedRows","changeRowKeys","info","onCancel","_combinationParams","then","res","scrollEl","scrollTop","hideAll","reset","value","getScrollContainer","document","body","params","callback","EMPTY","Provider","getRowKey","getOptionSelectedRowKeys","getDatasourceLength","getSelectionMultiple","online","PRSL","displayName","Item"],"mappings":"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"}