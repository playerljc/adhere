{"version":3,"file":"useCommon.js","sources":["useCommon.js"],"sourcesContent":["import _Empty from \"antd/es/empty\";\nimport _Spin from \"antd/es/spin\";\nimport React, { useCallback, useMemo, useState } from 'react';\nimport WatchMemoized from '@baifendian/adhere-util-watchmemoized';\nvar memoized = WatchMemoized.memoized;\nvar selectorPrefix = 'adhere-ui-auto-complete';\nvar useMemoInternal = function useMemoInternal(_a) {\n  var renderLoading = _a.renderLoading,\n    emptyContent = _a.emptyContent,\n    loadData = _a.loadData;\n  var _b = useState(false),\n    fetching = _b[0],\n    setFetching = _b[1];\n  var _c = useState(false),\n    open = _c[0],\n    setOpen = _c[1];\n  var fetchLoading = useMemo(function () {\n    var _a;\n    return (_a = renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading()) !== null && _a !== void 0 ? _a : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, /*#__PURE__*/React.createElement(_Spin, {\n      size: \"large\"\n    }));\n  }, [renderLoading]);\n  var empty = useMemo(function () {\n    return emptyContent !== null && emptyContent !== void 0 ? emptyContent : /*#__PURE__*/React.createElement(_Empty, {\n      image: _Empty.PRESENTED_IMAGE_SIMPLE\n    });\n  }, [emptyContent]);\n  var onInputMemo = useCallback(memoized.createMemoFun(function (_kw) {\n    setFetching(true);\n    // 输入的不是空\n    loadData === null || loadData === void 0 ? void 0 : loadData(_kw).then(function () {\n      setFetching(false);\n    });\n  }), [loadData]);\n  /**\n   * onClear\n   */\n  function onClear() {\n    loadData === null || loadData === void 0 ? void 0 : loadData('').then(function () {\n      setFetching(false);\n    });\n  }\n  return {\n    defaultDebounceTimeout: 300,\n    fetchLoading: fetchLoading,\n    empty: empty,\n    selectorPrefix: selectorPrefix,\n    fetching: fetching,\n    open: open,\n    setOpen: setOpen,\n    onClear: onClear,\n    onInputMemo: onInputMemo\n  };\n};\nexport default useMemoInternal;"],"names":["_Empty","_Spin","React","useCallback","useMemo","useState","WatchMemoized","memoized","selectorPrefix","useMemoInternal","_a","renderLoading","emptyContent","loadData","_b","fetching","setFetching","_c","open","setOpen","fetchLoading","createElement","className","concat","size","empty","image","PRESENTED_IMAGE_SIMPLE","onInputMemo","createMemoFun","_kw","then","defaultDebounceTimeout","onClear"],"mappings":"OAAOA,WAAY,uBACZC,UAAW,sBACXC,OAASC,YAAaC,QAASC,QAAuB,KAAP,eAC/CC,kBAAmB,wCAC1B,IAAIC,SAAWD,cAAcC,SACzBC,eAAiB,0BACjBC,gBAAkB,SAAyBC,GAC7C,IAAIC,EAAgBD,EAAGC,cACrBC,EAAeF,EAAGE,aAClBC,EAAWH,EAAGG,SACZC,EAAKT,SAAS,CAAA,CAAK,EACrBU,EAAWD,EAAG,GACdE,EAAcF,EAAG,GACfG,EAAKZ,SAAS,CAAA,CAAK,EACrBa,EAAOD,EAAG,GACVE,EAAUF,EAAG,GACXG,EAAehB,QAAQ,WACzB,IAAIM,EACJ,OAAO,OAACA,EAAKC,MAAAA,EAAqD,KAAA,EAASA,EAAc,GAA+BD,EAAkBR,MAAMmB,cAAc,MAAO,CACnKC,UAAW,GAAGC,OAAOf,eAAgB,UAAU,CACjD,EAAgBN,MAAMmB,cAAcpB,MAAO,CACzCuB,KAAM,OACR,CAAC,CAAC,CACJ,EAAG,CAACb,EAAc,EACdc,EAAQrB,QAAQ,WAClB,OAAOQ,MAAAA,EAAmDA,EAA4BV,MAAMmB,cAAcrB,OAAQ,CAChH0B,MAAO1B,OAAO2B,sBAChB,CAAC,CACH,EAAG,CAACf,EAAa,EACbgB,EAAczB,YAAYI,SAASsB,cAAc,SAAUC,GAC7Dd,EAAY,CAAA,CAAI,EAEhBH,MAAAA,GAAoDA,EAASiB,CAAG,EAAEC,KAAK,WACrEf,EAAY,CAAA,CAAK,CACnB,CAAC,CACH,CAAC,EAAG,CAACH,EAAS,EASd,MAAO,CACLmB,uBAAwB,IACxBZ,aAAcA,EACdK,MAAOA,EACPjB,eAAgBA,eAChBO,SAAUA,EACVG,KAAMA,EACNC,QAASA,EACTc,QAbF,WACEpB,MAAAA,GAAoDA,EAAS,EAAE,EAAEkB,KAAK,WACpEf,EAAY,CAAA,CAAK,CACnB,CAAC,CACH,EAUEY,YAAaA,CACf,CACF,iBACenB"}