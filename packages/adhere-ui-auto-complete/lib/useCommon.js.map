{"version":3,"file":"useCommon.js","sources":["useCommon.js"],"sourcesContent":["\"use strict\";\n\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_util_watchmemoized_1 = __importDefault(require(\"@baifendian/adhere-util-watchmemoized\"));\nvar memoized = adhere_util_watchmemoized_1.default.memoized;\nvar selectorPrefix = 'adhere-ui-auto-complete';\nvar useMemoInternal = function useMemoInternal(_a) {\n  var renderLoading = _a.renderLoading,\n    emptyContent = _a.emptyContent,\n    loadData = _a.loadData;\n  var _b = (0, react_1.useState)(false),\n    fetching = _b[0],\n    setFetching = _b[1];\n  var _c = (0, react_1.useState)(false),\n    open = _c[0],\n    setOpen = _c[1];\n  var fetchLoading = (0, react_1.useMemo)(function () {\n    var _a;\n    return (_a = renderLoading === null || renderLoading === void 0 ? void 0 : renderLoading()) !== null && _a !== void 0 ? _a : react_1.default.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-loading\")\n    }, react_1.default.createElement(antd_1.Spin, {\n      size: \"large\"\n    }));\n  }, [renderLoading]);\n  var empty = (0, react_1.useMemo)(function () {\n    return emptyContent !== null && emptyContent !== void 0 ? emptyContent : react_1.default.createElement(antd_1.Empty, {\n      image: antd_1.Empty.PRESENTED_IMAGE_SIMPLE\n    });\n  }, [emptyContent]);\n  var onInputMemo = (0, react_1.useCallback)(memoized.createMemoFun(function (_kw) {\n    setFetching(true);\n    // 输入的不是空\n    loadData === null || loadData === void 0 ? void 0 : loadData(_kw).then(function () {\n      setFetching(false);\n    });\n  }), [loadData]);\n  /**\n   * onClear\n   */\n  function onClear() {\n    loadData === null || loadData === void 0 ? void 0 : loadData('').then(function () {\n      setFetching(false);\n    });\n  }\n  return {\n    defaultDebounceTimeout: 300,\n    fetchLoading: fetchLoading,\n    empty: empty,\n    selectorPrefix: selectorPrefix,\n    fetching: fetching,\n    open: open,\n    setOpen: setOpen,\n    onClear: onClear,\n    onInputMemo: onInputMemo\n  };\n};\nexports.default = useMemoInternal;"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","default","antd_1","exports","require","react_1","adhere_util_watchmemoized_1","memoized","selectorPrefix","useMemoInternal","_a","renderLoading","emptyContent","loadData","_b","useState","fetching","setFetching","_c","open","setOpen","fetchLoading","useMemo","createElement","className","concat","Spin","size","empty","Empty","image","PRESENTED_IMAGE_SIMPLE","onInputMemo","useCallback","createMemoFun","_kw","then","defaultDebounceTimeout","onClear"],"mappings":"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"}