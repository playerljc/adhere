{"version":3,"file":"TreeAutoComplete.js","sources":["TreeAutoComplete.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ahooks_1 = require(\"ahooks\");\nvar antd_1 = require(\"antd\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar lodash_debounce_1 = __importDefault(require(\"lodash.debounce\"));\nvar lodash_uniqby_1 = __importDefault(require(\"lodash.uniqby\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\nvar useCommon_1 = __importDefault(require(\"./useCommon\"));\nvar treeTransformConfig = {\n  keyAttr: 'value',\n  titleAttr: 'title',\n  parentIdAttr: 'pId',\n  rootParentId: 0\n};\n/**\n * TreeAutoComplete\n */\nvar TreeAutoComplete = (0, react_1.memo)(function (_a) {\n  var classNameWrap = _a.classNameWrap,\n    styleWrap = _a.styleWrap,\n    renderLoading = _a.renderLoading,\n    debounceTimeout = _a.debounceTimeout,\n    loadData = _a.loadData,\n    treeData = _a.treeData,\n    defaultTreeData = _a.defaultTreeData,\n    emptyContent = _a.emptyContent,\n    children = _a.children,\n    _b = _a.treeDataSimpleMode,\n    treeDataSimpleMode = _b === void 0 ? false : _b,\n    treeSelectProps = __rest(_a, [\"classNameWrap\", \"styleWrap\", \"renderLoading\", \"debounceTimeout\", \"loadData\", \"treeData\", \"defaultTreeData\", \"emptyContent\", \"children\", \"treeDataSimpleMode\"]);\n  var _c = (0, react_1.useState)({}),\n    paths = _c[0],\n    setPaths = _c[1];\n  var onSelectChangeStartTime = (0, react_1.useRef)(0);\n  var _d = (0, useCommon_1.default)({\n      renderLoading: renderLoading,\n      emptyContent: emptyContent,\n      loadData: loadData\n    }),\n    defaultDebounceTimeout = _d.defaultDebounceTimeout,\n    selectorPrefix = _d.selectorPrefix,\n    fetchLoading = _d.fetchLoading,\n    empty = _d.empty,\n    fetching = _d.fetching,\n    open = _d.open,\n    setOpen = _d.setOpen,\n    onClear = _d.onClear,\n    onInputMemo = _d.onInputMemo;\n  function getPathsByValues(_values) {\n    var _targetValues = Array.isArray(_values) ? _values : [_values];\n    return _targetValues.reduce(function (result, _id) {\n      var node = targetFlatTreeData.find(function (t) {\n        return t.value === _id;\n      });\n      result[_id] = __spreadArray(__spreadArray([], adhere_util_1.default.getAncestor(targetFlatTreeData, node, treeTransformConfig), true), [node], false);\n      return result;\n    }, {});\n  }\n  /**\n   * onSelectChange\n   * @description 从下方组件触发的\n   * @param _values\n   * @param label\n   * @param extra\n   */\n  function onSelectChange(_values, label, extra) {\n    var _a, _b;\n    if (!extra.triggerNode) {\n      setPaths({});\n      (_a = treeSelectProps.onChange) === null || _a === void 0 ? void 0 : _a.call(treeSelectProps, _values, label, extra);\n      return;\n    }\n    setPaths(getPathsByValues(_values));\n    // @ts-ignore\n    (_b = treeSelectProps.onChange) === null || _b === void 0 ? void 0 : _b.call(treeSelectProps, _values);\n    if (isMultiple) {\n      onSelectChangeStartTime.current = Date.now();\n    } else {\n      // 单选\n      setOpen(false);\n    }\n  }\n  var onInput = (0, react_1.useCallback)((0, lodash_debounce_1.default)(function (e) {\n    var currentTime = Date.now();\n    if (['ant-checkbox-input'].some(function (className) {\n      return e.target.className.indexOf(className) !== -1;\n    })) {\n      return;\n    }\n    if (isMultiple && onSelectChangeStartTime.current !== 0 && currentTime - onSelectChangeStartTime.current <= 400) {\n      onSelectChangeStartTime.current = 0;\n      return;\n    }\n    onSelectChangeStartTime.current = 0;\n    var _kw = e.target.value.trim();\n    onInputMemo(_kw);\n  }, debounceTimeout !== null && debounceTimeout !== void 0 ? debounceTimeout : defaultDebounceTimeout), [debounceTimeout]);\n  var isChecked = (0, react_1.useMemo)(function () {\n    return 'treeCheckable' in treeSelectProps ? !!treeSelectProps.treeCheckable : false;\n  }, [treeSelectProps.treeCheckable]);\n  var isMultiple = (0, react_1.useMemo)(function () {\n    return isChecked || ('multiple' in treeSelectProps ? !!treeSelectProps.multiple : false);\n  }, [isChecked, treeSelectProps.multiple]);\n  var flatTreeData = (0, react_1.useMemo)(function () {\n    return treeDataSimpleMode ? treeData : adhere_util_1.default.treeToArray(treeData, {\n      parentIdAttr: treeTransformConfig.parentIdAttr,\n      rootParentId: treeTransformConfig.rootParentId\n    }, treeTransformConfig.keyAttr);\n  }, [treeData]);\n  var flatPathData = (0, react_1.useMemo)(function () {\n    return Object.keys(paths).map(function (_k) {\n      return paths[_k];\n    }).flat();\n  }, [paths]);\n  /**\n   * allTreeData\n   * @description 最终的数据\n   */\n  var targetTreeData = (0, react_1.useMemo)(function () {\n    // treeData\n    if (!treeDataSimpleMode) {\n      var _allFlatTreeData_1 = __spreadArray(__spreadArray([], flatTreeData !== null && flatTreeData !== void 0 ? flatTreeData : [], true), flatPathData !== null && flatPathData !== void 0 ? flatPathData : [], true).filter(function (t) {\n        return !!t;\n      });\n      var allFlatTreeDataKeys = _allFlatTreeData_1.map(function (_a) {\n        var value = _a.value;\n        return value;\n      });\n      var distinctKeys = Array.from(new Set(allFlatTreeDataKeys));\n      _allFlatTreeData_1 = distinctKeys.map(function (_value) {\n        return _allFlatTreeData_1.find(function (_option) {\n          return _option.value === _value;\n        });\n      });\n      return adhere_util_1.default.completionIncompleteFlatArr(__spreadArray(__spreadArray([], flatTreeData !== null && flatTreeData !== void 0 ? flatTreeData : [], true), flatPathData !== null && flatPathData !== void 0 ? flatPathData : [], true), _allFlatTreeData_1, treeTransformConfig);\n    }\n    // flatTreeData\n    else {\n      var _allFlatTreeData_2 = __spreadArray(__spreadArray([], treeData !== null && treeData !== void 0 ? treeData : [], true), flatPathData !== null && flatPathData !== void 0 ? flatPathData : [], true).filter(function (t) {\n        return !!t;\n      });\n      var allFlatTreeDataKeys = _allFlatTreeData_2.map(function (_a) {\n        var value = _a.value;\n        return value;\n      });\n      var distinctKeys = Array.from(new Set(allFlatTreeDataKeys));\n      return adhere_util_1.default.treeToArray(adhere_util_1.default.completionIncompleteFlatArr(__spreadArray(__spreadArray([], treeData !== null && treeData !== void 0 ? treeData : [], true), flatPathData !== null && flatPathData !== void 0 ? flatPathData : [], true), distinctKeys.map(function (_value) {\n        return _allFlatTreeData_2.find(function (_option) {\n          return _option.value === _value;\n        });\n      }), treeTransformConfig), {\n        parentIdAttr: treeTransformConfig.parentIdAttr,\n        rootParentId: treeTransformConfig.rootParentId\n      }, treeTransformConfig.keyAttr);\n    }\n  }, [treeData, flatTreeData, paths, treeSelectProps.value]);\n  var targetFlatTreeData = (0, react_1.useMemo)(function () {\n    return !!treeDataSimpleMode ? targetTreeData : adhere_util_1.default.treeToArray(targetTreeData, {\n      parentIdAttr: treeTransformConfig.parentIdAttr,\n      rootParentId: treeTransformConfig.rootParentId\n    }, treeTransformConfig.keyAttr);\n  }, [treeDataSimpleMode, targetTreeData]);\n  var allTreeData = (0, react_1.useMemo)(function () {\n    var _treeFlatData = targetTreeData !== null && targetTreeData !== void 0 ? targetTreeData : [];\n    var _defaultTreeFlatData = defaultTreeData !== null && defaultTreeData !== void 0 ? defaultTreeData : [];\n    if (!treeDataSimpleMode) {\n      // 拉平\n      _treeFlatData = adhere_util_1.default.treeToArray(_treeFlatData, {\n        parentIdAttr: treeTransformConfig.parentIdAttr,\n        rootParentId: treeTransformConfig.rootParentId\n      }, treeTransformConfig.keyAttr);\n      _defaultTreeFlatData = adhere_util_1.default.treeToArray(\n      // @ts-ignore\n      _defaultTreeFlatData, {\n        parentIdAttr: treeTransformConfig.parentIdAttr,\n        rootParentId: treeTransformConfig.rootParentId\n      }, treeTransformConfig.keyAttr);\n    }\n    var flatAllData = (0, lodash_uniqby_1.default)(__spreadArray(__spreadArray([], _defaultTreeFlatData !== null && _defaultTreeFlatData !== void 0 ? _defaultTreeFlatData : [], true), _treeFlatData !== null && _treeFlatData !== void 0 ? _treeFlatData : [], true), treeTransformConfig.keyAttr);\n    if (!treeDataSimpleMode) {\n      // 转换成treeData\n      return adhere_util_1.default.arrayToAntdTreeSelect(flatAllData, treeTransformConfig);\n    }\n    return flatAllData;\n  }, [treeDataSimpleMode, defaultTreeData, targetTreeData]);\n  var childrenTreeData = (0, react_1.useMemo)(function () {\n    var _treeFlatData = targetTreeData !== null && targetTreeData !== void 0 ? targetTreeData : [];\n    var _allTreeFlatData = allTreeData !== null && allTreeData !== void 0 ? allTreeData : [];\n    if (!treeDataSimpleMode) {\n      // 拉平\n      _treeFlatData = adhere_util_1.default.treeToArray(_treeFlatData, treeTransformConfig);\n      _allTreeFlatData = adhere_util_1.default.treeToArray(_allTreeFlatData, treeTransformConfig);\n    }\n    var optionKeys = _treeFlatData.map(function (nodeData) {\n      return nodeData[treeTransformConfig.keyAttr];\n    });\n    var flatTreeData = _allTreeFlatData.filter(function (nodeData) {\n      return optionKeys.includes(nodeData[treeTransformConfig.keyAttr]);\n    });\n    if (!treeDataSimpleMode) {\n      // 转换成treeData\n      return adhere_util_1.default.arrayToAntdTreeSelect(flatTreeData, treeTransformConfig);\n    }\n    return flatTreeData;\n  }, [treeDataSimpleMode, targetTreeData, allTreeData]);\n  (0, ahooks_1.useUpdateEffect)(function () {\n    var _a;\n    var pathsKeys = Object.keys(paths);\n    var targetValue = (_a = treeSelectProps.value) !== null && _a !== void 0 ? _a : treeSelectProps.defaultValue;\n    // 不在paths里的values，才需要进行路径设置\n    var values = (Array.isArray(targetValue) ? targetValue : [targetValue]).filter(function (_value) {\n      return !pathsKeys.includes(_value);\n    });\n    if (values.length) {\n      setPaths(__assign(__assign({}, paths), getPathsByValues(values)));\n    }\n  }, [treeSelectProps.defaultValue, treeSelectProps.value, paths, targetFlatTreeData]);\n  return react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(selectorPrefix, classNameWrap !== null && classNameWrap !== void 0 ? classNameWrap : ''),\n    style: styleWrap !== null && styleWrap !== void 0 ? styleWrap : {}\n  }, react_1.default.createElement(antd_1.TreeSelect, __assign({\n    showSearch: true,\n    allowClear: true,\n    // @ts-ignore\n    // filterOption={false}\n    filterTreeNode: false,\n    open: open,\n    treeData: allTreeData,\n    // onSearch={onInput}\n    // @ts-ignore\n    onInput: onInput,\n    onClear: onClear,\n    dropdownRender: function (originNode) {\n      var _a;\n      if (fetching) return fetchLoading;\n      return !!(childrenTreeData === null || childrenTreeData === void 0 ? void 0 : childrenTreeData.length) ? (_a = children === null || children === void 0 ? void 0 : children({\n        originNode: originNode,\n        treeDataSimpleMode: treeDataSimpleMode,\n        value: treeSelectProps.value,\n        onChange: function () {\n          var params = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            params[_i] = arguments[_i];\n          }\n          return onSelectChange.apply(void 0, params);\n        },\n        treeData: childrenTreeData !== null && childrenTreeData !== void 0 ? childrenTreeData : [],\n        loading: fetching\n      })) !== null && _a !== void 0 ? _a : originNode : empty;\n    },\n    onDropdownVisibleChange: setOpen\n  }, treeSelectProps, {\n    treeCheckable: false,\n    treeDataSimpleMode: !!treeDataSimpleMode,\n    onChange: function () {\n      var params = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n      }\n      return onSelectChange.apply(void 0, params);\n    }\n  })));\n});\nTreeAutoComplete.displayName = 'TreeAutoComplete';\nexports.default = TreeAutoComplete;"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","__importDefault","default","ahooks_1","exports","require","antd_1","classnames_1","lodash_debounce_1","lodash_uniqby_1","react_1","adhere_util_1","useCommon_1","treeTransformConfig","keyAttr","titleAttr","parentIdAttr","rootParentId","TreeAutoComplete","memo","_a","classNameWrap","styleWrap","renderLoading","debounceTimeout","loadData","treeData","defaultTreeData","emptyContent","children","_b","treeDataSimpleMode","treeSelectProps","_c","useState","paths","setPaths","onSelectChangeStartTime","useRef","_d","defaultDebounceTimeout","selectorPrefix","fetchLoading","empty","fetching","open","setOpen","onClear","onInputMemo","getPathsByValues","_values","isArray","reduce","_id","node","targetFlatTreeData","find","getAncestor","onSelectChange","label","extra","triggerNode","onChange","isMultiple","current","Date","now","onInput","useCallback","currentTime","some","className","target","_kw","trim","isChecked","useMemo","treeCheckable","multiple","flatTreeData","treeToArray","flatPathData","keys","map","_k","flat","targetTreeData","_allFlatTreeData_2","allFlatTreeDataKeys","distinctKeys","_allFlatTreeData_1","filter","Set","completionIncompleteFlatArr","_value","_option","allTreeData","_treeFlatData","_defaultTreeFlatData","flatAllData","arrayToAntdTreeSelect","childrenTreeData","_allTreeFlatData","optionKeys","nodeData","includes","useUpdateEffect","pathsKeys","targetValue","defaultValue","values","createElement","style","TreeSelect","showSearch","allowClear","filterTreeNode","dropdownRender","originNode","params","_i","loading","onDropdownVisibleChange","displayName"],"mappings":"AAAA,aAEA,IAAIA,SAA0C,WAQ5C,OAPAA,SAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMC,KAAMP,SAAS,CACvC,EACIQ,gBAAyDd,OAAOe,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,GACnFC,KAAAA,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,CAAC,EAC1CG,IAAS,QAASA,EAAQJ,EAAEM,WAAaF,CAAAA,EAAKG,UAAYH,CAAAA,EAAKI,gBAClEJ,EAAO,CACLK,WAAY,CAAA,EACZC,IAAK,WACH,OAAOV,EAAEC,EACX,CACF,GAEFlB,OAAO4B,eAAeZ,EAAGG,EAAIE,CAAI,CACnC,EAAI,SAAUL,EAAGC,EAAGC,EAAGC,GAErBH,EADsBG,EAAXC,KAAAA,IAAPD,EAAuBD,EACzBC,GAAMF,EAAEC,EACZ,EACIW,mBAA+D7B,OAAOe,OAAS,SAAUC,EAAGc,GAC9F9B,OAAO4B,eAAeZ,EAAG,UAAW,CAClCU,WAAY,CAAA,EACZK,MAAOD,CACT,CAAC,CACH,EAAI,SAAUd,EAAGc,GACfd,EAAW,QAAIc,CACjB,EACIE,aAAkD,SAAUC,GAC9D,GAAIA,GAAOA,EAAIV,WAAY,OAAOU,EAClC,IAAIC,EAAS,GACb,GAAW,MAAPD,EAAa,IAAK,IAAIf,KAAKe,EAAe,YAANf,GAAmBlB,OAAOS,UAAUC,eAAeC,KAAKsB,EAAKf,CAAC,GAAGJ,gBAAgBoB,EAAQD,EAAKf,CAAC,EAEvI,OADAW,mBAAmBK,EAAQD,CAAG,EACvBC,CACT,EACIC,OAAsC,SAAUhC,EAAGiC,GACrD,IAAIlC,EAAI,GACR,IAASM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,GAAK4B,EAAEC,QAAQ7B,CAAC,EAAI,IAAGN,EAAEM,GAAKL,EAAEK,IAC9F,GAAS,MAALL,GAAqD,YAAxC,OAAOH,OAAOsC,sBAAsC,IAAK,IAAIlC,EAAI,EAAGI,EAAIR,OAAOsC,sBAAsBnC,CAAC,EAAGC,EAAII,EAAED,OAAQH,CAAC,GACnIgC,EAAEC,QAAQ7B,EAAEJ,EAAE,EAAI,GAAKJ,OAAOS,UAAU8B,qBAAqB5B,KAAKR,EAAGK,EAAEJ,EAAE,IAAGF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAEhG,OAAOF,CACT,EACIsC,cAAoD,SAAUC,EAAIC,EAAMC,GAC1E,GAAIA,GAA6B,IAArBrC,UAAUC,OAAc,IAAK,IAA4BqC,EAAxBxC,EAAI,EAAGyC,EAAIH,EAAKnC,OAAYH,EAAIyC,EAAGzC,CAAC,GAC3EwC,CAAAA,GAAQxC,KAAKsC,KACVE,EAAAA,GAASE,MAAMrC,UAAUsC,MAAMpC,KAAK+B,EAAM,EAAGtC,CAAC,GAChDA,GAAKsC,EAAKtC,IAGjB,OAAOqC,EAAGO,OAAOJ,GAAME,MAAMrC,UAAUsC,MAAMpC,KAAK+B,CAAI,CAAC,CACzD,EACIO,gBAAwD,SAAUhB,GACpE,OAAOA,GAAOA,EAAIV,WAAaU,EAAM,CACnCiB,QAAWjB,CACb,CACF,EAIIkB,UAHJnD,OAAO4B,eAAewB,QAAS,aAAc,CAC3CrB,MAAO,CAAA,CACT,CAAC,EACcsB,QAAQ,QAAQ,GAC3BC,OAASD,QAAQ,MAAM,EACvBE,aAAeN,gBAAgBI,QAAQ,YAAY,CAAC,EACpDG,kBAAoBP,gBAAgBI,QAAQ,iBAAiB,CAAC,EAC9DI,gBAAkBR,gBAAgBI,QAAQ,eAAe,CAAC,EAC1DK,QAAU1B,aAAaqB,QAAQ,OAAO,CAAC,EACvCM,cAAgBV,gBAAgBI,QAAQ,yBAAyB,CAAC,EAClEO,YAAcX,gBAAgBI,QAAQ,aAAa,CAAC,EACpDQ,oBAAsB,CACxBC,QAAS,QACTC,UAAW,QACXC,aAAc,MACdC,aAAc,CAChB,EAIIC,kBAAmB,EAAIR,QAAQS,MAAM,SAAUC,GACjD,IAAIC,EAAgBD,EAAGC,cACrBC,EAAYF,EAAGE,UACfC,EAAgBH,EAAGG,cACnBC,EAAkBJ,EAAGI,gBACrBC,EAAWL,EAAGK,SACdC,EAAWN,EAAGM,SACdC,EAAkBP,EAAGO,gBACrBC,EAAeR,EAAGQ,aAClBC,EAAWT,EAAGS,SACdC,EAAKV,EAAGW,mBACRA,EAA4B,KAAA,IAAPD,GAAwBA,EAC7CE,EAAkB7C,OAAOiC,EAAI,CAAC,gBAAiB,YAAa,gBAAiB,kBAAmB,WAAY,WAAY,kBAAmB,eAAgB,WAAY,qBAAqB,EAC1La,GAAK,EAAIvB,QAAQwB,UAAU,EAAE,EAC/BC,EAAQF,EAAG,GACXG,EAAWH,EAAG,GACZI,GAA0B,EAAI3B,QAAQ4B,QAAQ,CAAC,EAC/CC,GAAK,EAAI3B,YAAYV,SAAS,CAC9BqB,cAAeA,EACfK,aAAcA,EACdH,SAAUA,CACZ,CAAC,EACDe,EAAyBD,EAAGC,uBAC5BC,EAAiBF,EAAGE,eACpBC,EAAeH,EAAGG,aAClBC,EAAQJ,EAAGI,MACXC,EAAWL,EAAGK,SACdC,EAAON,EAAGM,KACVC,EAAUP,EAAGO,QACbC,EAAUR,EAAGQ,QACbC,EAAcT,EAAGS,YACnB,SAASC,EAAiBC,GAExB,OADoBpD,MAAMqD,QAAQD,CAAO,EAAIA,EAAU,CAACA,IACnCE,OAAO,SAAUlE,EAAQmE,GAC5C,IAAIC,EAAOC,EAAmBC,KAAK,SAAUtG,GAC3C,OAAOA,EAAE6B,QAAUsE,CACrB,CAAC,EAED,OADAnE,EAAOmE,GAAO7D,cAAcA,cAAc,GAAImB,cAAcT,QAAQuD,YAAYF,EAAoBD,EAAMzC,mBAAmB,EAAG,CAAA,CAAI,EAAG,CAACyC,GAAO,CAAA,CAAK,EAC7IpE,CACT,EAAG,EAAE,CACP,CAQA,SAASwE,EAAeR,EAASS,EAAOC,GACtC,IAAQ9B,EACH8B,EAAMC,aAKXzB,EAASa,EAAiBC,CAAO,CAAC,EAElC,OAACpB,EAAKE,EAAgB8B,WAA+ChC,EAAGnE,KAAKqE,EAAiBkB,CAAO,EACjGa,EACF1B,EAAwB2B,QAAUC,KAAKC,IAAI,EAG3CpB,EAAQ,CAAA,CAAK,IAXbV,EAAS,EAAE,EACX,OAAChB,EAAKY,EAAgB8B,WAA+C1C,EAAGzD,KAAKqE,EAAiBkB,EAASS,EAAOC,CAAK,EAYvH,CACA,IAAIO,GAAU,EAAIzD,QAAQ0D,cAAa,EAAI5D,kBAAkBN,SAAS,SAAUd,GAC9E,IAAIiF,EAAcJ,KAAKC,IAAI,EACvB,CAAC,sBAAsBI,KAAK,SAAUC,GACxC,MAAiD,CAAC,IAA3CnF,EAAEoF,OAAOD,UAAUlF,QAAQkF,CAAS,CAC7C,CAAC,IAGGR,GAAkD,IAApC1B,EAAwB2B,SAAiBK,EAAchC,EAAwB2B,SAAW,IAC1G3B,EAAwB2B,QAAU,GAGpC3B,EAAwB2B,QAAU,EAC9BS,EAAMrF,EAAEoF,OAAOzF,MAAM2F,KAAK,EAC9B1B,EAAYyB,CAAG,GACjB,EAAGjD,MAAAA,EAAyDA,EAAkBgB,CAAsB,EAAG,CAAChB,EAAgB,EACpHmD,GAAY,EAAIjE,QAAQkE,SAAS,WACnC,MAAO,kBAAmB5C,GAAkB,CAAC,CAACA,EAAgB6C,aAChE,EAAG,CAAC7C,EAAgB6C,cAAc,EAC9Bd,GAAa,EAAIrD,QAAQkE,SAAS,WACpC,OAAOD,GAAc,aAAc3C,GAAkB,CAAC,CAACA,EAAgB8C,QACzE,EAAG,CAACH,EAAW3C,EAAgB8C,SAAS,EACpCC,GAAe,EAAIrE,QAAQkE,SAAS,WACtC,OAAO7C,EAAqBL,EAAWf,cAAcT,QAAQ8E,YAAYtD,EAAU,CACjFV,aAAcH,oBAAoBG,aAClCC,aAAcJ,oBAAoBI,YACpC,EAAGJ,oBAAoBC,OAAO,CAChC,EAAG,CAACY,EAAS,EACTuD,GAAe,EAAIvE,QAAQkE,SAAS,WACtC,OAAO5H,OAAOkI,KAAK/C,CAAK,EAAEgD,IAAI,SAAUC,GACtC,OAAOjD,EAAMiD,EACf,CAAC,EAAEC,KAAK,CACV,EAAG,CAAClD,EAAM,EAKNmD,GAAiB,EAAI5E,QAAQkE,SAAS,WAExC,IAkBMW,EAdAC,EAIAC,EACJC,EATF,OAAK3D,GAqBCyD,GAHAD,EAAqB/F,cAAcA,cAAc,GAAIkC,MAAAA,EAA2CA,EAAW,GAAI,CAAA,CAAI,EAAGuD,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAEU,OAAO,SAAUzI,GACrN,MAAO,CAAC,CAACA,CACX,CAAC,GAC4CiI,IAAI,SAAU/D,GAEzD,OADYA,EAAGrC,KAEjB,CAAC,EACG0G,EAAe3F,MAAMJ,KAAK,IAAIkG,IAAIJ,CAAmB,CAAC,EACnD7E,cAAcT,QAAQ8E,YAAYrE,cAAcT,QAAQ2F,4BAA4BrG,cAAcA,cAAc,GAAIkC,MAAAA,EAA2CA,EAAW,GAAI,CAAA,CAAI,EAAGuD,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAGQ,EAAaN,IAAI,SAAUW,GAClS,OAAOP,EAAmB/B,KAAK,SAAUuC,GACvC,OAAOA,EAAQhH,QAAU+G,CAC3B,CAAC,CACH,CAAC,EAAGjF,mBAAmB,EAAG,CACxBG,aAAcH,oBAAoBG,aAClCC,aAAcJ,oBAAoBI,YACpC,EAAGJ,oBAAoBC,OAAO,IA7B1B0E,GAAsBE,EAHDlG,cAAcA,cAAc,GAAIuF,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAGE,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAEU,OAAO,SAAUzI,GACjO,MAAO,CAAC,CAACA,CACX,CAAC,GAC4CiI,IAAI,SAAU/D,GAEzD,OADYA,EAAGrC,KAEjB,CAAC,EAED2G,GAAqBD,EADF3F,MAAMJ,KAAK,IAAIkG,IAAIJ,CAAmB,CAAC,GACxBL,IAAI,SAAUW,GAC9C,OAAOJ,EAAmBlC,KAAK,SAAUuC,GACvC,OAAOA,EAAQhH,QAAU+G,CAC3B,CAAC,CACH,CAAC,EACMnF,cAAcT,QAAQ2F,4BAA4BrG,cAAcA,cAAc,GAAIuF,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAGE,MAAAA,EAAmDA,EAAe,GAAI,CAAA,CAAI,EAAGS,EAAoB7E,mBAAmB,EAqB9R,EAAG,CAACa,EAAUqD,EAAc5C,EAAOH,EAAgBjD,MAAM,EACrDwE,GAAqB,EAAI7C,QAAQkE,SAAS,WAC5C,OAAS7C,EAAqBuD,EAAiB3E,cAAcT,QAAQ8E,YAAYM,EAAgB,CAC/FtE,aAAcH,oBAAoBG,aAClCC,aAAcJ,oBAAoBI,YACpC,EAAGJ,oBAAoBC,OAAO,CAChC,EAAG,CAACiB,EAAoBuD,EAAe,EACnCU,GAAc,EAAItF,QAAQkE,SAAS,WACrC,IAAIqB,EAAgBX,MAAAA,EAAuDA,EAAiB,GACxFY,EAAuBvE,MAAAA,EAAyDA,EAAkB,GAclGwE,GAbCpE,IAEHkE,EAAgBtF,cAAcT,QAAQ8E,YAAYiB,EAAe,CAC/DjF,aAAcH,oBAAoBG,aAClCC,aAAcJ,oBAAoBI,YACpC,EAAGJ,oBAAoBC,OAAO,EAC9BoF,EAAuBvF,cAAcT,QAAQ8E,YAE7CkB,EAAsB,CACpBlF,aAAcH,oBAAoBG,aAClCC,aAAcJ,oBAAoBI,YACpC,EAAGJ,oBAAoBC,OAAO,IAEd,EAAIL,gBAAgBP,SAASV,cAAcA,cAAc,GAAI0G,MAAAA,EAAmEA,EAAuB,GAAI,CAAA,CAAI,EAAGD,MAAAA,EAAqDA,EAAgB,GAAI,CAAA,CAAI,EAAGpF,oBAAoBC,OAAO,GAC/R,OAAKiB,EAIEoE,EAFExF,cAAcT,QAAQkG,sBAAsBD,EAAatF,mBAAmB,CAGvF,EAAG,CAACkB,EAAoBJ,EAAiB2D,EAAe,EACpDe,GAAmB,EAAI3F,QAAQkE,SAAS,WAC1C,IAAIqB,EAAgBX,MAAAA,EAAuDA,EAAiB,GACxFgB,EAAmBN,MAAAA,EAAiDA,EAAc,GAMlFO,GALCxE,IAEHkE,EAAgBtF,cAAcT,QAAQ8E,YAAYiB,EAAepF,mBAAmB,EACpFyF,EAAmB3F,cAAcT,QAAQ8E,YAAYsB,EAAkBzF,mBAAmB,GAE3EoF,EAAcd,IAAI,SAAUqB,GAC3C,OAAOA,EAAS3F,oBAAoBC,QACtC,CAAC,GACGiE,EAAeuB,EAAiBX,OAAO,SAAUa,GACnD,OAAOD,EAAWE,SAASD,EAAS3F,oBAAoBC,QAAQ,CAClE,CAAC,EACD,OAAKiB,EAIEgD,EAFEpE,cAAcT,QAAQkG,sBAAsBrB,EAAclE,mBAAmB,CAGxF,EAAG,CAACkB,EAAoBuD,EAAgBU,EAAY,EAapD,OAZA,EAAI7F,SAASuG,iBAAiB,WAC5B,IACIC,EAAY3J,OAAOkI,KAAK/C,CAAK,EAC7ByE,EAAc,OAACxF,EAAKY,EAAgBjD,OAAmCqC,EAAKY,EAAgB6E,aAE5FC,GAAUhH,MAAMqD,QAAQyD,CAAW,EAAIA,EAAc,CAACA,IAAcjB,OAAO,SAAUG,GACvF,MAAO,CAACa,EAAUF,SAASX,CAAM,CACnC,CAAC,EACGgB,EAAOvJ,QACT6E,EAASrF,SAASA,SAAS,GAAIoF,CAAK,EAAGc,EAAiB6D,CAAM,CAAC,CAAC,CAEpE,EAAG,CAAC9E,EAAgB6E,aAAc7E,EAAgBjD,MAAOoD,EAAOoB,EAAmB,EAC5E7C,QAAQR,QAAQ6G,cAAc,MAAO,CAC1CxC,WAAW,EAAIhE,aAAaL,SAASuC,EAAgBpB,MAAAA,EAAqDA,EAAgB,EAAE,EAC5H2F,MAAO1F,MAAAA,EAA6CA,EAAY,EAClE,EAAGZ,QAAQR,QAAQ6G,cAAczG,OAAO2G,WAAYlK,SAAS,CAC3DmK,WAAY,CAAA,EACZC,WAAY,CAAA,EAGZC,eAAgB,CAAA,EAChBvE,KAAMA,EACNnB,SAAUsE,EAGV7B,QAASA,EACTpB,QAASA,EACTsE,eAAgB,SAAUC,GACxB,IAAIlG,EACJ,OAAIwB,EAAiBF,EACX2D,MAAAA,GAAoEA,EAAiB9I,OAAU,OAAC6D,EAAKS,MAAAA,EAA2C,KAAA,EAASA,EAAS,CAC1KyF,WAAYA,EACZvF,mBAAoBA,EACpBhD,MAAOiD,EAAgBjD,MACvB+E,SAAU,WAER,IADA,IAAIyD,EAAS,GACJC,EAAK,EAAGA,EAAKlK,UAAUC,OAAQiK,CAAE,GACxCD,EAAOC,GAAMlK,UAAUkK,GAEzB,OAAO9D,EAAe9F,MAAM,KAAA,EAAQ2J,CAAM,CAC5C,EACA7F,SAAU2E,MAAAA,EAA2DA,EAAmB,GACxFoB,QAAS7E,CACX,CAAC,GAA+BxB,EAAKkG,EAAa3E,CACpD,EACA+E,wBAAyB5E,CAC3B,EAAGd,EAAiB,CAClB6C,cAAe,CAAA,EACf9C,mBAAoB,CAAC,CAACA,EACtB+B,SAAU,WAER,IADA,IAAIyD,EAAS,GACJC,EAAK,EAAGA,EAAKlK,UAAUC,OAAQiK,CAAE,GACxCD,EAAOC,GAAMlK,UAAUkK,GAEzB,OAAO9D,EAAe9F,MAAM,KAAA,EAAQ2J,CAAM,CAC5C,CACF,CAAC,CAAC,CAAC,CACL,CAAC,EACDrG,iBAAiByG,YAAc,mBAC/BvH,QAAQF,QAAUgB"}