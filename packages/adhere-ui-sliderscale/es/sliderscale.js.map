{"version":3,"file":"sliderscale.js","sources":["sliderscale.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nvar selectorPrefix = 'adhere-ui-sliderscale';\r\n/**\r\n * SliderScale\r\n * @class SliderScale\r\n * @classdesc SliderScale\r\n */\r\nvar SliderScale = /** @class */ (function (_super) {\r\n    __extends(SliderScale, _super);\r\n    function SliderScale() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.onMousemove = function (e) {\r\n            _this.touchEvent(e);\r\n        };\r\n        _this.onTouchmove = function (e) {\r\n            _this.touchEvent(e);\r\n        };\r\n        return _this;\r\n    }\r\n    SliderScale.prototype.componentDidMount = function () {\r\n        var _a;\r\n        // @ts-ignore\r\n        (_a = this.rangeEl) === null || _a === void 0 ? void 0 : _a.value = this.props.value;\r\n    };\r\n    SliderScale.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\r\n        var _a;\r\n        // @ts-ignore\r\n        (_a = this.rangeEl) === null || _a === void 0 ? void 0 : _a.value = nextProps.value;\r\n    };\r\n    SliderScale.prototype.touchEvent = function (e) {\r\n        // console.log('touchEvent', e.target, e.target.value, this.preValue);\r\n        var _a;\r\n        var value = e.target.value;\r\n        // @ts-ignore\r\n        (_a = this.rangeEl) === null || _a === void 0 ? void 0 : _a.value = value;\r\n        if (this.preValue !== value) {\r\n            this.preValue = value;\r\n            var onChange = this.props.onChange;\r\n            if (onChange) {\r\n                onChange(value);\r\n            }\r\n        }\r\n    };\r\n    SliderScale.prototype.renderScale = function () {\r\n        var _a = this.props, min = _a.min, max = _a.max, interval = _a.interval;\r\n        var itResult = [];\r\n        // @ts-ignore\r\n        for (var i = min; i < max; i++) {\r\n            // @ts-ignore\r\n            if (max - 1 === min) {\r\n                break;\r\n            }\r\n            var itemJSX = null;\r\n            // @ts-ignore\r\n            if ((i + 1) % interval === 0) {\r\n                itemJSX = (React.createElement(\"div\", { key: i, className: selectorPrefix + \"-scale-item \" + selectorPrefix + \"-scale-item-point\" },\r\n                    React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\" }, \r\n                    // @ts-ignore\r\n                    i + 1)));\r\n            }\r\n            else if (i === min) {\r\n                itemJSX = (React.createElement(\"div\", { key: i, className: selectorPrefix + \"-scale-item\" },\r\n                    React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\" }, min)));\r\n            }\r\n            // @ts-ignore\r\n            else if ((i + 1) % interval !== 0 && i === max - 1) {\r\n                itemJSX = (React.createElement(\"div\", { key: i, className: selectorPrefix + \"-scale-item\" },\r\n                    React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\" }, i + 1)));\r\n            }\r\n            else {\r\n                itemJSX = React.createElement(\"div\", { key: i, className: selectorPrefix + \"-scale-item\" });\r\n            }\r\n            // @ts-ignore\r\n            itResult.push(itemJSX);\r\n        }\r\n        var result = [];\r\n        if (min === max) {\r\n            result.push(React.createElement(\"div\", { key: 0, className: selectorPrefix + \"-scale-item\" },\r\n                React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\" }, \"0\"),\r\n                React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\", style: { right: 0, left: 'auto' } },\r\n                    \"$\",\r\n                    max)));\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            if (max - 1 === min) {\r\n                result.push(React.createElement(\"div\", { key: min, className: selectorPrefix + \"-scale-item\" },\r\n                    React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\" }, min),\r\n                    React.createElement(\"span\", { className: selectorPrefix + \"-scale-item-value\", style: { right: 0, left: 'auto' } }, max)));\r\n            }\r\n        }\r\n        return result.concat(itResult);\r\n    };\r\n    SliderScale.prototype.render = function () {\r\n        var _this = this;\r\n        // @ts-ignore\r\n        var _a = this.props, className = _a.className, style = _a.style;\r\n        var _b = this.props, min = _b.min, max = _b.max, step = _b.step;\r\n        // @ts-ignore\r\n        return (React.createElement(\"div\", { className: classNames(selectorPrefix, \r\n            // @ts-ignore\r\n            className.split(/\\s+/)), style: __assign({}, style), ref: function (el) { return (_this.el = el); } },\r\n            React.createElement(\"div\", { className: selectorPrefix + \"-scale\" }, this.renderScale()),\r\n            React.createElement(\"input\", { ref: function (el) { return (_this.rangeEl = el); }, className: selectorPrefix + \"-range\", type: \"range\", min: min, max: max, step: step, onMouseMove: this.onMousemove, onTouchMove: this.onTouchmove })));\r\n    };\r\n    return SliderScale;\r\n}(React.Component));\r\nSliderScale.defaultProps = {\r\n    className: '',\r\n    style: {},\r\n    min: 0,\r\n    max: 100,\r\n    step: 1,\r\n    value: 0,\r\n    interval: 5,\r\n    onChange: function () { },\r\n};\r\nSliderScale.propTypes = {\r\n    className: PropTypes.string,\r\n    style: PropTypes.object,\r\n    // 最小值\r\n    min: PropTypes.number,\r\n    // 最大值\r\n    max: PropTypes.number,\r\n    // 步进\r\n    step: PropTypes.number,\r\n    // 当前值\r\n    value: PropTypes.number,\r\n    // 刻度的间隔\r\n    interval: PropTypes.number,\r\n    onChange: PropTypes.func,\r\n};\r\nexport default SliderScale;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","React","PropTypes","classNames","selectorPrefix","SliderScale","_super","_this","onMousemove","e","touchEvent","onTouchmove","componentDidMount","_a","rangeEl","value","props","componentWillReceiveProps","nextProps","nextContext","target","preValue","onChange","renderScale","min","max","interval","itResult","itemJSX","createElement","key","className","push","result","style","right","left","concat","render","_b","step","split","ref","el","type","onMouseMove","onTouchMove","Component","defaultProps","propTypes","string","object","number","func"],"mappings":"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"}