{"version":3,"file":"sliderscale.js","sources":["sliderscale.js"],"sourcesContent":["import classNames from 'classnames';\nimport React, { memo, useCallback, useLayoutEffect, useRef } from 'react';\nvar selectorPrefix = 'adhere-ui-sliderscale';\nvar SliderScale = function (props) {\n    var _a = props.className, className = _a === void 0 ? '' : _a, _b = props.style, style = _b === void 0 ? {} : _b, _c = props.min, min = _c === void 0 ? 0 : _c, _d = props.max, max = _d === void 0 ? 100 : _d, _e = props.step, step = _e === void 0 ? 1 : _e, _f = props.value, value = _f === void 0 ? 0 : _f, _g = props.interval, interval = _g === void 0 ? 5 : _g, onChange = props.onChange;\n    var el = useRef(null);\n    var rangeEl = useRef(null);\n    var preValue = useRef('');\n    var renderScale = useCallback(function () {\n        var itResult = [];\n        for (var i = min; i < max; i++) {\n            if (max - 1 === min) {\n                break;\n            }\n            var itemJSX = null;\n            if ((i + 1) % interval === 0) {\n                itemJSX = (React.createElement(\"div\", { key: i, className: \"\".concat(selectorPrefix, \"-scale-item \").concat(selectorPrefix, \"-scale-item-point\") },\n                    React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\") }, i + 1)));\n            }\n            else if (i === min) {\n                itemJSX = (React.createElement(\"div\", { key: i, className: \"\".concat(selectorPrefix, \"-scale-item\") },\n                    React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\") }, min)));\n            }\n            else if ((i + 1) % interval !== 0 && i === max - 1) {\n                itemJSX = (React.createElement(\"div\", { key: i, className: \"\".concat(selectorPrefix, \"-scale-item\") },\n                    React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\") }, i + 1)));\n            }\n            else {\n                itemJSX = React.createElement(\"div\", { key: i, className: \"\".concat(selectorPrefix, \"-scale-item\") });\n            }\n            itResult.push(itemJSX);\n        }\n        var result = [];\n        if (min === max) {\n            result.push(React.createElement(\"div\", { key: 0, className: \"\".concat(selectorPrefix, \"-scale-item\") },\n                React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\") }, \"0\"),\n                React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\"), style: { right: 0, left: 'auto' } },\n                    \"$\",\n                    max)));\n        }\n        else {\n            if (max - 1 === min) {\n                result.push(React.createElement(\"div\", { key: min, className: \"\".concat(selectorPrefix, \"-scale-item\") },\n                    React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\") }, min),\n                    React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-scale-item-value\"), style: { right: 0, left: 'auto' } }, max)));\n            }\n        }\n        return result.concat(itResult);\n    }, [min, max, interval]);\n    var onMousemove = useCallback(function (e) {\n        touchEvent(e);\n    }, []);\n    var onTouchmove = useCallback(function (e) {\n        touchEvent(e);\n    }, []);\n    function touchEvent(e) {\n        var value = e.target.value;\n        rangeEl.current.value = value;\n        if (preValue.current !== value) {\n            preValue.current = value;\n            if (onChange) {\n                onChange(value);\n            }\n        }\n    }\n    useLayoutEffect(function () {\n        rangeEl.current.value = \"\".concat(value);\n    }, [min, max, step, value, interval]);\n    return (React.createElement(\"div\", { className: classNames(selectorPrefix, className !== null && className !== void 0 ? className : ''), style: style !== null && style !== void 0 ? style : {}, ref: el },\n        React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-scale\") }, renderScale()),\n        React.createElement(\"input\", { ref: rangeEl, className: \"\".concat(selectorPrefix, \"-range\"), type: \"range\", min: min, max: max, step: step, onMouseMove: onMousemove, onTouchMove: onTouchmove })));\n};\nexport default memo(SliderScale);\n"],"names":["classNames","React","memo","useCallback","useLayoutEffect","useRef","selectorPrefix","SliderScale","props","_a","className","_b","style","_c","min","_d","max","_e","step","_f","value","_g","interval","onChange","el","rangeEl","preValue","renderScale","itResult","i","itemJSX","createElement","key","concat","push","result","right","left","onMousemove","e","touchEvent","onTouchmove","target","current","ref","type","onMouseMove","onTouchMove"],"mappings":"OAAOA,eAAgB,oBAChBC,OAASC,KAAMC,YAAaC,gBAAiBC,MAAqB,KAAP,QAClE,IAAIC,eAAiB,wBACjBC,YAAc,SAAUC,GACxB,IAAIC,EAAKD,EAAME,UAAWA,EAAmB,KAAA,IAAPD,EAAgB,GAAKA,EAAIE,EAAKH,EAAMI,MAAOA,EAAe,KAAA,IAAPD,EAAgB,GAAKA,EAAIE,EAAKL,EAAMM,IAAKA,EAAa,KAAA,IAAPD,EAAgB,EAAIA,EAAIE,EAAKP,EAAMQ,IAAKA,EAAa,KAAA,IAAPD,EAAgB,IAAMA,EAAIE,EAAKT,EAAMU,KAAMA,EAAc,KAAA,IAAPD,EAAgB,EAAIA,EAAIE,EAAKX,EAAMY,MAAOA,EAAe,KAAA,IAAPD,EAAgB,EAAIA,EAAIE,EAAKb,EAAMc,SAAUA,EAAkB,KAAA,IAAPD,EAAgB,EAAIA,EAAIE,EAAWf,EAAMe,SACvXC,EAAKnB,OAAO,IAAI,EAChBoB,EAAUpB,OAAO,IAAI,EACrBqB,EAAWrB,OAAO,EAAE,EACpBsB,EAAcxB,YAAY,WAE1B,IADA,IAAIyB,EAAW,GACNC,EAAIf,EAAKe,EAAIb,GACdA,EAAM,IAAMF,EADOe,CAAC,GAAI,CAI5B,IAAIC,EAAU,KAEVA,GADCD,EAAI,GAAKP,GAAa,EACZrB,MAAM8B,cAAc,MAAO,CAAEC,IAAKH,EAAGnB,UAAW,GAAGuB,OAAO3B,eAAgB,cAAc,EAAE2B,OAAO3B,eAAgB,mBAAmB,CAAE,EAC7IL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,CAAE,EAAGuB,EAAI,CAAC,CAAE,EAEjGA,IAAMf,EACAb,MAAM8B,cAAc,MAAO,CAAEC,IAAKH,EAAGnB,UAAW,GAAGuB,OAAO3B,eAAgB,aAAa,CAAE,EAChGL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,CAAE,EAAGQ,CAAG,CAAE,GAE9Fe,EAAI,GAAKP,GAAa,GAAKO,IAAMb,EAAM,EAClCf,MAAM8B,cAAc,MAAO,CAAEC,IAAKH,EAAGnB,UAAW,GAAGuB,OAAO3B,eAAgB,aAAa,CAAE,EAChGL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,CAAE,EAAGuB,EAAI,CAAC,CAAE,EAG5F5B,MAAM8B,cAAc,MAAO,CAAEC,IAAKH,EAAGnB,UAAW,GAAGuB,OAAO3B,eAAgB,aAAa,CAAE,CAAC,EAExGsB,EAASM,KAAKJ,CAAO,CACzB,CACA,IAAIK,EAAS,GAeb,OAdIrB,IAAQE,EACRmB,EAAOD,KAAKjC,MAAM8B,cAAc,MAAO,CAAEC,IAAK,EAAGtB,UAAW,GAAGuB,OAAO3B,eAAgB,aAAa,CAAE,EACjGL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,CAAE,EAAG,GAAG,EAC9FL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,EAAGM,MAAO,CAAEwB,MAAO,EAAGC,KAAM,MAAO,CAAE,EACvH,IACArB,CAAG,CAAC,CAAC,EAGTA,EAAM,IAAMF,GACZqB,EAAOD,KAAKjC,MAAM8B,cAAc,MAAO,CAAEC,IAAKlB,EAAKJ,UAAW,GAAGuB,OAAO3B,eAAgB,aAAa,CAAE,EACnGL,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,CAAE,EAAGQ,CAAG,EAC9Fb,MAAM8B,cAAc,OAAQ,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,mBAAmB,EAAGM,MAAO,CAAEwB,MAAO,EAAGC,KAAM,MAAO,CAAE,EAAGrB,CAAG,CAAC,CAAC,EAGxImB,EAAOF,OAAOL,CAAQ,CACjC,EAAG,CAACd,EAAKE,EAAKM,EAAS,EACnBgB,EAAcnC,YAAY,SAAUoC,GACpCC,EAAWD,CAAC,CAChB,EAAG,EAAE,EACDE,EAActC,YAAY,SAAUoC,GACpCC,EAAWD,CAAC,CAChB,EAAG,EAAE,EACL,SAASC,EAAWD,GACZnB,EAAQmB,EAAEG,OAAOtB,MACrBK,EAAQkB,QAAQvB,MAAQA,EACpBM,EAASiB,UAAYvB,IACrBM,EAASiB,QAAUvB,EACfG,IACAA,EAASH,CAAK,CAG1B,CAIA,OAHAhB,gBAAgB,WACZqB,EAAQkB,QAAQvB,MAAQ,GAAGa,OAAOb,CAAK,CAC3C,EAAG,CAACN,EAAKE,EAAKE,EAAME,EAAOE,EAAS,EAC5BrB,MAAM8B,cAAc,MAAO,CAAErB,UAAWV,WAAWM,eAAgBI,MAAAA,EAA6CA,EAAY,EAAE,EAAGE,MAAOA,MAAAA,EAAqCA,EAAQ,GAAIgC,IAAKpB,CAAG,EACrMvB,MAAM8B,cAAc,MAAO,CAAErB,UAAW,GAAGuB,OAAO3B,eAAgB,QAAQ,CAAE,EAAGqB,EAAY,CAAC,EAC5F1B,MAAM8B,cAAc,QAAS,CAAEa,IAAKnB,EAASf,UAAW,GAAGuB,OAAO3B,eAAgB,QAAQ,EAAGuC,KAAM,QAAS/B,IAAKA,EAAKE,IAAKA,EAAKE,KAAMA,EAAM4B,YAAaR,EAAaS,YAAaN,CAAY,CAAC,CAAE,CAC1M,iBACevC,KAAKK,WAAW"}