import{SearchAndPaginParamsMemo as StateSearchAndPaginParamsMemo}from"../../ProSearchStateTable";import{SearchAndPaginParamsMemo}from"../../ProSearchTable";var historyStack=[],codeStack=[];function clearSearAndPaginParamsByPathname(a){var e=SearchAndPaginParamsMemo.findIndexByPath(a);console.log("findIndex",e),-1!==e&&SearchAndPaginParamsMemo.deleteByIndex(e),-1!==(e=StateSearchAndPaginParamsMemo.findIndexByPath(a))&&StateSearchAndPaginParamsMemo.deleteByIndex(e)}function Listener(a,e){function t(){var a,e=n.pathname,t=(console.log("pathname",e),console.log("pathhistoryStackname",historyStack),historyStack.lastIndexOf(e));(-1===t?(clearSearAndPaginParamsByPathname(e),historyStack):(a=historyStack.slice(t+1),console.log("pathArr",a),1===a.length?a[0].startsWith(e)||clearSearAndPaginParamsByPathname(e):(console.log("清除查询条件"),clearSearAndPaginParamsByPathname(e)),historyStack=historyStack.slice(0,t))).push(e)}var n=a.location;a.action;"PUSH"===e.action?t():"POP"===e.action&&codeStack.push(t)}Listener.getCode=function(){return codeStack.pop()};export default Listener;
//# sourceMappingURL=routeListen.js.map
