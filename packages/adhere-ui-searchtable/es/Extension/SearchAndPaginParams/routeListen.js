import{SearchAndPaginParamsMemo as StateSearchAndPaginParamsMemo}from"../../ProSearchStateTable";import{SearchAndPaginParamsMemo}from"../../ProSearchTable";var historyStack=[];function clearSearAndPaginParamsByPathname(a){var e=SearchAndPaginParamsMemo.findIndexByPath(a);-1!==e&&SearchAndPaginParamsMemo.deleteByIndex(e),-1!==(e=StateSearchAndPaginParamsMemo.findIndexByPath(a))&&StateSearchAndPaginParamsMemo.deleteByIndex(e)}var codeStack=[],Listener=function(a,e){function t(){var a,e=r.pathname,t=historyStack.lastIndexOf(e);(-1===t?(clearSearAndPaginParamsByPathname(e),historyStack):(1===(a=historyStack.slice(t+1)).length&&a[0].startsWith(e)||clearSearAndPaginParamsByPathname(e),historyStack=historyStack.slice(0,t))).push(e)}var r=a.location;a.action;"PUSH"===e.action&&t(),"POP"===e.action&&codeStack.push(t)};Listener.getCode=function(){return codeStack.pop()};export default Listener;
//# sourceMappingURL=routeListen.js.map
