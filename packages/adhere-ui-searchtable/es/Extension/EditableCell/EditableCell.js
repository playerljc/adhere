import{__assign,__rest}from"tslib";import React,{useContext,useEffect,useMemo,useState}from"react";import{SearchTableContext}from"../../SearchTable";import EditableCellEdit from"./Edit/EditableCellEdit";import EditableCellView from"./View";var EditableCell=function(e){e.record;var t=e.column,i=(e.rowIndex,e.columns,__rest(e,["record","column","rowIndex","columns"])),n={editable:!1,defaultStatus:"view",type:"input",props:{},formItemProps:{},useTrigger:!0,require:!0,dataIndex:null==t?void 0:t.dataIndex,useKeepEdit:!1},a=useMemo(function(){return __assign(__assign({},n),(null==t?void 0:t.$editable)||{})},[t,null==t?void 0:t.dataIndex]),l=useState(a.defaultStatus),r=l[0],d=l[1],l=useContext(SearchTableContext);return useEffect(function(){return d("view")},[null==(l=null==l?void 0:l.context)?void 0:l.getData()]),useEffect(function(){d(null==a?void 0:a.defaultStatus)},[null==a?void 0:a.defaultStatus]),a.editable?a.useKeepEdit?React.createElement("td",__assign({},i||{}),React.createElement(EditableCellEdit,__assign({},e,{editableConfig:a,onTriggerChange:function(){return d("view")}}))):"view"===r?React.createElement("td",__assign({},i||{}),React.createElement(EditableCellView,__assign({},e,{editableConfig:a,onTriggerChange:function(){return d("edit")}}))):"edit"===r?React.createElement("td",__assign({},i||{}),React.createElement(EditableCellEdit,__assign({},e,{editableConfig:a,onTriggerChange:function(){return d("view")}}))):React.createElement("td",__assign({},i||{}),null==i?void 0:i.children):React.createElement("td",__assign({},i||{}),null==i?void 0:i.children)};export default EditableCell;
//# sourceMappingURL=EditableCell.js.map
