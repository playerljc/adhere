import classNames from"classnames";import React,{useCallback,useContext}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../SearchTable";import{SearchTableContext}from"../../SearchTable";import{EditableContext}from"./EditableRow";var EditorRowControl=function(e){var t=e.className,n=e.styles,o=e.renderEditorRow,r=e.renderSave,a=e.record,l=e.rowKey,i=e.editorRowId,c=e.onEditor,u=e.onSave,d=useContext(EditableContext),f=useCallback(function(){return React.createElement("a",null,Intl.v("保存"))},[]),s=useCallback(function(){return React.createElement("a",null,Intl.v("编辑行"))},[]),m=useContext(SearchTableContext),C=useCallback(function(e){u?u(e).then(function(){return v(e)}):v(e)},[]),R=useCallback(function(){var e;c?null!=(e=null==c?void 0:c(a[l]))&&e.then(function(){return b()}):b()},[]),v=function(e){return null==(e=null==m?void 0:m.updateEditorCellRowData({values:e,record:a}))?void 0:e.then(function(){return E()})},E=function(){return null==m?void 0:m.setState({editorRowId:""})},b=function(){return null==m?void 0:m.setState({editorRowId:a[l]})};return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-editor-row-control"),t),style:n||{}},React.createElement(ConditionalRender,{conditional:i!==a[l],noMatch:function(){return React.createElement("div",{onClick:function(){return null==d?void 0:d.validateFields().then(function(e){return C(e)})}},React.createElement(ConditionalRender,{conditional:!r,noMatch:function(){return null==r?void 0:r()}},function(){return f()}))}},function(){return React.createElement("div",{onClick:R},React.createElement(ConditionalRender,{conditional:!o,noMatch:function(){return null==o?void 0:o()}},function(){return s()}))}))};export default EditorRowControl;
//# sourceMappingURL=EditorRowControl.js.map
