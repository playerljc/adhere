{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { EditOutlined } from '@ant-design/icons';\r\nimport { selectorPrefix } from '../../../SearchTable';\r\n/**\r\n * EditableCellViewProps\r\n * @description 可编辑单元格的查看状态\r\n */\r\nvar EditableCellView = function (props) {\r\n    var record = props.record, column = props.column, rowIndex = props.rowIndex, columns = props.columns, editableConfig = props.editableConfig, onTriggerChange = props.onTriggerChange, restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\r\n    var useTrigger = editableConfig.useTrigger, renderToEditTrigger = editableConfig.renderToEditTrigger, dataIndex = editableConfig.dataIndex, onBeforeToEdit = editableConfig.onBeforeToEdit;\r\n    // 不使用句柄则返回原始组件\r\n    if (!useTrigger) {\r\n        // @ts-ignore\r\n        return React.createElement(React.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\r\n    }\r\n    /**\r\n     * renderTrigger\r\n     * @description 渲染句柄\r\n     */\r\n    function renderTrigger() {\r\n        return React.createElement(EditOutlined, null);\r\n    }\r\n    /**\r\n     * onTrigger\r\n     * @description 点击了句柄\r\n     */\r\n    function onTrigger() {\r\n        var _a;\r\n        if (onBeforeToEdit) {\r\n            (_a = onBeforeToEdit({\r\n                value: record[dataIndex],\r\n                record: record,\r\n                dataIndex: dataIndex,\r\n                rowIndex: rowIndex,\r\n            })) === null || _a === void 0 ? void 0 : _a.then(function () { return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange(); });\r\n            return;\r\n        }\r\n        onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\r\n    }\r\n    return (React.createElement(\"div\", { className: selectorPrefix + \"-editablecell-view\" },\r\n        React.createElement(\"div\", { className: classNames(selectorPrefix + \"-editablecell-view-inner\", 'ellipsis' in column && column.ellipsis\r\n                ? selectorPrefix + \"-editablecell-view-inner-ellipsis\"\r\n                : '') }, \r\n        // @ts-ignore\r\n        restProps === null || \r\n        // @ts-ignore\r\n        restProps === void 0 ? void 0 : \r\n        // @ts-ignore\r\n        restProps.children),\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-editablecell-view-trigger\" },\r\n            React.createElement(\"div\", { className: selectorPrefix + \"-editablecell-view-trigger-inner\", onClick: onTrigger },\r\n                !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\r\n                    value: record === null || record === void 0 ? void 0 : record[dataIndex],\r\n                    record: record,\r\n                    dataIndex: dataIndex,\r\n                    rowIndex: rowIndex,\r\n                })),\r\n                !renderToEditTrigger && renderTrigger()))));\r\n};\r\nexport default EditableCellView;\r\n//# sourceMappingURL=index.js.map"],"names":["__rest","classNames","React","EditOutlined","selectorPrefix","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","ellipsis","children","onClick","_a","value","then","Fragment"],"mappings":"OAASA,MAAqB,KAAP,eAChBC,eAAgB,oBAChBC,UAAW,eACTC,YAAuC,KAAnB,2BACpBC,cAA4C,KAAtB,uBAK/B,IAAIC,iBAAmB,SAAUC,GAC7B,IAAIC,EAASD,EAAMC,OAAQC,EAASF,EAAME,OAAQC,EAAWH,EAAMG,SAAmCC,GAAfJ,EAAMK,QAA0BL,EAAMI,gBAAgBE,EAAkBN,EAAMM,gBAAiBC,EAAYb,OAAOM,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EAC5RQ,EAAaJ,EAAeI,WAAYC,EAAsBL,EAAeK,oBAAqBC,EAAYN,EAAeM,UAAWC,EAAiBP,EAAeO,eAE5K,OAAKH,EA4BGZ,MAAMgB,cAAc,MAAO,CAAEC,UAAWf,eAAiB,oBAAqB,EAClFF,MAAMgB,cAAc,MAAO,CAAEC,UAAWlB,WAAWG,eAAiB,2BAA4B,aAAcI,GAAUA,EAAOY,SACrHhB,eAAiB,oCACjB,EAAE,CAAE,EAEdS,MAAAA,EAEuB,KAAA,EAEvBA,EAAUQ,QAAQ,EAClBnB,MAAMgB,cAAc,MAAO,CAAEC,UAAWf,eAAiB,4BAA6B,EAClFF,MAAMgB,cAAc,MAAO,CAAEC,UAAWf,eAAiB,mCAAoCkB,QAxBrG,WACI,IAAIC,EACAN,EACA,OAACM,EAAKN,EAAe,CACjBO,MAAOjB,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,IAAwCc,EAAGE,KAAK,WAAc,OAAOb,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAAG,CAAC,EAGhKA,MAAAA,GAAkEA,EAAgB,CACtF,CAYwH,EAC5G,CAAC,CAACG,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACpHS,MAAOjB,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,GACD,CAACM,GArCFb,MAAMgB,cAAcf,aAAc,IAAI,CAqCE,CAAC,CAAE,EA5C3CD,MAAMgB,cAAchB,MAAMwB,SAAU,KAAMb,MAAAA,EAA6C,KAAA,EAASA,EAAUQ,QAAQ,CA6CjI,iBACehB"}