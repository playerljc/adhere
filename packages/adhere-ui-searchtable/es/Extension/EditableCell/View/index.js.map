{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport React from 'react';\nimport { EditOutlined } from '@ant-design/icons';\nimport { selectorPrefix } from '../../../SearchTable';\n/**\n * EditableCellViewProps\n * @description 可编辑单元格的查看状态\n */\nvar EditableCellView = function EditableCellView(props) {\n  var record = props.record,\n    column = props.column,\n    rowIndex = props.rowIndex,\n    columns = props.columns,\n    editableConfig = props.editableConfig,\n    onTriggerChange = props.onTriggerChange,\n    restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\n  var useTrigger = editableConfig.useTrigger,\n    renderToEditTrigger = editableConfig.renderToEditTrigger,\n    dataIndex = editableConfig.dataIndex,\n    onBeforeToEdit = editableConfig.onBeforeToEdit;\n  // 不使用句柄则返回原始组件\n  if (!useTrigger) {\n    // @ts-ignore\n    return /*#__PURE__*/React.createElement(React.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\n  }\n  /**\n   * renderTrigger\n   * @description 渲染句柄\n   */\n  function renderTrigger() {\n    return /*#__PURE__*/React.createElement(EditOutlined, null);\n  }\n  /**\n   * onTrigger\n   * @description 点击了句柄\n   */\n  function onTrigger() {\n    var _a;\n    if (onBeforeToEdit) {\n      (_a = onBeforeToEdit({\n        value: record[dataIndex],\n        record: record,\n        dataIndex: dataIndex,\n        rowIndex: rowIndex\n      })) === null || _a === void 0 ? void 0 : _a.then(function () {\n        return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n      });\n      return;\n    }\n    onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis ? \"\".concat(selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n  },\n  // @ts-ignore\n  restProps === null || restProps === void 0 ? void 0 : restProps.children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger-inner\"),\n    onClick: onTrigger\n  }, !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\n    value: record === null || record === void 0 ? void 0 : record[dataIndex],\n    record: record,\n    dataIndex: dataIndex,\n    rowIndex: rowIndex\n  })), !renderToEditTrigger && renderTrigger())));\n};\nexport default EditableCellView;"],"names":["__rest","this","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","classNames","React","EditOutlined","selectorPrefix","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","concat","ellipsis","children","onClick","_a","value","then","Fragment"],"mappings":"AAAA,IAAIA,OAASC,MAAQA,KAAKD,QAAU,SAAUE,EAAGC,GAC/C,IAAIC,EAAI,GACR,IAASC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,CAAC,GAAKF,EAAEO,QAAQL,CAAC,EAAI,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,YAAxC,OAAOI,OAAOK,sBAAsC,IAAK,IAAIC,EAAI,EAAGP,EAAIC,OAAOK,sBAAsBT,CAAC,EAAGU,EAAIP,EAAEQ,OAAQD,CAAC,GACnIT,EAAEO,QAAQL,EAAEO,EAAE,EAAI,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,EAAE,IAAGR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,CACT,SACOW,eAAgB,oBAChBC,UAAW,eACTC,YAAuC,KAAnB,2BACpBC,cAA4C,KAAtB,uBAK/B,IAAIC,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAMC,OACjBC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SAEjBC,GADUJ,EAAMK,QACCL,EAAMI,gBACvBE,EAAkBN,EAAMM,gBACxBC,EAAY3B,OAAOoB,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EACxGQ,EAAaJ,EAAeI,WAC9BC,EAAsBL,EAAeK,oBACrCC,EAAYN,EAAeM,UAC3BC,EAAiBP,EAAeO,eAElC,OAAKH,EA8BeZ,MAAMgB,cAAc,MAAO,CAC7CC,UAAW,GAAGC,OAAOhB,eAAgB,oBAAoB,CAC3D,EAAgBF,MAAMgB,cAAc,MAAO,CACzCC,UAAWlB,WAAW,GAAGmB,OAAOhB,eAAgB,0BAA0B,EAAG,aAAcI,GAAUA,EAAOa,SAAW,GAAGD,OAAOhB,eAAgB,mCAAmC,EAAI,EAAE,CAC5L,EAEAS,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,EAAgBpB,MAAMgB,cAAc,MAAO,CACjHC,UAAW,GAAGC,OAAOhB,eAAgB,4BAA4B,CACnE,EAAgBF,MAAMgB,cAAc,MAAO,CACzCC,UAAW,GAAGC,OAAOhB,eAAgB,kCAAkC,EACvEmB,QAzBF,WACE,IAAIC,EACAP,EACF,OAACO,EAAKP,EAAe,CACnBQ,MAAOlB,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,IAAwCe,EAAGE,KAAK,WAC/C,OAAOd,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAC3F,CAAC,EAGHA,MAAAA,GAAkEA,EAAgB,CACpF,CAYA,EAAG,CAAC,CAACG,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACzHU,MAAOlB,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,GAAI,CAACM,GArCgBb,MAAMgB,cAAcf,aAAc,IAAI,CAqChB,CAAC,CAAC,EA5CxBD,MAAMgB,cAAchB,MAAMyB,SAAU,KAAMd,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,CA6C1I,iBACejB"}