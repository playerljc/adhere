{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["import { __rest } from \"tslib\";\nimport classNames from 'classnames';\nimport React from 'react';\nimport { EditOutlined } from '@ant-design/icons';\nimport { selectorPrefix } from '../../../SearchTable';\n/**\n * EditableCellViewProps\n * @description 可编辑单元格的查看状态\n */\n\nvar EditableCellView = function EditableCellView(props) {\n  var record = props.record,\n      column = props.column,\n      rowIndex = props.rowIndex,\n      columns = props.columns,\n      editableConfig = props.editableConfig,\n      onTriggerChange = props.onTriggerChange,\n      restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\n\n  var useTrigger = editableConfig.useTrigger,\n      renderToEditTrigger = editableConfig.renderToEditTrigger,\n      dataIndex = editableConfig.dataIndex,\n      onBeforeToEdit = editableConfig.onBeforeToEdit; // 不使用句柄则返回原始组件\n\n  if (!useTrigger) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\n  }\n  /**\n   * renderTrigger\n   * @description 渲染句柄\n   */\n\n\n  function renderTrigger() {\n    return /*#__PURE__*/React.createElement(EditOutlined, null);\n  }\n  /**\n   * onTrigger\n   * @description 点击了句柄\n   */\n\n\n  function onTrigger() {\n    var _a;\n\n    if (onBeforeToEdit) {\n      (_a = onBeforeToEdit({\n        value: record[dataIndex],\n        record: record,\n        dataIndex: dataIndex,\n        rowIndex: rowIndex\n      })) === null || _a === void 0 ? void 0 : _a.then(function () {\n        return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n      });\n      return;\n    }\n\n    onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis ? \"\".concat(selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n  }, restProps === null || restProps === void 0 ? void 0 : restProps.children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger\")\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger-inner\"),\n    onClick: onTrigger\n  }, !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\n    value: record === null || record === void 0 ? void 0 : record[dataIndex],\n    record: record,\n    dataIndex: dataIndex,\n    rowIndex: rowIndex\n  })), !renderToEditTrigger && renderTrigger())));\n};\n\nexport default EditableCellView;"],"names":["__rest","classNames","React","EditOutlined","selectorPrefix","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","concat","ellipsis","children","onClick","_a","value","then","Fragment"],"mappings":"OAASA,MAAqB,KAAP,eAChBC,eAAgB,oBAChBC,UAAW,eACTC,YAAuC,KAAnB,2BACpBC,cAA4C,KAAtB,uBAM/B,IAAIC,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAMC,OACfC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SAEjBC,GADUJ,EAAMK,QACCL,EAAMI,gBACvBE,EAAkBN,EAAMM,gBACxBC,EAAYb,OAAOM,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EAE1GQ,EAAaJ,EAAeI,WAC5BC,EAAsBL,EAAeK,oBACrCC,EAAYN,EAAeM,UAC3BC,EAAiBP,EAAeO,eAEpC,OAAKH,EAoCeZ,MAAMgB,cAAc,MAAO,CAC7CC,UAAW,GAAGC,OAAOhB,eAAgB,oBAAoB,CAC3D,EAAgBF,MAAMgB,cAAc,MAAO,CACzCC,UAAWlB,WAAW,GAAGmB,OAAOhB,eAAgB,0BAA0B,EAAG,aAAcI,GAAUA,EAAOa,SAAW,GAAGD,OAAOhB,eAAgB,mCAAmC,EAAI,EAAE,CAC5L,EAAGS,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,EAAgBpB,MAAMgB,cAAc,MAAO,CACpHC,UAAW,GAAGC,OAAOhB,eAAgB,4BAA4B,CACnE,EAAgBF,MAAMgB,cAAc,MAAO,CACzCC,UAAW,GAAGC,OAAOhB,eAAgB,kCAAkC,EACvEmB,QA1BF,WACE,IAAIC,EAEAP,EACF,OAACO,EAAKP,EAAe,CACnBQ,MAAOlB,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,IAAwCe,EAAGE,KAAK,WAC/C,OAAOd,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAC3F,CAAC,EAIHA,MAAAA,GAAkEA,EAAgB,CACpF,CAWA,EAAG,CAAC,CAACG,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACzHU,MAAOlB,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,GAAI,CAACM,GAxCgBb,MAAMgB,cAAcf,aAAc,IAAI,CAwChB,CAAC,CAAC,EAjDxBD,MAAMgB,cAAchB,MAAMyB,SAAU,KAAMd,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,CAkD1I,iBAEejB"}