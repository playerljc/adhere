import{__assign,__rest}from"tslib";import React,{useContext,useEffect,useMemo,useState}from"react";import{SearchTableContext}from"../../SearchTable";import EditableTableCellEdit from"./Edit/EditableTableCellEdit";import EditableCellView from"./View";var EditableTableCell=function(e){e.record;var t=e.column,a=(e.rowIndex,e.columns,__rest(e,["record","column","rowIndex","columns"])),l={editable:!1,defaultStatus:"view",type:"input",props:{},formItemProps:{},useTrigger:!0,require:!0,dataIndex:null==t?void 0:t.dataIndex,useKeepEdit:!1},i=useMemo(function(){return __assign(__assign({},l),(null==t?void 0:t.$editable)||{})},[t,null==t?void 0:t.dataIndex]),n=useState(i.defaultStatus),r=n[0],d=n[1],n=useContext(SearchTableContext);return useEffect(function(){return d("view")},[null==(n=null==n?void 0:n.context)?void 0:n.getData()]),useEffect(function(){d(null==i?void 0:i.defaultStatus)},[null==i?void 0:i.defaultStatus]),i.editable?i.useKeepEdit?React.createElement("td",__assign({},a||{}),React.createElement(EditableTableCellEdit,__assign({},e,{editableConfig:i,onTriggerChange:function(){return d("view")}}))):"view"===r?React.createElement("td",__assign({},a||{}),React.createElement(EditableCellView,__assign({},e,{editableConfig:i,onTriggerChange:function(){return d("edit")}}))):"edit"===r?React.createElement("td",__assign({},a||{}),React.createElement(EditableTableCellEdit,__assign({},e,{editableConfig:i,onTriggerChange:function(){return d("view")}}))):React.createElement("td",__assign({},a||{}),null==a?void 0:a.children):React.createElement("td",__assign({},a||{}),null==a?void 0:a.children)};export default EditableTableCell;
//# sourceMappingURL=EditableTableCell.js.map
