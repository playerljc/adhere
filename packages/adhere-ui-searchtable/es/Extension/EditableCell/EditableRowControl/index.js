import classNames from"classnames";import React,{useCallback,useContext}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Intl from"@baifendian/adhere-util-intl";import{SearchTableContext,selectorPrefix}from"../../../SearchTable";import{EditableContext}from"../EditableRow";var EditableRowControl=function(e){var t=e.className,n=e.styles,o=e.renderEditorRow,r=e.renderSave,a=e.renderCancel,l=e.record,c=e.rowKey,i=e.editorRowId,u=e.onEditor,d=e.onSave,s=useContext(SearchTableContext),f=useContext(EditableContext),m=useCallback(function(){return React.createElement("a",null,Intl.v("保存"))},[]),v=useCallback(function(){return React.createElement("a",null,Intl.v("取消"))},[]),R=useCallback(function(){return React.createElement("a",null,Intl.v("编辑行"))},[]),C=useCallback(function(e){d?d(e).then(function(){return x(e)}):x(e)},[]),E=useCallback(function(){var e;u?null!=(e=null==u?void 0:u(l[c]))&&e.then(function(){return w()}):w()},[]),x=function(e){var t;return null==(t=null==(t=null==s?void 0:s.context)?void 0:t.updateEditorCellRowData({values:e,record:l}))?void 0:t.then(function(){return b()})},b=function(){var e;return null==(e=null==s?void 0:s.context)?void 0:e.setState({editorRowId:""})},w=function(){var e;return null==(e=null==s?void 0:s.context)?void 0:e.setState({editorRowId:l[c]})};return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-editor-row-control"),t),style:n||{}},React.createElement(ConditionalRender,{conditional:i!==l[c],noMatch:function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel")},React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:function(){return null==f?void 0:f.validateFields().then(function(e){return C(e)})}},React.createElement(ConditionalRender,{conditional:!r,noMatch:function(){return null==r?void 0:r()}},function(){return m()})),React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:b},React.createElement(ConditionalRender,{conditional:!a,noMatch:function(){return null==a?void 0:a()}},function(){return v()})))}},function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-edit"),onClick:E},React.createElement(ConditionalRender,{conditional:!o,noMatch:function(){return null==o?void 0:o()}},function(){return R()}))}))};export default EditableRowControl;
//# sourceMappingURL=index.js.map
