import classNames from"classnames";import React,{useCallback,useContext}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../../SearchTable";import{SearchTableContext}from"../../../SearchTable";import{EditableContext}from"../EditableRow";var EditorRowControl=function(e){var t=e.className,n=e.styles,o=e.renderEditorRow,r=e.renderSave,a=e.renderCancel,l=e.record,c=e.rowKey,i=e.editorRowId,u=e.onEditor,d=e.onSave,s=useContext(EditableContext),f=useCallback(function(){return React.createElement("a",null,Intl.v("保存"))},[]),m=useCallback(function(){return React.createElement("a",null,Intl.v("取消"))},[]),v=useCallback(function(){return React.createElement("a",null,Intl.v("编辑行"))},[]),R=useContext(SearchTableContext),C=useCallback(function(e){d?d(e).then(function(){return b(e)}):b(e)},[]),E=useCallback(function(){var e;u?null!=(e=null==u?void 0:u(l[c]))&&e.then(function(){return w()}):w()},[]),b=function(e){return null==(e=null==R?void 0:R.updateEditorCellRowData({values:e,record:l}))?void 0:e.then(function(){return h()})},h=function(){return null==R?void 0:R.setState({editorRowId:""})},w=function(){return null==R?void 0:R.setState({editorRowId:l[c]})};return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-editor-row-control"),t),style:n||{}},React.createElement(ConditionalRender,{conditional:i!==l[c],noMatch:function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel")},React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:function(){return null==s?void 0:s.validateFields().then(function(e){return C(e)})}},React.createElement(ConditionalRender,{conditional:!r,noMatch:function(){return null==r?void 0:r()}},function(){return f()})),React.createElement("div",{className:"".concat(selectorPrefix,"-editor-row-control-save-cancel-item"),onClick:h},React.createElement(ConditionalRender,{conditional:!a,noMatch:function(){return null==a?void 0:a()}},function(){return m()})))}},function(){return React.createElement("div",{onClick:E},React.createElement(ConditionalRender,{conditional:!o,noMatch:function(){return null==o?void 0:o()}},function(){return v()}))}))};export default EditorRowControl;
//# sourceMappingURL=index.js.map
