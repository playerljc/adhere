{"version":3,"file":"EditorRowControl.js","sources":["Extension/EditableCell/EditorRowControl.js"],"sourcesContent":["import classNames from 'classnames';\nimport React, { useCallback, useContext } from 'react';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport Intl from '@baifendian/adhere-util-intl';\nimport { selectorPrefix } from '../../SearchTable';\nimport { EditableContext } from './EditableRow';\n/**\n * EditorRowControl\n * @description 编辑行的控制器\n * @param record\n * @param onEditor\n * @param onSave\n * @param editorRowId\n * @param rowKey\n * @param className\n * @param styles\n * @param renderEditorRow\n * @param renderSave\n * @returns {JSX.Element}\n * @constructor\n */\n\nvar EditorRowControl = function EditorRowControl(_a) {\n  var record = _a.record,\n      onEditor = _a.onEditor,\n      onSave = _a.onSave,\n      editorRowId = _a.editorRowId,\n      rowKey = _a.rowKey,\n      className = _a.className,\n      styles = _a.styles,\n      renderEditorRow = _a.renderEditorRow,\n      renderSave = _a.renderSave;\n  var form = useContext(EditableContext);\n  var renderDefaultSave = useCallback(function () {\n    return /*#__PURE__*/React.createElement(\"a\", null, Intl.v('保存'));\n  }, []);\n  var renderDefaultEditorRow = useCallback(function () {\n    return /*#__PURE__*/React.createElement(\"a\", null, Intl.v('编辑行'));\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(selectorPrefix, \"-editor-row-control\"), className),\n    style: styles || {}\n  }, /*#__PURE__*/React.createElement(ConditionalRender, {\n    conditional: editorRowId !== record[rowKey],\n    noMatch: function noMatch() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        onClick: function onClick() {\n          form === null || form === void 0 ? void 0 : form.validateFields().then(function (values) {\n            return onSave === null || onSave === void 0 ? void 0 : onSave(values);\n          });\n        }\n      }, renderSave ? renderSave() : renderDefaultSave());\n    }\n  }, function () {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onClick: function onClick() {\n        return onEditor === null || onEditor === void 0 ? void 0 : onEditor(record[rowKey]);\n      }\n    }, renderEditorRow ? renderEditorRow() : renderDefaultEditorRow());\n  }));\n};\n\nexport default EditorRowControl;"],"names":["classNames","React","useCallback","useContext","ConditionalRender","Intl","selectorPrefix","EditableContext","EditorRowControl","_a","record","onEditor","onSave","editorRowId","rowKey","className","styles","renderEditorRow","renderSave","form","renderDefaultSave","createElement","v","renderDefaultEditorRow","concat","style","conditional","noMatch","onClick","validateFields","then","values"],"mappings":"OAAOA,eAAgB,oBAChBC,OAASC,YAAaC,UAAyB,KAAP,eACxCC,sBAAuB,iDACvBC,SAAU,sCACRC,cAAyC,KAAnB,2BACtBC,eAAsC,KAAf,gBAiBhC,IAAIC,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAGC,OACZC,EAAWF,EAAGE,SACdC,EAASH,EAAGG,OACZC,EAAcJ,EAAGI,YACjBC,EAASL,EAAGK,OACZC,EAAYN,EAAGM,UACfC,EAASP,EAAGO,OACZC,EAAkBR,EAAGQ,gBACrBC,EAAaT,EAAGS,WAChBC,EAAOhB,WAAWI,eAAe,EACjCa,EAAoBlB,YAAY,WAClC,OAAoBD,MAAMoB,cAAc,IAAK,KAAMhB,KAAKiB,EAAE,IAAI,CAAC,CACjE,EAAG,EAAE,EACDC,EAAyBrB,YAAY,WACvC,OAAoBD,MAAMoB,cAAc,IAAK,KAAMhB,KAAKiB,EAAE,KAAK,CAAC,CAClE,EAAG,EAAE,EACL,OAAoBrB,MAAMoB,cAAc,MAAO,CAC7CN,UAAWf,WAAW,GAAGwB,OAAOlB,eAAgB,qBAAqB,EAAGS,CAAS,EACjFU,MAAOT,GAAU,EACnB,EAAgBf,MAAMoB,cAAcjB,kBAAmB,CACrDsB,YAAab,IAAgBH,EAAOI,GACpCa,QAAS,WACP,OAAoB1B,MAAMoB,cAAc,MAAO,CAC7CO,QAAS,WACPT,MAAAA,GAA4CA,EAAKU,eAAe,EAAEC,KAAK,SAAUC,GAC/E,OAAOnB,MAAAA,EAAuC,KAAA,EAASA,EAAOmB,CAAM,CACtE,CAAC,CACH,CACF,GAAGb,GAA4BE,GAAJ,CAAuB,CACpD,CACF,EAAG,WACD,OAAoBnB,MAAMoB,cAAc,MAAO,CAC7CO,QAAS,WACP,OAAOjB,MAAAA,EAA2C,KAAA,EAASA,EAASD,EAAOI,EAAO,CACpF,CACF,GAAGG,GAAsCM,GAAJ,CAA4B,CACnE,CAAC,CAAC,CACJ,iBAEef"}