import classNames from"classnames";import React,{useCallback,useContext}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Intl from"@baifendian/adhere-util-intl";import{SearchTableContext,selectorPrefix}from"../../../SearchTable";var EditableTableControl=function(e){var t=e.className,n=e.styles,l=e.renderEditorTable,a=e.renderSave,r=e.renderCancel,o=e.onEditor,i=e.onSave,c=useContext(SearchTableContext),u=useCallback(function(){return React.createElement("a",null,Intl.v("保存"))},[]),d=useCallback(function(){return React.createElement("a",null,Intl.v("取消"))},[]),s=useCallback(function(){return React.createElement("a",null,Intl.v("编辑表格"))},[]),v=useCallback(function(e){i?i(e.dataSource).then(function(){return m(e.dataSource)}):m(e.dataSource)},[]),f=useCallback(function(){var e;o?null!=(e=null==o?void 0:o())&&e.then(function(){return b()}):b()},[]),m=function(e){var t;return null==(t=null==(t=null==c?void 0:c.context)?void 0:t.updateEditorData(e))?void 0:t.then(function(){return C()})},b=function(){var e;return null==(e=null==c?void 0:c.context)?void 0:e.setState({isTableEditor:!0})},C=function(){var e;return null==(e=null==c?void 0:c.context)?void 0:e.setState({isTableEditor:!1})};return React.createElement("div",{className:classNames(selectorPrefix+"-editor-table-control",t),style:n||{}},React.createElement(ConditionalRender,{conditional:!(null!=c&&c.context.state.isTableEditor),noMatch:function(){return React.createElement("div",{className:selectorPrefix+"-editor-table-control-save-cancel"},React.createElement("div",{className:selectorPrefix+"-editor-table-control-save-cancel-item",onClick:function(){var e,t;return null==(t=null==(e=null==(e=null==(e=null==(e=null==c?void 0:c.editable)?void 0:e.tableEditable)?void 0:e.form)?void 0:e.validateFields())?void 0:e.then)?void 0:t.call(e,function(e){return v(e)})}},React.createElement(ConditionalRender,{conditional:!a,noMatch:function(){return null==a?void 0:a()}},function(){return u()})),React.createElement("div",{className:selectorPrefix+"-editor-table-control-save-cancel-item",onClick:C},React.createElement(ConditionalRender,{conditional:!r,noMatch:function(){return null==r?void 0:r()}},function(){return d()})))}},function(){return React.createElement("div",{className:selectorPrefix+"-editor-table-control-edit",onClick:f},React.createElement(ConditionalRender,{conditional:!l,noMatch:function(){return null==l?void 0:l()}},function(){return s()}))}))};export default EditableTableControl;
//# sourceMappingURL=index.js.map
