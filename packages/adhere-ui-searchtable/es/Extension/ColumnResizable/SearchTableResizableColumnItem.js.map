{"version":3,"file":"SearchTableResizableColumnItem.js","sources":["Extension/ColumnResizable/SearchTableResizableColumnItem.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/**\n * handleResize\n * @description 表头列拖动的时候\n * @param context\n * @param column\n * @param columnsWidth\n * @protected\n */\nfunction handleResize(context, column, columnsWidth) {\n  return function (e, _a) {\n    var size = _a.size;\n    // 当拖动header的column时\n    columnsWidth.set(column.key, size);\n    context.forceUpdate();\n  };\n}\nexport default (function (_a) {\n  var _b, _c, _d, _e, _f;\n  var columnsWidth = _a.columnsWidth,\n    context = _a.context,\n    index = _a.index,\n    column = _a.column;\n  // 如果设置了列可拖动\n  var colEls = (_d = (_c = (_b = context === null || context === void 0 ? void 0 : context.tableWrapRef) === null || _b === void 0 ? void 0 : _b.current) === null || _c === void 0 ? void 0 : _c.querySelectorAll) === null || _d === void 0 ? void 0 : _d.call(_c, '.ant-table-header > table > colgroup > col');\n  var spanCount = 0;\n  if (context.getRowSelection()) {\n    spanCount = spanCount + 1;\n  }\n  if (context.isShowNumber()) {\n    spanCount = spanCount + 1;\n  }\n  var computedWidth = colEls && colEls.length > spanCount ? (_f = (_e = colEls === null || colEls === void 0 ? void 0 : colEls[spanCount + index]) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.width : null;\n  if (computedWidth) {\n    computedWidth = parseInt(computedWidth);\n  }\n  var columnSizeItem = columnsWidth.get(column.key);\n  var width = columnSizeItem ? columnSizeItem.width : column.width ? column.width : computedWidth;\n  return __assign(__assign({}, column), {\n    width: width,\n    // 加入onHeaderCell\n    onHeaderCell: function onHeaderCell() {\n      var findLoop = function findLoop(__columns) {\n        var res;\n        for (var i = 0; i < __columns.length; i++) {\n          if (__columns[i].dataIndex === column.dataIndex) {\n            res = __columns[i];\n            break;\n          } else {\n            if (__columns[i].children && Array.isArray(__columns[i].children)) {\n              res = findLoop(__columns[i].children);\n              if (res) break;\n            }\n          }\n        }\n        return res;\n      };\n      var _columns = context.getTableColumns();\n      var _column = findLoop(_columns);\n      var onHeaderCell = _column.onHeaderCell,\n        _others = __rest(_column, [\"onHeaderCell\"]);\n      return {\n        width: _others.width,\n        onResize: handleResize(context, _others, columnsWidth)\n      };\n    }\n  });\n});"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","handleResize","context","column","columnsWidth","_a","size","set","key","forceUpdate","index","colEls","_d","_c","_b","tableWrapRef","current","querySelectorAll","spanCount","getRowSelection","isShowNumber","computedWidth","_f","_e","style","width","parseInt","columnSizeItem","get","onHeaderCell","_column","findLoop","__columns","res","dataIndex","children","Array","isArray","getTableColumns","_others","onResize"],"mappings":"AAAA,IAAIA,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,EACIO,OAASd,MAAQA,KAAKc,QAAU,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAASM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,GAAKM,EAAEC,QAAQP,CAAC,EAAI,IAAGN,EAAEM,GAAKL,EAAEK,IAC9F,GAAS,MAALL,GAAqD,YAAxC,OAAOH,OAAOgB,sBAAsC,IAAK,IAAIZ,EAAI,EAAGI,EAAIR,OAAOgB,sBAAsBb,CAAC,EAAGC,EAAII,EAAED,OAAQH,CAAC,GACnIU,EAAEC,QAAQP,EAAEJ,EAAE,EAAI,GAAKJ,OAAOS,UAAUQ,qBAAqBN,KAAKR,EAAGK,EAAEJ,EAAE,IAAGF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAEhG,OAAOF,CACT,EASA,SAASgB,aAAaC,EAASC,EAAQC,GACrC,OAAO,SAAUP,EAAGQ,GACdC,EAAOD,EAAGC,KAEdF,EAAaG,IAAIJ,EAAOK,IAAKF,CAAI,EACjCJ,EAAQO,YAAY,CACtB,CACF,gBACe,SAAWJ,GACxB,IACID,EAAeC,EAAGD,aACpBF,EAAUG,EAAGH,QACbQ,EAAQL,EAAGK,MACXP,EAASE,EAAGF,OAEVQ,EAAS,OAACC,EAAK,OAACC,EAAK,OAACC,EAAKZ,MAAAA,EAAyC,KAAA,EAASA,EAAQa,cAA0C,KAAA,EAASD,EAAGE,SAAqC,KAAA,EAASH,EAAGI,kBAA8C,KAAA,EAASL,EAAGlB,KAAKmB,EAAI,4CAA4C,EAC3SK,EAAY,EACZhB,EAAQiB,gBAAgB,IAC1BD,GAAwB,GAEtBhB,EAAQkB,aAAa,IACvBF,GAAwB,GAGtBG,GAAAA,EADgBV,GAAUA,EAAOrB,OAAS4B,EAAY,OAACI,EAAK,OAACC,EAAKZ,MAAAA,EAAuC,KAAA,EAASA,EAAOO,EAAYR,IAAoC,KAAA,EAASa,EAAGC,OAAmC,KAAA,EAASF,EAAGG,MAAQ,OAE9NC,SAASL,CAAa,EAEpCM,EAAiBvB,EAAawB,IAAIzB,EAAOK,GAAG,EAC5CiB,EAAQE,EAAiBA,EAAeF,MAAQtB,EAAOsB,OAAuBJ,EAClF,OAAOxC,SAASA,SAAS,GAAIsB,CAAM,EAAG,CACpCsB,MAAOA,EAEPI,aAAc,WACZ,IAgBIC,EAhBW,SAASC,EAASC,GAE/B,IADA,IAAIC,EACK9C,EAAI,EAAGA,EAAI6C,EAAU1C,OAAQH,CAAC,GAAI,CACzC,GAAI6C,EAAU7C,GAAG+C,YAAc/B,EAAO+B,UAAW,CAC/CD,EAAMD,EAAU7C,GAChB,KACF,CACE,GAAI6C,EAAU7C,GAAGgD,UAAYC,MAAMC,QAAQL,EAAU7C,GAAGgD,QAAQ,IAC9DF,EAAMF,EAASC,EAAU7C,GAAGgD,QAAQ,GAC3B,KAGf,CACA,OAAOF,CACT,EACe/B,EAAQoC,gBAAgB,CACR,EAE7BC,GADiBT,EAAQD,aACfjC,OAAOkC,EAAS,CAAC,eAAe,GAC5C,MAAO,CACLL,MAAOc,EAAQd,MACfe,SAAUvC,aAAaC,EAASqC,EAASnC,CAAY,CACvD,CACF,CACF,CAAC,CACF"}