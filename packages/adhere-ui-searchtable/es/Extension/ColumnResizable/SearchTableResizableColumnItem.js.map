{"version":3,"file":"SearchTableResizableColumnItem.js","sources":["Extension/ColumnResizable/SearchTableResizableColumnItem.js"],"sourcesContent":["import \"core-js/modules/es.parse-int.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { __assign, __rest } from \"tslib\";\n/**\n * handleResize\n * @description 表头列拖动的时候\n * @param context\n * @param column\n * @param columnsWidth\n * @protected\n */\n\nfunction handleResize(context, column, columnsWidth) {\n  return function (e, _a) {\n    var size = _a.size; // 当拖动header的column时\n\n    columnsWidth.set(column.key, size);\n    context.forceUpdate();\n  };\n}\n\nexport default (function (_a) {\n  var _b, _c, _d, _e, _f;\n\n  var columnsWidth = _a.columnsWidth,\n      context = _a.context,\n      index = _a.index,\n      column = _a.column; // 如果设置了列可拖动\n\n  var colEls = (_d = (_c = (_b = context === null || context === void 0 ? void 0 : context.tableWrapRef) === null || _b === void 0 ? void 0 : _b.current) === null || _c === void 0 ? void 0 : _c.querySelectorAll) === null || _d === void 0 ? void 0 : _d.call(_c, '.ant-table-header > table > colgroup > col');\n  var spanCount = 0;\n\n  if (context.getRowSelection()) {\n    spanCount = spanCount + 1;\n  }\n\n  if (context.isShowNumber()) {\n    spanCount = spanCount + 1;\n  }\n\n  var computedWidth = colEls && colEls.length > spanCount ? (_f = (_e = colEls === null || colEls === void 0 ? void 0 : colEls[spanCount + index]) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.width : null;\n\n  if (computedWidth) {\n    computedWidth = parseInt(computedWidth);\n  }\n\n  var columnSizeItem = columnsWidth.get(column.key);\n  var width = columnSizeItem ? columnSizeItem.width : column.width ? column.width : computedWidth;\n  return __assign(__assign({}, column), {\n    width: width,\n    // 加入onHeaderCell\n    onHeaderCell: function onHeaderCell() {\n      var _columns = context.getTableColumns();\n\n      var _column = _columns.find(function (_t) {\n        return _t.dataIndex === column.dataIndex;\n      });\n\n      var onHeaderCell = _column.onHeaderCell,\n          _others = __rest(_column, [\"onHeaderCell\"]);\n\n      return {\n        width: _others.width,\n        onResize: handleResize(context, _others, columnsWidth)\n      };\n    }\n  });\n});"],"names":["__assign","__rest","handleResize","context","column","columnsWidth","e","_a","size","set","key","forceUpdate","index","colEls","_d","_c","_b","tableWrapRef","current","querySelectorAll","call","spanCount","getRowSelection","isShowNumber","computedWidth","length","_f","_e","style","width","parseInt","columnSizeItem","get","onHeaderCell","_column","getTableColumns","find","_t","dataIndex","_others","onResize"],"mappings":"uIAGSA,SAAUC,mBAUnB,SAASC,aAAaC,EAASC,EAAQC,GACrC,OAAO,SAAUC,EAAGC,GACdC,EAAOD,EAAGC,KAEdH,EAAaI,IAAIL,EAAOM,IAAKF,GAC7BL,EAAQQ,8BAIG,SAAWJ,GACxB,IAEIF,EAAeE,EAAGF,aAClBF,EAAUI,EAAGJ,QACbS,EAAQL,EAAGK,MACXR,EAASG,EAAGH,OAEZS,EAAkN,QAAxMC,EAA8I,QAAxIC,EAAuF,QAAjFC,EAAKb,MAAAA,OAAyC,EAASA,EAAQc,oBAAiC,IAAPD,OAAgB,EAASA,EAAGE,eAA4B,IAAPH,OAAgB,EAASA,EAAGI,wBAAqC,IAAPL,OAAgB,EAASA,EAAGM,KAAKL,EAAI,8CAC/PM,EAAY,EAEZlB,EAAQmB,oBACVD,GAAwB,GAGtBlB,EAAQoB,iBACVF,GAAwB,GAG1B,IAGEG,GAHEA,EAAgBX,GAAUA,EAAOY,OAASJ,EAAsJ,QAAzIK,EAA0F,QAApFC,EAAKd,MAAAA,OAAuC,EAASA,EAAOQ,EAAYT,UAA2B,IAAPe,OAAgB,EAASA,EAAGC,aAA0B,IAAPF,OAAgB,EAASA,EAAGG,MAAQ,OAG9NC,SAASN,GAGvBO,EAAiB1B,EAAa2B,IAAI5B,EAAOM,KACzCmB,EAAQE,EAAiBA,EAAeF,MAAQzB,EAAOyB,OAAuBL,EAClF,OAAOxB,SAASA,SAAS,GAAII,GAAS,CACpCyB,MAAOA,EAEPI,aAAc,WACZ,IAEIC,EAFW/B,EAAQgC,kBAEAC,KAAK,SAAUC,GACpC,OAAOA,EAAGC,YAAclC,EAAOkC,YAI7BC,GADeL,EAAQD,aACbhC,OAAOiC,EAAS,CAAC,kBAE/B,MAAO,CACLL,MAAOU,EAAQV,MACfW,SAAUtC,aAAaC,EAASoC,EAASlC"}