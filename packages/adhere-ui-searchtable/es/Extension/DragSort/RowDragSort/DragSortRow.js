import"core-js/modules/es.object.assign.js";import{__assign}from"tslib";import classNames from"classnames";import React,{useContext,useRef}from"react";import{useDrag,useDrop}from"react-dnd";import{SearchTableContext,selectorPrefix}from"../../../SearchTable";var type="DraggableBodyRow",DragSortRow=function(r,o){r.record,r.columns;var e=r.rowIndex,a=r.rowConfig,n=(r.rowKey,useContext(SearchTableContext)),r={dropOverDownwardClassName:"".concat(selectorPrefix,"-row-drag-sort-drop-over-downward"),dropOverUpwardClasName:"".concat(selectorPrefix,"-row-drag-sort-drop-over-upward"),type:type,dropConfig:function(){return{accept:s.type,collect:function(r){var o=(r.getItem()||{}).index;return o===e?{}:{isOver:r.isOver(),dropClassName:o<e?s.dropOverDownwardClassName:s.dropOverUpwardClasName}},drop:function(r){var o;null!=(o=null==n?void 0:n.context)&&o.moveRow(r.index,e)}}},dragConfig:function(){return{type:s.type,item:{index:e},collect:function(r){return{isDragging:r.isDragging()}}}}},s=__assign(__assign({},r),(null==a?void 0:a.$rowDragSort)||{}),t=(null!=(t=null==a?void 0:a.$rowDragSort)&&t.dropConfig&&(s.dropConfig=Object.assign(r.dropConfig(),a.$rowDragSort.dropConfig||{})),null!=(t=null==a?void 0:a.$rowDragSort)&&t.dragConfig&&(s.dragConfig=Object.assign(r.dragConfig(),a.$rowDragSort.dragConfig||{})),useRef(null)),r=useDrop(s.dropConfig),a=r[0],i=a.isOver,a=a.dropClassName,g=((0,r[1])((0,useDrag(s.dragConfig)[1])(t)),React.cloneElement(o,__assign(__assign({},o.props),{ref:t,style:__assign({cursor:"move"},o.props.style||{}),className:classNames(o.props.className,i?a:"")})));return function(){return g}};export default DragSortRow;
//# sourceMappingURL=DragSortRow.js.map
