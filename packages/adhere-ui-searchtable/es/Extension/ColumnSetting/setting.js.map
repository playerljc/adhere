{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["var __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Checkbox } from 'antd';\r\n// @ts-ignore\r\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport { selectorPrefix } from '../../searchtable';\r\nvar DragHandle = sortableHandle(function () { return (React.createElement(\"img\", { src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\", alt: \"\" })); });\r\nvar SortableItem = sortableElement(function (_a) {\r\n    var column = _a.column, onDisplayColumn = _a.onDisplayColumn;\r\n    return (React.createElement(\"li\", null,\r\n        React.createElement(DragHandle, null),\r\n        React.createElement(Checkbox, { checked: column.display, onChange: function (e) {\r\n                onDisplayColumn(column, e.target.checked);\r\n            } }, column.title)));\r\n});\r\nvar SortableContainer = sortableContainer(function (_a) {\r\n    var children = _a.children;\r\n    return React.createElement(\"ul\", null, children);\r\n});\r\n/**\r\n * ColumnSetting\r\n * @param props\r\n * @constructor\r\n */\r\nfunction ColumnSetting(_a) {\r\n    var columns = _a.columns, onShowColumns = _a.onShowColumns, onReset = _a.onReset, onDisplayColumn = _a.onDisplayColumn, onSortEnd = _a.onSortEnd;\r\n    return (React.createElement(\"div\", { className: selectorPrefix + \"-column-setting\" },\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-column-setting-header\" },\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox, { checked: columns.every(function (column) { return column.display; }), onChange: function (e) {\r\n                        onShowColumns(e.target.checked);\r\n                    } }, Intl.v('列展示'))),\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"a\", { onClick: onReset }, Intl.v('重置')))),\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-column-setting-body\" },\r\n            React.createElement(SortableContainer, { onSortEnd: function (_a) {\r\n                    var oldIndex = _a.oldIndex, newIndex = _a.newIndex;\r\n                    // @ts-ignore\r\n                    var changeColumns = arrayMoveImmutable(__spreadArrays(columns), oldIndex, newIndex);\r\n                    var map = new Map();\r\n                    changeColumns.forEach(function (column, index) {\r\n                        map.set(column.key, index);\r\n                    });\r\n                    onSortEnd(map);\r\n                }, useDragHandle: true, \r\n                // lockToContainerEdges\r\n                helperClass: selectorPrefix + \"-sortableHelper\" }, columns.map(function (column, index) { return (React.createElement(SortableItem, { key: column.key, index: index, column: column, onDisplayColumn: onDisplayColumn })); })))));\r\n}\r\nColumnSetting.defaultProps = {\r\n    columns: [],\r\n};\r\nColumnSetting.propTypes = {\r\n    columns: PropTypes.array,\r\n    onShowColumns: PropTypes.func,\r\n    onReset: PropTypes.func,\r\n    onDisplayColumn: PropTypes.func,\r\n    onSortEnd: PropTypes.func,\r\n};\r\nexport default ColumnSetting;\r\n"],"names":["__spreadArrays","this","s","i","il","arguments","length","r","Array","k","a","j","jl","React","PropTypes","Checkbox","sortableContainer","sortableElement","sortableHandle","arrayMoveImmutable","Intl","selectorPrefix","DragHandle","createElement","src","alt","SortableItem","_a","column","onDisplayColumn","checked","display","onChange","e","target","title","SortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","onSortEnd","className","every","v","onClick","oldIndex","newIndex","changeColumns","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func"],"mappings":"AAAA,IAAIA,eAAkBC,MAAQA,KAAKD,gBAAmB,WAClD,IAAK,IAAIE,EAAI,EAAGC,EAAI,EAAGC,EAAKC,UAAUC,OAAQH,EAAIC,EAAID,IAAKD,GAAKG,UAAUF,GAAGG,OAC7E,IAAK,IAAIC,EAAIC,MAAMN,GAAIO,EAAI,EAAGN,EAAI,EAAGA,EAAIC,EAAID,IACzC,IAAK,IAAIO,EAAIL,UAAUF,GAAIQ,EAAI,EAAGC,EAAKF,EAAEJ,OAAQK,EAAIC,EAAID,IAAKF,IAC1DF,EAAEE,GAAKC,EAAEC,GACjB,OAAOJ,UAEJM,yBACAC,kCACEC,2BAEAC,kBAAmBC,gBAAiBC,+CACpCC,2CACFC,+CACEC,uCACT,IAAIC,WAAaJ,eAAe,WAAc,OAAQL,MAAMU,cAAc,MAAO,CAAEC,IAAK,iwBAAkwBC,IAAK,OAC31BC,aAAeT,gBAAgB,SAAUU,GACzC,IAAIC,EAASD,EAAGC,OAAQC,EAAkBF,EAAGE,gBAC7C,OAAQhB,MAAMU,cAAc,KAAM,KAC9BV,MAAMU,cAAcD,WAAY,MAChCT,MAAMU,cAAcR,SAAU,CAAEe,QAASF,EAAOG,QAASC,SAAU,SAAUC,GACrEJ,EAAgBD,EAAQK,EAAEC,OAAOJ,WAChCF,EAAOO,UAEpBC,kBAAoBpB,kBAAkB,SAAUW,GAC5CU,EAAWV,EAAGU,SAClB,OAAOxB,MAAMU,cAAc,KAAM,KAAMc,KAO3C,SAASC,cAAcX,GACnB,IAAIY,EAAUZ,EAAGY,QAASC,EAAgBb,EAAGa,cAAeC,EAAUd,EAAGc,QAASZ,EAAkBF,EAAGE,gBAAiBa,EAAYf,EAAGe,UACvI,OAAQ7B,MAAMU,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,mBAC7DR,MAAMU,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,0BACrDR,MAAMU,cAAc,MAAO,KACvBV,MAAMU,cAAcR,SAAU,CAAEe,QAASS,EAAQK,MAAM,SAAUhB,GAAU,OAAOA,EAAOG,UAAaC,SAAU,SAAUC,GAClHO,EAAcP,EAAEC,OAAOJ,WACtBV,KAAKyB,EAAE,SACpBhC,MAAMU,cAAc,MAAO,KACvBV,MAAMU,cAAc,IAAK,CAAEuB,QAASL,GAAWrB,KAAKyB,EAAE,SAC9DhC,MAAMU,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,wBACrDR,MAAMU,cAAca,kBAAmB,CAAEM,UAAW,SAAUf,GACtD,IAAIoB,EAAWpB,EAAGoB,SAAUC,EAAWrB,EAAGqB,SAEtCC,EAAgB9B,mBAAmBnB,eAAeuC,GAAUQ,EAAUC,GACtEE,EAAM,IAAIC,IACdF,EAAcG,QAAQ,SAAUxB,EAAQyB,GACpCH,EAAII,IAAI1B,EAAO2B,IAAKF,KAExBX,EAAUQ,IACXM,eAAe,EAElBC,YAAapC,eAAiB,mBAAqBkB,EAAQW,IAAI,SAAUtB,EAAQyB,GAAS,OAAQxC,MAAMU,cAAcG,aAAc,CAAE6B,IAAK3B,EAAO2B,IAAKF,MAAOA,EAAOzB,OAAQA,EAAQC,gBAAiBA,SAEtNS,cAAcoB,aAAe,CACzBnB,QAAS,IAEbD,cAAcqB,UAAY,CACtBpB,QAASzB,UAAU8C,MACnBpB,cAAe1B,UAAU+C,KACzBpB,QAAS3B,UAAU+C,KACnBhC,gBAAiBf,UAAU+C,KAC3BnB,UAAW5B,UAAU+C,qBAEVvB"}