{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["import { __spreadArrays } from \"tslib\";\r\nimport { Checkbox } from 'antd';\r\nimport { arrayMoveImmutable } from 'array-move';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { SortableContainer as SortableContainerHOC, SortableElement, SortableHandle, } from 'react-sortable-hoc';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport { selectorPrefix } from '../../SearchTable';\r\nvar DragHandle = SortableHandle(function () { return (React.createElement(\"img\", { src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\", alt: \"\" })); });\r\nvar SortableItem = SortableElement(function (_a) {\r\n    var column = _a.column, onDisplayColumn = _a.onDisplayColumn;\r\n    return (React.createElement(\"li\", null,\r\n        React.createElement(DragHandle, null),\r\n        React.createElement(Checkbox, { checked: column.display, onChange: function (e) {\r\n                onDisplayColumn(column, e.target.checked);\r\n            } }, column.title)));\r\n});\r\nvar SortableContainer = SortableContainerHOC(function (_a) {\r\n    var children = _a.children;\r\n    return React.createElement(\"ul\", null, children);\r\n});\r\n/**\r\n * ColumnSetting\r\n * @param props\r\n * @constructor\r\n */\r\nfunction ColumnSetting(_a) {\r\n    var columns = _a.columns, onShowColumns = _a.onShowColumns, onReset = _a.onReset, onDisplayColumn = _a.onDisplayColumn, onSortEnd = _a.onSortEnd;\r\n    return (React.createElement(\"div\", { className: selectorPrefix + \"-column-setting\" },\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-column-setting-header\" },\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox, { checked: columns.every(function (column) { return column.display; }), onChange: function (e) {\r\n                        onShowColumns(e.target.checked);\r\n                    } }, Intl.v('列展示'))),\r\n            React.createElement(\"div\", null,\r\n                React.createElement(\"a\", { onClick: onReset }, Intl.v('重置')))),\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-column-setting-body\" },\r\n            React.createElement(SortableContainer, { onSortEnd: function (_a) {\r\n                    var oldIndex = _a.oldIndex, newIndex = _a.newIndex;\r\n                    var changeColumns = arrayMoveImmutable(__spreadArrays(columns), oldIndex, newIndex);\r\n                    var map = new Map();\r\n                    changeColumns.forEach(function (column, index) {\r\n                        map.set(column.key, index);\r\n                    });\r\n                    onSortEnd(map);\r\n                }, useDragHandle: true, \r\n                // lockToContainerEdges\r\n                helperClass: selectorPrefix + \"-sortableHelper\" }, columns.map(function (column, index) { return (React.createElement(SortableItem, { key: column.key, index: index, column: column, onDisplayColumn: onDisplayColumn })); })))));\r\n}\r\nColumnSetting.defaultProps = {\r\n    columns: [],\r\n};\r\nColumnSetting.propTypes = {\r\n    columns: PropTypes.array,\r\n    onShowColumns: PropTypes.func,\r\n    onReset: PropTypes.func,\r\n    onDisplayColumn: PropTypes.func,\r\n    onSortEnd: PropTypes.func,\r\n};\r\nexport default ColumnSetting;\r\n//# sourceMappingURL=setting.js.map"],"names":["__spreadArrays","Checkbox","arrayMoveImmutable","PropTypes","React","SortableContainerHOC","SortableElement","SortableHandle","Intl","selectorPrefix","DragHandle","createElement","src","alt","SortableItem","_a","column","onDisplayColumn","checked","display","onChange","e","target","title","SortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","onSortEnd","className","every","v","onClick","oldIndex","newIndex","changeColumns","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func"],"mappings":"OAASA,cAA6B,KAAP,eACtBC,QAAsB,KAAN,cAChBC,kBAAsC,KAAZ,oBAC5BC,cAAe,oBACfC,UAAW,eACYC,0CAAsBC,gBAAiBC,cAA2C,KAApB,4BACrFC,SAAU,sCACRC,cAAyC,KAAnB,oBAC/B,IAAIC,WAAaH,eAAe,WAAc,OAAQH,MAAMO,cAAc,MAAO,CAAEC,IAAK,iwBAAkwBC,IAAK,EAAG,CAAE,CAAG,CAAC,EACp2BC,aAAeR,gBAAgB,SAAUS,GACzC,IAAIC,EAASD,EAAGC,OAAQC,EAAkBF,EAAGE,gBAC7C,OAAQb,MAAMO,cAAc,KAAM,KAC9BP,MAAMO,cAAcD,WAAY,IAAI,EACpCN,MAAMO,cAAcV,SAAU,CAAEiB,QAASF,EAAOG,QAASC,SAAU,SAAUC,GACrEJ,EAAgBD,EAAQK,EAAEC,OAAOJ,OAAO,CAC5C,CAAE,EAAGF,EAAOO,KAAK,CAAE,CAC/B,CAAC,EACGC,kBAAoBnB,qBAAqB,SAAUU,GAC/CU,EAAWV,EAAGU,SAClB,OAAOrB,MAAMO,cAAc,KAAM,KAAMc,CAAQ,CACnD,CAAC,EAMD,SAASC,cAAcX,GACnB,IAAIY,EAAUZ,EAAGY,QAASC,EAAgBb,EAAGa,cAAeC,EAAUd,EAAGc,QAASZ,EAAkBF,EAAGE,gBAAiBa,EAAYf,EAAGe,UACvI,OAAQ1B,MAAMO,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,iBAAkB,EAC/EL,MAAMO,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,wBAAyB,EAC9EL,MAAMO,cAAc,MAAO,KACvBP,MAAMO,cAAcV,SAAU,CAAEiB,QAASS,EAAQK,MAAM,SAAUhB,GAAU,OAAOA,EAAOG,OAAS,CAAC,EAAGC,SAAU,SAAUC,GAClHO,EAAcP,EAAEC,OAAOJ,OAAO,CAClC,CAAE,EAAGV,KAAKyB,EAAE,KAAK,CAAC,CAAC,EAC3B7B,MAAMO,cAAc,MAAO,KACvBP,MAAMO,cAAc,IAAK,CAAEuB,QAASL,CAAQ,EAAGrB,KAAKyB,EAAE,IAAI,CAAC,CAAC,CAAC,EACrE7B,MAAMO,cAAc,MAAO,CAAEoB,UAAWtB,eAAiB,sBAAuB,EAC5EL,MAAMO,cAAca,kBAAmB,CAAEM,UAAW,SAAUf,GACtD,IAAIoB,EAAWpB,EAAGoB,SAAUC,EAAWrB,EAAGqB,SACtCC,EAAgBnC,mBAAmBF,eAAe2B,CAAO,EAAGQ,EAAUC,CAAQ,EAC9EE,EAAM,IAAIC,IACdF,EAAcG,QAAQ,SAAUxB,EAAQyB,GACpCH,EAAII,IAAI1B,EAAO2B,IAAKF,CAAK,CAC7B,CAAC,EACDX,EAAUQ,CAAG,CACjB,EAAGM,cAAe,CAAA,EAElBC,YAAapC,eAAiB,iBAAkB,EAAGkB,EAAQW,IAAI,SAAUtB,EAAQyB,GAAS,OAAQrC,MAAMO,cAAcG,aAAc,CAAE6B,IAAK3B,EAAO2B,IAAKF,MAAOA,EAAOzB,OAAQA,EAAQC,gBAAiBA,CAAgB,CAAE,CAAG,CAAC,CAAC,CAAC,CAAE,CAChP,CACAS,cAAcoB,aAAe,CACzBnB,QAAS,EACb,EACAD,cAAcqB,UAAY,CACtBpB,QAASxB,UAAU6C,MACnBpB,cAAezB,UAAU8C,KACzBpB,QAAS1B,UAAU8C,KACnBhC,gBAAiBd,UAAU8C,KAC3BnB,UAAW3B,UAAU8C,IACzB,iBACevB"}