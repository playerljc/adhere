import{__spreadArray}from"tslib";import{Checkbox}from"antd";import{arrayMoveImmutable}from"array-move";import PropTypes from"prop-types";import React from"react";import{SortableContainer as SortableContainerHOC,SortableElement,SortableHandle}from"react-sortable-hoc";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../SearchTable";var DragHandle=SortableHandle(function(){return React.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=",alt:""})}),SortableItem=SortableElement(function(e){var t=e.column,n=e.onDisplayColumn;return React.createElement("li",null,React.createElement(DragHandle,null),React.createElement(Checkbox,{checked:t.display,onChange:function(e){n(t,e.target.checked)}},t.title))}),SortableContainer=SortableContainerHOC(function(e){e=e.children;return React.createElement("ul",null,e)});function ColumnSetting(e){var a=e.columns,t=e.onShowColumns,n=e.onReset,r=e.onDisplayColumn,o=e.onSortEnd;return React.createElement("div",{className:"".concat(selectorPrefix,"-column-setting")},React.createElement("div",{className:"".concat(selectorPrefix,"-column-setting-header")},React.createElement("div",null,React.createElement(Checkbox,{checked:a.every(function(e){return e.display}),onChange:function(e){t(e.target.checked)}},Intl.v("列展示"))),React.createElement("div",null,React.createElement("a",{onClick:n},Intl.v("重置")))),React.createElement("div",{className:"".concat(selectorPrefix,"-column-setting-body")},React.createElement(SortableContainer,{onSortEnd:function(e){var t=e.oldIndex,e=e.newIndex,t=arrayMoveImmutable(__spreadArray([],a,!0),t,e),n=new Map;t.forEach(function(e,t){n.set(e.key,t)}),o(n)},useDragHandle:!0,helperClass:"".concat(selectorPrefix,"-sortableHelper")},a.map(function(e,t){return React.createElement(SortableItem,{key:e.key,index:t,column:e,onDisplayColumn:r})}))))}ColumnSetting.defaultProps={columns:[]},ColumnSetting.propTypes={columns:PropTypes.array,onShowColumns:PropTypes.func,onReset:PropTypes.func,onDisplayColumn:PropTypes.func,onSortEnd:PropTypes.func};export default ColumnSetting;
//# sourceMappingURL=setting.js.map
