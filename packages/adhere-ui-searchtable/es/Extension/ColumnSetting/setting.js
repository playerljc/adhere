var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),a=0,t=0;t<n;t++)for(var o=arguments[t],l=0,c=o.length;l<c;l++,a++)r[a]=o[l];return r};import React from"react";import PropTypes from"prop-types";import{Checkbox}from"antd";import{sortableContainer,sortableElement,sortableHandle}from"react-sortable-hoc";import{arrayMoveImmutable}from"array-move";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../searchtable";var DragHandle=sortableHandle(function(){return React.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=",alt:""})}),SortableItem=sortableElement(function(e){var t=e.column,n=e.onDisplayColumn;return React.createElement("li",null,React.createElement(DragHandle,null),React.createElement(Checkbox,{checked:t.display,onChange:function(e){n(t,e.target.checked)}},t.title))}),SortableContainer=sortableContainer(function(e){e=e.children;return React.createElement("ul",null,e)});function ColumnSetting(e){var r=e.columns,t=e.onShowColumns,n=e.onReset,a=e.onDisplayColumn,o=e.onSortEnd;return React.createElement("div",{className:selectorPrefix+"-column-setting"},React.createElement("div",{className:selectorPrefix+"-column-setting-header"},React.createElement("div",null,React.createElement(Checkbox,{checked:r.every(function(e){return e.display}),onChange:function(e){t(e.target.checked)}},Intl.v("列展示"))),React.createElement("div",null,React.createElement("a",{onClick:n},Intl.v("重置")))),React.createElement("div",{className:selectorPrefix+"-column-setting-body"},React.createElement(SortableContainer,{onSortEnd:function(e){var t=e.oldIndex,e=e.newIndex,e=arrayMoveImmutable(__spreadArrays(r),t,e),n=new Map;e.forEach(function(e,t){n.set(e.key,t)}),o(n)},useDragHandle:!0,helperClass:selectorPrefix+"-sortableHelper"},r.map(function(e,t){return React.createElement(SortableItem,{key:e.key,index:t,column:e,onDisplayColumn:a})}))))}ColumnSetting.defaultProps={columns:[]},ColumnSetting.propTypes={columns:PropTypes.array,onShowColumns:PropTypes.func,onReset:PropTypes.func,onDisplayColumn:PropTypes.func,onSortEnd:PropTypes.func};export default ColumnSetting;
//# sourceMappingURL=setting.js.map
