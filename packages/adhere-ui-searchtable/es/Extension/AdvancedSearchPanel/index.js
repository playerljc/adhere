import _ReloadOutlined from"@ant-design/icons/es/icons/ReloadOutlined";import _SearchOutlined from"@ant-design/icons/es/icons/SearchOutlined";import _Button from"antd/es/button";import _LeftCircleOutlined from"@ant-design/icons/es/icons/LeftCircleOutlined";import _RightCircleOutlined from"@ant-design/icons/es/icons/RightCircleOutlined";import _FilterOutlined from"@ant-design/icons/es/icons/FilterOutlined";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var n={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n};import classNames from"classnames";import React,{memo,useEffect,useRef,useState}from"react";import{createPortal}from"react-dom";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import ConfigProvider from"@baifendian/adhere-ui-configprovider";import FlexLayout from"@baifendian/adhere-ui-flexlayout";import SlideLayout from"@baifendian/adhere-ui-slidelayout";import Space from"@baifendian/adhere-ui-space";import TableGridLayout from"@baifendian/adhere-ui-tablegridlayout";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../SearchTable";var VerticalFlexLayout=FlexLayout.VerticalFlexLayout,ScrollLayout=FlexLayout.ScrollLayout,renderGridSearchFormGroup=TableGridLayout.renderGridSearchFormGroup,Overlay=SlideLayout.Overlay,_selectorPrefix="".concat(selectorPrefix,"-advanced-search-panel"),AdvancedSearchPanel=memo(function(e){var t=e.advancedSearchConfig,n=t.advancedSearch,r=n.getPopupContainer,a=__rest(n,["getPopupContainer"]),n=t.showStrategy,o=void 0===n?"all":n,c=t.renderTitleLabel,l=t.renderCollapse,n=e.tableGridLayoutConfig,i=void 0===n?{layout:"horizontal",bordered:!1}:n,t=e.groupData,s=void 0===t?[]:t,n=e.remainingGroupData,d=void 0===n?[]:n,u=e.onSearch,m=e.onReset,t=useState(a.collapse),f=t[0],p=t[1],n=useRef();return useEffect(function(){p(a.collapse)},[a.collapse]),createPortal(React.createElement(Overlay,__assign({ref:n},a,{className:classNames("".concat(_selectorPrefix),null!=(t=a.className)?t:""),collapse:f}),React.createElement(VerticalFlexLayout,{className:"".concat(_selectorPrefix,"-inner"),renderTop:React.createElement("header",{className:"".concat(_selectorPrefix,"-header")},React.createElement("div",{className:"".concat(_selectorPrefix,"-title")},React.createElement(ConditionalRender,{conditional:!c,noMatch:function(){return null==c?void 0:c()}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_FilterOutlined,null),React.createElement("strong",null,Intl.v("高级搜索")))})),React.createElement("div",{className:"".concat(_selectorPrefix,"-collapse"),onClick:function(){return p(!f)}},React.createElement(ConditionalRender,{conditional:!l,noMatch:function(){return null==l?void 0:l(f)}},function(){return React.createElement(ConditionalRender,{conditional:f,noMatch:function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_RightCircleOutlined,null),React.createElement("strong",null,Intl.v("展开")))}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_LeftCircleOutlined,null),React.createElement("strong",null,Intl.v("收起")))})}))),renderMain:React.createElement("div",{className:"".concat(_selectorPrefix,"-main")},React.createElement("div",{className:"".concat(_selectorPrefix,"-scroll")},React.createElement(ScrollLayout,{scrollY:!0,className:"".concat(_selectorPrefix,"-scroll-innner")},null!=(t=null==(n=null==e?void 0:e.children)?void 0:n.call(e,__assign({},e)))?t:React.createElement(ConfigProvider.Context.Consumer,null,function(e){e=e.media;return renderGridSearchFormGroup("all"===o?s:d,i,e)}))),React.createElement("footer",{className:"".concat(_selectorPrefix,"-footer")},React.createElement("div",{className:"".concat(_selectorPrefix,"-item")},React.createElement(_Button,{type:"primary",icon:React.createElement(_SearchOutlined,null),onClick:function(){return u().then(function(){return p(!1)})}},Intl.v("确定"))),React.createElement("div",{className:"".concat(_selectorPrefix,"-item")},React.createElement(_Button,{icon:React.createElement(_ReloadOutlined,null),onClick:function(){return m().then(function(){return p(!1)})}},Intl.v("重置")))))})),r())});AdvancedSearchPanel.defaultProps={groupData:[],tableGridLayoutConfig:{layout:"horizontal",bordered:!1},remainingGroupData:[],advancedSearchConfig:{rowCount:"auto",showStrategy:"all",advancedSearch:{className:"",style:{},width:"30%",mask:!0,zIndex:19999,time:300,direction:"right",collapse:!1,onBeforeShow:function(){},onBeforeClose:function(){},onAfterShow:function(){},onAfterClose:function(){},getPopupContainer:function(){return document.body}}}},AdvancedSearchPanel.displayName="AdvancedSearchPanel";export default AdvancedSearchPanel;
//# sourceMappingURL=index.js.map
