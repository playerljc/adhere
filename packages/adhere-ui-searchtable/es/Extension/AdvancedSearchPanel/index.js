import _ReloadOutlined from"@ant-design/icons/es/icons/ReloadOutlined";import _SearchOutlined from"@ant-design/icons/es/icons/SearchOutlined";import _Button from"antd/es/button";import _LeftCircleOutlined from"@ant-design/icons/es/icons/LeftCircleOutlined";import _RightCircleOutlined from"@ant-design/icons/es/icons/RightCircleOutlined";import _FilterOutlined from"@ant-design/icons/es/icons/FilterOutlined";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};import classNames from"classnames";import React,{memo,useEffect,useRef,useState}from"react";import ReactDOM from"react-dom";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import FlexLayout from"@baifendian/adhere-ui-flexlayout";import SlideLayout from"@baifendian/adhere-ui-slidelayout";import Space from"@baifendian/adhere-ui-space";import TableGridLayout from"@baifendian/adhere-ui-tablegridlayout";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../SearchTable";var VerticalFlexLayout=FlexLayout.VerticalFlexLayout,ScrollLayout=FlexLayout.ScrollLayout,renderGridSearchFormGroup=TableGridLayout.renderGridSearchFormGroup,Overlay=SlideLayout.Overlay,_selectorPrefix="".concat(selectorPrefix,"-advanced-search-panel"),AdvancedSearchPanel=memo(function(e){var t=e.advancedSearchConfig,n=t.advancedSearch,a=n.getPopupContainer,r=__rest(n,["getPopupContainer"]),n=t.showStrategy,n=void 0===n?"all":n,o=t.renderTitleLabel,c=t.renderCollapse,t=e.tableGridLayoutConfig,t=void 0===t?{layout:"horizontal",bordered:!1}:t,l=e.groupData,l=void 0===l?[]:l,i=e.remainingGroupData,i=void 0===i?[]:i,s=e.onSearch,u=e.onReset,e=useState(r.collapse),d=e[0],m=e[1],e=useRef();return useEffect(function(){m(r.collapse)},[r.collapse]),ReactDOM.createPortal(React.createElement(Overlay,__assign({ref:e},r,{className:classNames("".concat(_selectorPrefix),null!=(e=r.className)?e:""),collapse:d}),React.createElement(VerticalFlexLayout,{className:"".concat(_selectorPrefix,"-inner"),renderTop:React.createElement("header",{className:"".concat(_selectorPrefix,"-header")},React.createElement("div",{className:"".concat(_selectorPrefix,"-title")},React.createElement(ConditionalRender,{conditional:!o,noMatch:function(){return null==o?void 0:o()}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_FilterOutlined,null),React.createElement("strong",null,Intl.v("高级搜索")))})),React.createElement("div",{className:"".concat(_selectorPrefix,"-collapse"),onClick:function(){return m(!d)}},React.createElement(ConditionalRender,{conditional:!c,noMatch:function(){return null==c?void 0:c(d)}},function(){return React.createElement(ConditionalRender,{conditional:d,noMatch:function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_RightCircleOutlined,null),React.createElement("strong",null,Intl.v("展开")))}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(_LeftCircleOutlined,null),React.createElement("strong",null,Intl.v("收起")))})}))),renderMain:React.createElement("div",{className:"".concat(_selectorPrefix,"-main")},React.createElement("div",{className:"".concat(_selectorPrefix,"-scroll")},React.createElement(ScrollLayout,{scrollY:!0,className:"".concat(_selectorPrefix,"-scroll-innner")},renderGridSearchFormGroup("all"===n?l:i,t))),React.createElement("footer",{className:"".concat(_selectorPrefix,"-footer")},React.createElement("div",{className:"".concat(_selectorPrefix,"-item")},React.createElement(_Button,{type:"primary",icon:React.createElement(_SearchOutlined,null),onClick:function(){return s().then(function(){return m(!1)})}},Intl.v("确定"))),React.createElement("div",{className:"".concat(_selectorPrefix,"-item")},React.createElement(_Button,{icon:React.createElement(_ReloadOutlined,null),onClick:function(){return u().then(function(){return m(!1)})}},Intl.v("重置")))))})),a())});AdvancedSearchPanel.defaultProps={groupData:[],tableGridLayoutConfig:{layout:"horizontal",bordered:!1},remainingGroupData:[],advancedSearchConfig:{rowCount:"auto",showStrategy:"all",advancedSearch:{className:"",style:{},width:"30%",mask:!0,zIndex:19999,time:300,direction:"right",collapse:!1,onBeforeShow:function(){},onBeforeClose:function(){},onAfterShow:function(){},onAfterClose:function(){},getPopupContainer:function(){return document.body}}}},AdvancedSearchPanel.displayName="AdvancedSearchPanel";export default AdvancedSearchPanel;
//# sourceMappingURL=index.js.map
