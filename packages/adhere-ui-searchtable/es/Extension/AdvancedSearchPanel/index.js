import{__assign,__rest}from"tslib";import{Button}from"antd";import classNames from"classnames";import React,{useEffect,useState}from"react";import ReactDOM from"react-dom";import{FilterOutlined,LeftCircleOutlined,ReloadOutlined,RightCircleOutlined,SearchOutlined}from"@ant-design/icons";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import FlexLayout from"@baifendian/adhere-ui-flexlayout";import SlideLayout from"@baifendian/adhere-ui-slidelayout";import Space from"@baifendian/adhere-ui-space";import TableGridLayout from"@baifendian/adhere-ui-tablegridlayout";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"../../SearchTable";var VerticalFlexLayout=FlexLayout.VerticalFlexLayout,ScrollLayout=FlexLayout.ScrollLayout,renderGridSearchFormGroup=TableGridLayout.renderGridSearchFormGroup,Overlay=SlideLayout.Overlay,_selectorPrefix=selectorPrefix+"-advancedsearchpanel",AdvancedSearchPanel=function(e){var t=e.advancedSearchConfig,a=t.advancedSearch,r=a.getPopupContainer,n=__rest(a,["getPopupContainer"]),a=t.showStrategy,a=void 0===a?"all":a,o=t.renderTitleLabel,l=t.renderCollapse,t=e.tableGridLayoutConfig,t=void 0===t?{layout:"horizontal",bordered:!1}:t,c=e.groupData,c=void 0===c?[]:c,i=e.remainingGroupData,i=void 0===i?[]:i,d=e.onSearch,u=e.onReset,e=useState(n.collapse),s=e[0],m=e[1];return useEffect(function(){m(n.collapse)},[n.collapse]),ReactDOM.createPortal(React.createElement(Overlay,__assign({},n,{className:classNames(""+_selectorPrefix,n.className||""),collapse:s}),React.createElement(VerticalFlexLayout,{className:_selectorPrefix+"-inner",renderTop:React.createElement("header",{className:_selectorPrefix+"-header"},React.createElement("div",{className:_selectorPrefix+"-title"},React.createElement(ConditionalRender,{conditional:!o,noMatch:function(){return null==o?void 0:o()}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(FilterOutlined,null),React.createElement("strong",null,Intl.v("高级搜索")))})),React.createElement("div",{className:_selectorPrefix+"-collapse",onClick:function(){return m(!s)}},React.createElement(ConditionalRender,{conditional:!l,noMatch:function(){return null==l?void 0:l(s)}},function(){return React.createElement(ConditionalRender,{conditional:s,noMatch:function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(RightCircleOutlined,null),React.createElement("strong",null,Intl.v("展开")))}},function(){return React.createElement(Space.Group,{direction:"horizontal",size:2},React.createElement(LeftCircleOutlined,null),React.createElement("strong",null,Intl.v("收起")))})}))),renderMain:React.createElement("div",{className:_selectorPrefix+"-main"},React.createElement("div",{className:_selectorPrefix+"-main-inner"},React.createElement("div",{className:_selectorPrefix+"-scroll"},React.createElement(ScrollLayout,{scrollY:!0},renderGridSearchFormGroup("all"===a?c:i,t))),React.createElement("footer",{className:_selectorPrefix+"-footer"},React.createElement("div",{className:_selectorPrefix+"-item"},React.createElement(Button,{type:"primary",icon:React.createElement(SearchOutlined,null),onClick:function(){return d().then(function(){return m(!1)})}},Intl.v("确定"))),React.createElement("div",{className:_selectorPrefix+"-item"},React.createElement(Button,{icon:React.createElement(ReloadOutlined,null),onClick:function(){return u().then(function(){return m(!1)})}},Intl.v("重置"))))))})),r())};AdvancedSearchPanel.defaultProps={groupData:[],tableGridLayoutConfig:{layout:"horizontal",bordered:!1},remainingGroupData:[],advancedSearchConfig:{rowCount:"auto",showStrategy:"all",advancedSearch:{className:"",style:{},width:"30%",mask:!0,zIndex:19999,time:300,direction:"right",collapse:!1,onBeforeShow:function(){},onBeforeClose:function(){},onAfterShow:function(){},onAfterClose:function(){},getPopupContainer:function(){return document.body}}}};export default React.memo(AdvancedSearchPanel);
//# sourceMappingURL=index.js.map
