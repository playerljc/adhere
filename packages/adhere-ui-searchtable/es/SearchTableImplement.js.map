{"version":3,"file":"SearchTableImplement.js","sources":["SearchTableImplement.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport PropTypes from 'prop-types';\nimport React, { createRef, forwardRef } from 'react';\nimport ServiceRegister from '@ctsj/state/lib/middleware/saga/serviceregister';\nimport SearchTable, { defaultProps, propTypes } from './SearchTable';\nexport var selectorPrefix = 'adhere-ui-searchtableimplement';\n/**\n * SearchTableImplement\n * @class SearchTableImplement\n * @classdesc SearchTableImplement - SearchTable的默认实现\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nvar SearchTableImplement = /** @class */function (_super) {\n  __extends(SearchTableImplement, _super);\n  function SearchTableImplement(props) {\n    var _a;\n    var _this = _super.call(this, props) || this;\n    _this.innerWrapRef = /*#__PURE__*/createRef();\n    /**\n     * onSelectChange\n     * @description - onSelectChange\n     * @param {string} property\n     * @param {string} v\n     */\n    _this.onSelectChange = function (property, v) {\n      var _a;\n      _this.setState((_a = {}, _a[property] = v, _a));\n    };\n    /**\n     * onInputChange\n     * @description - onInputChange\n     * @param {string} property\n     * @param {any} e\n     */\n    _this.onInputChange = function (property, e) {\n      var _a;\n      _this.setState((_a = {}, _a[property] = e.target.value.trim(), _a));\n    };\n    /**\n     * onDateTimeRangeChange\n     * @description - onDateTimeRangeChange\n     * @param {string[]} propertys\n     * @param {any[]} dayjs\n     */\n    _this.onDateTimeRangeChange = function (propertys, dayjs) {\n      var _a;\n      _this.setState((_a = {}, _a[propertys[0]] = dayjs && dayjs.length ? dayjs[0] : null, _a[propertys[1]] = dayjs && dayjs.length ? dayjs[1] : null, _a));\n    };\n    Object.assign(_this.state, __assign(__assign({}, _this.getParams()), (_a = {}, _a[_this.getOrderFieldProp()] = _this.getOrderFieldValue(), _a[_this.getOrderProp()] = _this.getOrderPropValue() || 'descend',\n    // 查询参数\n    _a.searchParams = __assign({}, _this.getParams()), _a.selectedRowKeys = [], _a.selectedRows = [], _a)));\n    return _this;\n  }\n  SearchTableImplement.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n    var getTableWrapperInstance = this.props.getTableWrapperInstance;\n    if (getTableWrapperInstance) {\n      getTableWrapperInstance(this.innerWrapRef);\n    }\n  };\n  /**\n   * getFetchListPropName\n   * @override\n   * @description - 获取调用列表接口的函数名\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getFetchListPropName = function () {\n    return '';\n  };\n  /**\n   * getFetchListPropNameToFirstUpper\n   * @override\n   * @description - 获取调用列表接口的函数名首字母大写\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getFetchListPropNameToFirstUpper = function () {\n    var fetchListPropName = this.getFetchListPropName();\n    if (fetchListPropName.length > 1) {\n      return \"\".concat(fetchListPropName.charAt(0).toUpperCase()).concat(fetchListPropName.substring(1));\n    }\n    return fetchListPropName;\n  };\n  /**\n   * getParams\n   * @override\n   * @description - 获取查询参数对象\n   * @return {any}\n   */\n  SearchTableImplement.prototype.getParams = function () {\n    return {};\n  };\n  /**\n   * getServiceName\n   * @override\n   * @description - 获取接口服务的model名称\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getServiceName = function () {\n    return '';\n  };\n  /**\n   * getFetchDataParams\n   * @override\n   * @description - 获取调用数据接口的参数\n   * @return {object}\n   */\n  SearchTableImplement.prototype.getFetchDataParams = function () {\n    return {};\n  };\n  /**\n   * isShowNumber\n   * @description - 是否线上序号列\n   * @override\n   * @return {boolean}\n   */\n  SearchTableImplement.prototype.isShowNumber = function () {\n    return true;\n  };\n  /**\n   * getNumberGeneratorRule\n   * @override\n   * @description - 表格序号列的生成规则\n   * @return {symbol}\n   */\n  SearchTableImplement.prototype.getNumberGeneratorRule = function () {\n    return SearchTable.NUMBER_GENERATOR_RULE_CONTINUITY;\n  };\n  /**\n   * getNumberGeneratorRule\n   * @description 获取符号列的生成规则\n   * @return {symbol}\n   */\n  SearchTableImplement.prototype.getRowSelectionMode = function () {\n    return SearchTable.ROW_SELECTION_NORMAL_MODE;\n  };\n  /**\n   * getTableNumberColumnWidth\n   * @override\n   * @description - 表格序号列的宽度\n   * @return {number}\n   */\n  SearchTableImplement.prototype.getTableNumberColumnWidth = function () {\n    return 80;\n  };\n  /**\n   * getTableNumberColumnProps\n   * @return {object}\n   */\n  SearchTableImplement.prototype.getTableNumberColumnProps = function () {\n    return {};\n  };\n  /**\n   * getRowKey\n   * @override\n   * @description - 数据的主键\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getRowKey = function () {\n    return 'id';\n  };\n  /**\n   * getDataKey\n   * @description - 获取数据的key\n   * @protected\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getDataKey = function () {\n    return 'list';\n  };\n  /**\n   * getTotalKey\n   * @description - 获取total的key\n   * @protected\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getTotalKey = function () {\n    return 'totalCount';\n  };\n  /**\n   * getData\n   * @description - Table的数据(Table的dataSource字段)\n   * @override\n   * @return {object[]}\n   */\n  SearchTableImplement.prototype.getData = function () {\n    return this.props[this.getServiceName()][this.getFetchListPropName()][this.getDataKey()];\n  };\n  /**\n   * getTotal\n   * @description - Table数据的总条数\n   * @override\n   * @return {number}\n   */\n  SearchTableImplement.prototype.getTotal = function () {\n    return this.props[this.getServiceName()][this.getFetchListPropName()][this.getTotalKey()];\n  };\n  /**\n   * getRowSelection\n   * @override\n   * @description - 获取表格行选择对象\n   * @return {TableRowSelection<object>}\n   */\n  SearchTableImplement.prototype.getRowSelection = function () {\n    var _this = this;\n    var filter = function filter(selected, records) {\n      var rowKey = _this.getRowKey();\n      if (selected) {\n        // add\n        _this.setState({\n          selectedRowKeys: __spreadArray(__spreadArray([], _this.state.selectedRowKeys || [], true), records.map(function (r) {\n            return r[rowKey];\n          }), true),\n          selectedRows: __spreadArray(__spreadArray([], _this.state.selectedRows || [], true), records, true)\n        });\n      } else {\n        // remove\n        _this.setState({\n          selectedRows: (_this.state.selectedRows || []).filter(function (row) {\n            return !records.find(function (r) {\n              return r[rowKey] === row[rowKey];\n            });\n          }),\n          selectedRowKeys: (_this.state.selectedRowKeys || []).filter(function (key) {\n            return !records.find(function (r) {\n              return r[rowKey] === key;\n            });\n          })\n        });\n      }\n    };\n    return {\n      selectedRowKeys: this.state.selectedRowKeys,\n      onChange: function onChange(selectedRowKeys, selectedRows) {\n        if (_this.getRowSelectionMode() === SearchTable.ROW_SELECTION_CONTINUOUS_MODE) return;\n        // 如果是缺省模式(不能跨页选取)\n        _this.setState({\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows\n        });\n      },\n      onSelect: function onSelect(record, selected) {\n        if (_this.getRowSelectionMode() === SearchTable.ROW_SELECTION_NORMAL_MODE) return;\n        filter(selected, [record]);\n      },\n      onSelectAll: function onSelectAll(selected, selectedRows, changeRows) {\n        if (_this.getRowSelectionMode() === SearchTable.ROW_SELECTION_NORMAL_MODE) return;\n        filter(selected, changeRows);\n      }\n    };\n  };\n  /**\n   * renderSearchForm\n   * @override\n   * @description - 渲染Table查询的表单\n   * @return {ReactNode}\n   */\n  SearchTableImplement.prototype.renderSearchForm = function () {\n    return null;\n  };\n  /**\n   * renderInner\n   * @override\n   * @description - 渲染主体\n   * @return {ReactElement | null}\n   */\n  SearchTableImplement.prototype.renderInner = function () {\n    var innerJSX = _super.prototype.renderInner.call(this);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.innerWrapRef,\n      className: \"\".concat(selectorPrefix, \"-tablewrapper\")\n    }, innerJSX);\n  };\n  /**\n   * renderSearchFooterItems\n   * @description - 渲染表格的工具栏\n   * @override\n   * @return {any[]}\n   */\n  SearchTableImplement.prototype.renderSearchFooterItems = function () {\n    return [];\n  };\n  /**\n   * getOrderFieldProp\n   * @description - 获取排序字段\n   * @override\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getOrderFieldProp = function () {\n    return 'orderField';\n  };\n  /**\n   * getOrderFieldValue\n   * @description - 获取默认排序字段的值\n   * @override\n   * @protected\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getOrderFieldValue = function () {\n    return '';\n  };\n  /**\n   * getOrderProp\n   * @description - 获取排序方式\n   * @return {string}\n   */\n  SearchTableImplement.prototype.getOrderProp = function () {\n    return 'order';\n  };\n  /**\n   * getOrderPropValue\n   * @override\n   * @description - 获取默认排序方式\n   * @protected\n   * @return {'descend' | 'ascend'}\n   */\n  SearchTableImplement.prototype.getOrderPropValue = function () {\n    return 'descend';\n  };\n  /**\n   * clearSearch\n   * @description - 清空查询条件\n   * @override\n   * @return {Promise<void>}\n   */\n  SearchTableImplement.prototype.clearSearch = function () {\n    var _this = this;\n    return new Promise(function (resolve) {\n      var _a;\n      _this.setState(__assign(__assign({}, _this.getParams()), (_a = {}, _a[_this.getOrderFieldProp()] = _this.getOrderFieldValue(), _a[_this.getOrderProp()] = _this.getOrderPropValue() || 'descend',\n      // 查询参数\n      _a.searchParams = __assign({}, _this.getParams()), _a.selectedRowKeys = [], _a.selectedRows = [], _a)), function () {\n        resolve();\n      });\n    });\n  };\n  /**\n   * clearPaging\n   * @description 清除分页信息\n   * @return {Promise<any>}\n   */\n  SearchTableImplement.prototype.clearPaging = function () {\n    var _this = this;\n    return new Promise(function (resolve) {\n      _this.setState({\n        page: 1,\n        limit: _this.getLimit()\n      }, function () {\n        resolve();\n      });\n    });\n  };\n  /**\n   * showLoading\n   * @description - 是否显示遮罩\n   * @override\n   * @return {boolean}\n   */\n  SearchTableImplement.prototype.showLoading = function () {\n    return this.props.loading[\"\".concat(this.getServiceName(), \"/\").concat(this.getFetchListPropName())];\n  };\n  /**\n   * getSearchParams\n   * @description - 获取查询参数\n   * @protected\n   * @return {any}\n   */\n  SearchTableImplement.prototype.getSearchParams = function () {\n    var _a;\n    var _b = this.state,\n      page = _b.page,\n      limit = _b.limit,\n      searchParams = _b.searchParams;\n    var order = this.state[this.getOrderProp()];\n    return __assign({}, __assign(__assign(__assign({\n      page: page,\n      limit: limit\n    }, searchParams), (_a = {}, _a[this.getOrderProp()] = order === 'descend' ? 'desc' : 'asc', _a[this.getOrderFieldProp()] = this.state[this.getOrderFieldProp()], _a)), this.getFetchDataParams()));\n  };\n  /**\n   * fetchData\n   * @description - 加载数据\n   * @override\n   * @return {Promise<any>}\n   */\n  SearchTableImplement.prototype.fetchData = function () {\n    return this.fetchDataExecute(this.getSearchParams());\n  };\n  /**\n   * sync\n   * @description 同步\n   * @return Promise<any>\n   */\n  SearchTableImplement.prototype.sync = function () {\n    var _this = this;\n    return new Promise(function (resolve) {\n      var page = _this.state.page;\n      if (page === 1) {\n        resolve(_this.fetchData());\n        return;\n      }\n      var res = _this.fetchData().then(function () {\n        var data = _this.getData();\n        if (data.length) {\n          resolve(res);\n        } else {\n          _this.setState({\n            page: page - 1\n          }, function () {\n            return resolve(_this.fetchData());\n          });\n        }\n      });\n    });\n  };\n  /**\n   * fetchDataExecute\n   * @description - 真正的执行获取列表数据的接口\n   * @param {object} searchParams\n   * @protected\n   * @return {Promise<any>}\n   */\n  SearchTableImplement.prototype.fetchDataExecute = function (searchParams) {\n    return this.props[\"\".concat(this.getServiceName()).concat(this.getFetchListPropNameToFirstUpper())](searchParams);\n  };\n  /**\n   * onSearch\n   * @description - 点击查询\n   * @override\n   * @return {Promise<void>}\n   */\n  SearchTableImplement.prototype.onSearch = function () {\n    var _this = this;\n    var keys = Object.keys(this.getParams());\n    var params = {};\n    keys.forEach(function (key) {\n      params[key] = _this.state[key];\n    });\n    return new Promise(function (resolve) {\n      var _a;\n      _this.setState({\n        searchParams: __assign(__assign({}, params), (_a = {}, _a[_this.getOrderFieldProp()] = _this.state[_this.getOrderFieldProp()], _a[_this.getOrderProp()] = _this.state[_this.getOrderProp()], _a))\n      }, function () {\n        _this.fetchData().then(function () {\n          resolve();\n        });\n      });\n    });\n  };\n  /**\n   * getColumns\n   * @return {ColumnType<object>[]}\n   */\n  SearchTableImplement.prototype.getColumns = function () {\n    return [];\n  };\n  /**\n   * onSubTableChange\n   * @param {TablePaginationConfig} pagination\n   * @param {Record<string, FilterValue | null>} filters\n   * @param {SorterResult<object> | SorterResult<object>[]} sorter\n   * @param {TableCurrentDataSource<object> | undefined} extra\n   */\n  SearchTableImplement.prototype.onSubTableChange = function (\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  pagination,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  filters,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  sorter,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  extra) {};\n  /**\n   * renderSearchFormAfter\n   * @return {ReactNode}\n   */\n  SearchTableImplement.prototype.renderSearchFormAfter = function () {\n    return null;\n  };\n  /**\n   * renderSearchFormBefore\n   * @return {ReactNode}\n   */\n  SearchTableImplement.prototype.renderSearchFormBefore = function () {\n    return null;\n  };\n  /**\n   * renderSearchFooter\n   * @return {ReactNode}\n   */\n  SearchTableImplement.prototype.renderSearchFooter = function () {\n    return null;\n  };\n  /**\n   * renderSearchHeader\n   * @return {ReactNode}\n   */\n  SearchTableImplement.prototype.renderSearchHeader = function () {\n    return null;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  /**\n   * onTableRowComponentReducers\n   * @param {ColumnTypeExt[]} columns\n   * @return {string[]}\n   */\n  SearchTableImplement.prototype.onTableRowComponentReducers = function (columns) {\n    return this.tableRowComponentReducers;\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  /**\n   * onTableCellComponentReducers\n   * @param {ColumnTypeExt[]} columns\n   * @return {string[]}\n   */\n  SearchTableImplement.prototype.onTableCellComponentReducers = function (columns) {\n    return this.tableCellComponentReducers;\n  };\n  return SearchTableImplement;\n}(SearchTable);\nexport { SearchTableImplement };\nSearchTableImplement.defaultProps = __assign({}, defaultProps);\nSearchTableImplement.propTypes = __assign(__assign({}, propTypes), {\n  getTableWrapperInstance: PropTypes.func\n});\n/**\n * SearchTableImplementFactory\n * @description 创建SearchTableImplementFactory\n * @param {\n *     serviceNames:string[];\n *     mapStateToProps: (props?: any) => any,\n *     mapDispatchToProps: (props?: any) => any,\n * } params\n * @constructor\n */\nvar SearchTableImplementFactory = function SearchTableImplementFactory(_a) {\n  var _b = _a.serviceNames,\n    serviceNames = _b === void 0 ? [] : _b,\n    mapStateToProps = _a.mapStateToProps,\n    mapDispatchToProps = _a.mapDispatchToProps;\n  var _mapStateToProps = function _mapStateToProps(state) {\n    return __assign(__assign(__assign({}, ServiceRegister.mapStateToProps({\n      namespaces: serviceNames || [],\n      state: state\n    })), {\n      loading: state.loading\n    }), mapStateToProps ? mapStateToProps(state) : {});\n  };\n  var _mapDispatchToProps = function _mapDispatchToProps(dispatch) {\n    return __assign(__assign({}, ServiceRegister.mapDispatchToProps({\n      namespaces: serviceNames || [],\n      dispatch: dispatch\n    })), mapDispatchToProps ? mapDispatchToProps(dispatch) : {});\n  };\n  return function (Component) {\n    return ServiceRegister.connect(serviceNames || [])(_mapStateToProps, _mapDispatchToProps)( /*#__PURE__*/forwardRef(function (props, ref) {\n      return (\n        /*#__PURE__*/\n        // @ts-ignore\n        React.createElement(Component, __assign({\n          ref: ref,\n          className: \"\".concat(selectorPrefix, \"-wrap\"),\n          isShowExpandSearch: true,\n          defaultExpandSearchCollapse: false,\n          fixedHeaderAutoTable: true,\n          fixedTableSpaceBetween: true\n        }, props))\n      );\n    }));\n  };\n};\nexport default SearchTableImplementFactory;"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","PropTypes","React","createRef","forwardRef","ServiceRegister","SearchTable","defaultProps","propTypes","selectorPrefix","SearchTableImplement","_super","props","_this","innerWrapRef","onSelectChange","property","v","_a","setState","onInputChange","e","target","value","trim","onDateTimeRangeChange","propertys","dayjs","state","getParams","getOrderFieldProp","getOrderFieldValue","getOrderProp","getOrderPropValue","searchParams","selectedRowKeys","selectedRows","componentDidMount","getTableWrapperInstance","getFetchListPropName","getFetchListPropNameToFirstUpper","fetchListPropName","charAt","toUpperCase","substring","getServiceName","getFetchDataParams","isShowNumber","getNumberGeneratorRule","NUMBER_GENERATOR_RULE_CONTINUITY","getRowSelectionMode","ROW_SELECTION_NORMAL_MODE","getTableNumberColumnWidth","getTableNumberColumnProps","getRowKey","getDataKey","getTotalKey","getData","getTotal","getRowSelection","filter","selected","records","rowKey","map","r","row","find","key","onChange","ROW_SELECTION_CONTINUOUS_MODE","onSelect","record","onSelectAll","changeRows","renderSearchForm","renderInner","innerJSX","createElement","ref","className","renderSearchFooterItems","clearSearch","Promise","resolve","clearPaging","page","limit","getLimit","showLoading","loading","getSearchParams","_b","order","fetchData","fetchDataExecute","sync","res","then","onSearch","keys","params","forEach","getColumns","onSubTableChange","pagination","filters","sorter","extra","renderSearchFormAfter","renderSearchFormBefore","renderSearchFooter","renderSearchHeader","onTableRowComponentReducers","columns","tableRowComponentReducers","onTableCellComponentReducers","tableCellComponentReducers","SearchTableImplementFactory","func","_mapStateToProps","mapStateToProps","namespaces","serviceNames","_mapDispatchToProps","dispatch","mapDispatchToProps","Component","connect","isShowExpandSearch","defaultExpandSearchCollapse","fixedHeaderAutoTable","fixedTableSpaceBetween"],"mappings":"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"}