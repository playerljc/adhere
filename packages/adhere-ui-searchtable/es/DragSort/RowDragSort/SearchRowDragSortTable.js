var __extends=this&&this.__extends||function(){var o=function(r,e){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(r,e){r.__proto__=e}:function(r,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}))(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=r}o(r,e),r.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++)for(var n in e=arguments[t])Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(r,e,t){if(t||2===arguments.length)for(var o,n=0,a=e.length;n<a;n++)!o&&n in e||((o=o||Array.prototype.slice.call(e,0,n))[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};import cloneDeep from"lodash.clonedeep";import{SearchTableImplement}from"../../SearchTableImplement";import{findRecord,swap}from"../../util";import SearchRowDragSortFactory from"./SearchRowDragSortFactory";var SearchRowDragSortTable=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return __extends(e,r),e.prototype.moveRow=function(a,c){var i=this;return console.log("dragRecord",a),console.log("hoverRecord",c),new Promise(function(r){var e=cloneDeep(i.props[i.getServiceName()]),t=e[i.getFetchListPropName()][i.getDataKey()]||[],o=i.getRowKey(),n=findRecord(t,o,a[o]),o=findRecord(t,o,c[o]);swap(n,o),e[i.getFetchListPropName()][i.getDataKey()]=__spreadArray([],t,!0),i.props.dispatch(__assign({type:"".concat(i.getServiceName(),"/receive")},e)).then(function(){return r()})})},e}(SearchRowDragSortFactory(SearchTableImplement));export default SearchRowDragSortTable;
//# sourceMappingURL=SearchRowDragSortTable.js.map
