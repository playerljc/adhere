var __extends=this&&this.__extends||function(){var a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};import classNames from"classnames";import PropTypes from"prop-types";import React from"react";import FlexLayout from"@baifendian/adhere-ui-flexlayout";import Suspense from"@baifendian/adhere-ui-suspense";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"./SearchTable";var Fixed=FlexLayout.Fixed,Auto=FlexLayout.Auto,Search=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.getDerivedStateFromProps=function(e,t){return __assign(__assign({},t||{}),{prePage:null==t?void 0:t.page})},t.prototype.getPagination=function(){var r=this;return{onChange:function(e,t){r.setState({page:e,limit:t},function(){r.fetchData()})},onShowSizeChange:function(e,t){r.setState({page:e,limit:t},function(){r.fetchData()})},showTotal:function(e){return Intl.v("当前 {page}-{pageSize}/共 {total}条",{page:r.state.page,pageSize:r.state.limit,total:e})},total:this.getTotal(),current:this.state.page,pageSize:this.state.limit,showQuickJumper:!0}},t.prototype.getLimit=function(){return 10},t.prototype.onClear=function(){var t=this;return new Promise(function(e){t.setState({page:1,limit:t.getLimit()},function(){t.clear().then(function(){t.fetchData(),e()})})})},t.prototype.renderInner=function(e,t){var r=this.props,a=r.style,o=r.bodyClassName,s=r.bodyStyle,n=r.searchClassName,c=r.searchStyle,i=r.fitBody,r=r.autoFixed,l=this.state.expand,l=void 0!==l&&l;return React.createElement(FlexLayout,{direction:"vertical",className:classNames(selectorPrefix,t||""),style:__assign({},a||{})},React.createElement(Fixed,{className:classNames("".concat(selectorPrefix,"-searchwrapper"),n||""),style:__assign({},c||{})},!!this.renderSearchFormBefore&&!(null==(t=this.renderSearchFormBefore)||!t.call(this))&&React.createElement(Fixed,{className:"".concat(selectorPrefix,"-search-form-before")},null==(a=this.renderSearchFormBefore)?void 0:a.call(this)),!!this.renderSearchForm&&!(null==(n=this.renderSearchForm)||!n.call(this))&&l&&React.createElement(Fixed,{className:classNames(((c={})["".concat(selectorPrefix,"-search-form")]=!0,c["".concat(selectorPrefix,"-search-form-expand")]=l,c))},this.renderSearchForm()),!!this.renderSearchToolBar&&!(null==(t=this.renderSearchToolBar)||!t.call(this))&&React.createElement(Fixed,{className:classNames(((a={})["".concat(selectorPrefix,"-search-tool-bar")]=!0,a["".concat(selectorPrefix,"-search-form-expand")]=l,a))},this.renderSearchToolBar()),!!this.renderSearchFormAfter&&!(null==(n=this.renderSearchFormAfter)||!n.call(this))&&React.createElement(Fixed,{className:"".concat(selectorPrefix,"-search-form-after")},null==(c=this.renderSearchFormAfter)?void 0:c.call(this))),!!this.renderSearchHeader&&!(null==(t=this.renderSearchHeader)||!t.call(this))&&React.createElement(Fixed,{className:"".concat(selectorPrefix,"-search-header")},null==(l=this.renderSearchHeader)?void 0:l.call(this)),React.createElement(Auto,{style:__assign({},s||{}),className:classNames("".concat(selectorPrefix,"-autowrapper"),o||"",((a={}).autofixed=r,a)),fit:i,autoFixed:r},React.createElement("div",{ref:e,className:"".concat(selectorPrefix,"-tablewrapper")},this.renderBody())),!!this.renderSearchFooter&&!(null==(n=this.renderSearchFooter)||!n.call(this))&&React.createElement(Fixed,{className:"".concat(selectorPrefix,"-search-footer")},null==(c=this.renderSearchFooter)?void 0:c.call(this)))},t}(Suspense),defaultProps={className:"",style:{},searchClassName:"",searchStyle:{},isFirst:!0,isFirstLoading:null,isShowExpandSearch:!0,defaultExpandSearchCollapse:!0,fitBody:!0,autoFixed:!0},propTypes={className:PropTypes.string,style:PropTypes.object,searchClassName:PropTypes.string,searchStyle:PropTypes.object,reset:PropTypes.bool,firstLoading:PropTypes.node,isShowExpandSearch:PropTypes.bool,defaultExpandSearchCollapse:PropTypes.bool,fitBody:PropTypes.bool,autoFixed:PropTypes.bool};Search.defaultProps=defaultProps,Search.propTypes=propTypes;export default Search;export{defaultProps,propTypes};
//# sourceMappingURL=Search.js.map
