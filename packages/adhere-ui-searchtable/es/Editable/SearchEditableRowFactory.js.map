{"version":3,"file":"SearchEditableRowFactory.js","sources":["Editable/SearchEditableRowFactory.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nexport default function (SuperClass) {\n  return (/** @class */function (_super) {\n      __extends(class_1, _super);\n      function class_1(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = __assign(__assign({}, _this.state), {\n          editorRowId: ''\n        });\n        _this.rowConfigReducers = __spreadArray(__spreadArray([], _this.rowConfigReducers, true), [_this.rowEditableReducer], false);\n        return _this;\n      }\n      /**\n       * rowEditableReducer\n       * @description 可编辑row的处理\n       * @param params\n       */\n      class_1.prototype.rowEditableReducer = function (params) {\n        var rowConfig = params.rowConfig,\n          rowIndex = params.rowIndex,\n          columns = params.columns,\n          record = params.record;\n        if (this.onEditorRow) {\n          rowConfig.$editable = this.onEditorRow({\n            rowIndex: rowIndex,\n            record: record,\n            columns: columns\n          });\n        }\n        return rowConfig;\n      };\n      /**\n       * onEditorRow\n       * @param params\n       */\n      class_1.prototype.onEditorRow = function (params) {\n        return {\n          editable: true\n        };\n      };\n      /**\n       * onEditorCell\n       * @param record\n       * @param editorConfig\n       */\n      class_1.prototype.onEditorCell = function (_a) {\n        var record = _a.record,\n          editorConfig = _a.editorConfig;\n        if (editorConfig) {\n          editorConfig.useTrigger = false;\n          if (record[this.getRowKey()] === this.state.editorRowId) {\n            editorConfig.defaultStatus = 'edit';\n          }\n        }\n      };\n      /**\n       * fetchData\n       */\n      class_1.prototype.fetchData = function () {\n        var _this = this;\n        return _super.prototype.fetchData.call(this).then(function (res) {\n          _this.setState({\n            editorRowId: ''\n          });\n          return res;\n        });\n      };\n      return class_1;\n    }(SuperClass)\n  );\n}"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","SuperClass","class_1","_super","rowEditableReducer","params","rowConfig","rowIndex","columns","record","onEditorRow","$editable","editable","onEditorCell","_a","editorConfig","useTrigger","getRowKey","state","editorRowId","defaultStatus","fetchData","_this","then","res","setState","props","rowConfigReducers"],"mappings":"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"}