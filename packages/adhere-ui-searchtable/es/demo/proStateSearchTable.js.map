{"version":3,"file":"proStateSearchTable.js","sources":["demo/proStateSearchTable.js"],"sourcesContent":["import { __extends } from \"tslib\";\r\nimport React from 'react';\r\nimport { DateDisplay, DelConfirm, Resource } from '@baifendian/adhere';\r\nimport SearchTable from '../index';\r\nimport './serviceRegister';\r\nvar ProEditableCellSearchStateTable = SearchTable.ProEditableCellSearchStateTable, OptionsWrap = SearchTable.OptionsWrap, SearchTableStateImplementFactory = SearchTable.SearchTableStateImplementFactory;\r\nvar serviceName = 'user';\r\n/**\r\n * ProSearchStateTableImpl\r\n * @class ProSearchStateTableImpl\r\n * @classdesc ProSearchStateTableImpl\r\n */\r\nvar ProSearchStateTableImpl = /** @class */ (function (_super) {\r\n    __extends(ProSearchStateTableImpl, _super);\r\n    function ProSearchStateTableImpl() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ProSearchStateTableImpl.prototype.getComponentId = function () {\r\n        return 'ProSearchStateTableImpl';\r\n    };\r\n    ProSearchStateTableImpl.prototype.getServiceName = function () {\r\n        return serviceName;\r\n    };\r\n    ProSearchStateTableImpl.prototype.getFetchListPropName = function () {\r\n        return 'fetchList';\r\n    };\r\n    ProSearchStateTableImpl.prototype.getOrderFieldValue = function () {\r\n        return 'height';\r\n    };\r\n    /**\r\n     * getDataKey\r\n     * @description - 获取数据的key\r\n     * @protected\r\n     */\r\n    ProSearchStateTableImpl.prototype.getDataKey = function () {\r\n        return 'list';\r\n    };\r\n    /**\r\n     * getTotalKey\r\n     * @description - 获取total的key\r\n     * @protected\r\n     */\r\n    ProSearchStateTableImpl.prototype.getTotalKey = function () {\r\n        return 'totalCount';\r\n    };\r\n    /**\r\n     * Table的列\r\n     * @override\r\n     * @return {*[]}\r\n     */\r\n    ProSearchStateTableImpl.prototype.getColumns = function () {\r\n        var _this = this;\r\n        return _super.prototype.getColumns.call(this, [\r\n            {\r\n                title: '姓名',\r\n                dataIndex: 'name',\r\n                key: 'name',\r\n                width: 150,\r\n                render: function (val) { return React.createElement(\"div\", { style: { color: 'red' } }, val); },\r\n                $search: {\r\n                    type: 'input',\r\n                    visible: true,\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'input',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入姓名',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var value = _a.value, record = _a.record, dataIndex = _a.dataIndex;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n                $resizable: true,\r\n            },\r\n            {\r\n                title: '性别',\r\n                dataIndex: 'sex',\r\n                key: 'sex',\r\n                align: 'center',\r\n                width: 150,\r\n                render: function (v) { return Resource.Dict.value.ResourceNormalSexMap.value.get(v).label; },\r\n                $search: {\r\n                    type: 'select',\r\n                    visible: true,\r\n                    dictName: 'SystemTestSexSelect',\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'select',\r\n                    dictName: 'SystemTestSexSelect',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请选择',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '出生年月',\r\n                dataIndex: 'birthday',\r\n                key: 'birthday',\r\n                align: 'center',\r\n                width: 200,\r\n                sorter: true,\r\n                sortOrder: this.sortOrder('birthday'),\r\n                render: function (val) { return React.createElement(DateDisplay.DateDisplay10, { value: val }); },\r\n                $search: {\r\n                    type: 'rangePicker',\r\n                    visible: true,\r\n                    startName: 'birthDayStart',\r\n                    endName: 'birthDayEnd',\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'datePicker',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请选择',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDateData({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '身高',\r\n                dataIndex: 'height',\r\n                key: 'height',\r\n                align: 'center',\r\n                width: 150,\r\n                sorter: true,\r\n                sortOrder: this.sortOrder('height'),\r\n                $search: {\r\n                    type: 'inputNumberDecimal2',\r\n                    visible: true,\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'inputNumberDecimal2',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入身高',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '体重',\r\n                dataIndex: 'width',\r\n                key: 'width',\r\n                align: 'center',\r\n                width: 150,\r\n                sorter: true,\r\n                sortOrder: this.sortOrder('width'),\r\n                $search: {\r\n                    type: 'inputNumberDecimal2',\r\n                    visible: true,\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'inputNumberDecimal2',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入体重',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '籍贯',\r\n                dataIndex: 'homeTown',\r\n                key: 'homeTown',\r\n                ellipsis: true,\r\n                width: 200,\r\n                $search: {\r\n                    type: 'input',\r\n                    visible: true,\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'input',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入籍贯',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '现居住地',\r\n                dataIndex: 'address',\r\n                key: 'address',\r\n                width: 300,\r\n                $search: {\r\n                    type: 'input',\r\n                    visible: true,\r\n                    valueAttrs: {\r\n                        colSpan: 5,\r\n                    },\r\n                },\r\n                $editable: {\r\n                    editable: true,\r\n                    type: 'input',\r\n                    rules: [\r\n                        {\r\n                            required: true,\r\n                            message: '请输入居住地',\r\n                        },\r\n                    ],\r\n                    onSave: function (_a) {\r\n                        var record = _a.record, dataIndex = _a.dataIndex, value = _a.value;\r\n                        return new Promise(function (resolve) {\r\n                            _this.updateEditorCellDate({\r\n                                record: record,\r\n                                dataIndex: dataIndex,\r\n                                value: value,\r\n                            }).then(function () { return resolve(); });\r\n                        });\r\n                    },\r\n                },\r\n            },\r\n            {\r\n                title: '操作',\r\n                dataIndex: this.getOptionsColumnDataIndex(),\r\n                key: this.getOptionsColumnDataIndex(),\r\n                width: 260,\r\n                render: function (v, record) { return (React.createElement(OptionsWrap, { style: { justifyContent: 'center' } }, _this.renderOptionColumn([\r\n                    {\r\n                        key: 'view',\r\n                        value: React.createElement(\"a\", null, \"\\u67E5\\u770B\"),\r\n                    },\r\n                    {\r\n                        key: 'delete',\r\n                        value: (React.createElement(DelConfirm, { success: function () {\r\n                                return Promise.resolve().then(function () {\r\n                                    _this.fetchData();\r\n                                });\r\n                            } },\r\n                            React.createElement(\"a\", null, \"\\u5220\\u9664\"))),\r\n                    },\r\n                ], { value: v, record: record }))); },\r\n            },\r\n        ]);\r\n    };\r\n    return ProSearchStateTableImpl;\r\n}(ProEditableCellSearchStateTable));\r\nProSearchStateTableImpl.propTypes = {};\r\nvar models = [];\r\nvar requireComponent = require.context('./model', false, /.*\\.(js)$/);\r\nrequireComponent.keys().forEach(function (fileName) {\r\n    var model = requireComponent(fileName);\r\n    models.push(model.default());\r\n});\r\nvar Wrap = SearchTableStateImplementFactory({\r\n    serviceNames: [serviceName],\r\n    middleWares: [],\r\n    reducer: null,\r\n    models: models,\r\n})(ProSearchStateTableImpl);\r\nexport default Wrap;\r\n//# sourceMappingURL=proStateSearchTable.js.map"],"names":["__extends","React","DateDisplay","DelConfirm","Resource","SearchTable","ProEditableCellSearchStateTable","OptionsWrap","SearchTableStateImplementFactory","serviceName","ProSearchStateTableImpl","_super","apply","this","arguments","prototype","getComponentId","getServiceName","getFetchListPropName","getOrderFieldValue","getDataKey","getTotalKey","getColumns","_this","call","title","dataIndex","key","width","render","val","createElement","style","color","$search","type","visible","$editable","editable","rules","required","message","onSave","_a","value","record","Promise","resolve","updateEditorCellDate","then","$resizable","align","v","Dict","ResourceNormalSexMap","get","label","dictName","sorter","sortOrder","DateDisplay10","startName","endName","updateEditorCellDateData","ellipsis","valueAttrs","colSpan","getOptionsColumnDataIndex","justifyContent","renderOptionColumn","success","fetchData","models","propTypes","requireComponent","require","context","Wrap","keys","forEach","fileName","model","push","default","serviceNames","middleWares","reducer"],"mappings":"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"}