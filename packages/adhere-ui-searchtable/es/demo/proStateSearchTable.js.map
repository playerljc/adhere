{"version":3,"file":"proStateSearchTable.js","sources":["demo/proStateSearchTable.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport React from 'react';\nimport { DateDisplay, DelConfirm, Resource } from '@baifendian/adhere';\nimport SearchTable from '../index';\nimport './serviceRegister';\nvar ProEditableCellSearchStateTable = SearchTable.ProEditableCellSearchStateTable,\n  OptionsWrap = SearchTable.OptionsWrap,\n  SearchTableStateImplementFactory = SearchTable.SearchTableStateImplementFactory;\nvar serviceName = 'user';\n/**\n * ProSearchStateTableImpl\n * @class ProSearchStateTableImpl\n * @classdesc ProSearchStateTableImpl\n */\nvar ProSearchStateTableImpl = /** @class */function (_super) {\n  __extends(ProSearchStateTableImpl, _super);\n  function ProSearchStateTableImpl() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ProSearchStateTableImpl.prototype.getComponentId = function () {\n    return 'ProSearchStateTableImpl';\n  };\n  ProSearchStateTableImpl.prototype.getServiceName = function () {\n    return serviceName;\n  };\n  ProSearchStateTableImpl.prototype.getFetchListPropName = function () {\n    return 'fetchList';\n  };\n  ProSearchStateTableImpl.prototype.getOrderFieldValue = function () {\n    return 'height';\n  };\n  /**\n   * getDataKey\n   * @description - 获取数据的key\n   * @protected\n   */\n  ProSearchStateTableImpl.prototype.getDataKey = function () {\n    return 'list';\n  };\n  /**\n   * getTotalKey\n   * @description - 获取total的key\n   * @protected\n   */\n  ProSearchStateTableImpl.prototype.getTotalKey = function () {\n    return 'totalCount';\n  };\n  /**\n   * Table的列\n   * @override\n   * @return {*[]}\n   */\n  ProSearchStateTableImpl.prototype.getColumns = function () {\n    var _this = this;\n    return _super.prototype.getColumns.call(this, [{\n      title: '姓名',\n      dataIndex: 'name',\n      key: 'name',\n      width: 150,\n      render: function render(val) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            color: 'red'\n          }\n        }, val);\n      },\n      $search: {\n        type: 'input',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入姓名'\n        }],\n        onSave: function onSave(_a) {\n          var value = _a.value,\n            record = _a.record,\n            dataIndex = _a.dataIndex;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      },\n      $resizable: true\n    }, {\n      title: '性别',\n      dataIndex: 'sex',\n      key: 'sex',\n      align: 'center',\n      width: 150,\n      render: function render(v) {\n        return Resource.Dict.value.ResourceNormalSexMap.value.get(v).label;\n      },\n      $search: {\n        type: 'select',\n        visible: true,\n        dictName: 'SystemTestSexSelect'\n      },\n      $editable: {\n        editable: true,\n        type: 'select',\n        dictName: 'SystemTestSexSelect',\n        rules: [{\n          required: true,\n          message: '请选择'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '出生年月',\n      dataIndex: 'birthday',\n      key: 'birthday',\n      align: 'center',\n      width: 200,\n      sorter: true,\n      sortOrder: this.sortOrder('birthday'),\n      render: function render(val) {\n        return /*#__PURE__*/React.createElement(DateDisplay.DateDisplay10, {\n          value: val\n        });\n      },\n      $search: {\n        type: 'rangePicker',\n        visible: true,\n        startName: 'birthDayStart',\n        endName: 'birthDayEnd'\n      },\n      $editable: {\n        editable: true,\n        type: 'datePicker',\n        rules: [{\n          required: true,\n          message: '请选择'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDateData({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '身高',\n      dataIndex: 'height',\n      key: 'height',\n      align: 'center',\n      width: 150,\n      sorter: true,\n      sortOrder: this.sortOrder('height'),\n      $search: {\n        type: 'inputNumberDecimal2',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'inputNumberDecimal2',\n        rules: [{\n          required: true,\n          message: '请输入身高'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '体重',\n      dataIndex: 'width',\n      key: 'width',\n      align: 'center',\n      width: 150,\n      sorter: true,\n      sortOrder: this.sortOrder('width'),\n      $search: {\n        type: 'inputNumberDecimal2',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'inputNumberDecimal2',\n        rules: [{\n          required: true,\n          message: '请输入体重'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '籍贯',\n      dataIndex: 'homeTown',\n      key: 'homeTown',\n      ellipsis: true,\n      width: 200,\n      $search: {\n        type: 'input',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入籍贯'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '现居住地',\n      dataIndex: 'address',\n      key: 'address',\n      width: 300,\n      $search: {\n        type: 'input',\n        visible: true,\n        valueAttrs: {\n          colSpan: 5\n        }\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入居住地'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n            dataIndex = _a.dataIndex,\n            value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '操作',\n      dataIndex: this.getOptionsColumnDataIndex(),\n      key: this.getOptionsColumnDataIndex(),\n      width: 260,\n      render: function render(v, record) {\n        return /*#__PURE__*/React.createElement(OptionsWrap, {\n          style: {\n            justifyContent: 'center'\n          }\n        }, _this.renderOptionColumn([{\n          key: 'view',\n          value: /*#__PURE__*/React.createElement(\"a\", null, \"\\u67E5\\u770B\")\n        }, {\n          key: 'delete',\n          value: /*#__PURE__*/React.createElement(DelConfirm, {\n            success: function success() {\n              return Promise.resolve().then(function () {\n                _this.fetchData();\n              });\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", null, \"\\u5220\\u9664\"))\n        }], {\n          value: v,\n          record: record\n        }));\n      }\n    }]);\n  };\n  return ProSearchStateTableImpl;\n}(ProEditableCellSearchStateTable);\nProSearchStateTableImpl.propTypes = {};\nvar models = [];\nvar requireComponent = require.context('./model', false, /.*\\.(js)$/);\nrequireComponent.keys().forEach(function (fileName) {\n  var model = requireComponent(fileName);\n  models.push(model.default());\n});\nvar Wrap = SearchTableStateImplementFactory({\n  serviceNames: [serviceName],\n  middleWares: [],\n  reducer: null,\n  models: models\n})(ProSearchStateTableImpl);\nexport default Wrap;"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","React","DateDisplay","DelConfirm","Resource","SearchTable","ProEditableCellSearchStateTable","OptionsWrap","SearchTableStateImplementFactory","serviceName","ProSearchStateTableImpl","_super","apply","arguments","getComponentId","getServiceName","getFetchListPropName","getOrderFieldValue","getDataKey","getTotalKey","getColumns","_this","title","dataIndex","key","width","render","val","createElement","style","color","$search","type","visible","$editable","editable","rules","required","message","onSave","_a","value","record","Promise","resolve","updateEditorCellDate","then","$resizable","align","v","Dict","ResourceNormalSexMap","get","label","dictName","sorter","sortOrder","DateDisplay10","startName","endName","updateEditorCellDateData","ellipsis","valueAttrs","colSpan","getOptionsColumnDataIndex","justifyContent","renderOptionColumn","success","fetchData","models","propTypes","requireComponent","require","context","Wrap","keys","forEach","fileName","model","push","default","serviceNames","middleWares","reducer"],"mappings":"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"}