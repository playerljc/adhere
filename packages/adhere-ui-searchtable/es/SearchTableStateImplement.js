import"core-js/modules/es.array.concat.js";import{__assign,__extends}from"tslib";import React,{forwardRef}from"react";import ServiceRegister from"@ctsj/state/lib/middleware/saga/serviceregister";import{createState}from"@ctsj/state/lib/react";import{defaultProps,propTypes}from"./SearchTable";import{SearchTableImplement}from"./SearchTableImplement";var selectorPrefix="adhere-ui-searchstatetableimplement",SearchTableStateImplement=function(n){function e(e){var t=n.call(this,e)||this,e=e.$state,a=e.serviceNames,r=e.middleWares,s=e.reducer,o=e.models,i=e.mapStateToProps,c=e.mapDispatchToProps;return t.unsubscribe=createState({initialState:__assign({},t.state),models:o,mapState:function(e){return __assign(__assign(__assign({},ServiceRegister.mapStateToProps({namespaces:a||[],state:e})),{loading:e.loading}),i?i(e):{})},mapDispatch:function(e){return __assign(__assign({},ServiceRegister.mapDispatchToProps({namespaces:a||[],dispatch:e})),c?c(e):{})},middleWares:r,reducer:s,ref:t}),t}return __extends(e,n),e.prototype.componentWillUnmount=function(){var e;null!=(e=n.prototype.componentWillUnmount)&&e.call(this),this.unsubscribe()},e.prototype.getData=function(){return this.state[this.getServiceName()][this.getFetchListPropName()][this.getDataKey()]},e.prototype.getTotal=function(){return this.state[this.getServiceName()][this.getFetchListPropName()][this.getTotalKey()]},e.prototype.showLoading=function(){return this.state.loading["".concat(this.getServiceName(),"/").concat(this.getFetchListPropName())]},e.prototype.fetchDataExecute=function(e){return this.state["".concat(this.getServiceName()).concat(this.getFetchListPropNameToFirstUpper())](e)},e}(SearchTableImplement),SearchTableStateImplementFactory=(SearchTableStateImplement.defaultProps=__assign({},defaultProps),SearchTableStateImplement.propTypes=__assign({},propTypes),function(e){var r=e.serviceNames,s=e.middleWares,o=e.reducer,i=e.models,c=e.mapStateToProps,n=e.mapDispatchToProps;return function(a){return forwardRef(function(e,t){return React.createElement(a,__assign({ref:t,className:"".concat(selectorPrefix,"-wrap"),isShowExpandSearch:!0,defaultExpandSearchCollapse:!1,openSearchParamsMemory:!1,fixedHeaderAutoTable:!0,fixedTableSpaceBetween:!0},e,{$state:{serviceNames:r,middleWares:s,reducer:o,models:i,mapStateToProps:c,mapDispatchToProps:n}}))})}});export default SearchTableStateImplementFactory;export{selectorPrefix,SearchTableStateImplement};
//# sourceMappingURL=SearchTableStateImplement.js.map
