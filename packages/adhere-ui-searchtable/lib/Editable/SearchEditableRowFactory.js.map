{"version":3,"file":"SearchEditableRowFactory.js","sources":["Editable/SearchEditableRowFactory.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar tslib_1 = require(\"tslib\");\r\nfunction default_1(SuperClass) {\r\n    return /** @class */ (function (_super) {\r\n        tslib_1.__extends(class_1, _super);\r\n        function class_1(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = tslib_1.__assign(tslib_1.__assign({}, _this.state), { editorRowId: '' });\r\n            _this.rowConfigReducers = tslib_1.__spreadArray(tslib_1.__spreadArray([], _this.rowConfigReducers, true), [_this.rowEditableReducer], false);\r\n            return _this;\r\n        }\r\n        /**\r\n         * rowEditableReducer\r\n         * @description 可编辑row的处理\r\n         * @param params\r\n         */\r\n        class_1.prototype.rowEditableReducer = function (params) {\r\n            var rowConfig = params.rowConfig, rowIndex = params.rowIndex, columns = params.columns, record = params.record;\r\n            if (this.onEditorRow) {\r\n                rowConfig.$editable = this.onEditorRow({\r\n                    rowIndex: rowIndex,\r\n                    record: record,\r\n                    columns: columns,\r\n                });\r\n            }\r\n            return rowConfig;\r\n        };\r\n        /**\r\n         * onEditorRow\r\n         * @param params\r\n         */\r\n        class_1.prototype.onEditorRow = function (params) {\r\n            return {\r\n                editable: true,\r\n            };\r\n        };\r\n        /**\r\n         * onEditorCell\r\n         * @param record\r\n         * @param editorConfig\r\n         */\r\n        class_1.prototype.onEditorCell = function (_a) {\r\n            var record = _a.record, editorConfig = _a.editorConfig;\r\n            if (editorConfig) {\r\n                editorConfig.useTrigger = false;\r\n                if (record[this.getRowKey()] === this.state.editorRowId) {\r\n                    editorConfig.defaultStatus = 'edit';\r\n                }\r\n            }\r\n        };\r\n        /**\r\n         * fetchData\r\n         */\r\n        class_1.prototype.fetchData = function () {\r\n            var _this = this;\r\n            return _super.prototype.fetchData.call(this).then(function (res) {\r\n                _this.setState({\r\n                    editorRowId: '',\r\n                });\r\n                return res;\r\n            });\r\n        };\r\n        return class_1;\r\n    }(SuperClass));\r\n}\r\nexports.default = default_1;\r\n//# sourceMappingURL=SearchEditableRowFactory.js.map"],"names":["Object","defineProperty","exports","value","tslib_1","require","default_1","SuperClass","_super","__extends","class_1","prototype","rowEditableReducer","params","rowConfig","rowIndex","columns","record","this","onEditorRow","$editable","editable","onEditorCell","_a","editorConfig","useTrigger","getRowKey","state","editorRowId","defaultStatus","fetchData","_this","call","then","res","setState","props","__assign","rowConfigReducers","__spreadArray","default"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC5D,IAAIC,QAAUC,QAAQ,OAAO,EAC7B,SAASC,UAAUC,GACf,OAAgCC,EA4D9BD,EA3DEH,QAAQK,UAAUC,EAASF,CAAM,EAYjCE,EAAQC,UAAUC,mBAAqB,SAAUC,GAC7C,IAAIC,EAAYD,EAAOC,UAAWC,EAAWF,EAAOE,SAAUC,EAAUH,EAAOG,QAASC,EAASJ,EAAOI,OAQxG,OAPIC,KAAKC,cACLL,EAAUM,UAAYF,KAAKC,YAAY,CACnCJ,SAAUA,EACVE,OAAQA,EACRD,QAASA,CACb,CAAC,GAEEF,CACX,EAKAJ,EAAQC,UAAUQ,YAAc,SAAUN,GACtC,MAAO,CACHQ,SAAU,CAAA,CACd,CACJ,EAMAX,EAAQC,UAAUW,aAAe,SAAUC,GACvC,IAAIN,EAASM,EAAGN,OAAQO,EAAeD,EAAGC,aACtCA,IACAA,EAAaC,WAAa,CAAA,EACtBR,EAAOC,KAAKQ,UAAU,KAAOR,KAAKS,MAAMC,cACxCJ,EAAaK,cAAgB,QAGzC,EAIAnB,EAAQC,UAAUmB,UAAY,WAC1B,IAAIC,EAAQb,KACZ,OAAOV,EAAOG,UAAUmB,UAAUE,KAAKd,IAAI,EAAEe,KAAK,SAAUC,GAIxD,OAHAH,EAAMI,SAAS,CACXP,YAAa,EACjB,CAAC,EACMM,CACX,CAAC,CACL,EACOxB,EAzDP,SAASA,EAAQ0B,GACTL,EAAQvB,EAAOwB,KAAKd,KAAMkB,CAAK,GAAKlB,KAGxC,OAFAa,EAAMJ,MAAQvB,QAAQiC,SAASjC,QAAQiC,SAAS,GAAIN,EAAMJ,KAAK,EAAG,CAAEC,YAAa,EAAG,CAAC,EACrFG,EAAMO,kBAAoBlC,QAAQmC,cAAcnC,QAAQmC,cAAc,GAAIR,EAAMO,kBAAmB,CAAA,CAAI,EAAG,CAACP,EAAMnB,oBAAqB,CAAA,CAAK,EACpImB,CACX,CAPkB,IAAUvB,CA6DpC,CACAN,QAAQsC,QAAUlC"}