{"version":3,"file":"SearchEditableRowFactory.js","sources":["Editable/SearchEditableRowFactory.js"],"sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction default_1(SuperClass) {\n  return /** @class */function (_super) {\n    __extends(class_1, _super);\n    function class_1(props) {\n      var _this = _super.call(this, props) || this;\n      _this.state = __assign(__assign({}, _this.state), {\n        editorRowId: ''\n      });\n      _this.rowConfigReducers = __spreadArray(__spreadArray([], _this.rowConfigReducers, true), [_this.rowEditableReducer], false);\n      return _this;\n    }\n    /**\n     * rowEditableReducer\n     * @description 可编辑row的处理\n     * @param params\n     */\n    class_1.prototype.rowEditableReducer = function (params) {\n      var rowConfig = params.rowConfig,\n        rowIndex = params.rowIndex,\n        columns = params.columns,\n        record = params.record;\n      if (this.onEditorRow) {\n        rowConfig.$editable = this.onEditorRow({\n          rowIndex: rowIndex,\n          record: record,\n          columns: columns\n        });\n      }\n      return rowConfig;\n    };\n    /**\n     * onEditorRow\n     * @param params\n     */\n    class_1.prototype.onEditorRow = function (params) {\n      return {\n        editable: true\n      };\n    };\n    /**\n     * onEditorCell\n     * @param record\n     * @param editorConfig\n     */\n    class_1.prototype.onEditorCell = function (_a) {\n      var record = _a.record,\n        editorConfig = _a.editorConfig;\n      if (editorConfig) {\n        editorConfig.useTrigger = false;\n        if (record[this.getRowKey()] === this.state.editorRowId) {\n          editorConfig.defaultStatus = 'edit';\n        }\n      }\n    };\n    /**\n     * fetchData\n     */\n    class_1.prototype.fetchData = function () {\n      var _this = this;\n      return _super.prototype.fetchData.call(this).then(function (res) {\n        _this.setState({\n          editorRowId: ''\n        });\n        return res;\n      });\n    };\n    return class_1;\n  }(SuperClass);\n}\nexports.default = default_1;"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","ar","l","slice","concat","default_1","SuperClass","class_1","_super","rowEditableReducer","params","rowConfig","rowIndex","columns","record","onEditorRow","$editable","editable","onEditorCell","_a","editorConfig","useTrigger","getRowKey","state","editorRowId","defaultStatus","fetchData","_this","then","res","setState","props","rowConfigReducers","defineProperty","exports","value","default"],"mappings":"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"}