{"version":3,"file":"SearchRowDragSortStateTable.js","sources":["DragSort/RowDragSort/SearchRowDragSortStateTable.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar array_move_1 = require(\"array-move\");\n\nvar lodash_clonedeep_1 = tslib_1.__importDefault(require(\"lodash.clonedeep\"));\n\nvar SearchTableStateImplement_1 = require(\"../../SearchTableStateImplement\");\n\nvar SearchRowDragSortFactory_1 = tslib_1.__importDefault(require(\"./SearchRowDragSortFactory\"));\n/**\n * SearchRowDragSortStateTable\n * @class\n */\n\n\nvar SearchRowDragSortStateTable =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SearchRowDragSortStateTable, _super);\n\n  function SearchRowDragSortStateTable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * moveRow\n   * @param dragIndex\n   * @param hoverIndex\n   * @return Promise<void>\n   */\n\n\n  SearchRowDragSortStateTable.prototype.moveRow = function (dragIndex, hoverIndex) {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      var _a;\n\n      var listData = (0, lodash_clonedeep_1.default)(_this.state[_this.getServiceName()]);\n      var dataSource = listData[_this.getFetchListPropName()][_this.getDataKey()] || [];\n      listData[_this.getFetchListPropName()][_this.getDataKey()] = (0, array_move_1.arrayMoveImmutable)(dataSource, dragIndex, hoverIndex);\n\n      _this.setState((_a = {}, _a[_this.getServiceName()] = listData, _a), function () {\n        return resolve();\n      });\n    });\n  };\n\n  return SearchRowDragSortStateTable;\n}((0, SearchRowDragSortFactory_1.default)(SearchTableStateImplement_1.SearchTableStateImplement));\n\nexports.default = SearchRowDragSortStateTable;"],"names":["require","Object","defineProperty","exports","value","tslib_1","array_move_1","lodash_clonedeep_1","__importDefault","SearchTableStateImplement_1","SearchRowDragSortFactory_1","SearchRowDragSortStateTable","_super","apply","this","arguments","__extends","prototype","moveRow","dragIndex","hoverIndex","_this","Promise","resolve","listData","default","state","getServiceName","dataSource","getFetchListPropName","getDataKey","arrayMoveImmutable","setState","_a","SearchTableStateImplement"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDA,QAAQ,wCAAwC,EAEhDA,QAAQ,+BAA+B,EAEvCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,aAAeN,QAAQ,YAAY,EAEnCO,mBAAqBF,QAAQG,gBAAgBR,QAAQ,kBAAkB,CAAC,EAExES,4BAA8BT,QAAQ,iCAAiC,EAEvEU,2BAA6BL,QAAQG,gBAAgBR,QAAQ,4BAA4B,CAAC,EAO1FW,4BAEJ,SAAUC,GAGR,SAASD,IACP,OAAkB,OAAXC,GAAmBA,EAAOC,MAAMC,KAAMC,SAAS,GAAKD,IAC7D,CAyBA,OA7BAT,QAAQW,UAAUL,EAA6BC,CAAM,EAarDD,EAA4BM,UAAUC,QAAU,SAAUC,EAAWC,GACnE,IAAIC,EAAQP,KAEZ,OAAO,IAAIQ,QAAQ,SAAUC,GAC3B,IAEIC,GAAW,EAAIjB,mBAAmBkB,SAASJ,EAAMK,MAAML,EAAMM,eAAe,EAAE,EAC9EC,EAAaJ,EAASH,EAAMQ,qBAAqB,GAAGR,EAAMS,WAAW,IAAM,GAC/EN,EAASH,EAAMQ,qBAAqB,GAAGR,EAAMS,WAAW,IAAK,EAAIxB,aAAayB,oBAAoBH,EAAYT,EAAWC,CAAU,EAEnIC,EAAMW,WAAUC,EAAK,IAAOZ,EAAMM,eAAe,GAAKH,EAAUS,GAAK,WACnE,OAAOV,EAAQ,CACjB,CAAC,CACH,CAAC,CACH,EAEOZ,CACT,GAAE,EAAID,2BAA2Be,SAAShB,4BAA4ByB,yBAAyB,CAAC,EAEhG/B,QAAQsB,QAAUd"}