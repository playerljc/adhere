{"version":3,"file":"SearchRowDragSortTable.js","sources":["DragSort/RowDragSort/SearchRowDragSortTable.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar array_move_1 = require(\"array-move\");\n\nvar lodash_clonedeep_1 = tslib_1.__importDefault(require(\"lodash.clonedeep\"));\n\nvar SearchTableImplement_1 = require(\"../../SearchTableImplement\");\n\nvar SearchRowDragSortFactory_1 = tslib_1.__importDefault(require(\"./SearchRowDragSortFactory\"));\n/**\n * SearchRowDragSortTable\n * @class\n */\n\n\nvar SearchRowDragSortTable =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(SearchRowDragSortTable, _super);\n\n  function SearchRowDragSortTable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  /**\n   * moveRow\n   * @param dragIndex\n   * @param hoverIndex\n   * @return Promise<void>\n   */\n\n\n  SearchRowDragSortTable.prototype.moveRow = function (dragIndex, hoverIndex) {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      var _a;\n\n      var listData = (0, lodash_clonedeep_1.default)(_this.state[_this.getServiceName()]);\n      var dataSource = listData[_this.getFetchListPropName()][_this.getDataKey()] || [];\n      listData[_this.getFetchListPropName()][_this.getDataKey()] = (0, array_move_1.arrayMoveImmutable)(dataSource, dragIndex, hoverIndex);\n\n      _this.props.dispatch((_a = {\n        type: \"\".concat(_this.getServiceName(), \"/receive\")\n      }, _a[_this.getServiceName()] = listData, _a)).then(function () {\n        return resolve();\n      });\n    });\n  };\n\n  return SearchRowDragSortTable;\n}((0, SearchRowDragSortFactory_1.default)(SearchTableImplement_1.SearchTableImplement));\n\nexports.default = SearchRowDragSortTable;"],"names":["require","Object","defineProperty","exports","value","tslib_1","array_move_1","lodash_clonedeep_1","__importDefault","SearchTableImplement_1","SearchRowDragSortFactory_1","SearchRowDragSortTable","_super","apply","this","arguments","__extends","prototype","moveRow","dragIndex","hoverIndex","_this","Promise","resolve","listData","default","state","getServiceName","dataSource","getFetchListPropName","getDataKey","arrayMoveImmutable","props","dispatch","_a","type","concat","then","SearchTableImplement"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDA,QAAQ,wCAAwC,EAEhDA,QAAQ,+BAA+B,EAEvCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,aAAeN,QAAQ,YAAY,EAEnCO,mBAAqBF,QAAQG,gBAAgBR,QAAQ,kBAAkB,CAAC,EAExES,uBAAyBT,QAAQ,4BAA4B,EAE7DU,2BAA6BL,QAAQG,gBAAgBR,QAAQ,4BAA4B,CAAC,EAO1FW,uBAEJ,SAAUC,GAGR,SAASD,IACP,OAAkB,OAAXC,GAAmBA,EAAOC,MAAMC,KAAMC,SAAS,GAAKD,IAC7D,CA2BA,OA/BAT,QAAQW,UAAUL,EAAwBC,CAAM,EAahDD,EAAuBM,UAAUC,QAAU,SAAUC,EAAWC,GAC9D,IAAIC,EAAQP,KAEZ,OAAO,IAAIQ,QAAQ,SAAUC,GAC3B,IAEIC,GAAW,EAAIjB,mBAAmBkB,SAASJ,EAAMK,MAAML,EAAMM,eAAe,EAAE,EAC9EC,EAAaJ,EAASH,EAAMQ,qBAAqB,GAAGR,EAAMS,WAAW,IAAM,GAC/EN,EAASH,EAAMQ,qBAAqB,GAAGR,EAAMS,WAAW,IAAK,EAAIxB,aAAayB,oBAAoBH,EAAYT,EAAWC,CAAU,EAEnIC,EAAMW,MAAMC,WAAUC,EAAK,CACzBC,KAAM,GAAGC,OAAOf,EAAMM,eAAe,EAAG,UAAU,CACpD,GAAMN,EAAMM,eAAe,GAAKH,EAAUU,EAAG,EAAEG,KAAK,WAClD,OAAOd,EAAQ,CACjB,CAAC,CACH,CAAC,CACH,EAEOZ,CACT,GAAE,EAAID,2BAA2Be,SAAShB,uBAAuB6B,oBAAoB,CAAC,EAEtFnC,QAAQsB,QAAUd"}