{"version":3,"file":"proEditableCellRowDragSortSearchTable.js","sources":["demo/proEditableCellRowDragSortSearchTable.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.promise.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar adhere_1 = require(\"@baifendian/adhere\");\n\nvar index_1 = tslib_1.__importDefault(require(\"../index\"));\n\nrequire(\"./serviceRegister\");\n\nvar ProSearchEditableCellRowDragSortStateTable = index_1.default.ProSearchEditableCellRowDragSortStateTable,\n    // ProEditableCellSearchStateTable,\nOptionsWrap = index_1.default.OptionsWrap,\n    SearchTableStateImplementFactory = index_1.default.SearchTableStateImplementFactory;\nconsole.log('ProSearchEditableCellRowDragSortStateTable', ProSearchEditableCellRowDragSortStateTable);\nvar serviceName = 'user';\n/**\n * RowDragSort\n * @class RowDragSort\n * @classdesc RowDragSort\n */\n\nvar RowDragSort =\n/** @class */\nfunction (_super) {\n  tslib_1.__extends(RowDragSort, _super);\n\n  function RowDragSort() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  RowDragSort.prototype.getComponentId = function () {\n    return 'RowDragSort';\n  };\n\n  RowDragSort.prototype.getServiceName = function () {\n    return serviceName;\n  };\n\n  RowDragSort.prototype.getFetchListPropName = function () {\n    return 'fetchList';\n  };\n\n  RowDragSort.prototype.getOrderFieldValue = function () {\n    return 'height';\n  };\n  /**\n   * getDataKey\n   * @description - 获取数据的key\n   * @protected\n   */\n\n\n  RowDragSort.prototype.getDataKey = function () {\n    return 'list';\n  };\n  /**\n   * getTotalKey\n   * @description - 获取total的key\n   * @protected\n   */\n\n\n  RowDragSort.prototype.getTotalKey = function () {\n    return 'totalCount';\n  };\n  /**\n   * Table的列\n   * @override\n   * @return {*[]}\n   */\n\n\n  RowDragSort.prototype.getColumns = function () {\n    var _this = this;\n\n    return _super.prototype.getColumns.call(this, [{\n      title: '姓名',\n      dataIndex: 'name',\n      key: 'name',\n      width: 150,\n      render: function render(val) {\n        return react_1.default.createElement(\"div\", {\n          style: {\n            color: 'red'\n          }\n        }, val);\n      },\n      $search: {\n        type: 'input',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入姓名'\n        }],\n        onSave: function onSave(_a) {\n          var value = _a.value,\n              record = _a.record,\n              dataIndex = _a.dataIndex;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      },\n      $resizable: true\n    }, {\n      title: '性别',\n      dataIndex: 'sex',\n      key: 'sex',\n      align: 'center',\n      width: 150,\n      render: function render(v) {\n        return adhere_1.Resource.Dict.value.ResourceNormalSexMap.value.get(v).label;\n      },\n      $search: {\n        type: 'select',\n        visible: true,\n        dictName: 'SystemTestSexSelect'\n      },\n      $editable: {\n        editable: true,\n        type: 'select',\n        dictName: 'SystemTestSexSelect',\n        rules: [{\n          required: true,\n          message: '请选择'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '出生年月',\n      dataIndex: 'birthday',\n      key: 'birthday',\n      align: 'center',\n      width: 200,\n      sorter: true,\n      sortOrder: this.sortOrder('birthday'),\n      render: function render(val) {\n        return react_1.default.createElement(adhere_1.DateDisplay.DateDisplay10, {\n          value: val\n        });\n      },\n      $search: {\n        type: 'rangePicker',\n        visible: true,\n        startName: 'birthDayStart',\n        endName: 'birthDayEnd'\n      },\n      $editable: {\n        editable: true,\n        type: 'datePicker',\n        rules: [{\n          required: true,\n          message: '请选择'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDateData({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '身高',\n      dataIndex: 'height',\n      key: 'height',\n      align: 'center',\n      width: 150,\n      sorter: true,\n      sortOrder: this.sortOrder('height'),\n      $search: {\n        type: 'inputNumberDecimal2',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'inputNumberDecimal2',\n        rules: [{\n          required: true,\n          message: '请输入身高'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '体重',\n      dataIndex: 'width',\n      key: 'width',\n      align: 'center',\n      width: 150,\n      sorter: true,\n      sortOrder: this.sortOrder('width'),\n      $search: {\n        type: 'inputNumberDecimal2',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'inputNumberDecimal2',\n        rules: [{\n          required: true,\n          message: '请输入体重'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '籍贯',\n      dataIndex: 'homeTown',\n      key: 'homeTown',\n      ellipsis: true,\n      width: 200,\n      $search: {\n        type: 'input',\n        visible: true\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入籍贯'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '现居住地',\n      dataIndex: 'address',\n      key: 'address',\n      width: 300,\n      $search: {\n        type: 'input',\n        visible: true,\n        valueAttrs: {\n          colSpan: 5\n        }\n      },\n      $editable: {\n        editable: true,\n        type: 'input',\n        rules: [{\n          required: true,\n          message: '请输入居住地'\n        }],\n        onSave: function onSave(_a) {\n          var record = _a.record,\n              dataIndex = _a.dataIndex,\n              value = _a.value;\n          return new Promise(function (resolve) {\n            _this.updateEditorCellDate({\n              record: record,\n              dataIndex: dataIndex,\n              value: value\n            }).then(function () {\n              return resolve();\n            });\n          });\n        }\n      }\n    }, {\n      title: '操作',\n      dataIndex: this.getOptionsColumnDataIndex(),\n      key: this.getOptionsColumnDataIndex(),\n      width: 260,\n      render: function render(v, record) {\n        return react_1.default.createElement(OptionsWrap, {\n          style: {\n            justifyContent: 'center'\n          }\n        }, _this.renderOptionColumn([{\n          key: 'view',\n          value: react_1.default.createElement(\"a\", null, \"\\u67E5\\u770B\")\n        }, {\n          key: 'delete',\n          value: react_1.default.createElement(adhere_1.DelConfirm, {\n            success: function success() {\n              return Promise.resolve().then(function () {\n                _this.fetchData();\n              });\n            }\n          }, react_1.default.createElement(\"a\", null, \"\\u5220\\u9664\"))\n        }], {\n          value: v,\n          record: record\n        }));\n      }\n    }]);\n  };\n\n  return RowDragSort;\n}(ProSearchEditableCellRowDragSortStateTable);\n\nRowDragSort.propTypes = {};\nvar models = [];\n\nvar requireComponent = require.context('./model', false, /.*\\.(js)$/);\n\nrequireComponent.keys().forEach(function (fileName) {\n  var model = requireComponent(fileName);\n  models.push(model.default());\n});\nvar Wrap = SearchTableStateImplementFactory({\n  serviceNames: [serviceName],\n  middleWares: [],\n  reducer: null,\n  models: models\n})(RowDragSort);\nexports.default = Wrap;"],"names":["require","Object","defineProperty","exports","value","tslib_1","react_1","__importDefault","adhere_1","index_1","ProSearchEditableCellRowDragSortStateTable","default","OptionsWrap","SearchTableStateImplementFactory","serviceName","console","log","RowDragSort","_super","apply","this","arguments","__extends","prototype","getComponentId","getServiceName","getFetchListPropName","getOrderFieldValue","getDataKey","getTotalKey","getColumns","_this","call","title","dataIndex","key","width","render","val","createElement","style","color","$search","type","visible","$editable","editable","rules","required","message","onSave","_a","record","Promise","resolve","updateEditorCellDate","then","$resizable","align","v","Resource","Dict","ResourceNormalSexMap","get","label","dictName","sorter","sortOrder","DateDisplay","DateDisplay10","startName","endName","updateEditorCellDateData","ellipsis","valueAttrs","colSpan","getOptionsColumnDataIndex","justifyContent","renderOptionColumn","DelConfirm","success","fetchData","models","propTypes","requireComponent","context","Wrap","keys","forEach","fileName","model","push","serviceNames","middleWares","reducer"],"mappings":"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"}