{"version":3,"file":"SearchTable.js","sources":["SearchTable.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.propTypes = exports.defaultProps = exports.SearchTableContext = exports.selectorPrefix = void 0;\r\nvar antd_1 = require(\"antd\");\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar lodash_clonedeep_1 = __importDefault(require(\"lodash.clonedeep\"));\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\r\nvar adhere_ui_flexlayout_1 = __importDefault(require(\"@baifendian/adhere-ui-flexlayout\"));\r\nvar adhere_ui_suspense_1 = __importDefault(require(\"@baifendian/adhere-ui-suspense\"));\r\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nvar ColumnResizable_1 = __importStar(require(\"./Extension/ColumnResizable\"));\r\nvar ColumnSetting_1 = __importDefault(require(\"./Extension/ColumnSetting\"));\r\nvar TableCell_1 = __importDefault(require(\"./Extension/TableComponents/TableCell\"));\r\nvar TableRow_1 = __importDefault(require(\"./Extension/TableComponents/TableRow\"));\r\nvar TableDensitySetting_1 = __importDefault(require(\"./Extension/TableDensitySetting\"));\r\nvar types_1 = require(\"./types\");\r\nexports.selectorPrefix = 'adhere-ui-searchtable';\r\nvar Fixed = adhere_ui_flexlayout_1.default.Fixed, Auto = adhere_ui_flexlayout_1.default.Auto;\r\nexports.SearchTableContext = (0, react_1.createContext)(null);\r\n/**\r\n * SearchTable\r\n * @class SearchTable\r\n * @classdesc SearchTable\r\n */\r\nvar SearchTable = /** @class */ (function (_super) {\r\n    __extends(SearchTable, _super);\r\n    function SearchTable(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.tableWrapRef = (0, react_1.createRef)();\r\n        // 自定义表格部分\r\n        _this.components = {\r\n            header: {\r\n                cell: ColumnResizable_1.SearchTableResizableTitle,\r\n            },\r\n            body: {\r\n                // 固定是这个组件\r\n                row: TableRow_1.default,\r\n                // 固定是这个组件\r\n                cell: TableCell_1.default,\r\n            },\r\n        };\r\n        // 列拖动对象\r\n        _this.columnResizable = new ColumnResizable_1.default();\r\n        // 列属性监控对象\r\n        _this.columnObserver = null;\r\n        // rowConfigReducers\r\n        // 给TableRow传递props的reducer\r\n        _this.rowConfigReducers = [];\r\n        // cellConfigReducers\r\n        // 给TableCell传递props的reducer\r\n        _this.cellConfigReducers = [];\r\n        // tableRowComponentReducers\r\n        // 处理TableRow的reducer\r\n        _this.tableRowComponentReducers = [];\r\n        // tableCellComponentReducers\r\n        // 处理TableCell的reducer\r\n        _this.tableCellComponentReducers = [];\r\n        /**\r\n         * onTableChange\r\n         * @description 表格change\r\n         */\r\n        _this.onTableChange = function (pagination, filters, sorter) {\r\n            var _a;\r\n            _this.setState((_a = {},\r\n                _a[_this.getOrderFieldProp()] = sorter.field || _this.getOrderFieldValue(),\r\n                _a[_this.getOrderProp()] = sorter.order /* || this.getOrderPropValue()*/,\r\n                _a), function () {\r\n                var order = sorter.order;\r\n                if (!order)\r\n                    return;\r\n                _this.fetchData();\r\n                _this.onSubTableChange(pagination, filters, sorter);\r\n            });\r\n        };\r\n        // @ts-ignore\r\n        _this.state = {\r\n            page: 1,\r\n            limit: _this.getLimit(),\r\n            expand: props.defaultExpandSearchCollapse,\r\n            scrollY: 0,\r\n        };\r\n        Object.assign(_this.state, {\r\n            // 列设置\r\n            columnSetting: _this.getTableColumns().map(function (column, index) { return (__assign(__assign({}, column), { sort: index, display: true })); }),\r\n            // 表格密度设置\r\n            tableDensity: _this.getTableDensity(),\r\n        });\r\n        _this.onClear = _this.onClear.bind(_this);\r\n        return _this;\r\n    }\r\n    SearchTable.prototype.componentWillReceiveProps = function (nextProps) {\r\n        _super.prototype.componentWillReceiveProps.call(this, nextProps);\r\n        this.columnSettingEffect(nextProps);\r\n    };\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    SearchTable.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\r\n        if (!this.tableWrapRef.current)\r\n            return;\r\n        this.searchTableResizableEffectLayout();\r\n        this.fixedHeaderAutoTableEffectLayout(prevProps, prevState);\r\n    };\r\n    /**\r\n     * searchTableResizableEffectLayout\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.searchTableResizableEffectLayout = function () {\r\n        // 监控header的属性变化(colgroup)\r\n        if (!this.columnObserver) {\r\n            this.columnObserver = (0, ColumnResizable_1.SearchTableResizableObserver)(this);\r\n        }\r\n    };\r\n    /**\r\n     * fixedHeaderAutoTableEffectLayout\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.fixedHeaderAutoTableEffectLayout = function (prevProps, prevState) {\r\n        var _a, _b;\r\n        if (this.props.fixedHeaderAutoTable) {\r\n            var dataSource = this.getData();\r\n            if (dataSource &&\r\n                dataSource.length &&\r\n                ((prevState.scrollY === 0 && this.state.scrollY === 0) ||\r\n                    prevState.scrollY !== this.state.scrollY ||\r\n                    prevState.expand !== this.state.expand)) {\r\n                var tableWrapRef = this.tableWrapRef.current;\r\n                var tableHeaderHeight = ((_a = tableWrapRef.querySelector('.ant-table-header')) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\r\n                var tablePaginationHeight = ((_b = tableWrapRef.querySelector('.ant-table-pagination')) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\r\n                this.setState({\r\n                    scrollY: tableWrapRef.clientHeight -\r\n                        (tableHeaderHeight + (tablePaginationHeight ? tablePaginationHeight + 16 * 2 : 0)),\r\n                });\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * columnSettingEffect\r\n     * @param props\r\n     * @protected\r\n     */\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    SearchTable.prototype.columnSettingEffect = function (props) {\r\n        var _this = this;\r\n        var _a, _b;\r\n        var preColumnSetting = this.state.columnSetting || [];\r\n        var columnSetting = this.getTableColumns().map(function (column, index) { return (__assign(__assign({}, column), { sort: index, display: true })); });\r\n        // 长度不相等\r\n        if ((preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.length) !== columnSetting.length) {\r\n            this.setState({\r\n                columnSetting: columnSetting,\r\n            });\r\n            return;\r\n        }\r\n        var preColumnSettingRowKeys = (_a = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.map) === null || _a === void 0 ? void 0 : _a.call(preColumnSetting, function (t) { return t[_this.getRowKey()]; });\r\n        var columnSettingRowKeys = (_b = columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map) === null || _b === void 0 ? void 0 : _b.call(columnSetting, function (t) { return t[_this.getRowKey()]; });\r\n        // 长度相等但是key有变化\r\n        if ((preColumnSettingRowKeys === null || preColumnSettingRowKeys === void 0 ? void 0 : preColumnSettingRowKeys.toString()) !== columnSettingRowKeys.toString()) {\r\n            var rowKey_1 = this.getRowKey() || 'id';\r\n            this.setState({\r\n                columnSetting: columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map(function (t) {\r\n                    // eslint-disable-next-line @typescript-eslint/no-shadow\r\n                    var item = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.find(function (item) { return item[rowKey_1] === t[rowKey_1]; });\r\n                    return __assign(__assign({}, t), { display: item ? item.display : true });\r\n                }),\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * onSearchPanelCollapse\r\n     * @description 查询面板展开之前\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.onSearchPanelCollapseBefore = function () { };\r\n    /**\r\n     * onSearchPanelCollapseAfter\r\n     * @description 查询面板展开之后\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.onSearchPanelCollapseAfter = function () { };\r\n    /**\r\n     * onClear\r\n     * @description - 清除操作\r\n     */\r\n    SearchTable.prototype.onClear = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve) {\r\n            _this.setState({\r\n                page: 1,\r\n                limit: _this.getLimit(),\r\n            }, function () {\r\n                _this.clear().then(function () {\r\n                    _this.fetchData();\r\n                    resolve();\r\n                });\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * sortOrder\r\n     * @description table的column中加入\r\n     * sorter: true,\r\n     * sortOrder: this.sortOrder('distance'),\r\n     * @param columnName\r\n     * @return {*}\r\n     */\r\n    SearchTable.prototype.sortOrder = function (columnName) {\r\n        if (!this.state)\r\n            return '';\r\n        return this.state[this.getOrderFieldProp()] === columnName\r\n            ? this.state[this.getOrderProp()]\r\n            : '';\r\n    };\r\n    /**\r\n     * onCellConfigReducers\r\n     * @description 所有onCell的处理\r\n     * @return ColumnTypeExt\r\n     */\r\n    SearchTable.prototype.onCellConfigReducers = function (params) {\r\n        var _this = this;\r\n        var rowIndex = params.rowIndex, column = params.column, record = params.record, columns = params.columns;\r\n        return this.cellConfigReducers.reduce(\r\n        // eslint-disable-next-line @typescript-eslint/no-shadow\r\n        function (params, reducer) {\r\n            params.value = reducer.call(_this, { rowIndex: rowIndex, record: record, columns: columns, column: params.value });\r\n            return params;\r\n        }, { value: column }).value;\r\n    };\r\n    /**\r\n     * onRowConfigReducers\r\n     * @description 所有row的处理\r\n     * @param params\r\n     */\r\n    SearchTable.prototype.onRowConfigReducers = function (params) {\r\n        var _this = this;\r\n        var rowIndex = params.rowIndex, record = params.record, columns = params.columns;\r\n        // const reducers = [this.rowEditableReducer];\r\n        return this.rowConfigReducers.reduce(\r\n        // eslint-disable-next-line @typescript-eslint/no-shadow\r\n        function (params, reducer) {\r\n            params.value = reducer.call(_this, { rowIndex: rowIndex, record: record, columns: columns, rowConfig: params.value });\r\n            return params;\r\n        }, { value: {} }).value;\r\n    };\r\n    /**\r\n     * getLimit\r\n     * @description limit参数\r\n     */\r\n    SearchTable.prototype.getLimit = function () {\r\n        return 10;\r\n    };\r\n    /**\r\n     * getPagination\r\n     * @description 获取分页信息\r\n     */\r\n    SearchTable.prototype.getPagination = function () {\r\n        var _this = this;\r\n        return {\r\n            onChange: function (page, limit) {\r\n                _this.setState({\r\n                    page: page,\r\n                    limit: limit,\r\n                }, function () {\r\n                    _this.fetchData();\r\n                });\r\n            },\r\n            onShowSizeChange: function (page, limit) {\r\n                _this.setState({\r\n                    page: page,\r\n                    limit: limit,\r\n                }, function () {\r\n                    _this.fetchData();\r\n                });\r\n            },\r\n            showTotal: function (total /* [page, pageSize] */) {\r\n                return adhere_util_intl_1.default.v(\"\\u5F53\\u524D {page}-{pageSize}/\\u5171 {total}\\u6761\", {\r\n                    page: _this.state.page,\r\n                    pageSize: _this.state.limit,\r\n                    total: total,\r\n                });\r\n            },\r\n            total: this.getTotal(),\r\n            current: this.state.page,\r\n            pageSize: this.state.limit,\r\n            showQuickJumper: true,\r\n        };\r\n    };\r\n    /**\r\n     * getTableDensity\r\n     * @description 表格密度\r\n     */\r\n    SearchTable.prototype.getTableDensity = function () {\r\n        return types_1.TableDensity.DEFAULT;\r\n    };\r\n    /**\r\n     * getTableColumns\r\n     * @description 获取表格的列数据\r\n     * @return Array<any>\r\n     */\r\n    SearchTable.prototype.getTableColumns = function () {\r\n        var _this = this;\r\n        var _a;\r\n        var isShowNumber = this.isShowNumber();\r\n        var getTableNumberColumnWidth = this.getTableNumberColumnWidth();\r\n        // 对权限进行过滤\r\n        var columns = this.getColumns()\r\n            .filter(function (column) {\r\n            var _a;\r\n            if ('$hide' in column && !column.$hide)\r\n                return false;\r\n            if ('$authorized' in column)\r\n                return (_a = column === null || column === void 0 ? void 0 : column.$authorized) === null || _a === void 0 ? void 0 : _a.call(column);\r\n            return true;\r\n        })\r\n            // $resizable 设置\r\n            .map(function (column, index) {\r\n            var res = { value: column };\r\n            var loop = function (_column) {\r\n                var _res = _column;\r\n                if ('$resizable' in _column && !!(_column === null || _column === void 0 ? void 0 : _column.$resizable)) {\r\n                    _res = _this.columnResizable.searchTableResizableColumnItem(_this, index, _column);\r\n                }\r\n                // @ts-ignore\r\n                if ((_res === null || _res === void 0 ? void 0 : _res.children) && Array.isArray(_res.children)) {\r\n                    // @ts-ignore\r\n                    _res.children.forEach(function (_t, _index) {\r\n                        // @ts-ignore\r\n                        _res.children[_index] = loop(_t);\r\n                    });\r\n                }\r\n                return _res;\r\n            };\r\n            // @ts-ignore\r\n            res.value = loop(column);\r\n            return res.value;\r\n        })\r\n            .map(function (column) {\r\n            return __assign(__assign({}, column), { \r\n                // 每个单元格都会调用\r\n                // 给TableCell传递的props参数\r\n                onCell: function (record, rowIndex) {\r\n                    var _column = (0, lodash_clonedeep_1.default)(column);\r\n                    return {\r\n                        // 行的索引\r\n                        rowIndex: rowIndex,\r\n                        // 行的数据\r\n                        record: record,\r\n                        // 列的配置\r\n                        column: _this.onCellConfigReducers({\r\n                            rowIndex: rowIndex,\r\n                            column: _column,\r\n                            record: record,\r\n                            columns: columns,\r\n                        }),\r\n                        // 所有列的配置\r\n                        columns: columns,\r\n                    };\r\n                } });\r\n        });\r\n        if (isShowNumber) {\r\n            var numberGeneratorRule_1 = (_a = this.getNumberGeneratorRule()) !== null && _a !== void 0 ? _a : SearchTable.NUMBER_GENERATOR_RULE_ALONE;\r\n            var _b = this.state, _c = _b.page, page_1 = _c === void 0 ? 0 : _c, _d = _b.limit, limit_1 = _d === void 0 ? 10 : _d;\r\n            return [\r\n                __assign(__assign({}, (this.getTableNumberColumnProps ? this.getTableNumberColumnProps() || {} : {})), {\r\n                    title: adhere_util_intl_1.default.v('序号'),\r\n                    dataIndex: '_number',\r\n                    key: '_number',\r\n                    align: 'center',\r\n                    width: getTableNumberColumnWidth !== null && getTableNumberColumnWidth !== void 0 ? getTableNumberColumnWidth : 80,\r\n                    render: function (v, r, index) { return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: numberGeneratorRule_1 === SearchTable.NUMBER_GENERATOR_RULE_ALONE, noMatch: function () {\r\n                            return _this.renderTableNumberColumn((page_1 - 1) * limit_1 + (index + 1), {\r\n                                value: v,\r\n                                record: r,\r\n                                index: index,\r\n                            });\r\n                        } }, function () { return _this.renderTableNumberColumn(index + 1, { value: v, record: r, index: index }); })); },\r\n                }),\r\n            ].concat(columns);\r\n        }\r\n        return columns;\r\n    };\r\n    /**\r\n     * getTableRowComponentReducers\r\n     */\r\n    SearchTable.prototype.getTableRowComponentReducers = function () {\r\n        return this.tableRowComponentReducers;\r\n    };\r\n    /**\r\n     * getTableCellComponentReducers\r\n     */\r\n    SearchTable.prototype.getTableCellComponentReducers = function () {\r\n        return this.tableCellComponentReducers;\r\n    };\r\n    /**\r\n     * renderTableNumberColumn\r\n     * @description - 渲染序号列\r\n     * @param number\r\n     * @param params\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.renderTableNumberColumn = function (number, \r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    params) {\r\n        if (number === void 0) { number = ''; }\r\n        return react_1.default.createElement(\"span\", null, number);\r\n    };\r\n    /**\r\n     * renderColumnSetting\r\n     * @description 创建列设置组件\r\n     */\r\n    SearchTable.prototype.renderColumnSetting = function () {\r\n        var _this = this;\r\n        var columns = __spreadArray([], this.state.columnSetting, true);\r\n        columns.sort(function (c1, c2) {\r\n            if (c1.sort > c2.sort)\r\n                return 1;\r\n            if (c1.sort < c2.sort)\r\n                return -1;\r\n            return 0;\r\n        });\r\n        return (react_1.default.createElement(ColumnSetting_1.default, { columns: columns, onShowColumns: function (checked) {\r\n                _this.setState(function (_a) {\r\n                    var _b;\r\n                    var columnSetting = _a.columnSetting;\r\n                    return ({\r\n                        columnSetting: (_b = (columnSetting || [])) === null || _b === void 0 ? void 0 : _b.map(function (column) { return (__assign(__assign({}, column), { display: checked })); }),\r\n                    });\r\n                });\r\n            }, onReset: function () {\r\n                _this.setState(function () { return ({\r\n                    columnSetting: _this.getTableColumns().map(function (column, index) { return (__assign(__assign({}, column), { display: true, sort: index })); }),\r\n                }); });\r\n            }, onDisplayColumn: function (column, checked) {\r\n                _this.setState(function (_a) {\r\n                    var _b;\r\n                    var columnSetting = _a.columnSetting;\r\n                    return ({\r\n                        columnSetting: (_b = (columnSetting || [])) === null || _b === void 0 ? void 0 : _b.map(function (_column) { return (__assign(__assign({}, _column), { display: _column.key === column.key ? checked : _column.display })); }),\r\n                    });\r\n                });\r\n            }, onSortEnd: function (map) {\r\n                _this.setState(function (_a) {\r\n                    var _b;\r\n                    var columnSetting = _a.columnSetting;\r\n                    return ({\r\n                        columnSetting: (_b = (columnSetting || [])) === null || _b === void 0 ? void 0 : _b.map(function (column) { return (__assign(__assign({}, column), { sort: map.get(column.key) })); }),\r\n                    });\r\n                });\r\n            } }));\r\n    };\r\n    /**\r\n     * renderTableDensitySetting\r\n     * @description 表格密度设置\r\n     */\r\n    SearchTable.prototype.renderTableDensitySetting = function () {\r\n        var _this = this;\r\n        return (react_1.default.createElement(TableDensitySetting_1.default, { density: this.state.tableDensity, onChange: function (density) {\r\n                _this.setState({\r\n                    tableDensity: density,\r\n                });\r\n            }, onReset: function () {\r\n                _this.setState({\r\n                    tableDensity: _this.getTableDensity(),\r\n                });\r\n            } }));\r\n    };\r\n    /**\r\n     * renderSearchFooter\r\n     * @description 渲染查询工具栏\r\n     * @return ReactElement\r\n     */\r\n    SearchTable.prototype.renderSearchFooter = function () {\r\n        var _this = this;\r\n        var isShowExpandSearch = this.props.isShowExpandSearch;\r\n        var defaultItems = [\r\n            react_1.default.createElement(antd_1.Button, { className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"), type: \"primary\", key: \"search\", icon: react_1.default.createElement(\"i\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-searchfooteritem-search-btn-icon\"), 'iconfont iconsousuo') }), onClick: function () {\r\n                    _this.setState({\r\n                        page: 1,\r\n                    }, function () {\r\n                        _this.onSearch();\r\n                    });\r\n                } }, adhere_util_intl_1.default.v('查询')),\r\n            react_1.default.createElement(antd_1.Button, { className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"), key: \"reset\", onClick: this.onClear }, adhere_util_intl_1.default.v('重置')),\r\n        ];\r\n        if (isShowExpandSearch) {\r\n            defaultItems.push(react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: this.state.expand, noMatch: function () { return (react_1.default.createElement(\"a\", { key: \"expand\", className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-up-btn\"), onClick: function () {\r\n                        // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n                        _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\r\n                        _this.setState({\r\n                            expand: true,\r\n                        }, function () { return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter(); });\r\n                    } },\r\n                    react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('展开')),\r\n                    react_1.default.createElement(\"i\", { className: \"iconfont iconup\" }))); } }, function () { return (react_1.default.createElement(\"a\", { key: \"hide\", className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-down-btn\"), onClick: function () {\r\n                    // eslint-disable-next-line @typescript-eslint/no-unused-expressions\r\n                    _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\r\n                    _this.setState({\r\n                        expand: false,\r\n                    }, function () { return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter(); });\r\n                } },\r\n                react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('关闭')),\r\n                react_1.default.createElement(\"i\", { className: \"iconfont icondownarrow\" }))); }));\r\n        }\r\n        var items = this.renderSearchFooterItems(defaultItems) || __spreadArray([], defaultItems, true);\r\n        return (react_1.default.createElement(\"div\", { className: \"\".concat(exports.selectorPrefix, \"-searchfooterwrapper\") }, items.map(function (t, index) { return (react_1.default.createElement(\"div\", { key: index, className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\") }, t)); })));\r\n    };\r\n    /**\r\n     * renderTable\r\n     * @description - 认选表格体\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.renderTable = function () {\r\n        var _this = this;\r\n        var _a = this.props, antdTableProps = _a.antdTableProps, fixedHeaderAutoTable = _a.fixedHeaderAutoTable;\r\n        var _b = this.state, _c = _b.columnSetting, columnSetting = _c === void 0 ? [] : _c, tableDensity = _b.tableDensity;\r\n        var columns = this.getTableColumns()\r\n            .map(function (column, index) { return (__assign(__assign({}, columnSetting[index]), column)); })\r\n            .filter(function (column) { return column.display; });\r\n        columns.sort(function (c1, c2) {\r\n            if (c1.sort > c2.sort)\r\n                return 1;\r\n            if (c1.sort < c2.sort)\r\n                return -1;\r\n            return 0;\r\n        });\r\n        // Table的antdProps配置\r\n        var tableProps = __assign({ rowKey: this.getRowKey(), dataSource: this.getData(), columns: columns, onChange: this.onTableChange, pagination: this.getPagination(), rowSelection: this.getRowSelection(), size: tableDensity, \r\n            // 组件\r\n            components: this.components, \r\n            // onRow\r\n            // 给TableRow的props参数\r\n            onRow: function (record, rowIndex) {\r\n                // 这块可能以后会有很多操作\r\n                // 行的所有操作都可以在这里处理\r\n                return {\r\n                    record: record,\r\n                    rowIndex: rowIndex,\r\n                    columns: columns,\r\n                    rowKey: _this.getRowKey(),\r\n                    rowConfig: _this.onRowConfigReducers({\r\n                        rowIndex: Number(rowIndex),\r\n                        record: record,\r\n                        columns: columns,\r\n                    }),\r\n                };\r\n            } }, (antdTableProps || {}));\r\n        // 是否支持锁定列头，表格体滚动\r\n        if (fixedHeaderAutoTable) {\r\n            var scrollY_1 = this.state.scrollY;\r\n            if (antdTableProps) {\r\n                if (antdTableProps.scroll) {\r\n                    tableProps.scroll.y = scrollY_1;\r\n                }\r\n                else {\r\n                    tableProps.scroll = { y: scrollY_1 };\r\n                }\r\n            }\r\n            else {\r\n                tableProps.scroll = { y: scrollY_1 };\r\n            }\r\n        }\r\n        this.tableRowComponentReducers = this.onTableRowComponentReducers(columns);\r\n        this.tableCellComponentReducers = this.onTableCellComponentReducers(columns);\r\n        return react_1.default.createElement(antd_1.Table, __assign({}, tableProps));\r\n    };\r\n    /**\r\n     * renderInner\r\n     * @description 渲染SearchTable\r\n     * @return ReactElement | null\r\n     */\r\n    SearchTable.prototype.renderInner = function () {\r\n        var _this = this;\r\n        var _a, _b, _c, _d;\r\n        var _e = this.props, className = _e.className, style = _e.style, tableClassName = _e.tableClassName, tableStyle = _e.tableStyle, searchClassName = _e.searchClassName, searchStyle = _e.searchStyle, fitSearch = _e.fitSearch, fitTable = _e.fitTable, autoFixed = _e.autoFixed, fixedTableSpaceBetween = _e.fixedTableSpaceBetween;\r\n        var _f = this.state.expand, expand = _f === void 0 ? false : _f;\r\n        return (react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"vertical\", className: (0, classnames_1.default)(exports.selectorPrefix, fixedTableSpaceBetween ? 'fixedtablespacebetween' : '', className || ''), style: __assign({}, (style || {})) },\r\n            react_1.default.createElement(Fixed, { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-searchwrapper\"), searchClassName || ''), style: __assign({}, (searchStyle || {})), fit: fitSearch },\r\n                react_1.default.createElement(adhere_ui_flexlayout_1.default, { direction: \"vertical\" },\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!this.renderSearchFormBefore && !!((_a = this.renderSearchFormBefore) === null || _a === void 0 ? void 0 : _a.call(this)) }, function () { var _a; return react_1.default.createElement(Fixed, null, (_a = _this.renderSearchFormBefore) === null || _a === void 0 ? void 0 : _a.call(_this)); }),\r\n                    react_1.default.createElement(Fixed, null,\r\n                        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: expand, noMatch: function () { return null; } }, function () { return _this.renderSearchForm(); })),\r\n                    react_1.default.createElement(Fixed, null, this.renderSearchFooter()),\r\n                    react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!this.renderSearchFormAfter && !!((_b = this.renderSearchFormAfter) === null || _b === void 0 ? void 0 : _b.call(this)) }, function () { var _a; return react_1.default.createElement(Fixed, null, (_a = _this.renderSearchFormAfter) === null || _a === void 0 ? void 0 : _a.call(_this)); }))),\r\n            react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!this.renderTableHeader && !!((_c = this.renderTableHeader) === null || _c === void 0 ? void 0 : _c.call(this)) }, function () { var _a; return react_1.default.createElement(Fixed, null, (_a = _this.renderTableHeader) === null || _a === void 0 ? void 0 : _a.call(_this)); }),\r\n            react_1.default.createElement(Auto, { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-autowrapper\"), tableClassName || '', autoFixed ? 'autofixed' : ''), style: __assign({}, (tableStyle || {})), fit: fitTable, autoFixed: autoFixed },\r\n                react_1.default.createElement(\"div\", { ref: this.tableWrapRef, className: \"\".concat(exports.selectorPrefix, \"-tablewrapper\") }, this.renderTable())),\r\n            react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!this.renderTableFooter && !!((_d = this.renderTableFooter) === null || _d === void 0 ? void 0 : _d.call(this)) }, function () { var _a; return react_1.default.createElement(Fixed, null, (_a = _this.renderTableFooter) === null || _a === void 0 ? void 0 : _a.call(_this)); })));\r\n    };\r\n    SearchTable.prototype.renderChildren = function () {\r\n        return react_1.default.createElement(\"div\", { className: \"\".concat(exports.selectorPrefix, \"-wrap\") }, _super.prototype.render.call(this));\r\n    };\r\n    /**\r\n     * render\r\n     * @protected\r\n     */\r\n    SearchTable.prototype.render = function () {\r\n        return (react_1.default.createElement(exports.SearchTableContext.Provider, { value: {\r\n                context: this,\r\n            } }, this.renderChildren()));\r\n    };\r\n    // 序号生成的规则 - 单独模式\r\n    SearchTable.NUMBER_GENERATOR_RULE_ALONE = Symbol();\r\n    // 序号生成的规则 - 连续模式\r\n    SearchTable.NUMBER_GENERATOR_RULE_CONTINUITY = Symbol();\r\n    // 全选的规则 - 标准模式(不能跨页)\r\n    SearchTable.ROW_SELECTION_NORMAL_MODE = Symbol();\r\n    // 全选的规则 - 可以跨页\r\n    SearchTable.ROW_SELECTION_CONTINUOUS_MODE = Symbol();\r\n    return SearchTable;\r\n}(adhere_ui_suspense_1.default));\r\nexports.defaultProps = {\r\n    className: '',\r\n    style: {},\r\n    tableClassName: '',\r\n    tableStyle: {},\r\n    searchClassName: '',\r\n    searchStyle: {},\r\n    // 第一次\r\n    isFirst: true,\r\n    // 第一次加载\r\n    isFirstLoading: null,\r\n    antdTableProps: {},\r\n    isShowExpandSearch: true,\r\n    defaultExpandSearchCollapse: true,\r\n    fitSearch: true,\r\n    fitTable: true,\r\n    autoFixed: true,\r\n    fixedHeaderAutoTable: false,\r\n    fixedTableSpaceBetween: false,\r\n};\r\nexports.propTypes = {\r\n    className: prop_types_1.default.string,\r\n    style: prop_types_1.default.object,\r\n    tableClassName: prop_types_1.default.string,\r\n    tableStyle: prop_types_1.default.object,\r\n    searchClassName: prop_types_1.default.string,\r\n    searchStyle: prop_types_1.default.object,\r\n    reset: prop_types_1.default.bool,\r\n    firstLoading: prop_types_1.default.node,\r\n    // antdTable的Props\r\n    antdTableProps: prop_types_1.default.object,\r\n    // 是否有展开和收缩的功能\r\n    isShowExpandSearch: prop_types_1.default.bool,\r\n    // 展开和收缩的默认状态\r\n    defaultExpandSearchCollapse: prop_types_1.default.bool,\r\n    // 撑开search\r\n    fitSearch: prop_types_1.default.bool,\r\n    // 撑开表格\r\n    fitTable: prop_types_1.default.bool,\r\n    // 是否是查询固定，表格自适应\r\n    autoFixed: prop_types_1.default.bool,\r\n    // 锁定列头，表格滚动\r\n    fixedHeaderAutoTable: prop_types_1.default.bool,\r\n    // 两端固定(表格的头始终在上方，分页始终在下方)\r\n    fixedTableSpaceBetween: prop_types_1.default.bool,\r\n};\r\nSearchTable.defaultProps = exports.defaultProps;\r\nSearchTable.propTypes = exports.propTypes;\r\nexports.default = SearchTable;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__createBinding","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__spreadArray","to","from","pack","ar","l","slice","concat","__importDefault","default","antd_1","exports","propTypes","defaultProps","SearchTableContext","selectorPrefix","require","classnames_1","lodash_clonedeep_1","prop_types_1","react_1","adhere_ui_conditionalrender_1","adhere_ui_flexlayout_1","adhere_ui_suspense_1","adhere_util_intl_1","ColumnResizable_1","ColumnSetting_1","TableCell_1","TableRow_1","TableDensitySetting_1","types_1","Fixed","Auto","SearchTable","createContext","_super","props","_this","tableWrapRef","createRef","components","header","cell","SearchTableResizableTitle","body","row","columnResizable","columnObserver","rowConfigReducers","cellConfigReducers","tableRowComponentReducers","tableCellComponentReducers","onTableChange","pagination","filters","sorter","_a","setState","getOrderFieldProp","field","getOrderFieldValue","getOrderProp","order","fetchData","onSubTableChange","state","page","limit","getLimit","expand","defaultExpandSearchCollapse","scrollY","columnSetting","getTableColumns","map","column","index","sort","display","tableDensity","getTableDensity","onClear","bind","componentWillReceiveProps","nextProps","columnSettingEffect","componentDidUpdate","prevProps","prevState","snapshot","current","searchTableResizableEffectLayout","fixedHeaderAutoTableEffectLayout","SearchTableResizableObserver","tablePaginationHeight","fixedHeaderAutoTable","dataSource","getData","tableHeaderHeight","querySelector","offsetHeight","_b","clientHeight","preColumnSettingRowKeys","columnSettingRowKeys","rowKey_1","preColumnSetting","getRowKey","toString","item","find","onSearchPanelCollapseBefore","onSearchPanelCollapseAfter","Promise","resolve","clear","then","sortOrder","columnName","onCellConfigReducers","params","rowIndex","record","columns","reduce","reducer","onRowConfigReducers","rowConfig","getPagination","onChange","onShowSizeChange","showTotal","total","pageSize","getTotal","showQuickJumper","TableDensity","DEFAULT","numberGeneratorRule_1","page_1","_d","limit_1","isShowNumber","getTableNumberColumnWidth","getColumns","filter","$hide","$authorized","loop","_column","_res","$resizable","searchTableResizableColumnItem","children","isArray","forEach","_t","_index","res","onCell","getNumberGeneratorRule","NUMBER_GENERATOR_RULE_ALONE","_c","getTableNumberColumnProps","title","dataIndex","key","align","width","render","r","createElement","conditional","noMatch","renderTableNumberColumn","getTableRowComponentReducers","getTableCellComponentReducers","number","renderColumnSetting","c1","c2","onShowColumns","checked","onReset","onDisplayColumn","onSortEnd","renderTableDensitySetting","density","renderSearchFooter","isShowExpandSearch","defaultItems","Button","className","type","icon","onClick","onSearch","items","push","renderSearchFooterItems","renderTable","antdTableProps","tableProps","rowKey","rowSelection","getRowSelection","size","onRow","Number","scrollY_1","scroll","y","onTableRowComponentReducers","onTableCellComponentReducers","Table","renderInner","_e","style","tableClassName","tableStyle","searchClassName","searchStyle","fitSearch","fitTable","autoFixed","fixedTableSpaceBetween","_f","direction","fit","renderSearchFormBefore","renderSearchForm","renderSearchFormAfter","renderTableHeader","ref","renderTableFooter","renderChildren","Provider","context","Symbol","NUMBER_GENERATOR_RULE_CONTINUITY","ROW_SELECTION_NORMAL_MODE","ROW_SELECTION_CONTINUOUS_MODE","isFirst","isFirstLoading","string","object","reset","bool","firstLoading","node"],"mappings":"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"}