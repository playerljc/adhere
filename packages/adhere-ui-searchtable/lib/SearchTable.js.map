{"version":3,"file":"SearchTable.js","sources":["SearchTable.js"],"sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propTypes = exports.defaultProps = exports.SearchTableContext = exports.selectorPrefix = void 0;\nvar antd_1 = require(\"antd\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar lodash_clonedeep_1 = __importDefault(require(\"lodash.clonedeep\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\nvar ColumnResizable_1 = __importStar(require(\"./Extension/ColumnResizable\"));\nvar ColumnSetting_1 = __importDefault(require(\"./Extension/ColumnSetting\"));\nvar TableCell_1 = __importDefault(require(\"./Extension/TableComponents/TableCell\"));\nvar TableRow_1 = __importDefault(require(\"./Extension/TableComponents/TableRow\"));\nvar TableDensitySetting_1 = __importDefault(require(\"./Extension/TableDensitySetting\"));\nvar Search_1 = __importStar(require(\"./Search\"));\nvar types_1 = require(\"./types\");\nexports.selectorPrefix = 'adhere-ui-searchtable';\nexports.SearchTableContext = (0, react_1.createContext)(null);\n/**\n * SearchTable\n * @class SearchTable\n * @classdesc SearchTable\n */\nvar SearchTable = /** @class */function (_super) {\n  __extends(SearchTable, _super);\n  function SearchTable(props) {\n    var _this = _super.call(this, props) || this;\n    _this.tableWrapRef = (0, react_1.createRef)();\n    // 自定义表格部分\n    _this.components = {\n      header: {\n        cell: ColumnResizable_1.SearchTableResizableTitle\n      },\n      body: {\n        // 固定是这个组件\n        row: TableRow_1.default,\n        // 固定是这个组件\n        cell: TableCell_1.default\n      }\n    };\n    // 列拖动对象\n    _this.columnResizable = new ColumnResizable_1.default();\n    // 列属性监控对象\n    _this.columnObserver = null;\n    // rowConfigReducers\n    // 给TableRow传递props的reducer\n    _this.rowConfigReducers = [];\n    // cellConfigReducers\n    // 给TableCell传递props的reducer\n    _this.cellConfigReducers = [];\n    // tableRowComponentReducers\n    // 处理TableRow的reducer\n    _this.tableRowComponentReducers = [];\n    // tableCellComponentReducers\n    // 处理TableCell的reducer\n    _this.tableCellComponentReducers = [];\n    /**\n     * onTableChange\n     * @description 表格change\n     * @param {any} pagination\n     * @param {any} filters\n     * @param {any} sorter\n     */\n    _this.onTableChange = function (pagination, filters, sorter) {\n      var _a;\n      _this.setState((_a = {}, _a[_this.getOrderFieldProp()] = sorter.field || _this.getOrderFieldValue(), _a[_this.getOrderProp()] = sorter.order /* || this.getOrderPropValue()*/, _a), function () {\n        var order = sorter.order;\n        if (!order) return;\n        _this.fetchData();\n        _this.onSubTableChange(pagination, filters, sorter);\n      });\n    };\n    // @ts-ignore\n    _this.state = {\n      page: 1,\n      limit: _this.getLimit(),\n      expand: props.defaultExpandSearchCollapse,\n      scrollY: 0\n    };\n    Object.assign(_this.state, {\n      // 列设置\n      columnSetting: _this.getTableColumns().map(function (column, index) {\n        return __assign(__assign({}, column), {\n          sort: index,\n          display: true\n        });\n      }),\n      // 表格密度设置\n      tableDensity: _this.getTableDensity()\n    });\n    _this.onClear = _this.onClear.bind(_this);\n    return _this;\n  }\n  SearchTable.prototype.componentWillReceiveProps = function (nextProps) {\n    _super.prototype.componentWillReceiveProps.call(this, nextProps);\n    this.columnSettingEffect(nextProps);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  SearchTable.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\n    if (!this.tableWrapRef.current) return;\n    this.searchTableResizableEffectLayout();\n    this.fixedHeaderAutoTableEffectLayout(prevProps, prevState);\n  };\n  /**\n   * searchTableResizableEffectLayout\n   * @protected\n   */\n  SearchTable.prototype.searchTableResizableEffectLayout = function () {\n    // 监控header的属性变化(colgroup)\n    if (!this.columnObserver) {\n      this.columnObserver = (0, ColumnResizable_1.SearchTableResizableObserver)(this);\n    }\n  };\n  /**\n   * fixedHeaderAutoTableEffectLayout\n   * @protected\n   * @param {SearchTableProps} prevProps\n   * @param {SearchTableState} prevState\n   */\n  SearchTable.prototype.fixedHeaderAutoTableEffectLayout = function (prevProps, prevState) {\n    var _a, _b;\n    if (this.props.fixedHeaderAutoTable) {\n      var dataSource = this.getData();\n      if (dataSource && dataSource.length && (prevState.scrollY === 0 && this.state.scrollY === 0 || prevState.scrollY !== this.state.scrollY || prevState.expand !== this.state.expand)) {\n        var tableWrapRef = this.tableWrapRef.current;\n        var tableHeaderHeight = ((_a = tableWrapRef.querySelector('.ant-table-header')) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n        var tablePaginationHeight = ((_b = tableWrapRef.querySelector('.ant-table-pagination')) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n        this.setState({\n          scrollY: tableWrapRef.clientHeight - (tableHeaderHeight + (tablePaginationHeight ? tablePaginationHeight + 16 * 2 : 0))\n        });\n      }\n    }\n  };\n  /**\n   * columnSettingEffect\n   * @param {SearchTableProps} props\n   * @protected\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  SearchTable.prototype.columnSettingEffect = function (props) {\n    var _this = this;\n    var _a, _b;\n    var preColumnSetting = this.state.columnSetting || [];\n    var columnSetting = this.getTableColumns().map(function (column, index) {\n      return __assign(__assign({}, column), {\n        sort: index,\n        display: true\n      });\n    });\n    // 长度不相等\n    if ((preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.length) !== columnSetting.length) {\n      this.setState({\n        columnSetting: columnSetting\n      });\n      return;\n    }\n    var preColumnSettingRowKeys = (_a = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.map) === null || _a === void 0 ? void 0 : _a.call(preColumnSetting, function (t) {\n      return t[_this.getRowKey()];\n    });\n    var columnSettingRowKeys = (_b = columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map) === null || _b === void 0 ? void 0 : _b.call(columnSetting, function (t) {\n      return t[_this.getRowKey()];\n    });\n    // 长度相等但是key有变化\n    if ((preColumnSettingRowKeys === null || preColumnSettingRowKeys === void 0 ? void 0 : preColumnSettingRowKeys.toString()) !== columnSettingRowKeys.toString()) {\n      var rowKey_1 = this.getRowKey() || 'id';\n      this.setState({\n        columnSetting: columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map(function (t) {\n          // eslint-disable-next-line @typescript-eslint/no-shadow\n          var item = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.find(function (item) {\n            return item[rowKey_1] === t[rowKey_1];\n          });\n          return __assign(__assign({}, t), {\n            display: item ? item.display : true\n          });\n        })\n      });\n    }\n  };\n  /**\n   * onSearchPanelCollapse\n   * @description 查询面板展开之前\n   * @protected\n   */\n  SearchTable.prototype.onSearchPanelCollapseBefore = function () {};\n  /**\n   * onSearchPanelCollapseAfter\n   * @description 查询面板展开之后\n   * @protected\n   */\n  SearchTable.prototype.onSearchPanelCollapseAfter = function () {};\n  /**\n   * sortOrder\n   * @description table的column中加入\n   * @param {string} columnName\n   * @return {string}\n   */\n  SearchTable.prototype.sortOrder = function (columnName) {\n    if (!this.state) return '';\n    return this.state[this.getOrderFieldProp()] === columnName ? this.state[this.getOrderProp()] : '';\n  };\n  /**\n   * onCellConfigReducers\n   * @description 所有onCell的处理\n   * @param {\n   *     rowIndex: number;\n   *     column: ColumnTypeExt;\n   *     record: Record<string, any>;\n   *     columns: ColumnTypeExt[];\n   * } params\n   * @return ColumnTypeExt\n   */\n  SearchTable.prototype.onCellConfigReducers = function (params) {\n    var _this = this;\n    var rowIndex = params.rowIndex,\n      column = params.column,\n      record = params.record,\n      columns = params.columns;\n    return this.cellConfigReducers.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    function (params, reducer) {\n      params.value = reducer.call(_this, {\n        rowIndex: rowIndex,\n        record: record,\n        columns: columns,\n        column: params.value\n      });\n      return params;\n    }, {\n      value: column\n    }).value;\n  };\n  /**\n   * onRowConfigReducers\n   * @description 所有row的处理\n   * @param {\n   *     rowIndex: number;\n   *     record: Record<string, any>;\n   *     columns: ColumnTypeExt[];\n   * } params\n   * @return {RowConfig}\n   */\n  SearchTable.prototype.onRowConfigReducers = function (params) {\n    var _this = this;\n    var rowIndex = params.rowIndex,\n      record = params.record,\n      columns = params.columns;\n    // const reducers = [this.rowEditableReducer];\n    return this.rowConfigReducers.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    function (params, reducer) {\n      params.value = reducer.call(_this, {\n        rowIndex: rowIndex,\n        record: record,\n        columns: columns,\n        rowConfig: params.value\n      });\n      return params;\n    }, {\n      value: {}\n    }).value;\n  };\n  /**\n   * getTableDensity\n   * @description 表格密度\n   * @return {TableDensity}\n   */\n  SearchTable.prototype.getTableDensity = function () {\n    return types_1.TableDensity.DEFAULT;\n  };\n  /**\n   * getTableColumns\n   * @description 获取表格的列数据\n   * @return Array<any>\n   */\n  SearchTable.prototype.getTableColumns = function () {\n    var _this = this;\n    var _a;\n    var isShowNumber = this.isShowNumber();\n    var getTableNumberColumnWidth = this.getTableNumberColumnWidth();\n    // 对权限进行过滤\n    var columns = this.getColumns().filter(function (column) {\n      var _a;\n      if ('$hide' in column && !column.$hide) return false;\n      if ('$authorized' in column) return (_a = column === null || column === void 0 ? void 0 : column.$authorized) === null || _a === void 0 ? void 0 : _a.call(column);\n      return true;\n    })\n    // $resizable 设置\n    .map(function (column, index) {\n      var res = {\n        value: column\n      };\n      var loop = function loop(_column) {\n        var _res = _column;\n        if ('$resizable' in _column && !!(_column === null || _column === void 0 ? void 0 : _column.$resizable)) {\n          _res = _this.columnResizable.searchTableResizableColumnItem(_this, index, _column);\n        }\n        // @ts-ignore\n        if ((_res === null || _res === void 0 ? void 0 : _res.children) && Array.isArray(_res.children)) {\n          // @ts-ignore\n          _res.children.forEach(function (_t, _index) {\n            // @ts-ignore\n            _res.children[_index] = loop(_t);\n          });\n        }\n        return _res;\n      };\n      // @ts-ignore\n      res.value = loop(column);\n      return res.value;\n    }).map(function (column) {\n      return __assign(__assign({}, column), {\n        // 每个单元格都会调用\n        // 给TableCell传递的props参数\n        onCell: function onCell(record, rowIndex) {\n          var _column = (0, lodash_clonedeep_1.default)(column);\n          return {\n            // 行的索引\n            rowIndex: rowIndex,\n            // 行的数据\n            record: record,\n            // 列的配置\n            column: _this.onCellConfigReducers({\n              rowIndex: rowIndex,\n              column: _column,\n              record: record,\n              columns: columns\n            }),\n            // 所有列的配置\n            columns: columns\n          };\n        }\n      });\n    });\n    if (isShowNumber) {\n      var numberGeneratorRule_1 = (_a = this.getNumberGeneratorRule()) !== null && _a !== void 0 ? _a : SearchTable.NUMBER_GENERATOR_RULE_ALONE;\n      var _b = this.state,\n        _c = _b.page,\n        page_1 = _c === void 0 ? 0 : _c,\n        _d = _b.limit,\n        limit_1 = _d === void 0 ? 10 : _d;\n      return [__assign(__assign({}, this.getTableNumberColumnProps ? this.getTableNumberColumnProps() || {} : {}), {\n        title: adhere_util_intl_1.default.v('序号'),\n        dataIndex: '_number',\n        key: '_number',\n        align: 'center',\n        width: getTableNumberColumnWidth !== null && getTableNumberColumnWidth !== void 0 ? getTableNumberColumnWidth : 80,\n        render: function render(v, r, index) {\n          return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n            conditional: numberGeneratorRule_1 === SearchTable.NUMBER_GENERATOR_RULE_ALONE,\n            noMatch: function noMatch() {\n              return _this.renderTableNumberColumn((page_1 - 1) * limit_1 + (index + 1), {\n                value: v,\n                record: r,\n                index: index\n              });\n            }\n          }, function () {\n            return _this.renderTableNumberColumn(index + 1, {\n              value: v,\n              record: r,\n              index: index\n            });\n          });\n        }\n      })].concat(columns);\n    }\n    return columns;\n  };\n  /**\n   * getTableRowComponentReducers\n   * @return {string[]}\n   */\n  SearchTable.prototype.getTableRowComponentReducers = function () {\n    return this.tableRowComponentReducers;\n  };\n  /**\n   * getTableCellComponentReducers\n   * @return {string[]}\n   */\n  SearchTable.prototype.getTableCellComponentReducers = function () {\n    return this.tableCellComponentReducers;\n  };\n  /**\n   * renderTableNumberColumn\n   * @description - 渲染序号列\n   * @param {string} number\n   * @param {{ value: any; record: object; index: number }} params\n   * @return {ReactNode}\n   */\n  SearchTable.prototype.renderTableNumberColumn = function (number,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  params) {\n    if (number === void 0) {\n      number = '';\n    }\n    return react_1.default.createElement(\"span\", null, number);\n  };\n  /**\n   * renderColumnSetting\n   * @description 创建列设置组件\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderColumnSetting = function () {\n    var _this = this;\n    var columns = __spreadArray([], this.state.columnSetting, true);\n    columns.sort(function (c1, c2) {\n      if (c1.sort > c2.sort) return 1;\n      if (c1.sort < c2.sort) return -1;\n      return 0;\n    });\n    return react_1.default.createElement(ColumnSetting_1.default, {\n      columns: columns,\n      onShowColumns: function onShowColumns(checked) {\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (column) {\n              return __assign(__assign({}, column), {\n                display: checked\n              });\n            })\n          };\n        });\n      },\n      onReset: function onReset() {\n        _this.setState(function () {\n          return {\n            columnSetting: _this.getTableColumns().map(function (column, index) {\n              return __assign(__assign({}, column), {\n                display: true,\n                sort: index\n              });\n            })\n          };\n        });\n      },\n      onDisplayColumn: function onDisplayColumn(column, checked) {\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (_column) {\n              return __assign(__assign({}, _column), {\n                display: _column.key === column.key ? checked : _column.display\n              });\n            })\n          };\n        });\n      },\n      onSortEnd: function onSortEnd(map) {\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (column) {\n              return __assign(__assign({}, column), {\n                sort: map.get(column.key)\n              });\n            })\n          };\n        });\n      }\n    });\n  };\n  /**\n   * renderTableDensitySetting\n   * @description 表格密度设置\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderTableDensitySetting = function () {\n    var _this = this;\n    return react_1.default.createElement(TableDensitySetting_1.default, {\n      density: this.state.tableDensity,\n      onChange: function onChange(density) {\n        _this.setState({\n          tableDensity: density\n        });\n      },\n      onReset: function onReset() {\n        _this.setState({\n          tableDensity: _this.getTableDensity()\n        });\n      }\n    });\n  };\n  /**\n   * renderSearchToolBar\n   * @description 渲染查询工具栏\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderSearchToolBar = function () {\n    var _this = this;\n    var isShowExpandSearch = this.props.isShowExpandSearch;\n    var defaultItems = [react_1.default.createElement(antd_1.Button, {\n      className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"),\n      type: \"primary\",\n      key: \"search\",\n      icon: react_1.default.createElement(\"i\", {\n        className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-searchfooteritem-search-btn-icon\"), 'iconfont iconsousuo')\n      }),\n      onClick: function onClick() {\n        _this.setState({\n          page: 1\n        }, function () {\n          _this.onSearch();\n        });\n      }\n    }, adhere_util_intl_1.default.v('查询')), react_1.default.createElement(antd_1.Button, {\n      className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\"),\n      key: \"reset\",\n      onClick: this.onClear\n    }, adhere_util_intl_1.default.v('重置'))];\n    if (isShowExpandSearch) {\n      defaultItems.push(react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n        conditional: this.state.expand,\n        noMatch: function noMatch() {\n          return react_1.default.createElement(\"a\", {\n            key: \"expand\",\n            className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-up-btn\"),\n            onClick: function onClick() {\n              // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n              _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n              _this.setState({\n                expand: true\n              }, function () {\n                return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter();\n              });\n            }\n          }, react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('展开')), react_1.default.createElement(\"i\", {\n            className: \"iconfont iconup\"\n          }));\n        }\n      }, function () {\n        return react_1.default.createElement(\"a\", {\n          key: \"hide\",\n          className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem-expand-search-down-btn\"),\n          onClick: function onClick() {\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n            _this.setState({\n              expand: false\n            }, function () {\n              return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter();\n            });\n          }\n        }, react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('关闭')), react_1.default.createElement(\"i\", {\n          className: \"iconfont icondownarrow\"\n        }));\n      }));\n    }\n    var items = this.renderSearchFooterItems(defaultItems) || __spreadArray([], defaultItems, true);\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-searchfooterwrapper\")\n    }, items.map(function (t, index) {\n      return react_1.default.createElement(\"div\", {\n        key: index,\n        className: \"\".concat(exports.selectorPrefix, \"-searchfooteritem\")\n      }, t);\n    }));\n  };\n  /**\n   * renderTable\n   * @description - 认选表格体\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderBody = function () {\n    var _this = this;\n    var _a = this.props,\n      antdTableProps = _a.antdTableProps,\n      fixedHeaderAutoTable = _a.fixedHeaderAutoTable;\n    var _b = this.state,\n      _c = _b.columnSetting,\n      columnSetting = _c === void 0 ? [] : _c,\n      tableDensity = _b.tableDensity;\n    var columns = this.getTableColumns().map(function (column, index) {\n      return __assign(__assign({}, columnSetting[index]), column);\n    }).filter(function (column) {\n      return column.display;\n    });\n    columns.sort(function (c1, c2) {\n      if (c1.sort > c2.sort) return 1;\n      if (c1.sort < c2.sort) return -1;\n      return 0;\n    });\n    // Table的antdProps配置\n    var tableProps = __assign({\n      rowKey: this.getRowKey(),\n      dataSource: this.getData(),\n      columns: columns,\n      onChange: this.onTableChange,\n      pagination: this.getPagination(),\n      rowSelection: this.getRowSelection(),\n      size: tableDensity,\n      // 组件\n      components: this.components,\n      // onRow\n      // 给TableRow的props参数\n      // @ts-ignore\n      onRow: function onRow(record, rowIndex) {\n        // 这块可能以后会有很多操作\n        // 行的所有操作都可以在这里处理\n        return {\n          record: record,\n          rowIndex: rowIndex,\n          columns: columns,\n          rowKey: _this.getRowKey(),\n          rowConfig: _this.onRowConfigReducers({\n            rowIndex: Number(rowIndex),\n            record: record,\n            columns: columns\n          })\n        };\n      }\n    }, antdTableProps || {});\n    // 是否支持锁定列头，表格体滚动\n    if (fixedHeaderAutoTable) {\n      var scrollY = this.state.scrollY;\n      if (antdTableProps) {\n        if (antdTableProps.scroll) {\n          tableProps.scroll.y = scrollY;\n        } else {\n          tableProps.scroll = {\n            y: scrollY\n          };\n        }\n      } else {\n        tableProps.scroll = {\n          y: scrollY\n        };\n      }\n    }\n    this.tableRowComponentReducers = this.onTableRowComponentReducers(columns);\n    this.tableCellComponentReducers = this.onTableCellComponentReducers(columns);\n    return react_1.default.createElement(antd_1.Table, __assign({}, tableProps));\n  };\n  /**\n   * renderInner\n   * @description 渲染SearchTable\n   * @return {ReactElement | null}\n   */\n  SearchTable.prototype.renderInner = function () {\n    var fixedTableSpaceBetween = this.props.fixedTableSpaceBetween;\n    return _super.prototype.renderInner.call(this, this.tableWrapRef, fixedTableSpaceBetween ? 'fixedtablespacebetween' : '');\n  };\n  /**\n   * renderChildren\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderChildren = function () {\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-wrap\")\n    }, _super.prototype.render.call(this));\n  };\n  /**\n   * render\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.render = function () {\n    return react_1.default.createElement(exports.SearchTableContext.Provider, {\n      value: {\n        context: this\n      }\n    }, this.renderChildren());\n  };\n  // 序号生成的规则 - 单独模式\n  SearchTable.NUMBER_GENERATOR_RULE_ALONE = Symbol();\n  // 序号生成的规则 - 连续模式\n  SearchTable.NUMBER_GENERATOR_RULE_CONTINUITY = Symbol();\n  // 全选的规则 - 标准模式(不能跨页)\n  SearchTable.ROW_SELECTION_NORMAL_MODE = Symbol();\n  // 全选的规则 - 可以跨页\n  SearchTable.ROW_SELECTION_CONTINUOUS_MODE = Symbol();\n  return SearchTable;\n}(Search_1.default);\nexports.defaultProps = __assign({\n  antdTableProps: {},\n  fixedHeaderAutoTable: false,\n  fixedTableSpaceBetween: false\n}, Search_1.defaultProps);\nexports.propTypes = __assign({\n  // antdTable的Props\n  antdTableProps: prop_types_1.default.object,\n  // 锁定列头，表格滚动\n  fixedHeaderAutoTable: prop_types_1.default.bool,\n  // 两端固定(表格的头始终在上方，分页始终在下方)\n  fixedTableSpaceBetween: prop_types_1.default.bool\n}, Search_1.propTypes);\nSearchTable.defaultProps = exports.defaultProps;\nSearchTable.propTypes = exports.propTypes;\nexports.default = SearchTable;"],"names":["__extends","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__createBinding","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__spreadArray","to","from","pack","ar","l","slice","concat","__importDefault","default","antd_1","exports","propTypes","defaultProps","SearchTableContext","selectorPrefix","require","classnames_1","lodash_clonedeep_1","prop_types_1","react_1","adhere_ui_conditionalrender_1","adhere_util_intl_1","ColumnResizable_1","ColumnSetting_1","TableCell_1","TableRow_1","TableDensitySetting_1","Search_1","types_1","SearchTable","createContext","_super","props","_this","tableWrapRef","createRef","components","header","cell","SearchTableResizableTitle","body","row","columnResizable","columnObserver","rowConfigReducers","cellConfigReducers","tableRowComponentReducers","tableCellComponentReducers","onTableChange","pagination","filters","sorter","_a","setState","getOrderFieldProp","field","getOrderFieldValue","getOrderProp","order","fetchData","onSubTableChange","state","page","limit","getLimit","expand","defaultExpandSearchCollapse","scrollY","columnSetting","getTableColumns","map","column","index","sort","display","tableDensity","getTableDensity","onClear","bind","componentWillReceiveProps","nextProps","columnSettingEffect","componentDidUpdate","prevProps","prevState","snapshot","current","searchTableResizableEffectLayout","fixedHeaderAutoTableEffectLayout","SearchTableResizableObserver","tablePaginationHeight","fixedHeaderAutoTable","dataSource","getData","tableHeaderHeight","querySelector","offsetHeight","_b","clientHeight","preColumnSettingRowKeys","columnSettingRowKeys","rowKey_1","preColumnSetting","getRowKey","toString","item","find","onSearchPanelCollapseBefore","onSearchPanelCollapseAfter","sortOrder","columnName","onCellConfigReducers","params","rowIndex","record","columns","reduce","reducer","onRowConfigReducers","rowConfig","TableDensity","DEFAULT","numberGeneratorRule_1","page_1","_d","limit_1","isShowNumber","getTableNumberColumnWidth","getColumns","filter","$hide","$authorized","res","loop","_column","_res","$resizable","searchTableResizableColumnItem","children","isArray","forEach","_t","_index","onCell","getNumberGeneratorRule","NUMBER_GENERATOR_RULE_ALONE","_c","getTableNumberColumnProps","title","dataIndex","key","align","width","render","r","createElement","conditional","noMatch","renderTableNumberColumn","getTableRowComponentReducers","getTableCellComponentReducers","number","renderColumnSetting","c1","c2","onShowColumns","checked","onReset","onDisplayColumn","onSortEnd","renderTableDensitySetting","density","onChange","renderSearchToolBar","isShowExpandSearch","defaultItems","Button","className","type","icon","onClick","onSearch","items","push","renderSearchFooterItems","renderBody","antdTableProps","tableProps","rowKey","getPagination","rowSelection","getRowSelection","size","onRow","Number","scroll","y","onTableRowComponentReducers","onTableCellComponentReducers","Table","renderInner","fixedTableSpaceBetween","renderChildren","Provider","context","Symbol","NUMBER_GENERATOR_RULE_CONTINUITY","ROW_SELECTION_NORMAL_MODE","ROW_SELECTION_CONTINUOUS_MODE","object","bool"],"mappings":"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"}