{"version":3,"file":"SearchTable.js","sources":["SearchTable.js"],"sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.propTypes = exports.defaultProps = exports.SearchTableContext = exports.selectorPrefix = void 0;\nvar antd_1 = require(\"antd\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_1 = __importStar(require(\"react\"));\nvar icons_1 = require(\"@ant-design/icons\");\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\nvar ColumnResizable_1 = __importStar(require(\"./Extension/ColumnResizable\"));\nvar ColumnSetting_1 = __importDefault(require(\"./Extension/ColumnSetting\"));\nvar ExportExcel_1 = __importDefault(require(\"./Extension/ExportExcel\"));\nvar ReloadTable_1 = __importDefault(require(\"./Extension/ReloadTable\"));\nvar TableCell_1 = __importDefault(require(\"./Extension/TableComponents/TableCell\"));\nvar TableRow_1 = __importDefault(require(\"./Extension/TableComponents/TableRow\"));\nvar TableDensitySetting_1 = __importDefault(require(\"./Extension/TableDensitySetting\"));\nvar Search_1 = __importStar(require(\"./Search\"));\nvar Util_1 = require(\"./Util\");\nvar types_1 = require(\"./types\");\nexports.selectorPrefix = 'adhere-ui-search-table';\nexports.SearchTableContext = (0, react_1.createContext)(null);\n/**\n * SearchTable\n * @class SearchTable\n * @classdesc SearchTable\n */\nvar SearchTable = /** @class */function (_super) {\n  __extends(SearchTable, _super);\n  function SearchTable(props) {\n    var _a, _b;\n    var _this = _super.call(this, props) || this;\n    _this.tableWrapRef = (0, react_1.createRef)();\n    // 自定义表格部分\n    _this.components = {\n      header: {\n        cell: ColumnResizable_1.SearchTableResizableTitle\n      },\n      body: {\n        // 固定是这个组件\n        row: TableRow_1.default,\n        // 固定是这个组件\n        cell: TableCell_1.default\n      }\n    };\n    // 列拖动对象\n    _this.columnResizable = new ColumnResizable_1.default();\n    // 列属性监控对象\n    _this.columnObserver = null;\n    // rowConfigReducers\n    // 给TableRow传递props的reducer\n    _this.rowConfigReducers = [];\n    // cellConfigReducers\n    // 给TableCell传递props的reducer\n    _this.cellConfigReducers = [];\n    // tableRowComponentReducers\n    // 处理TableRow的reducer\n    _this.tableRowComponentReducers = [];\n    // tableCellComponentReducers\n    // 处理TableCell的reducer\n    _this.tableCellComponentReducers = [];\n    /**\n     * onTableChange\n     * @description 表格change\n     * @param {any} pagination\n     * @param {any} filters\n     * @param {any} sorter\n     */\n    _this.onTableChange = function (pagination, filters, sorter) {\n      var prePage = _this.state.page;\n      var preLimit = _this.state.limit;\n      return new Promise(function (resolve) {\n        var _a;\n        _this.setState((_a = {\n          page: pagination.current,\n          limit: pagination.pageSize\n        }, _a[_this.getOrderFieldProp()] = sorter.field || _this.getOrderFieldValue(), _a[_this.getOrderProp()] = sorter.order /* || this.getOrderPropValue()*/, _a), function () {\n          var order = sorter.order;\n          if (!order) {\n            if (_this.state.page !== prePage || _this.state.limit !== preLimit) {\n              _this.fetchData().then(function (res) {\n                return resolve(res);\n              });\n            }\n          } else {\n            _this.fetchData().then(function (res) {\n              return resolve(res);\n            });\n          }\n          _this.onSubTableChange(pagination, filters, sorter);\n        });\n      });\n    };\n    _this.onTableRow = function (columns, record, rowIndex) {\n      var _a, _b, _c;\n      // 这块可能以后会有很多操作\n      // 行的所有操作都可以在这里处理\n      return __assign({\n        record: record,\n        rowIndex: rowIndex,\n        columns: columns,\n        rowKey: _this.getRowKey(),\n        rowConfig: _this.onRowConfigReducers({\n          rowIndex: Number(rowIndex),\n          record: record,\n          columns: columns\n        })\n      }, (_c = (_b = (_a = _this.props) === null || _a === void 0 ? void 0 : _a.onRow) === null || _b === void 0 ? void 0 : _b.call(_a, columns, record, rowIndex)) !== null && _c !== void 0 ? _c : {});\n    };\n    // @ts-ignore\n    _this.state = {\n      page: 1,\n      limit: _this.getLimit(),\n      expand: props.defaultExpandSearchCollapse,\n      expandedRowKeys: ((_b = (_a = props.antdTableProps) === null || _a === void 0 ? void 0 : _a.expandable) === null || _b === void 0 ? void 0 : _b.expandedRowKeys) || [],\n      scrollY: 0\n    };\n    Object.assign(_this.state, {\n      // 列设置\n      columnSetting: _this.getTableColumns().map(function (column, index) {\n        return __assign(__assign({}, column), {\n          sort: index,\n          display: true\n        });\n      }),\n      // 表格密度设置\n      tableDensity: _this.getTableDensity()\n    });\n    _this.onClear = _this.onClear.bind(_this);\n    _this.onExpandedRowsChange = _this.onExpandedRowsChange.bind(_this);\n    _this.onBodyKeyup = _this.onBodyKeyup.bind(_this);\n    return _this;\n  }\n  SearchTable.prototype.componentDidMount = function () {\n    var _a;\n    (_a = _super.prototype.componentDidMount) === null || _a === void 0 ? void 0 : _a.call(this);\n    document.body.addEventListener('keyup', this.onBodyKeyup);\n  };\n  SearchTable.prototype.componentWillUnmount = function () {\n    var _a;\n    (_a = _super.prototype.componentWillUnmount) === null || _a === void 0 ? void 0 : _a.call(this);\n    document.body.removeEventListener('keyup', this.onBodyKeyup);\n  };\n  SearchTable.prototype.componentWillReceiveProps = function (nextProps) {\n    var _a, _b, _c, _d;\n    // @ts-ignore\n    _super.prototype.componentWillReceiveProps.call(this, nextProps);\n    if (JSON.stringify(this.state.expandedRowKeys) !== JSON.stringify(((_b = (_a = nextProps.antdTableProps) === null || _a === void 0 ? void 0 : _a.expandable) === null || _b === void 0 ? void 0 : _b.expandedRowKeys) || [])) {\n      // @ts-ignore\n      this.setState({\n        expandedRowKeys: (_d = (_c = nextProps.antdTableProps) === null || _c === void 0 ? void 0 : _c.expandable) === null || _d === void 0 ? void 0 : _d.expandedRowKeys\n      });\n    }\n    this.columnSettingEffect(nextProps);\n  };\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  SearchTable.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\n    if (!this.tableWrapRef.current) return;\n    this.searchTableResizableEffectLayout();\n    this.fixedHeaderAutoTableEffectLayout(prevProps, prevState);\n  };\n  /**\n   * searchTableResizableEffectLayout\n   * @protected\n   */\n  SearchTable.prototype.searchTableResizableEffectLayout = function () {\n    // 监控header的属性变化(colgroup)\n    if (!this.columnObserver) {\n      this.columnObserver = (0, ColumnResizable_1.SearchTableResizableObserver)(this);\n    }\n  };\n  /**\n   * fixedHeaderAutoTableEffectLayout\n   * @protected\n   * @param {SearchTableProps} prevProps\n   * @param {SearchTableState} prevState\n   */\n  SearchTable.prototype.fixedHeaderAutoTableEffectLayout = function (prevProps, prevState) {\n    var _a, _b;\n    if (this.props.fixedHeaderAutoTable) {\n      var dataSource = this.getData();\n      if (dataSource && dataSource.length && (prevState.scrollY === 0 && this.state.scrollY === 0 || prevState.scrollY !== this.state.scrollY || prevState.expand !== this.state.expand)) {\n        var tableWrapRef = this.tableWrapRef.current;\n        var tableHeaderHeight = ((_a = tableWrapRef.querySelector('.ant-table-thead')) === null || _a === void 0 ? void 0 : _a.offsetHeight) || 0;\n        var tablePaginationHeight = ((_b = tableWrapRef.querySelector('.ant-table-pagination')) === null || _b === void 0 ? void 0 : _b.offsetHeight) || 0;\n        // @ts-ignore\n        this.setState({\n          scrollY: tableWrapRef.clientHeight - (tableHeaderHeight + (tablePaginationHeight ? tablePaginationHeight + 16 * 2 : 0))\n        });\n      }\n    }\n  };\n  /**\n   * columnSettingEffect\n   * @param {SearchTableProps} props\n   * @protected\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  SearchTable.prototype.columnSettingEffect = function (props) {\n    var _this = this;\n    var _a, _b;\n    var preColumnSetting = this.state.columnSetting || [];\n    var columnSetting = this.getTableColumns().map(function (column, index) {\n      return __assign(__assign({}, column), {\n        sort: index,\n        display: true\n      });\n    });\n    // 长度不相等\n    if ((preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.length) !== columnSetting.length) {\n      // @ts-ignore\n      this.setState({\n        columnSetting: columnSetting\n      });\n      return;\n    }\n    var preColumnSettingRowKeys = (_a = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.map) === null || _a === void 0 ? void 0 : _a.call(preColumnSetting, function (t) {\n      return t[_this.getRowKey()];\n    });\n    var columnSettingRowKeys = (_b = columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map) === null || _b === void 0 ? void 0 : _b.call(columnSetting, function (t) {\n      return t[_this.getRowKey()];\n    });\n    // 长度相等但是key有变化\n    if ((preColumnSettingRowKeys === null || preColumnSettingRowKeys === void 0 ? void 0 : preColumnSettingRowKeys.toString()) !== columnSettingRowKeys.toString()) {\n      var rowKey_1 = this.getRowKey() || 'id';\n      // @ts-ignore\n      this.setState({\n        columnSetting: columnSetting === null || columnSetting === void 0 ? void 0 : columnSetting.map(function (t) {\n          // eslint-disable-next-line @typescript-eslint/no-shadow\n          var item = preColumnSetting === null || preColumnSetting === void 0 ? void 0 : preColumnSetting.find(function (item) {\n            return item[rowKey_1] === t[rowKey_1];\n          });\n          return __assign(__assign({}, t), {\n            display: item ? item.display : true\n          });\n        })\n      });\n    }\n  };\n  /**\n   * onBodyKeyup\n   */\n  SearchTable.prototype.onBodyKeyup = function (e) {\n    var _a;\n    if (e.keyCode === 13) {\n      if (document.activeElement) {\n        if ((_a = this.searchFormRef.current) === null || _a === void 0 ? void 0 : _a.contains(document.activeElement)) {\n          // 回车键的键码是13\n          this.search();\n        }\n      }\n    }\n  };\n  /**\n   * onSearchPanelCollapse\n   * @description 查询面板展开之前\n   * @protected\n   */\n  SearchTable.prototype.onSearchPanelCollapseBefore = function () {};\n  /**\n   * onSearchPanelCollapseAfter\n   * @description 查询面板展开之后\n   * @protected\n   */\n  SearchTable.prototype.onSearchPanelCollapseAfter = function () {};\n  /**\n   * sortOrder\n   * @description table的column中加入\n   * @param {string} columnName\n   * @return {string}\n   */\n  SearchTable.prototype.sortOrder = function (columnName) {\n    if (!this.state) return '';\n    if (this.state[this.getOrderFieldProp()] === columnName) {\n      return this.state[this.getOrderProp()];\n    }\n    return '';\n  };\n  /**\n   * onCellConfigReducers\n   * @description 所有onCell的处理\n   * @param {\n   *     rowIndex: number;\n   *     column: ColumnTypeExt;\n   *     record: Record<string, any>;\n   *     columns: ColumnTypeExt[];\n   * } params\n   * @return ColumnTypeExt\n   */\n  SearchTable.prototype.onCellConfigReducers = function (params) {\n    var _this = this;\n    var rowIndex = params.rowIndex,\n      column = params.column,\n      record = params.record,\n      columns = params.columns;\n    return this.cellConfigReducers.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    function (params, reducer) {\n      params.value = reducer.call(_this, {\n        rowIndex: rowIndex,\n        record: record,\n        columns: columns,\n        column: params.value\n      });\n      return params;\n    }, {\n      value: column\n    }).value;\n  };\n  /**\n   * onRowConfigReducers\n   * @description 所有row的处理\n   * @param {\n   *     rowIndex: number;\n   *     record: Record<string, any>;\n   *     columns: ColumnTypeExt[];\n   * } params\n   * @return {RowConfig}\n   */\n  SearchTable.prototype.onRowConfigReducers = function (params) {\n    var _this = this;\n    var rowIndex = params.rowIndex,\n      record = params.record,\n      columns = params.columns;\n    // const reducers = [this.rowEditableReducer];\n    return this.rowConfigReducers.reduce(\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    function (params, reducer) {\n      params.value = reducer.call(_this, {\n        rowIndex: rowIndex,\n        record: record,\n        columns: columns,\n        rowConfig: params.value\n      });\n      return params;\n    }, {\n      value: {}\n    }).value;\n  };\n  /**\n   * onExpandedRowsChange\n   * @param {any[]} expandedRowKeys\n   */\n  SearchTable.prototype.onExpandedRowsChange = function (expandedRowKeys) {\n    var _this = this;\n    return new Promise(function (resolve) {\n      var _a, _b, _c, _d, _e, _f;\n      // @ts-ignore\n      _this.setState({\n        expandedRowKeys: expandedRowKeys\n      }, function () {\n        resolve();\n      });\n      if ((_c = (_b = (_a = _this.props.antdTableProps) !== null && _a !== void 0 ? _a : {}) === null || _b === void 0 ? void 0 : _b.expandable) === null || _c === void 0 ? void 0 : _c.onExpandedRowsChange) {\n        (_f = (_e = (_d = _this.props.antdTableProps) === null || _d === void 0 ? void 0 : _d.expandable) === null || _e === void 0 ? void 0 : _e.onExpandedRowsChange) === null || _f === void 0 ? void 0 : _f.call(_e, expandedRowKeys);\n      }\n    });\n  };\n  /**\n   * search\n   */\n  SearchTable.prototype.search = function () {\n    var _this = this;\n    return new Promise(function (resolve) {\n      // @ts-ignore\n      _this.setState({\n        page: 1\n      }, function () {\n        _this.onSearch().then(function (res) {\n          return resolve(res);\n        });\n      });\n    });\n  };\n  /**\n   * getTableDensity\n   * @description 表格密度\n   * @return {TableDensity}\n   */\n  SearchTable.prototype.getTableDensity = function () {\n    return types_1.TableDensity.DEFAULT;\n  };\n  /**\n   * getTableColumnsAll\n   */\n  SearchTable.prototype.getTableColumnsAll = function () {\n    var _this = this;\n    var isShowNumber = this.isShowNumber();\n    // 对权限进行过滤\n    var columns = this.getColumns()\n    // $resizable 设置\n    .map(function (column, index) {\n      var res = {\n        value: column\n      };\n      var loop = function (_column) {\n        var _res = _column;\n        // 如果是列可以拖动\n        if ('$resizable' in _column && !!(_column === null || _column === void 0 ? void 0 : _column.$resizable)) {\n          _res = _this.columnResizable.searchTableResizableColumnItem(_this, index, _column);\n        }\n        // 其他列\n        else {\n          // @ts-ignore\n          _res.onHeaderCell = function () {\n            return {\n              column: _column\n            };\n          };\n        }\n        // @ts-ignore\n        if ((_res === null || _res === void 0 ? void 0 : _res.children) && Array.isArray(_res.children)) {\n          // @ts-ignore\n          _res.children.forEach(function (_t, _index) {\n            // @ts-ignore\n            _res.children[_index] = loop(_t);\n          });\n        }\n        return _res;\n      };\n      // @ts-ignore\n      res.value = loop(column);\n      return res.value;\n    }).map(function (column) {\n      return __assign(__assign({}, column), {\n        // 每个单元格都会调用\n        // 给TableCell传递的props参数\n        onCell: function (record, rowIndex) {\n          var _column = (0, Util_1.cloneDeep)(column);\n          return {\n            // 行的索引\n            rowIndex: rowIndex,\n            // 行的数据\n            record: record,\n            // 列的配置\n            column: _this.onCellConfigReducers({\n              rowIndex: rowIndex,\n              column: _column,\n              record: record,\n              // @ts-ignore\n              columns: columns\n            }),\n            // 所有列的配置\n            columns: columns\n          };\n        }\n      });\n    });\n    if (isShowNumber) {\n      return __spreadArray([this.getTableColumnConfig()], columns || [], true);\n    }\n    return columns;\n  };\n  /**\n   * getTableColumns\n   * @description 获取表格的列数据\n   * @return Array<any>\n   */\n  SearchTable.prototype.getTableColumns = function () {\n    return this.getTableColumnsAll().filter(function (column) {\n      var _a;\n      if ('$hide' in column && !!column.$hide) return false;\n      if ('$authorized' in column) return (_a = column === null || column === void 0 ? void 0 : column.$authorized) === null || _a === void 0 ? void 0 : _a.call(column);\n      return true;\n    });\n  };\n  /**\n   * getTableColumnConfig\n   * @description 获取表格序号列的设置\n   * @return {any}\n   */\n  SearchTable.prototype.getTableColumnConfig = function () {\n    var _this = this;\n    var _a, _b;\n    var getTableNumberColumnWidth = this.getTableNumberColumnWidth();\n    var numberGeneratorRule = (_a = this.getNumberGeneratorRule()) !== null && _a !== void 0 ? _a : SearchTable.NUMBER_GENERATOR_RULE_ALONE;\n    var _c = this.state,\n      _d = _c.page,\n      page = _d === void 0 ? 1 : _d,\n      _e = _c.limit,\n      limit = _e === void 0 ? this.getLimit() : _e;\n    return __assign({\n      title: adhere_util_intl_1.default.v('序号'),\n      dataIndex: '_number',\n      key: '_number',\n      align: 'center',\n      width: getTableNumberColumnWidth,\n      render: function (v, r, index) {\n        return react_1.default.createElement(adhere_ui_conditionalrender_1.default\n        // 单独生成\n        , {\n          // 单独生成\n          conditional: numberGeneratorRule === SearchTable.NUMBER_GENERATOR_RULE_ALONE,\n          noMatch: function () {\n            return _this.renderTableNumberColumn((page - 1) * limit + (index + 1), {\n              value: v,\n              record: r,\n              index: index\n            });\n          }\n        }, function () {\n          return _this.renderTableNumberColumn(index + 1, {\n            value: v,\n            record: r,\n            index: index\n          });\n        });\n      }\n    }, this.getTableNumberColumnProps ? (_b = this.getTableNumberColumnProps()) !== null && _b !== void 0 ? _b : {} : {});\n  };\n  /**\n   * getTableRowComponentReducers\n   * @return {string[]}\n   */\n  SearchTable.prototype.getTableRowComponentReducers = function () {\n    return this.tableRowComponentReducers;\n  };\n  /**\n   * getTableCellComponentReducers\n   * @return {string[]}\n   */\n  SearchTable.prototype.getTableCellComponentReducers = function () {\n    return this.tableCellComponentReducers;\n  };\n  /**\n   * getExportExcelColumns\n   * @description 获取导出excel的列\n   * @param _columns\n   * return _columns\n   */\n  SearchTable.prototype.getExportExcelColumns = function (_columns) {\n    var _this = this;\n    return _columns.filter(function (_a) {\n      var _b;\n      var dataIndex = _a.dataIndex;\n      return !['_number',\n      // @ts-ignore\n      ((_b = _this === null || _this === void 0 ? void 0 : _this.getOptionsColumnDataIndex) === null || _b === void 0 ? void 0 : _b.call(_this)) || '_options'].includes(dataIndex);\n    }).map(function (_column) {\n      if ('children' in _column && Array.isArray(_column.children) && !!_column.children.length) {\n        return __assign(__assign({}, _column), {\n          children: _this.getExportExcelColumns(_column.children || [])\n        });\n      }\n      return _column;\n    });\n  };\n  /**\n   * getExportExcelData\n   * @description 获取导出excel的数据\n   * @return any[]\n   */\n  SearchTable.prototype.getExportExcelData = function () {\n    return this.getData();\n  };\n  /**\n   * getDataSource\n   * @description 获取Table的数据\n   * @return Record<string, any>[]\n   */\n  SearchTable.prototype.getDataSource = function () {\n    return this.getData();\n  };\n  /**\n   * renderTableNumberColumn\n   * @description - 渲染序号列\n   * @param {string} number\n   * @param {{ value: any; record: object; index: number }} params\n   * @return {ReactNode}\n   */\n  SearchTable.prototype.renderTableNumberColumn = function (number, params) {\n    if (number === void 0) {\n      number = '';\n    }\n    return react_1.default.createElement(\"span\", null, number);\n  };\n  /**\n   * renderTableReload\n   * @description 刷新表格\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderTableReload = function () {\n    var _this = this;\n    return react_1.default.createElement(ReloadTable_1.default, {\n      onReload: function () {\n        return _this.fetchData();\n      },\n      showLoading: this.showLoading()\n    });\n  };\n  /**\n   * renderColumnSetting\n   * @description 创建列设置组件\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderColumnSetting = function () {\n    var _this = this;\n    var columns = __spreadArray([], this.state.columnSetting, true);\n    columns.sort(function (c1, c2) {\n      if (c1.sort > c2.sort) return 1;\n      if (c1.sort < c2.sort) return -1;\n      return 0;\n    });\n    return react_1.default.createElement(ColumnSetting_1.default, {\n      columns: columns,\n      onShowColumns: function (checked) {\n        // @ts-ignore\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (column) {\n              return __assign(__assign({}, column), {\n                display: checked\n              });\n            })\n          };\n        });\n      },\n      onReset: function () {\n        // @ts-ignore\n        _this.setState(function () {\n          return {\n            columnSetting: _this.getTableColumns().map(function (column, index) {\n              return __assign(__assign({}, column), {\n                display: true,\n                sort: index\n              });\n            })\n          };\n        });\n      },\n      onDisplayColumn: function (column, checked) {\n        // @ts-ignore\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (_column) {\n              return __assign(__assign({}, _column), {\n                display: _column.key === column.key ? checked : _column.display\n              });\n            })\n          };\n        });\n      },\n      onSortEnd: function (map) {\n        // @ts-ignore\n        _this.setState(function (_a) {\n          var _b;\n          var columnSetting = _a.columnSetting;\n          return {\n            columnSetting: (_b = columnSetting || []) === null || _b === void 0 ? void 0 : _b.map(function (column) {\n              return __assign(__assign({}, column), {\n                sort: map.get(column.key)\n              });\n            })\n          };\n        });\n      }\n    });\n  };\n  /**\n   * renderTableDensitySetting\n   * @description 表格密度设置\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderTableDensitySetting = function () {\n    var _this = this;\n    return react_1.default.createElement(TableDensitySetting_1.default, {\n      density: this.state.tableDensity,\n      onChange: function (density) {\n        // @ts-ignore\n        _this.setState({\n          tableDensity: density\n        });\n      },\n      onReset: function () {\n        // @ts-ignore\n        _this.setState({\n          tableDensity: _this.getTableDensity()\n        });\n      }\n    });\n  };\n  /**\n   * renderExportExcel\n   * @description 渲染导出excel\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderExportExcel = function () {\n    var _this = this;\n    return react_1.default.createElement(ExportExcel_1.default, {\n      title: this.props.title,\n      getDataSource: function () {\n        return _this.getExportExcelData();\n      },\n      getColumns: function () {\n        return _this.getExportExcelColumns(_this.getTableColumns());\n      }\n    });\n  };\n  /**\n   * renderSearchBarCollapseControl\n   */\n  SearchTable.prototype.renderSearchBarCollapseControl = function () {\n    var _this = this;\n    return react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n      conditional: this.state.expand,\n      noMatch: function () {\n        return react_1.default.createElement(\"a\", {\n          key: \"expand\",\n          className: \"\".concat(exports.selectorPrefix, \"-search-footer-item-expand-search-down-btn\"),\n          onClick: function () {\n            _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n            // @ts-ignore\n            _this.setState({\n              expand: true\n            }, function () {\n              return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter();\n            });\n          }\n        }, react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('展开')), react_1.default.createElement(icons_1.DownOutlined, null));\n      }\n    }, function () {\n      return react_1.default.createElement(\"a\", {\n        key: \"hide\",\n        className: \"\".concat(exports.selectorPrefix, \"-search-footer-item-expand-search-up-btn\"),\n        onClick: function () {\n          _this.onSearchPanelCollapseBefore && _this.onSearchPanelCollapseBefore();\n          // @ts-ignore\n          _this.setState({\n            expand: false\n          }, function () {\n            return _this.onSearchPanelCollapseAfter && _this.onSearchPanelCollapseAfter();\n          });\n        }\n      }, react_1.default.createElement(\"span\", null, adhere_util_intl_1.default.v('收起')), react_1.default.createElement(icons_1.UpOutlined, null));\n    });\n  };\n  /**\n   * renderSearchFormToolBar\n   * @description 渲染查询表单的工具栏\n   * @return {ReactNode}\n   */\n  SearchTable.prototype.renderSearchFormToolBar = function () {\n    var _this = this;\n    var _a;\n    var isShowExpandSearch = this.props.isShowExpandSearch;\n    var defaultItems = [react_1.default.createElement(antd_1.Button, {\n      className: \"\".concat(exports.selectorPrefix, \"-search-footer-item\"),\n      type: \"primary\",\n      key: \"search\",\n      loading: this.showLoading(),\n      icon: react_1.default.createElement(icons_1.SearchOutlined, null),\n      onClick: function () {\n        return _this.search();\n      }\n    }, adhere_util_intl_1.default.v('查询')), react_1.default.createElement(antd_1.Button, {\n      className: \"\".concat(exports.selectorPrefix, \"-search-footer-item\"),\n      key: \"reset\",\n      onClick: this.onClear\n    }, adhere_util_intl_1.default.v('重置')), isShowExpandSearch && this.renderSearchBarCollapseControl()].filter(function (t) {\n      return !!t;\n    });\n    var items = this.renderSearchFormToolBarItems(defaultItems) || defaultItems;\n    return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-search-form-tool-bar-default-panel\")\n    }, (_a = this.renderSearchFormToolBarDefaultPanel) === null || _a === void 0 ? void 0 : _a.call(this)), !!items.length && react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-search-form-tool-bar-items\")\n    }, items.map(function (t, index) {\n      return react_1.default.createElement(\"div\", {\n        key: index,\n        className: \"\".concat(exports.selectorPrefix, \"-search-form-tool-bar-item\")\n      }, t);\n    })));\n  };\n  /**\n   * renderSearchBarActions\n   * @description 渲染查询工具栏\n   * @return {ReactNode}\n   */\n  SearchTable.prototype.renderSearchBarActions = function () {\n    var items = this.renderSearchFooterItems([]) || [];\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-search-footer-wrapper\")\n    }, items.map(function (t, index) {\n      return react_1.default.createElement(\"div\", {\n        key: index,\n        className: \"\".concat(exports.selectorPrefix, \"-search-footer-item\")\n      }, t);\n    }));\n  };\n  /**\n   * renderTable\n   * @description - 认选表格体\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderBody = function () {\n    var _this = this;\n    var _a = this.props,\n      antdTableProps = _a.antdTableProps,\n      fixedHeaderAutoTable = _a.fixedHeaderAutoTable;\n    var _b = this.state,\n      _c = _b.columnSetting,\n      columnSetting = _c === void 0 ? [] : _c,\n      tableDensity = _b.tableDensity;\n    var columns = this.getTableColumns().map(function (column, index) {\n      return __assign(__assign({}, columnSetting[index]), column);\n    }).filter(function (column) {\n      return column.display;\n    });\n    columns.sort(function (c1, c2) {\n      if (c1.sort > c2.sort) return 1;\n      if (c1.sort < c2.sort) return -1;\n      return 0;\n    });\n    // Table的antdProps配置\n    var tableProps = __assign(__assign({\n      rowKey: this.getRowKey(),\n      dataSource: this.getDataSource(),\n      columns: columns,\n      onChange: this.onTableChange,\n      pagination: this.getPagination(),\n      rowSelection: this.getRowSelection(),\n      size: tableDensity,\n      // 组件\n      components: this.components,\n      // onRow\n      // 给TableRow的props参数\n      onRow: function () {\n        var params = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          params[_i] = arguments[_i];\n        }\n        return _this.onTableRow.apply(_this, __spreadArray([columns], params, false));\n      }\n    }, antdTableProps !== null && antdTableProps !== void 0 ? antdTableProps : {}), {\n      expandable: __assign(__assign({}, (antdTableProps !== null && antdTableProps !== void 0 ? antdTableProps : {}).expandable), {\n        expandedRowKeys: this.state.expandedRowKeys,\n        onExpandedRowsChange: this.onExpandedRowsChange\n      })\n    });\n    // 是否支持锁定列头，表格体滚动\n    if (fixedHeaderAutoTable) {\n      var scrollY = this.state.scrollY;\n      if (antdTableProps) {\n        if (antdTableProps.scroll) {\n          tableProps.scroll.y = scrollY;\n        } else {\n          tableProps.scroll = {\n            y: scrollY\n          };\n        }\n      } else {\n        tableProps.scroll = {\n          y: scrollY\n        };\n      }\n    }\n    this.tableRowComponentReducers = this.onTableRowComponentReducers(columns);\n    this.tableCellComponentReducers = this.onTableCellComponentReducers(columns);\n    return react_1.default.createElement(antd_1.Table, __assign({}, tableProps));\n  };\n  /**\n   * renderInner\n   * @description 渲染SearchTable\n   * @return {ReactElement | null}\n   */\n  SearchTable.prototype.renderInner = function () {\n    var _a;\n    var fixedTableSpaceBetween = this.props.fixedTableSpaceBetween;\n    return _super.prototype.renderInner.call(this, this.tableWrapRef, (0, classnames_1.default)((_a = {}, _a['fixed-table-space-between'] = fixedTableSpaceBetween, _a)));\n  };\n  /**\n   * renderChildren\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.renderChildren = function () {\n    // @ts-ignore\n    return react_1.default.createElement(\"div\", {\n      className: \"\".concat(exports.selectorPrefix, \"-wrap\")\n    }, _super.prototype.render.call(this));\n  };\n  /**\n   * render\n   * @return {ReactElement}\n   */\n  SearchTable.prototype.render = function () {\n    return react_1.default.createElement(exports.SearchTableContext.Provider, {\n      value: {\n        context: this\n      }\n    }, this.renderChildren());\n  };\n  SearchTable.displayName = 'SearchTable';\n  // 序号生成的规则 - 单独模式\n  SearchTable.NUMBER_GENERATOR_RULE_ALONE = Symbol();\n  // 序号生成的规则 - 连续模式\n  SearchTable.NUMBER_GENERATOR_RULE_CONTINUITY = Symbol();\n  // 全选的规则 - 标准模式(不能跨页)\n  SearchTable.ROW_SELECTION_NORMAL_MODE = Symbol();\n  // 全选的规则 - 可以跨页\n  SearchTable.ROW_SELECTION_CONTINUOUS_MODE = Symbol();\n  return SearchTable;\n}(Search_1.default);\nexports.defaultProps = __assign({\n  antdTableProps: {},\n  fixedHeaderAutoTable: false,\n  fixedTableSpaceBetween: false\n}, Search_1.defaultProps);\nexports.propTypes = __assign({\n  // antdTable的Props\n  antdTableProps: prop_types_1.default.object,\n  // 锁定列头，表格滚动\n  fixedHeaderAutoTable: prop_types_1.default.bool,\n  // 两端固定(表格的头始终在上方，分页始终在下方)\n  fixedTableSpaceBetween: prop_types_1.default.bool\n}, Search_1.propTypes);\nSearchTable.defaultProps = exports.defaultProps;\nSearchTable.propTypes = exports.propTypes;\nexports.default = SearchTable;"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__createBinding","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__spreadArray","to","from","pack","ar","l","slice","concat","__importDefault","default","antd_1","exports","propTypes","defaultProps","SearchTableContext","selectorPrefix","require","classnames_1","prop_types_1","react_1","icons_1","adhere_ui_conditionalrender_1","adhere_util_intl_1","ColumnResizable_1","ColumnSetting_1","ExportExcel_1","ReloadTable_1","TableCell_1","TableRow_1","TableDensitySetting_1","Search_1","Util_1","types_1","SearchTable","createContext","_super","props","_this","tableWrapRef","createRef","components","header","cell","SearchTableResizableTitle","body","row","columnResizable","columnObserver","rowConfigReducers","cellConfigReducers","tableRowComponentReducers","tableCellComponentReducers","onTableChange","pagination","filters","sorter","prePage","state","page","preLimit","limit","Promise","resolve","_a","setState","current","pageSize","getOrderFieldProp","field","getOrderFieldValue","getOrderProp","order","fetchData","then","res","onSubTableChange","onTableRow","columns","record","rowIndex","_c","rowKey","getRowKey","rowConfig","onRowConfigReducers","Number","_b","onRow","getLimit","expand","defaultExpandSearchCollapse","expandedRowKeys","antdTableProps","expandable","scrollY","columnSetting","getTableColumns","map","column","index","sort","display","tableDensity","getTableDensity","onClear","bind","onExpandedRowsChange","onBodyKeyup","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","componentWillReceiveProps","nextProps","_d","JSON","stringify","columnSettingEffect","componentDidUpdate","prevProps","prevState","snapshot","searchTableResizableEffectLayout","fixedHeaderAutoTableEffectLayout","SearchTableResizableObserver","tablePaginationHeight","fixedHeaderAutoTable","dataSource","getData","tableHeaderHeight","querySelector","offsetHeight","clientHeight","preColumnSettingRowKeys","columnSettingRowKeys","rowKey_1","preColumnSetting","toString","item","find","e","keyCode","activeElement","searchFormRef","contains","search","onSearchPanelCollapseBefore","onSearchPanelCollapseAfter","sortOrder","columnName","onCellConfigReducers","params","reduce","reducer","_e","_f","onSearch","TableDensity","DEFAULT","getTableColumnsAll","isShowNumber","getColumns","loop","_column","_res","$resizable","searchTableResizableColumnItem","onHeaderCell","children","isArray","forEach","_t","_index","onCell","cloneDeep","getTableColumnConfig","filter","$hide","$authorized","getTableNumberColumnWidth","numberGeneratorRule","getNumberGeneratorRule","NUMBER_GENERATOR_RULE_ALONE","title","dataIndex","key","align","width","render","r","createElement","conditional","noMatch","renderTableNumberColumn","getTableNumberColumnProps","getTableRowComponentReducers","getTableCellComponentReducers","getExportExcelColumns","_columns","getOptionsColumnDataIndex","includes","getExportExcelData","getDataSource","number","renderTableReload","onReload","showLoading","renderColumnSetting","c1","c2","onShowColumns","checked","onReset","onDisplayColumn","onSortEnd","renderTableDensitySetting","density","onChange","renderExportExcel","renderSearchBarCollapseControl","className","onClick","DownOutlined","UpOutlined","renderSearchFormToolBar","isShowExpandSearch","defaultItems","Button","type","loading","icon","SearchOutlined","items","renderSearchFormToolBarItems","Fragment","renderSearchFormToolBarDefaultPanel","renderSearchBarActions","renderSearchFooterItems","renderBody","tableProps","getPagination","rowSelection","getRowSelection","size","_i","scroll","y","onTableRowComponentReducers","onTableCellComponentReducers","Table","renderInner","fixedTableSpaceBetween","renderChildren","Provider","context","displayName","Symbol","NUMBER_GENERATOR_RULE_CONTINUITY","ROW_SELECTION_NORMAL_MODE","ROW_SELECTION_CONTINUOUS_MODE","object","bool"],"mappings":"AAAA,aAEA,IAAIA,UAA4C,WAC9C,IAAIC,EAAgB,SAAUC,EAAGC,GAQ/B,OAPAF,EAAgBG,OAAOC,iBAAkB,CACvCC,UAAW,EACb,YAAaC,MAAS,SAAUL,EAAGC,GACjCD,EAAEI,UAAYH,CAChB,EAAK,SAAUD,EAAGC,GAChB,IAAK,IAAIK,KAAKL,EAAOC,OAAOK,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,GAC5E,IACqBN,EAAGC,CAAC,CAC3B,EACA,OAAO,SAAUD,EAAGC,GAClB,GAAiB,YAAb,OAAOA,GAA0B,OAANA,EAAY,MAAM,IAAIS,UAAU,uBAAyBC,OAAOV,CAAC,EAAI,+BAA+B,EAEnI,SAASW,IACPC,KAAKC,YAAcd,CACrB,CAHAD,EAAcC,EAAGC,CAAC,EAIlBD,EAAEO,UAAkB,OAANN,EAAaC,OAAOa,OAAOd,CAAC,GAAKW,EAAGL,UAAYN,EAAEM,UAAW,IAAIK,EACjF,CACF,EAAE,EACEI,SAA0C,WAQ5C,OAPAA,SAAWd,OAAOe,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAId,KADTa,EAAIG,UAAUF,GACOlB,OAAOK,UAAUC,eAAeC,KAAKU,EAAGb,CAAC,IAAGY,EAAEZ,GAAKa,EAAEb,IAE5E,OAAOY,CACT,GACgBM,MAAMX,KAAMS,SAAS,CACvC,EACIG,gBAAyDvB,OAAOa,OAAS,SAAUW,EAAGC,EAAGC,EAAGC,GACnFC,KAAAA,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAO7B,OAAO8B,yBAAyBL,EAAGC,CAAC,EAC1CG,IAAS,QAASA,EAAQJ,EAAEM,WAAaF,CAAAA,EAAKG,UAAYH,CAAAA,EAAKI,gBAClEJ,EAAO,CACLK,WAAY,CAAA,EACZC,IAAK,WACH,OAAOV,EAAEC,EACX,CACF,GAEF1B,OAAOoC,eAAeZ,EAAGG,EAAIE,CAAI,CACnC,EAAI,SAAUL,EAAGC,EAAGC,EAAGC,GAErBH,EADsBG,EAAXC,KAAAA,IAAPD,EAAuBD,EACzBC,GAAMF,EAAEC,EACZ,EACIW,mBAA+DrC,OAAOa,OAAS,SAAUW,EAAGc,GAC9FtC,OAAOoC,eAAeZ,EAAG,UAAW,CAClCU,WAAY,CAAA,EACZK,MAAOD,CACT,CAAC,CACH,EAAI,SAAUd,EAAGc,GACfd,EAAW,QAAIc,CACjB,EACIE,aAAkD,SAAUC,GAC9D,GAAIA,GAAOA,EAAIV,WAAY,OAAOU,EAClC,IAAIC,EAAS,GACb,GAAW,MAAPD,EAAa,IAAK,IAAIf,KAAKe,EAAe,YAANf,GAAmB1B,OAAOK,UAAUC,eAAeC,KAAKkC,EAAKf,CAAC,GAAGH,gBAAgBmB,EAAQD,EAAKf,CAAC,EAEvI,OADAW,mBAAmBK,EAAQD,CAAG,EACvBC,CACT,EACIC,cAAoD,SAAUC,EAAIC,EAAMC,GAC1E,GAAIA,GAA6B,IAArB1B,UAAUC,OAAc,IAAK,IAA4B0B,EAAxB7B,EAAI,EAAG8B,EAAIH,EAAKxB,OAAYH,EAAI8B,EAAG9B,CAAC,GAC3E6B,CAAAA,GAAQ7B,KAAK2B,KACVE,EAAAA,GAAS5C,MAAME,UAAU4C,MAAM1C,KAAKsC,EAAM,EAAG3B,CAAC,GAChDA,GAAK2B,EAAK3B,IAGjB,OAAO0B,EAAGM,OAAOH,GAAM5C,MAAME,UAAU4C,MAAM1C,KAAKsC,CAAI,CAAC,CACzD,EACIM,gBAAwD,SAAUV,GACpE,OAAOA,GAAOA,EAAIV,WAAaU,EAAM,CACnCW,QAAWX,CACb,CACF,EAKIY,QAJJrD,OAAOoC,eAAekB,QAAS,aAAc,CAC3Cf,MAAO,CAAA,CACT,CAAC,EACDe,QAAQC,UAAYD,QAAQE,aAAeF,QAAQG,mBAAqBH,QAAQI,eAAiB,KAAA,EACpFC,QAAQ,MAAM,GACvBC,aAAeT,gBAAgBQ,QAAQ,YAAY,CAAC,EACpDE,aAAeV,gBAAgBQ,QAAQ,YAAY,CAAC,EACpDG,QAAUtB,aAAamB,QAAQ,OAAO,CAAC,EACvCI,QAAUJ,QAAQ,mBAAmB,EACrCK,8BAAgCb,gBAAgBQ,QAAQ,yCAAyC,CAAC,EAClGM,mBAAqBd,gBAAgBQ,QAAQ,8BAA8B,CAAC,EAC5EO,kBAAoB1B,aAAamB,QAAQ,6BAA6B,CAAC,EACvEQ,gBAAkBhB,gBAAgBQ,QAAQ,2BAA2B,CAAC,EACtES,cAAgBjB,gBAAgBQ,QAAQ,yBAAyB,CAAC,EAClEU,cAAgBlB,gBAAgBQ,QAAQ,yBAAyB,CAAC,EAClEW,YAAcnB,gBAAgBQ,QAAQ,uCAAuC,CAAC,EAC9EY,WAAapB,gBAAgBQ,QAAQ,sCAAsC,CAAC,EAC5Ea,sBAAwBrB,gBAAgBQ,QAAQ,iCAAiC,CAAC,EAClFc,SAAWjC,aAAamB,QAAQ,UAAU,CAAC,EAC3Ce,OAASf,QAAQ,QAAQ,EACzBgB,QAAUhB,QAAQ,SAAS,EAQ3BiB,aAPJtB,QAAQI,eAAiB,yBACzBJ,QAAQG,oBAAqB,EAAIK,QAAQe,eAAe,IAAI,EAM7B,SAAUC,GAEvC,SAASF,EAAYG,GACnB,IACIC,EAAQF,EAAOvE,KAAKI,KAAMoE,CAAK,GAAKpE,KAoGxC,OAnGAqE,EAAMC,cAAe,EAAInB,QAAQoB,WAAW,EAE5CF,EAAMG,WAAa,CACjBC,OAAQ,CACNC,KAAMnB,kBAAkBoB,yBAC1B,EACAC,KAAM,CAEJC,IAAKjB,WAAWnB,QAEhBiC,KAAMf,YAAYlB,OACpB,CACF,EAEA4B,EAAMS,gBAAkB,IAAIvB,kBAAkBd,QAE9C4B,EAAMU,eAAiB,KAGvBV,EAAMW,kBAAoB,GAG1BX,EAAMY,mBAAqB,GAG3BZ,EAAMa,0BAA4B,GAGlCb,EAAMc,2BAA6B,GAQnCd,EAAMe,cAAgB,SAAUC,EAAYC,EAASC,GACnD,IAAIC,EAAUnB,EAAMoB,MAAMC,KACtBC,EAAWtB,EAAMoB,MAAMG,MAC3B,OAAO,IAAIC,QAAQ,SAAUC,GAC3B,IAAIC,EACJ1B,EAAM2B,WAAUD,EAAK,CACnBL,KAAML,EAAWY,QACjBL,MAAOP,EAAWa,QACpB,GAAM7B,EAAM8B,kBAAkB,GAAKZ,EAAOa,OAAS/B,EAAMgC,mBAAmB,EAAGN,EAAG1B,EAAMiC,aAAa,GAAKf,EAAOgB,MAAwCR,GAAK,WAChJR,EAAOgB,MAQjBlC,EAAMmC,UAAU,EAAEC,KAAK,SAAUC,GAC/B,OAAOZ,EAAQY,CAAG,CACpB,CAAC,EARGrC,EAAMoB,MAAMC,OAASF,GAAWnB,EAAMoB,MAAMG,QAAUD,GACxDtB,EAAMmC,UAAU,EAAEC,KAAK,SAAUC,GAC/B,OAAOZ,EAAQY,CAAG,CACpB,CAAC,EAOLrC,EAAMsC,iBAAiBtB,EAAYC,EAASC,CAAM,CACpD,CAAC,CACH,CAAC,CACH,EACAlB,EAAMuC,WAAa,SAAUC,EAASC,EAAQC,GAC5C,IAAIhB,EAAQiB,EAGZ,OAAO7G,SAAS,CACd2G,OAAQA,EACRC,SAAUA,EACVF,QAASA,EACTI,OAAQ5C,EAAM6C,UAAU,EACxBC,UAAW9C,EAAM+C,oBAAoB,CACnCL,SAAUM,OAAON,CAAQ,EACzBD,OAAQA,EACRD,QAASA,CACX,CAAC,CACH,EAAG,OAACG,EAAK,OAACM,EAAK,OAACvB,EAAK1B,EAAMD,OAAmC,KAAA,EAAS2B,EAAGwB,OAAmC,KAAA,EAASD,EAAG1H,KAAKmG,EAAIc,EAASC,EAAQC,CAAQ,GAA+BC,EAAK,EAAE,CACnM,EAEA3C,EAAMoB,MAAQ,CACZC,KAAM,EACNE,MAAOvB,EAAMmD,SAAS,EACtBC,OAAQrD,EAAMsD,4BACdC,iBAAkB,OAACL,EAAK,OAACvB,EAAK3B,EAAMwD,gBAA4C,KAAA,EAAS7B,EAAG8B,YAAwC,KAAA,EAASP,EAAGK,kBAAoB,GACpKG,QAAS,CACX,EACAzI,OAAOe,OAAOiE,EAAMoB,MAAO,CAEzBsC,cAAe1D,EAAM2D,gBAAgB,EAAEC,IAAI,SAAUC,EAAQC,GAC3D,OAAOhI,SAASA,SAAS,GAAI+H,CAAM,EAAG,CACpCE,KAAMD,EACNE,QAAS,CAAA,CACX,CAAC,CACH,CAAC,EAEDC,aAAcjE,EAAMkE,gBAAgB,CACtC,CAAC,EACDlE,EAAMmE,QAAUnE,EAAMmE,QAAQC,KAAKpE,CAAK,EACxCA,EAAMqE,qBAAuBrE,EAAMqE,qBAAqBD,KAAKpE,CAAK,EAClEA,EAAMsE,YAActE,EAAMsE,YAAYF,KAAKpE,CAAK,EACzCA,CACT,CAowBA,OA52BApF,UAAUgF,EAAaE,CAAM,EAyG7BF,EAAYvE,UAAUkJ,kBAAoB,WACxC,IAAI7C,EACJ,OAACA,EAAK5B,EAAOzE,UAAUkJ,oBAAwD7C,EAAGnG,KAAKI,IAAI,EAC3F6I,SAASjE,KAAKkE,iBAAiB,QAAS9I,KAAK2I,WAAW,CAC1D,EACA1E,EAAYvE,UAAUqJ,qBAAuB,WAC3C,IAAIhD,EACJ,OAACA,EAAK5B,EAAOzE,UAAUqJ,uBAA2DhD,EAAGnG,KAAKI,IAAI,EAC9F6I,SAASjE,KAAKoE,oBAAoB,QAAShJ,KAAK2I,WAAW,CAC7D,EACA1E,EAAYvE,UAAUuJ,0BAA4B,SAAUC,GAC1D,IAAgBC,EAEhBhF,EAAOzE,UAAUuJ,0BAA0BrJ,KAAKI,KAAMkJ,CAAS,EAC3DE,KAAKC,UAAUrJ,KAAKyF,MAAMkC,eAAe,IAAMyB,KAAKC,WAAW,OAAC/B,EAAK,OAACvB,EAAKmD,EAAUtB,gBAA4C,KAAA,EAAS7B,EAAG8B,YAAwC,KAAA,EAASP,EAAGK,kBAAoB,EAAE,GAEzN3H,KAAKgG,SAAS,CACZ2B,gBAAiB,OAACwB,EAAK,OAACnC,EAAKkC,EAAUtB,gBAA4C,KAAA,EAASZ,EAAGa,YAAwC,KAAA,EAASsB,EAAGxB,eACrJ,CAAC,EAEH3H,KAAKsJ,oBAAoBJ,CAAS,CACpC,EAEAjF,EAAYvE,UAAU6J,mBAAqB,SAAUC,EAAWC,EAAWC,GACpE1J,KAAKsE,aAAa2B,UACvBjG,KAAK2J,iCAAiC,EACtC3J,KAAK4J,iCAAiCJ,EAAWC,CAAS,EAC5D,EAKAxF,EAAYvE,UAAUiK,iCAAmC,WAElD3J,KAAK+E,iBACR/E,KAAK+E,gBAAiB,EAAIxB,kBAAkBsG,8BAA8B7J,IAAI,EAElF,EAOAiE,EAAYvE,UAAUkK,iCAAmC,SAAUJ,EAAWC,GAC5E,IAIQnF,EAEAwF,EALJ9J,KAAKoE,MAAM2F,uBACTC,EAAahK,KAAKiK,QAAQ,IACZD,EAAWtJ,SAAiC,IAAtB+I,EAAU3B,SAAwC,IAAvB9H,KAAKyF,MAAMqC,SAAiB2B,EAAU3B,UAAY9H,KAAKyF,MAAMqC,SAAW2B,EAAUhC,SAAWzH,KAAKyF,MAAMgC,UAErKyC,GAAqB,OAACnE,GADtBzB,EAAetE,KAAKsE,aAAa2B,SACOkE,cAAc,kBAAkB,GAA+B,KAAA,EAASpE,EAAGqE,eAAiB,EACpIN,GAAyB,OAACxC,EAAKhD,EAAa6F,cAAc,uBAAuB,GAA+B,KAAA,EAAS7C,EAAG8C,eAAiB,EAEjJpK,KAAKgG,SAAS,CACZ8B,QAASxD,EAAa+F,cAAgBH,GAAqBJ,EAAwBA,EAAwB,GAAS,GACtH,CAAC,EAGP,EAOA7F,EAAYvE,UAAU4J,oBAAsB,SAAUlF,GACpD,IAiBIkG,EAGAC,EAKEC,EAzBFnG,EAAQrE,KAERyK,EAAmBzK,KAAKyF,MAAMsC,eAAiB,GAC/CA,EAAgB/H,KAAKgI,gBAAgB,EAAEC,IAAI,SAAUC,EAAQC,GAC/D,OAAOhI,SAASA,SAAS,GAAI+H,CAAM,EAAG,CACpCE,KAAMD,EACNE,QAAS,CAAA,CACX,CAAC,CACH,CAAC,GAEIoC,MAAAA,EAA2D,KAAA,EAASA,EAAiB/J,UAAYqH,EAAcrH,OAElHV,KAAKgG,SAAS,CACZ+B,cAAeA,CACjB,CAAC,GAGCuC,EAA0B,OAACvE,EAAK0E,MAAAA,EAA2D,KAAA,EAASA,EAAiBxC,KAAiC,KAAA,EAASlC,EAAGnG,KAAK6K,EAAkB,SAAUpK,GACrM,OAAOA,EAAEgE,EAAM6C,UAAU,EAC3B,CAAC,EACGqD,EAAuB,OAACjD,EAAKS,MAAAA,EAAqD,KAAA,EAASA,EAAcE,KAAiC,KAAA,EAASX,EAAG1H,KAAKmI,EAAe,SAAU1H,GACtL,OAAOA,EAAEgE,EAAM6C,UAAU,EAC3B,CAAC,GAEIoD,MAAAA,EAAyE,KAAA,EAASA,EAAwBI,SAAS,KAAOH,EAAqBG,SAAS,IACvJF,EAAWxK,KAAKkH,UAAU,GAAK,KAEnClH,KAAKgG,SAAS,CACZ+B,cAAeA,MAAAA,EAAqD,KAAA,EAASA,EAAcE,IAAI,SAAU5H,GAEvG,IAAIsK,EAAOF,MAAAA,EAA2D,KAAA,EAASA,EAAiBG,KAAK,SAAUD,GAC7G,OAAOA,EAAKH,KAAcnK,EAAEmK,EAC9B,CAAC,EACD,OAAOrK,SAASA,SAAS,GAAIE,CAAC,EAAG,CAC/BgI,QAASsC,CAAAA,GAAOA,EAAKtC,OACvB,CAAC,CACH,CAAC,CACH,CAAC,GAEL,EAIApE,EAAYvE,UAAUiJ,YAAc,SAAUkC,GAE1B,KAAdA,EAAEC,SACAjC,SAASkC,eACP,OAAChF,EAAK/F,KAAKgL,cAAc/E,UAA8CF,EAAGkF,SAASpC,SAASkC,aAAa,GAE3G/K,KAAKkL,OAAO,CAIpB,EAMAjH,EAAYvE,UAAUyL,4BAA8B,aAMpDlH,EAAYvE,UAAU0L,2BAA6B,aAOnDnH,EAAYvE,UAAU2L,UAAY,SAAUC,GAC1C,OAAKtL,KAAKyF,OACNzF,KAAKyF,MAAMzF,KAAKmG,kBAAkB,KAAOmF,EACpCtL,KAAKyF,MAAMzF,KAAKsG,aAAa,GAFd,EAK1B,EAYArC,EAAYvE,UAAU6L,qBAAuB,SAAUC,GACrD,IAAInH,EAAQrE,KACR+G,EAAWyE,EAAOzE,SACpBmB,EAASsD,EAAOtD,OAChBpB,EAAS0E,EAAO1E,OAChBD,EAAU2E,EAAO3E,QACnB,OAAO7G,KAAKiF,mBAAmBwG,OAE/B,SAAUD,EAAQE,GAOhB,OANAF,EAAO5J,MAAQ8J,EAAQ9L,KAAKyE,EAAO,CACjC0C,SAAUA,EACVD,OAAQA,EACRD,QAASA,EACTqB,OAAQsD,EAAO5J,KACjB,CAAC,EACM4J,CACT,EAAG,CACD5J,MAAOsG,CACT,CAAC,EAAEtG,KACL,EAWAqC,EAAYvE,UAAU0H,oBAAsB,SAAUoE,GACpD,IAAInH,EAAQrE,KACR+G,EAAWyE,EAAOzE,SACpBD,EAAS0E,EAAO1E,OAChBD,EAAU2E,EAAO3E,QAEnB,OAAO7G,KAAKgF,kBAAkByG,OAE9B,SAAUD,EAAQE,GAOhB,OANAF,EAAO5J,MAAQ8J,EAAQ9L,KAAKyE,EAAO,CACjC0C,SAAUA,EACVD,OAAQA,EACRD,QAASA,EACTM,UAAWqE,EAAO5J,KACpB,CAAC,EACM4J,CACT,EAAG,CACD5J,MAAO,EACT,CAAC,EAAEA,KACL,EAKAqC,EAAYvE,UAAUgJ,qBAAuB,SAAUf,GACrD,IAAItD,EAAQrE,KACZ,OAAO,IAAI6F,QAAQ,SAAUC,GAC3B,IAAoB6F,EAAIC,EAExBvH,EAAM2B,SAAS,CACb2B,gBAAiBA,CACnB,EAAG,WACD7B,EAAQ,CACV,CAAC,EACG,OAACkB,EAAK,OAACM,EAAK,OAACvB,EAAK1B,EAAMD,MAAMwD,gBAA4C7B,EAAK,IAAgC,KAAA,EAASuB,EAAGO,aAAiDb,EAAG0B,sBACjL,OAACkD,EAAK,OAACD,EAAK,OAACxC,EAAK9E,EAAMD,MAAMwD,gBAA4C,KAAA,EAASuB,EAAGtB,YAAwC,KAAA,EAAS8D,EAAGjD,uBAA2DkD,EAAGhM,KAAK+L,EAAIhE,CAAe,CAEpO,CAAC,CACH,EAIA1D,EAAYvE,UAAUwL,OAAS,WAC7B,IAAI7G,EAAQrE,KACZ,OAAO,IAAI6F,QAAQ,SAAUC,GAE3BzB,EAAM2B,SAAS,CACbN,KAAM,CACR,EAAG,WACDrB,EAAMwH,SAAS,EAAEpF,KAAK,SAAUC,GAC9B,OAAOZ,EAAQY,CAAG,CACpB,CAAC,CACH,CAAC,CACH,CAAC,CACH,EAMAzC,EAAYvE,UAAU6I,gBAAkB,WACtC,OAAOvE,QAAQ8H,aAAaC,OAC9B,EAIA9H,EAAYvE,UAAUsM,mBAAqB,WACzC,IAAI3H,EAAQrE,KACRiM,EAAejM,KAAKiM,aAAa,EAEjCpF,EAAU7G,KAAKkM,WAAW,EAE7BjE,IAAI,SAAUC,EAAQC,GAIV,SAAPgE,EAAiBC,GACnB,IAAIC,EAAOD,EAsBX,MApBI,eAAgBA,GAAcA,MAAAA,GAAkDA,EAAQE,WAC1FD,EAAOhI,EAAMS,gBAAgByH,+BAA+BlI,EAAO8D,EAAOiE,CAAO,EAKjFC,EAAKG,aAAe,WAClB,MAAO,CACLtE,OAAQkE,CACV,CACF,EAGGC,MAAAA,GAA4CA,EAAKI,UAAajN,MAAMkN,QAAQL,EAAKI,QAAQ,GAE5FJ,EAAKI,SAASE,QAAQ,SAAUC,EAAIC,GAElCR,EAAKI,SAASI,GAAUV,EAAKS,CAAE,CACjC,CAAC,EAEIP,CACT,CA3BA,IAAI3F,EAAM,CACR9E,MAAOsG,CACT,EA4BA,OADAxB,EAAI9E,MAAQuK,EAAKjE,CAAM,EAChBxB,EAAI9E,KACb,CAAC,EAAEqG,IAAI,SAAUC,GACf,OAAO/H,SAASA,SAAS,GAAI+H,CAAM,EAAG,CAGpC4E,OAAQ,SAAUhG,EAAQC,GACxB,IAAIqF,GAAU,EAAIrI,OAAOgJ,WAAW7E,CAAM,EAC1C,MAAO,CAELnB,SAAUA,EAEVD,OAAQA,EAERoB,OAAQ7D,EAAMkH,qBAAqB,CACjCxE,SAAUA,EACVmB,OAAQkE,EACRtF,OAAQA,EAERD,QAASA,CACX,CAAC,EAEDA,QAASA,CACX,CACF,CACF,CAAC,CACH,CAAC,EACD,OAAIoF,EACKjK,cAAc,CAAChC,KAAKgN,qBAAqB,GAAInG,GAAW,GAAI,CAAA,CAAI,EAElEA,CACT,EAMA5C,EAAYvE,UAAUsI,gBAAkB,WACtC,OAAOhI,KAAKgM,mBAAmB,EAAEiB,OAAO,SAAU/E,GAChD,IAAInC,EACJ,MAAI,EAAA,UAAWmC,GAAYA,EAAOgF,SAC9B,EAAA,gBAAiBhF,KAAe,OAACnC,EAAKmC,MAAAA,EAAuC,KAAA,EAASA,EAAOiF,aAAyC,KAAA,EAASpH,EAAGnG,KAAKsI,CAAM,GAEnK,CAAC,CACH,EAMAjE,EAAYvE,UAAUsN,qBAAuB,WAC3C,IAAI3I,EAAQrE,KAERoN,EAA4BpN,KAAKoN,0BAA0B,EAC3DC,EAAsB,OAACtH,EAAK/F,KAAKsN,uBAAuB,GAA+BvH,EAAK9B,EAAYsJ,4BACxGvG,EAAKhH,KAAKyF,MACZ0D,EAAKnC,EAAGtB,KACRA,EAAc,KAAA,IAAPyD,EAAgB,EAAIA,EAC3BwC,EAAK3E,EAAGpB,MACRA,EAAe,KAAA,IAAP+F,EAAgB3L,KAAKwH,SAAS,EAAImE,EAC5C,OAAOxL,SAAS,CACdqN,MAAOlK,mBAAmBb,QAAQd,EAAE,IAAI,EACxC8L,UAAW,UACXC,IAAK,UACLC,MAAO,SACPC,MAAOR,EACPS,OAAQ,SAAUlM,EAAGmM,EAAG3F,GACtB,OAAOhF,QAAQV,QAAQsL,cAAc1K,8BAA8BZ,QAEjE,CAEAuL,YAAaX,IAAwBpJ,EAAYsJ,4BACjDU,QAAS,WACP,OAAO5J,EAAM6J,yBAAyBxI,EAAO,GAAKE,GAASuC,EAAQ,GAAI,CACrEvG,MAAOD,EACPmF,OAAQgH,EACR3F,MAAOA,CACT,CAAC,CACH,CACF,EAAG,WACD,OAAO9D,EAAM6J,wBAAwB/F,EAAQ,EAAG,CAC9CvG,MAAOD,EACPmF,OAAQgH,EACR3F,MAAOA,CACT,CAAC,CACH,CAAC,CACH,CACF,EAAGnI,KAAKmO,2BAA4B,OAAC7G,EAAKtH,KAAKmO,0BAA0B,GAA+B7G,EAAU,EAAE,CACtH,EAKArD,EAAYvE,UAAU0O,6BAA+B,WACnD,OAAOpO,KAAKkF,yBACd,EAKAjB,EAAYvE,UAAU2O,8BAAgC,WACpD,OAAOrO,KAAKmF,0BACd,EAOAlB,EAAYvE,UAAU4O,sBAAwB,SAAUC,GACtD,IAAIlK,EAAQrE,KACZ,OAAOuO,EAAStB,OAAO,SAAUlH,GAC/B,IAAIuB,EACAmG,EAAY1H,EAAG0H,UACnB,MAAO,CAAC,CAAC,WAER,OAACnG,EAAKjD,MAAAA,EAAqC,KAAA,EAASA,EAAMmK,2BAAuD,KAAA,EAASlH,EAAG1H,KAAKyE,CAAK,IAAM,YAAYoK,SAAShB,CAAS,CAC9K,CAAC,EAAExF,IAAI,SAAUmE,GACf,MAAI,aAAcA,GAAW5M,MAAMkN,QAAQN,EAAQK,QAAQ,GAAOL,EAAQK,SAAS/L,OAC1EP,SAASA,SAAS,GAAIiM,CAAO,EAAG,CACrCK,SAAUpI,EAAMiK,sBAAsBlC,EAAQK,UAAY,EAAE,CAC9D,CAAC,EAEIL,CACT,CAAC,CACH,EAMAnI,EAAYvE,UAAUgP,mBAAqB,WACzC,OAAO1O,KAAKiK,QAAQ,CACtB,EAMAhG,EAAYvE,UAAUiP,cAAgB,WACpC,OAAO3O,KAAKiK,QAAQ,CACtB,EAQAhG,EAAYvE,UAAUwO,wBAA0B,SAAUU,EAAQpD,GAIhE,OAAOrI,QAAQV,QAAQsL,cAAc,OAAQ,KAF3Ca,EADa,KAAA,IAAXA,EACO,GAEwCA,CAAM,CAC3D,EAMA3K,EAAYvE,UAAUmP,kBAAoB,WACxC,IAAIxK,EAAQrE,KACZ,OAAOmD,QAAQV,QAAQsL,cAAcrK,cAAcjB,QAAS,CAC1DqM,SAAU,WACR,OAAOzK,EAAMmC,UAAU,CACzB,EACAuI,YAAa/O,KAAK+O,YAAY,CAChC,CAAC,CACH,EAMA9K,EAAYvE,UAAUsP,oBAAsB,WAC1C,IAAI3K,EAAQrE,KACR6G,EAAU7E,cAAc,GAAIhC,KAAKyF,MAAMsC,cAAe,CAAA,CAAI,EAM9D,OALAlB,EAAQuB,KAAK,SAAU6G,EAAIC,GACzB,OAAID,EAAG7G,KAAO8G,EAAG9G,KAAa,EAC1B6G,EAAG7G,KAAO8G,EAAG9G,KAAa,CAAC,EACxB,CACT,CAAC,EACMjF,QAAQV,QAAQsL,cAAcvK,gBAAgBf,QAAS,CAC5DoE,QAASA,EACTsI,cAAe,SAAUC,GAEvB/K,EAAM2B,SAAS,SAAUD,GAGvB,MAAO,CACLgC,cAAe,OAACT,EAFEvB,EAAGgC,eAEiB,IAAgC,KAAA,EAAST,EAAGW,IAAI,SAAUC,GAC9F,OAAO/H,SAASA,SAAS,GAAI+H,CAAM,EAAG,CACpCG,QAAS+G,CACX,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,EACAC,QAAS,WAEPhL,EAAM2B,SAAS,WACb,MAAO,CACL+B,cAAe1D,EAAM2D,gBAAgB,EAAEC,IAAI,SAAUC,EAAQC,GAC3D,OAAOhI,SAASA,SAAS,GAAI+H,CAAM,EAAG,CACpCG,QAAS,CAAA,EACTD,KAAMD,CACR,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,EACAmH,gBAAiB,SAAUpH,EAAQkH,GAEjC/K,EAAM2B,SAAS,SAAUD,GAGvB,MAAO,CACLgC,cAAe,OAACT,EAFEvB,EAAGgC,eAEiB,IAAgC,KAAA,EAAST,EAAGW,IAAI,SAAUmE,GAC9F,OAAOjM,SAASA,SAAS,GAAIiM,CAAO,EAAG,CACrC/D,QAAS+D,EAAQsB,MAAQxF,EAAOwF,IAAM0B,EAAUhD,EAAQ/D,OAC1D,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,EACAkH,UAAW,SAAUtH,GAEnB5D,EAAM2B,SAAS,SAAUD,GAGvB,MAAO,CACLgC,cAAe,OAACT,EAFEvB,EAAGgC,eAEiB,IAAgC,KAAA,EAAST,EAAGW,IAAI,SAAUC,GAC9F,OAAO/H,SAASA,SAAS,GAAI+H,CAAM,EAAG,CACpCE,KAAMH,EAAIzG,IAAI0G,EAAOwF,GAAG,CAC1B,CAAC,CACH,CAAC,CACH,CACF,CAAC,CACH,CACF,CAAC,CACH,EAMAzJ,EAAYvE,UAAU8P,0BAA4B,WAChD,IAAInL,EAAQrE,KACZ,OAAOmD,QAAQV,QAAQsL,cAAclK,sBAAsBpB,QAAS,CAClEgN,QAASzP,KAAKyF,MAAM6C,aACpBoH,SAAU,SAAUD,GAElBpL,EAAM2B,SAAS,CACbsC,aAAcmH,CAChB,CAAC,CACH,EACAJ,QAAS,WAEPhL,EAAM2B,SAAS,CACbsC,aAAcjE,EAAMkE,gBAAgB,CACtC,CAAC,CACH,CACF,CAAC,CACH,EAMAtE,EAAYvE,UAAUiQ,kBAAoB,WACxC,IAAItL,EAAQrE,KACZ,OAAOmD,QAAQV,QAAQsL,cAActK,cAAchB,QAAS,CAC1D+K,MAAOxN,KAAKoE,MAAMoJ,MAClBmB,cAAe,WACb,OAAOtK,EAAMqK,mBAAmB,CAClC,EACAxC,WAAY,WACV,OAAO7H,EAAMiK,sBAAsBjK,EAAM2D,gBAAgB,CAAC,CAC5D,CACF,CAAC,CACH,EAIA/D,EAAYvE,UAAUkQ,+BAAiC,WACrD,IAAIvL,EAAQrE,KACZ,OAAOmD,QAAQV,QAAQsL,cAAc1K,8BAA8BZ,QAAS,CAC1EuL,YAAahO,KAAKyF,MAAMgC,OACxBwG,QAAS,WACP,OAAO9K,QAAQV,QAAQsL,cAAc,IAAK,CACxCL,IAAK,SACLmC,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,4CAA4C,EACzF+M,QAAS,WACPzL,EAAM8G,6BAA+B9G,EAAM8G,4BAA4B,EAEvE9G,EAAM2B,SAAS,CACbyB,OAAQ,CAAA,CACV,EAAG,WACD,OAAOpD,EAAM+G,4BAA8B/G,EAAM+G,2BAA2B,CAC9E,CAAC,CACH,CACF,EAAGjI,QAAQV,QAAQsL,cAAc,OAAQ,KAAMzK,mBAAmBb,QAAQd,EAAE,IAAI,CAAC,EAAGwB,QAAQV,QAAQsL,cAAc3K,QAAQ2M,aAAc,IAAI,CAAC,CAC/I,CACF,EAAG,WACD,OAAO5M,QAAQV,QAAQsL,cAAc,IAAK,CACxCL,IAAK,OACLmC,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,0CAA0C,EACvF+M,QAAS,WACPzL,EAAM8G,6BAA+B9G,EAAM8G,4BAA4B,EAEvE9G,EAAM2B,SAAS,CACbyB,OAAQ,CAAA,CACV,EAAG,WACD,OAAOpD,EAAM+G,4BAA8B/G,EAAM+G,2BAA2B,CAC9E,CAAC,CACH,CACF,EAAGjI,QAAQV,QAAQsL,cAAc,OAAQ,KAAMzK,mBAAmBb,QAAQd,EAAE,IAAI,CAAC,EAAGwB,QAAQV,QAAQsL,cAAc3K,QAAQ4M,WAAY,IAAI,CAAC,CAC7I,CAAC,CACH,EAMA/L,EAAYvE,UAAUuQ,wBAA0B,WAC9C,IACIlK,EADA1B,EAAQrE,KAERkQ,EAAqBlQ,KAAKoE,MAAM8L,mBAChCC,EAAe,CAAChN,QAAQV,QAAQsL,cAAcrL,OAAO0N,OAAQ,CAC/DP,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,qBAAqB,EAClEsN,KAAM,UACN3C,IAAK,SACL4C,QAAStQ,KAAK+O,YAAY,EAC1BwB,KAAMpN,QAAQV,QAAQsL,cAAc3K,QAAQoN,eAAgB,IAAI,EAChEV,QAAS,WACP,OAAOzL,EAAM6G,OAAO,CACtB,CACF,EAAG5H,mBAAmBb,QAAQd,EAAE,IAAI,CAAC,EAAGwB,QAAQV,QAAQsL,cAAcrL,OAAO0N,OAAQ,CACnFP,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,qBAAqB,EAClE2K,IAAK,QACLoC,QAAS9P,KAAKwI,OAChB,EAAGlF,mBAAmBb,QAAQd,EAAE,IAAI,CAAC,EAAGuO,GAAsBlQ,KAAK4P,+BAA+B,GAAG3C,OAAO,SAAU5M,GACpH,MAAO,CAAC,CAACA,CACX,CAAC,EACGoQ,EAAQzQ,KAAK0Q,6BAA6BP,CAAY,GAAKA,EAC/D,OAAOhN,QAAQV,QAAQsL,cAAc5K,QAAQV,QAAQkO,SAAU,KAAMxN,QAAQV,QAAQsL,cAAc,MAAO,CACxG8B,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,qCAAqC,CACpF,EAAG,OAACgD,EAAK/F,KAAK4Q,qCAAiE,KAAA,EAAS7K,EAAGnG,KAAKI,IAAI,CAAC,EAAG,CAAC,CAACyQ,EAAM/P,QAAUyC,QAAQV,QAAQsL,cAAc,MAAO,CAC7J8B,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,6BAA6B,CAC5E,EAAG0N,EAAMxI,IAAI,SAAU5H,EAAG8H,GACxB,OAAOhF,QAAQV,QAAQsL,cAAc,MAAO,CAC1CL,IAAKvF,EACL0H,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,4BAA4B,CAC3E,EAAG1C,CAAC,CACN,CAAC,CAAC,CAAC,CACL,EAMA4D,EAAYvE,UAAUmR,uBAAyB,WAC7C,IAAIJ,EAAQzQ,KAAK8Q,wBAAwB,EAAE,GAAK,GAChD,OAAO3N,QAAQV,QAAQsL,cAAc,MAAO,CAC1C8B,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,wBAAwB,CACvE,EAAG0N,EAAMxI,IAAI,SAAU5H,EAAG8H,GACxB,OAAOhF,QAAQV,QAAQsL,cAAc,MAAO,CAC1CL,IAAKvF,EACL0H,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,qBAAqB,CACpE,EAAG1C,CAAC,CACN,CAAC,CAAC,CACJ,EAMA4D,EAAYvE,UAAUqR,WAAa,WACjC,IAAI1M,EAAQrE,KACR+F,EAAK/F,KAAKoE,MACZwD,EAAiB7B,EAAG6B,eACpBmC,EAAuBhE,EAAGgE,qBACxBzC,EAAKtH,KAAKyF,MACZuB,EAAKM,EAAGS,cACRA,EAAuB,KAAA,IAAPf,EAAgB,GAAKA,EACrCsB,EAAehB,EAAGgB,aAChBzB,EAAU7G,KAAKgI,gBAAgB,EAAEC,IAAI,SAAUC,EAAQC,GACzD,OAAOhI,SAASA,SAAS,GAAI4H,EAAcI,EAAM,EAAGD,CAAM,CAC5D,CAAC,EAAE+E,OAAO,SAAU/E,GAClB,OAAOA,EAAOG,OAChB,CAAC,EAOG2I,GANJnK,EAAQuB,KAAK,SAAU6G,EAAIC,GACzB,OAAID,EAAG7G,KAAO8G,EAAG9G,KAAa,EAC1B6G,EAAG7G,KAAO8G,EAAG9G,KAAa,CAAC,EACxB,CACT,CAAC,EAEgBjI,SAASA,SAAS,CACjC8G,OAAQjH,KAAKkH,UAAU,EACvB8C,WAAYhK,KAAK2O,cAAc,EAC/B9H,QAASA,EACT6I,SAAU1P,KAAKoF,cACfC,WAAYrF,KAAKiR,cAAc,EAC/BC,aAAclR,KAAKmR,gBAAgB,EACnCC,KAAM9I,EAEN9D,WAAYxE,KAAKwE,WAGjB+C,MAAO,WAEL,IADA,IAAIiE,EAAS,GACJ6F,EAAK,EAAGA,EAAK5Q,UAAUC,OAAQ2Q,CAAE,GACxC7F,EAAO6F,GAAM5Q,UAAU4Q,GAEzB,OAAOhN,EAAMuC,WAAWjG,MAAM0D,EAAOrC,cAAc,CAAC6E,GAAU2E,EAAQ,CAAA,CAAK,CAAC,CAC9E,CACF,EAAG5D,MAAAA,EAAuDA,EAAiB,EAAE,EAAG,CAC9EC,WAAY1H,SAASA,SAAS,IAAKyH,MAAAA,EAAuDA,EAAiB,IAAIC,UAAU,EAAG,CAC1HF,gBAAiB3H,KAAKyF,MAAMkC,gBAC5Be,qBAAsB1I,KAAK0I,oBAC7B,CAAC,CACH,CAAC,GAoBD,OAlBIqB,IACEjC,EAAU9H,KAAKyF,MAAMqC,QACrBF,GACEA,EAAe0J,OACjBN,EAAWM,OAAOC,EAAIzJ,EAOxBkJ,EAAWM,OAAS,CAClBC,EAAGzJ,CACL,GAGJ9H,KAAKkF,0BAA4BlF,KAAKwR,4BAA4B3K,CAAO,EACzE7G,KAAKmF,2BAA6BnF,KAAKyR,6BAA6B5K,CAAO,EACpE1D,QAAQV,QAAQsL,cAAcrL,OAAOgP,MAAOvR,SAAS,GAAI6Q,CAAU,CAAC,CAC7E,EAMA/M,EAAYvE,UAAUiS,YAAc,WAClC,IAAI5L,EACA6L,EAAyB5R,KAAKoE,MAAMwN,uBACxC,OAAOzN,EAAOzE,UAAUiS,YAAY/R,KAAKI,KAAMA,KAAKsE,cAAc,EAAIrB,aAAaR,WAAUsD,EAAK,IAAO,6BAA+B6L,EAAwB7L,EAAG,CAAC,CACtK,EAKA9B,EAAYvE,UAAUmS,eAAiB,WAErC,OAAO1O,QAAQV,QAAQsL,cAAc,MAAO,CAC1C8B,UAAW,GAAGtN,OAAOI,QAAQI,eAAgB,OAAO,CACtD,EAAGoB,EAAOzE,UAAUmO,OAAOjO,KAAKI,IAAI,CAAC,CACvC,EAKAiE,EAAYvE,UAAUmO,OAAS,WAC7B,OAAO1K,QAAQV,QAAQsL,cAAcpL,QAAQG,mBAAmBgP,SAAU,CACxElQ,MAAO,CACLmQ,QAAS/R,IACX,CACF,EAAGA,KAAK6R,eAAe,CAAC,CAC1B,EACA5N,EAAY+N,YAAc,cAE1B/N,EAAYsJ,4BAA8B0E,OAAO,EAEjDhO,EAAYiO,iCAAmCD,OAAO,EAEtDhO,EAAYkO,0BAA4BF,OAAO,EAE/ChO,EAAYmO,8BAAgCH,OAAO,EAC5ChO,CACT,EAAEH,SAASrB,OAAO,GAClBE,QAAQE,aAAe1C,SAAS,CAC9ByH,eAAgB,GAChBmC,qBAAsB,CAAA,EACtB6H,uBAAwB,CAAA,CAC1B,EAAG9N,SAASjB,YAAY,EACxBF,QAAQC,UAAYzC,SAAS,CAE3ByH,eAAgB1E,aAAaT,QAAQ4P,OAErCtI,qBAAsB7G,aAAaT,QAAQ6P,KAE3CV,uBAAwB1O,aAAaT,QAAQ6P,IAC/C,EAAGxO,SAASlB,SAAS,EACrBqB,YAAYpB,aAAeF,QAAQE,aACnCoB,YAAYrB,UAAYD,QAAQC,UAChCD,QAAQF,QAAUwB"}