{"version":3,"file":"SearchEditorRowFactory.js","sources":["Editor/SearchEditorRowFactory.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nfunction default_1(SuperClass) {\n  return (\n    /** @class */\n    function (_super) {\n      tslib_1.__extends(class_1, _super);\n\n      function class_1(props) {\n        var _this = _super.call(this, props) || this;\n\n        _this.state = tslib_1.__assign(tslib_1.__assign({}, _this.state), {\n          editorRowId: ''\n        });\n        _this.rowConfigReducers = tslib_1.__spreadArray(tslib_1.__spreadArray([], _this.rowConfigReducers, true), [_this.rowEditableReducer], false);\n        return _this;\n      }\n      /**\n       * rowEditableReducer\n       * @description 可编辑row的处理\n       * @param params\n       */\n\n\n      class_1.prototype.rowEditableReducer = function (params) {\n        var rowConfig = params.rowConfig,\n            rowIndex = params.rowIndex,\n            columns = params.columns,\n            record = params.record;\n\n        if (this.onEditorRow) {\n          rowConfig.$editable = this.onEditorRow({\n            rowIndex: rowIndex,\n            record: record,\n            columns: columns\n          });\n        }\n\n        return rowConfig;\n      };\n      /**\n       * onEditorRow\n       * @param params\n       */\n\n\n      class_1.prototype.onEditorRow = function (params) {\n        return {\n          editable: true\n        };\n      };\n      /**\n       * onEditorCell\n       * @param record\n       * @param editorConfig\n       */\n\n\n      class_1.prototype.onEditorCell = function (_a) {\n        var record = _a.record,\n            editorConfig = _a.editorConfig;\n\n        if (editorConfig) {\n          editorConfig.useTrigger = false;\n\n          if (record[this.getRowKey()] === this.state.editorRowId) {\n            editorConfig.defaultStatus = 'edit';\n          }\n        }\n      };\n      /**\n       * fetchData\n       */\n\n\n      class_1.prototype.fetchData = function () {\n        var _this = this;\n\n        return _super.prototype.fetchData.call(this).then(function (res) {\n          _this.setState({\n            editorRowId: ''\n          });\n\n          return res;\n        });\n      };\n\n      return class_1;\n    }(SuperClass)\n  );\n}\n\nexports.default = default_1;"],"names":["require","Object","defineProperty","exports","value","tslib_1","default_1","SuperClass","_super","__extends","class_1","prototype","rowEditableReducer","params","rowConfig","rowIndex","columns","record","this","onEditorRow","$editable","editable","onEditorCell","_a","editorConfig","useTrigger","getRowKey","state","editorRowId","defaultStatus","fetchData","_this","call","then","res","setState","props","__assign","rowConfigReducers","__spreadArray","default"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAE7B,SAASM,UAAUC,GACjB,OAEYC,EAmFRD,EAlFAF,QAAQI,UAAUC,EAASF,CAAM,EAkBjCE,EAAQC,UAAUC,mBAAqB,SAAUC,GAC/C,IAAIC,EAAYD,EAAOC,UACnBC,EAAWF,EAAOE,SAClBC,EAAUH,EAAOG,QACjBC,EAASJ,EAAOI,OAUpB,OARIC,KAAKC,cACPL,EAAUM,UAAYF,KAAKC,YAAY,CACrCJ,SAAUA,EACVE,OAAQA,EACRD,QAASA,CACX,CAAC,GAGIF,CACT,EAOAJ,EAAQC,UAAUQ,YAAc,SAAUN,GACxC,MAAO,CACLQ,SAAU,CAAA,CACZ,CACF,EAQAX,EAAQC,UAAUW,aAAe,SAAUC,GACzC,IAAIN,EAASM,EAAGN,OACZO,EAAeD,EAAGC,aAElBA,IACFA,EAAaC,WAAa,CAAA,EAEtBR,EAAOC,KAAKQ,UAAU,KAAOR,KAAKS,MAAMC,cAC1CJ,EAAaK,cAAgB,QAGnC,EAMAnB,EAAQC,UAAUmB,UAAY,WAC5B,IAAIC,EAAQb,KAEZ,OAAOV,EAAOG,UAAUmB,UAAUE,KAAKd,IAAI,EAAEe,KAAK,SAAUC,GAK1D,OAJAH,EAAMI,SAAS,CACbP,YAAa,EACf,CAAC,EAEMM,CACT,CAAC,CACH,EAEOxB,EA/EP,SAASA,EAAQ0B,GACXL,EAAQvB,EAAOwB,KAAKd,KAAMkB,CAAK,GAAKlB,KAMxC,OAJAa,EAAMJ,MAAQtB,QAAQgC,SAAShC,QAAQgC,SAAS,GAAIN,EAAMJ,KAAK,EAAG,CAChEC,YAAa,EACf,CAAC,EACDG,EAAMO,kBAAoBjC,QAAQkC,cAAclC,QAAQkC,cAAc,GAAIR,EAAMO,kBAAmB,CAAA,CAAI,EAAG,CAACP,EAAMnB,oBAAqB,CAAA,CAAK,EACpImB,CACT,CAXF,IAAUvB,CAqFd,CAEAL,QAAQqC,QAAUlC"}