{"version":3,"file":"SearchTableResizableColumnItem.js","sources":["Extension/ColumnResizable/SearchTableResizableColumnItem.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.parse-int.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nvar _tslib = require(\"tslib\");\n\n/**\n * handleResize\n * @description 表头列拖动的时候\n * @param context\n * @param column\n * @param columnsWidth\n * @protected\n */\nfunction handleResize(context, column, columnsWidth) {\n  return function (e, _a) {\n    var size = _a.size; // 当拖动header的column时\n\n    columnsWidth.set(column.key, size); // @ts-ignore\n\n    context.forceUpdate();\n  };\n} // @ts-ignore\n\n\nvar _default = function _default(_a) {\n  var _b, _c, _d, _e, _f;\n\n  var columnsWidth = _a.columnsWidth,\n      context = _a.context,\n      index = _a.index,\n      column = _a.column; // 如果设置了列可拖动\n\n  var colEls = (_d = (_c = (_b = context === null || context === void 0 ? void 0 : context.tableWrapRef) === null || _b === void 0 ? void 0 : _b.current) === null || _c === void 0 ? void 0 : _c.querySelectorAll) === null || _d === void 0 ? void 0 : _d.call(_c, '.ant-table-header > table > colgroup > col');\n  var spanCount = 0;\n\n  if (context.getRowSelection()) {\n    spanCount = spanCount + 1;\n  }\n\n  if (context.isShowNumber()) {\n    spanCount = spanCount + 1;\n  }\n\n  var computedWidth = // @ts-ignore\n  colEls && colEls.length > spanCount ? (_f = (_e = colEls === null || colEls === void 0 ? void 0 : colEls[spanCount + index]) === null || _e === void 0 ? void 0 : _e.style) === null || _f === void 0 ? void 0 : _f.width : null;\n\n  if (computedWidth) {\n    computedWidth = parseInt(computedWidth);\n  } // @ts-ignore\n\n\n  var columnSizeItem = columnsWidth.get(column.key);\n  var width = columnSizeItem ? columnSizeItem.width : // @ts-ignore\n  column.width ? // @ts-ignore\n  column.width : computedWidth;\n  return (0, _tslib.__assign)((0, _tslib.__assign)({}, column), {\n    width: width,\n    // 加入onHeaderCell\n    onHeaderCell: function onHeaderCell() {\n      var _columns = context.getTableColumns();\n\n      var _column = _columns.find(function (_t) {\n        return _t.dataIndex === column.dataIndex;\n      });\n\n      var onHeaderCell = _column.onHeaderCell,\n          _others = (0, _tslib.__rest)(_column, [\"onHeaderCell\"]);\n\n      return {\n        width: _others.width,\n        onResize: handleResize(context, _others, columnsWidth)\n      };\n    }\n  });\n};\n\nexports.default = _default;"],"names":["require","Object","defineProperty","exports","value","default","_tslib","handleResize","context","column","columnsWidth","e","_a","size","set","key","forceUpdate","_default","index","colEls","_d","_c","_b","tableWrapRef","current","querySelectorAll","call","spanCount","getRowSelection","isShowNumber","computedWidth","length","_f","_e","style","width","parseInt","columnSizeItem","get","__assign","onHeaderCell","_column","getTableColumns","find","_t","dataIndex","_others","__rest","onResize"],"mappings":"aAEAA,QAAQ,gDAERC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,aAAU,EAElBL,QAAQ,mCAERA,QAAQ,oCAERA,QAAQ,0CAER,IAAIM,OAASN,QAAQ,SAUrB,SAASO,aAAaC,EAASC,EAAQC,GACrC,OAAO,SAAUC,EAAGC,GACdC,EAAOD,EAAGC,KAEdH,EAAaI,IAAIL,EAAOM,IAAKF,GAE7BL,EAAQQ,eAKZ,IAAIC,SAAW,SAAkBL,GAC/B,IAEIF,EAAeE,EAAGF,aAClBF,EAAUI,EAAGJ,QACbU,EAAQN,EAAGM,MACXT,EAASG,EAAGH,OAEZU,EAAkN,QAAxMC,EAA8I,QAAxIC,EAAuF,QAAjFC,EAAKd,MAAAA,OAAyC,EAASA,EAAQe,oBAAiC,IAAPD,OAAgB,EAASA,EAAGE,eAA4B,IAAPH,OAAgB,EAASA,EAAGI,wBAAqC,IAAPL,OAAgB,EAASA,EAAGM,KAAKL,EAAI,8CAC/PM,EAAY,EAEZnB,EAAQoB,oBACVD,GAAwB,GAGtBnB,EAAQqB,iBACVF,GAAwB,GAG1B,IAIEG,GAJEA,EACJX,GAAUA,EAAOY,OAASJ,EAAsJ,QAAzIK,EAA0F,QAApFC,EAAKd,MAAAA,OAAuC,EAASA,EAAOQ,EAAYT,UAA2B,IAAPe,OAAgB,EAASA,EAAGC,aAA0B,IAAPF,OAAgB,EAASA,EAAGG,MAAQ,OAG1MC,SAASN,GAIvBO,EAAiB3B,EAAa4B,IAAI7B,EAAOM,KACzCoB,EAAQE,EAAiBA,EAAeF,MAC5C1B,EAAO0B,OACQL,EACf,OAAO,EAAIxB,OAAOiC,WAAU,EAAIjC,OAAOiC,UAAU,GAAI9B,GAAS,CAC5D0B,MAAOA,EAEPK,aAAc,WACZ,IAEIC,EAFWjC,EAAQkC,kBAEAC,KAAK,SAAUC,GACpC,OAAOA,EAAGC,YAAcpC,EAAOoC,YAI7BC,GADeL,EAAQD,cACb,EAAIlC,OAAOyC,QAAQN,EAAS,CAAC,kBAE3C,MAAO,CACLN,MAAOW,EAAQX,MACfa,SAAUzC,aAAaC,EAASsC,EAASpC,QAMjDP,QAAQE,QAAUY"}