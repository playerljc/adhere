"use strict";var __assign=function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__createBinding=Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){e[r=void 0===r?a:r]=t[a]},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(t,e,a);return __setModuleDefault(t,e),t},__rest=function(e,t){var a={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},antd_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("antd")),classnames_1=__importDefault(require("classnames")),react_1=__importStar(require("react")),react_dom_1=require("react-dom"),icons_1=require("@ant-design/icons"),adhere_ui_conditionalrender_1=__importDefault(require("@baifendian/adhere-ui-conditionalrender")),adhere_ui_flexlayout_1=__importDefault(require("@baifendian/adhere-ui-flexlayout")),adhere_ui_slidelayout_1=__importDefault(require("@baifendian/adhere-ui-slidelayout")),adhere_ui_space_1=__importDefault(require("@baifendian/adhere-ui-space")),adhere_ui_tablegridlayout_1=__importDefault(require("@baifendian/adhere-ui-tablegridlayout")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),SearchTable_1=require("../../SearchTable"),VerticalFlexLayout=adhere_ui_flexlayout_1.default.VerticalFlexLayout,ScrollLayout=adhere_ui_flexlayout_1.default.ScrollLayout,renderGridSearchFormGroup=adhere_ui_tablegridlayout_1.default.renderGridSearchFormGroup,Overlay=adhere_ui_slidelayout_1.default.Overlay,_selectorPrefix="".concat(SearchTable_1.selectorPrefix,"-advanced-search-panel"),AdvancedSearchPanel=(0,react_1.memo)(function(e){var t=e.advancedSearchConfig,a=t.advancedSearch,r=a.getPopupContainer,n=__rest(a,["getPopupContainer"]),a=t.showStrategy,a=void 0===a?"all":a,l=t.renderTitleLabel,c=t.renderCollapse,t=e.tableGridLayoutConfig,t=void 0===t?{layout:"horizontal",bordered:!1}:t,o=e.groupData,o=void 0===o?[]:o,i=e.remainingGroupData,i=void 0===i?[]:i,u=e.onSearch,d=e.onReset,_=(0,react_1.useState)(n.collapse),f=_[0],s=_[1],_=(0,react_1.useRef)();return(0,react_1.useEffect)(function(){s(n.collapse)},[n.collapse]),(0,react_dom_1.createPortal)(react_1.default.createElement(Overlay,__assign({ref:_},n,{className:(0,classnames_1.default)("".concat(_selectorPrefix),null!=(_=n.className)?_:""),collapse:f}),react_1.default.createElement(VerticalFlexLayout,{className:"".concat(_selectorPrefix,"-inner"),renderTop:react_1.default.createElement("header",{className:"".concat(_selectorPrefix,"-header")},react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-title")},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!l,noMatch:function(){return null==l?void 0:l()}},function(){return react_1.default.createElement(adhere_ui_space_1.default.Group,{direction:"horizontal",size:2},react_1.default.createElement(icons_1.FilterOutlined,null),react_1.default.createElement("strong",null,adhere_util_intl_1.default.v("高级搜索")))})),react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-collapse"),onClick:function(){return s(!f)}},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!c,noMatch:function(){return null==c?void 0:c(f)}},function(){return react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:f,noMatch:function(){return react_1.default.createElement(adhere_ui_space_1.default.Group,{direction:"horizontal",size:2},react_1.default.createElement(icons_1.RightCircleOutlined,null),react_1.default.createElement("strong",null,adhere_util_intl_1.default.v("展开")))}},function(){return react_1.default.createElement(adhere_ui_space_1.default.Group,{direction:"horizontal",size:2},react_1.default.createElement(icons_1.LeftCircleOutlined,null),react_1.default.createElement("strong",null,adhere_util_intl_1.default.v("收起")))})}))),renderMain:react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-main")},react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-scroll")},react_1.default.createElement(ScrollLayout,{scrollY:!0,className:"".concat(_selectorPrefix,"-scroll-innner")},null!=(_=null==(_=null==e?void 0:e.children)?void 0:_.call(e,__assign({},e)))?_:renderGridSearchFormGroup("all"===a?o:i,t))),react_1.default.createElement("footer",{className:"".concat(_selectorPrefix,"-footer")},react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-item")},react_1.default.createElement(antd_1.Button,{type:"primary",icon:react_1.default.createElement(icons_1.SearchOutlined,null),onClick:function(){return u().then(function(){return s(!1)})}},adhere_util_intl_1.default.v("确定"))),react_1.default.createElement("div",{className:"".concat(_selectorPrefix,"-item")},react_1.default.createElement(antd_1.Button,{icon:react_1.default.createElement(icons_1.ReloadOutlined,null),onClick:function(){return d().then(function(){return s(!1)})}},adhere_util_intl_1.default.v("重置")))))})),r())});AdvancedSearchPanel.defaultProps={groupData:[],tableGridLayoutConfig:{layout:"horizontal",bordered:!1},remainingGroupData:[],advancedSearchConfig:{rowCount:"auto",showStrategy:"all",advancedSearch:{className:"",style:{},width:"30%",mask:!0,zIndex:19999,time:300,direction:"right",collapse:!1,onBeforeShow:function(){},onBeforeClose:function(){},onAfterShow:function(){},onAfterClose:function(){},getPopupContainer:function(){return document.body}}}},AdvancedSearchPanel.displayName="AdvancedSearchPanel",exports.default=AdvancedSearchPanel;
//# sourceMappingURL=index.js.map
