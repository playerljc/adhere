"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ProSearchStateTable_1=require("../../ProSearchStateTable"),ProSearchTable_1=require("../../ProSearchTable"),historyStack=[],codeStack=[];function clearSearAndPaginParamsByPathname(a){var e=ProSearchTable_1.SearchAndPaginParamsMemo.findIndexByPath(a);console.log("findIndex",e),-1!==e&&ProSearchTable_1.SearchAndPaginParamsMemo.deleteByIndex(e),-1!==(e=ProSearchStateTable_1.SearchAndPaginParamsMemo.findIndexByPath(a))&&ProSearchStateTable_1.SearchAndPaginParamsMemo.deleteByIndex(e)}function Listener(a,e){function r(){var a,e=t.pathname,r=(console.log("pathname",e),console.log("pathhistoryStackname",historyStack),historyStack.lastIndexOf(e));(-1===r?(clearSearAndPaginParamsByPathname(e),historyStack):(a=historyStack.slice(r+1),console.log("pathArr",a),1===a.length?a[0].startsWith(e)||clearSearAndPaginParamsByPathname(e):(console.log("清除查询条件"),clearSearAndPaginParamsByPathname(e)),historyStack=historyStack.slice(0,r))).push(e)}var t=a.location;a.action;"PUSH"===e.action?r():"POP"===e.action&&codeStack.push(r)}Listener.getCode=function(){return codeStack.pop()},exports.default=Listener;
//# sourceMappingURL=routeListen.js.map
