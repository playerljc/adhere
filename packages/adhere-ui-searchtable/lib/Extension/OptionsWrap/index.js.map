{"version":3,"file":"index.js","sources":["Extension/OptionsWrap/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar icons_1 = require(\"@ant-design/icons\");\nvar adhere_ui_split_1 = __importDefault(require(\"@baifendian/adhere-ui-split\"));\nvar SearchTable_1 = require(\"../../SearchTable\");\nvar _selectorPrefix = \"\".concat(SearchTable_1.selectorPrefix, \"-options-wrap\");\n/**\n * OptionsWrap\n * @description - 表格操作列的父组件，自动加入分割线\n * @param children\n * @param className\n * @param style\n * @param ellipsisCount\n * @param isEllipsesShowOnlyOneAfterCollapsing\n * @return {JSX.Element}\n */\nvar OptionsWrap = function OptionsWrap(_a) {\n  var _b = _a.className,\n    className = _b === void 0 ? '' : _b,\n    _c = _a.style,\n    style = _c === void 0 ? {} : _c,\n    _d = _a.ellipsisCount,\n    ellipsisCount = _d === void 0 ? 3 : _d,\n    _e = _a.isEllipsesShowOnlyOneAfterCollapsing,\n    isEllipsesShowOnlyOneAfterCollapsing = _e === void 0 ? false : _e,\n    children = _a.children;\n  var result;\n  if (children.length <= 1) {\n    result = children;\n  } else {\n    var cloneChildren = react_1.default.Children.toArray(children);\n    var currentChildren_1 = cloneChildren.filter(function (t) {\n      if ((0, _typeof2.default)(t) === 'object' && 'props' in t && 'conditional' in t.props) {\n        if (t.props.conditional) return true;\n        if ('noMatch' in t.props) {\n          if (t.props.noMatch instanceof Function) {\n            return !!t.props.noMatch();\n          }\n        }\n        return false;\n      }\n      return true;\n    });\n    if (currentChildren_1.length <= 1) {\n      result = children;\n    } else {\n      var currentEllipsisCount = ellipsisCount <= 0 ? 3 : ellipsisCount;\n      if (currentChildren_1.length >= currentEllipsisCount) {\n        var showOnlyOneDisplay = isEllipsesShowOnlyOneAfterCollapsing;\n        var displayEndIndex = showOnlyOneDisplay ? 1 : ellipsisCount - 1;\n        var ellipseStartIndex = showOnlyOneDisplay ? 1 : ellipsisCount - 1;\n        currentChildren_1 = __spreadArray(__spreadArray([], currentChildren_1.slice(0, displayEndIndex), true), [react_1.default.createElement(antd_1.Dropdown, {\n          key: \"menu\",\n          menu: {\n            items: currentChildren_1.slice(ellipseStartIndex).map(function (_v) {\n              return {\n                // @ts-ignore\n                key: _v.key,\n                label: _v\n              };\n            })\n          }\n        }, react_1.default.createElement(\"a\", {\n          href: \"#\"\n        }, react_1.default.createElement(icons_1.EllipsisOutlined, null)))], false);\n      }\n      result = __spreadArray([], currentChildren_1, true);\n      var _loop_1 = function _loop_1(i) {\n        var index = result.findIndex(function (t) {\n          return t === currentChildren_1[i];\n        });\n        result.splice(index + 1, 0, react_1.default.createElement(adhere_ui_split_1.default, {\n          direction: \"horizontal\"\n        }));\n      };\n      // clone   0 1 2 3 4 5\n      // current 0 1 2 3 4\n      for (var i = 0; i <= currentChildren_1.length - 2; i++) {\n        _loop_1(i);\n      }\n    }\n  }\n  return react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(_selectorPrefix, className),\n    style: style !== null && style !== void 0 ? style : {}\n  }, result);\n};\nOptionsWrap.displayName = 'OptionsWrap';\nexports.default = OptionsWrap;"],"names":["_interopRequireDefault","require","_typeof2","__spreadArray","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__importDefault","mod","__esModule","default","antd_1","Object","defineProperty","exports","value","classnames_1","react_1","icons_1","adhere_ui_split_1","SearchTable_1","_selectorPrefix","selectorPrefix","OptionsWrap","_a","result","_b","className","_c","style","_d","ellipsisCount","_e","isEllipsesShowOnlyOneAfterCollapsing","children","currentChildren_1","Children","toArray","filter","t","props","conditional","noMatch","Function","ellipseStartIndex","createElement","Dropdown","key","menu","items","map","_v","label","href","EllipsisOutlined","_loop_1","index","findIndex","splice","direction","displayName"],"mappings":"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"}