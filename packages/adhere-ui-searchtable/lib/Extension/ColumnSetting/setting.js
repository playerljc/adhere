"use strict";require("core-js/modules/es.object.define-property.js");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.object.to-string.js"),require("core-js/modules/es.array.iterator.js"),require("core-js/modules/es.map.js"),require("core-js/modules/es.string.iterator.js"),require("core-js/modules/esnext.map.delete-all.js"),require("core-js/modules/esnext.map.every.js"),require("core-js/modules/esnext.map.filter.js"),require("core-js/modules/esnext.map.find.js"),require("core-js/modules/esnext.map.find-key.js"),require("core-js/modules/esnext.map.includes.js"),require("core-js/modules/esnext.map.key-of.js"),require("core-js/modules/esnext.map.map-keys.js"),require("core-js/modules/esnext.map.map-values.js"),require("core-js/modules/esnext.map.merge.js"),require("core-js/modules/esnext.map.reduce.js"),require("core-js/modules/esnext.map.some.js"),require("core-js/modules/esnext.map.update.js"),require("core-js/modules/web.dom-collections.iterator.js"),require("core-js/modules/web.dom-collections.for-each.js"),require("core-js/modules/es.array.map.js");var _checkbox=_interopRequireDefault(require("antd/lib/checkbox")),_tslib=require("tslib"),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_reactSortableHoc=require("react-sortable-hoc"),_arrayMove=require("array-move"),_adhereUtilIntl=_interopRequireDefault(require("@baifendian/adhere-util-intl")),_searchtable=require("../../searchtable"),DragHandle=(0,_reactSortableHoc.sortableHandle)(function(){return _react.default.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=",alt:""})}),SortableItem=(0,_reactSortableHoc.sortableElement)(function(e){var r=e.column,t=e.onDisplayColumn;return _react.default.createElement("li",null,_react.default.createElement(DragHandle,null),_react.default.createElement(_checkbox.default,{checked:r.display,onChange:function(e){t(r,e.target.checked)}},r.title))}),SortableContainer=(0,_reactSortableHoc.sortableContainer)(function(e){e=e.children;return _react.default.createElement("ul",null,e)});function ColumnSetting(e){var a=e.columns,r=e.onShowColumns,t=e.onReset,l=e.onDisplayColumn,o=e.onSortEnd;return _react.default.createElement("div",{className:"".concat(_searchtable.selectorPrefix,"-column-setting")},_react.default.createElement("div",{className:"".concat(_searchtable.selectorPrefix,"-column-setting-header")},_react.default.createElement("div",null,_react.default.createElement(_checkbox.default,{checked:a.every(function(e){return e.display}),onChange:function(e){r(e.target.checked)}},_adhereUtilIntl.default.v("列展示"))),_react.default.createElement("div",null,_react.default.createElement("a",{onClick:t},_adhereUtilIntl.default.v("重置")))),_react.default.createElement("div",{className:"".concat(_searchtable.selectorPrefix,"-column-setting-body")},_react.default.createElement(SortableContainer,{onSortEnd:function(e){var r=e.oldIndex,e=e.newIndex,e=(0,_arrayMove.arrayMoveImmutable)((0,_tslib.__spreadArray)([],a,!0),r,e),t=new Map;e.forEach(function(e,r){t.set(e.key,r)}),o(t)},useDragHandle:!0,helperClass:"".concat(_searchtable.selectorPrefix,"-sortableHelper")},a.map(function(e,r){return _react.default.createElement(SortableItem,{key:e.key,index:r,column:e,onDisplayColumn:l})}))))}ColumnSetting.defaultProps={columns:[]},ColumnSetting.propTypes={columns:_propTypes.default.array,onShowColumns:_propTypes.default.func,onReset:_propTypes.default.func,onDisplayColumn:_propTypes.default.func,onSortEnd:_propTypes.default.func};var _default=ColumnSetting;exports.default=_default;
//# sourceMappingURL=setting.js.map
