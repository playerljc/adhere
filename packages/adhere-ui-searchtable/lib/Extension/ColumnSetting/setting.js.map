{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar antd_1 = require(\"antd\"); // @ts-ignore\n\n\nvar react_sortable_hoc_1 = require(\"react-sortable-hoc\");\n\nvar array_move_1 = require(\"array-move\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar searchtable_1 = require(\"../../searchtable\");\n\nvar DragHandle = (0, react_sortable_hoc_1.sortableHandle)(function () {\n  return react_1.default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n    alt: \"\"\n  });\n});\nvar SortableItem = (0, react_sortable_hoc_1.sortableElement)(function (_a) {\n  var column = _a.column,\n      onDisplayColumn = _a.onDisplayColumn;\n  return react_1.default.createElement(\"li\", null, react_1.default.createElement(DragHandle, null), react_1.default.createElement(antd_1.Checkbox, {\n    checked: column.display,\n    onChange: function onChange(e) {\n      onDisplayColumn(column, e.target.checked);\n    }\n  }, column.title));\n});\nvar SortableContainer = (0, react_sortable_hoc_1.sortableContainer)(function (_a) {\n  var children = _a.children;\n  return react_1.default.createElement(\"ul\", null, children);\n});\n/**\n * ColumnSetting\n * @param props\n * @constructor\n */\n\nfunction ColumnSetting(_a) {\n  var columns = _a.columns,\n      onShowColumns = _a.onShowColumns,\n      onReset = _a.onReset,\n      onDisplayColumn = _a.onDisplayColumn,\n      _onSortEnd = _a.onSortEnd;\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(searchtable_1.selectorPrefix, \"-column-setting\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(searchtable_1.selectorPrefix, \"-column-setting-header\")\n  }, react_1.default.createElement(\"div\", null, react_1.default.createElement(antd_1.Checkbox, {\n    checked: columns.every(function (column) {\n      return column.display;\n    }),\n    onChange: function onChange(e) {\n      onShowColumns(e.target.checked);\n    }\n  }, adhere_util_intl_1.default.v('列展示'))), react_1.default.createElement(\"div\", null, react_1.default.createElement(\"a\", {\n    onClick: onReset\n  }, adhere_util_intl_1.default.v('重置')))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(searchtable_1.selectorPrefix, \"-column-setting-body\")\n  }, react_1.default.createElement(SortableContainer, {\n    onSortEnd: function onSortEnd(_a) {\n      var oldIndex = _a.oldIndex,\n          newIndex = _a.newIndex; // @ts-ignore\n\n      var changeColumns = (0, array_move_1.arrayMoveImmutable)(tslib_1.__spreadArray([], columns, true), oldIndex, newIndex);\n      var map = new Map();\n      changeColumns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n\n      _onSortEnd(map);\n    },\n    useDragHandle: true,\n    // lockToContainerEdges\n    helperClass: \"\".concat(searchtable_1.selectorPrefix, \"-sortableHelper\")\n  }, columns.map(function (column, index) {\n    return react_1.default.createElement(SortableItem, {\n      key: column.key,\n      index: index,\n      column: column,\n      onDisplayColumn: onDisplayColumn\n    });\n  }))));\n}\n\nColumnSetting.defaultProps = {\n  columns: []\n};\nColumnSetting.propTypes = {\n  columns: prop_types_1.default.array,\n  onShowColumns: prop_types_1.default.func,\n  onReset: prop_types_1.default.func,\n  onDisplayColumn: prop_types_1.default.func,\n  onSortEnd: prop_types_1.default.func\n};\nexports.default = ColumnSetting;"],"names":["require","Object","defineProperty","exports","value","tslib_1","react_1","__importDefault","prop_types_1","antd_1","react_sortable_hoc_1","array_move_1","adhere_util_intl_1","searchtable_1","DragHandle","sortableHandle","default","createElement","src","alt","SortableItem","sortableElement","_a","column","onDisplayColumn","Checkbox","checked","display","onChange","e","target","title","SortableContainer","sortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","_onSortEnd","onSortEnd","className","concat","selectorPrefix","every","v","onClick","oldIndex","newIndex","changeColumns","arrayMoveImmutable","__spreadArray","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func"],"mappings":"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"}