{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nvar _checkbox = _interopRequireDefault(require(\"antd/lib/checkbox\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactSortableHoc = require(\"react-sortable-hoc\");\n\nvar _arrayMove = require(\"array-move\");\n\nvar _adhereUtilIntl = _interopRequireDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar _searchtable = require(\"../../searchtable\");\n\n// @ts-ignore\nvar DragHandle = (0, _reactSortableHoc.sortableHandle)(function () {\n  return /*#__PURE__*/_react.default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n    alt: \"\"\n  });\n});\nvar SortableItem = (0, _reactSortableHoc.sortableElement)(function (_a) {\n  var column = _a.column,\n      onDisplayColumn = _a.onDisplayColumn;\n  return /*#__PURE__*/_react.default.createElement(\"li\", null, /*#__PURE__*/_react.default.createElement(DragHandle, null), /*#__PURE__*/_react.default.createElement(_checkbox.default, {\n    checked: column.display,\n    onChange: function onChange(e) {\n      onDisplayColumn(column, e.target.checked);\n    }\n  }, column.title));\n});\nvar SortableContainer = (0, _reactSortableHoc.sortableContainer)(function (_a) {\n  var children = _a.children;\n  return /*#__PURE__*/_react.default.createElement(\"ul\", null, children);\n});\n/**\n * ColumnSetting\n * @param props\n * @constructor\n */\n\nfunction ColumnSetting(_a) {\n  var columns = _a.columns,\n      onShowColumns = _a.onShowColumns,\n      onReset = _a.onReset,\n      onDisplayColumn = _a.onDisplayColumn,\n      _onSortEnd = _a.onSortEnd;\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(_searchtable.selectorPrefix, \"-column-setting\")\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(_searchtable.selectorPrefix, \"-column-setting-header\")\n  }, /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(_checkbox.default, {\n    checked: columns.every(function (column) {\n      return column.display;\n    }),\n    onChange: function onChange(e) {\n      onShowColumns(e.target.checked);\n    }\n  }, _adhereUtilIntl.default.v('列展示'))), /*#__PURE__*/_react.default.createElement(\"div\", null, /*#__PURE__*/_react.default.createElement(\"a\", {\n    onClick: onReset\n  }, _adhereUtilIntl.default.v('重置')))), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"\".concat(_searchtable.selectorPrefix, \"-column-setting-body\")\n  }, /*#__PURE__*/_react.default.createElement(SortableContainer, {\n    onSortEnd: function onSortEnd(_a) {\n      var oldIndex = _a.oldIndex,\n          newIndex = _a.newIndex; // @ts-ignore\n\n      var changeColumns = (0, _arrayMove.arrayMoveImmutable)((0, _tslib.__spreadArray)([], columns, true), oldIndex, newIndex);\n      var map = new Map();\n      changeColumns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n\n      _onSortEnd(map);\n    },\n    useDragHandle: true,\n    // lockToContainerEdges\n    helperClass: \"\".concat(_searchtable.selectorPrefix, \"-sortableHelper\")\n  }, columns.map(function (column, index) {\n    return /*#__PURE__*/_react.default.createElement(SortableItem, {\n      key: column.key,\n      index: index,\n      column: column,\n      onDisplayColumn: onDisplayColumn\n    });\n  }))));\n}\n\nColumnSetting.defaultProps = {\n  columns: []\n};\nColumnSetting.propTypes = {\n  columns: _propTypes.default.array,\n  onShowColumns: _propTypes.default.func,\n  onReset: _propTypes.default.func,\n  onDisplayColumn: _propTypes.default.func,\n  onSortEnd: _propTypes.default.func\n};\nvar _default = ColumnSetting;\nexports.default = _default;"],"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","default","_checkbox","_tslib","_react","_propTypes","_reactSortableHoc","_arrayMove","_adhereUtilIntl","_searchtable","DragHandle","sortableHandle","createElement","src","alt","SortableItem","sortableElement","_a","column","onDisplayColumn","checked","display","onChange","e","target","title","SortableContainer","sortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","_onSortEnd","onSortEnd","className","concat","selectorPrefix","every","v","onClick","oldIndex","newIndex","changeColumns","arrayMoveImmutable","__spreadArray","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func","_default"],"mappings":"aAEAA,QAAQ,gDAER,IAAIC,uBAAyBD,QAAQ,gDAErCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,aAAU,EAElBN,QAAQ,0CAERA,QAAQ,wCAERA,QAAQ,6BAERA,QAAQ,yCAERA,QAAQ,4CAERA,QAAQ,uCAERA,QAAQ,wCAERA,QAAQ,sCAERA,QAAQ,0CAERA,QAAQ,0CAERA,QAAQ,wCAERA,QAAQ,0CAERA,QAAQ,4CAERA,QAAQ,uCAERA,QAAQ,wCAERA,QAAQ,sCAERA,QAAQ,wCAERA,QAAQ,mDAERA,QAAQ,mDAERA,QAAQ,mCAER,IAAIO,UAAYN,uBAAuBD,QAAQ,sBAE3CQ,OAASR,QAAQ,SAEjBS,OAASR,uBAAuBD,QAAQ,UAExCU,WAAaT,uBAAuBD,QAAQ,eAE5CW,kBAAoBX,QAAQ,sBAE5BY,WAAaZ,QAAQ,cAErBa,gBAAkBZ,uBAAuBD,QAAQ,iCAEjDc,aAAed,QAAQ,qBAGvBe,YAAa,EAAIJ,kBAAkBK,gBAAgB,WACrD,OAAoBP,OAAOH,QAAQW,cAAc,MAAO,CACtDC,IAAK,iwBACLC,IAAK,OAGLC,cAAe,EAAIT,kBAAkBU,iBAAiB,SAAUC,GAClE,IAAIC,EAASD,EAAGC,OACZC,EAAkBF,EAAGE,gBACzB,OAAoBf,OAAOH,QAAQW,cAAc,KAAM,KAAmBR,OAAOH,QAAQW,cAAcF,WAAY,MAAoBN,OAAOH,QAAQW,cAAcV,UAAUD,QAAS,CACrLmB,QAASF,EAAOG,QAChBC,SAAU,SAAkBC,GAC1BJ,EAAgBD,EAAQK,EAAEC,OAAOJ,WAElCF,EAAOO,UAERC,mBAAoB,EAAIpB,kBAAkBqB,mBAAmB,SAAUV,GACrEW,EAAWX,EAAGW,SAClB,OAAoBxB,OAAOH,QAAQW,cAAc,KAAM,KAAMgB,KAQ/D,SAASC,cAAcZ,GACrB,IAAIa,EAAUb,EAAGa,QACbC,EAAgBd,EAAGc,cACnBC,EAAUf,EAAGe,QACbb,EAAkBF,EAAGE,gBACrBc,EAAahB,EAAGiB,UACpB,OAAoB9B,OAAOH,QAAQW,cAAc,MAAO,CACtDuB,UAAW,GAAGC,OAAO3B,aAAa4B,eAAgB,oBACpCjC,OAAOH,QAAQW,cAAc,MAAO,CAClDuB,UAAW,GAAGC,OAAO3B,aAAa4B,eAAgB,2BACpCjC,OAAOH,QAAQW,cAAc,MAAO,KAAmBR,OAAOH,QAAQW,cAAcV,UAAUD,QAAS,CACrHmB,QAASU,EAAQQ,MAAM,SAAUpB,GAC/B,OAAOA,EAAOG,UAEhBC,SAAU,SAAkBC,GAC1BQ,EAAcR,EAAEC,OAAOJ,WAExBZ,gBAAgBP,QAAQsC,EAAE,SAAuBnC,OAAOH,QAAQW,cAAc,MAAO,KAAmBR,OAAOH,QAAQW,cAAc,IAAK,CAC3I4B,QAASR,GACRxB,gBAAgBP,QAAQsC,EAAE,SAAuBnC,OAAOH,QAAQW,cAAc,MAAO,CACtFuB,UAAW,GAAGC,OAAO3B,aAAa4B,eAAgB,yBACpCjC,OAAOH,QAAQW,cAAcc,kBAAmB,CAC9DQ,UAAW,SAAmBjB,GAC5B,IAAIwB,EAAWxB,EAAGwB,SACdC,EAAWzB,EAAGyB,SAEdC,GAAgB,EAAIpC,WAAWqC,qBAAoB,EAAIzC,OAAO0C,eAAe,GAAIf,GAAS,GAAOW,EAAUC,GAC3GI,EAAM,IAAIC,IACdJ,EAAcK,QAAQ,SAAU9B,EAAQ+B,GACtCH,EAAII,IAAIhC,EAAOiC,IAAKF,KAGtBhB,EAAWa,IAEbM,eAAe,EAEfC,YAAa,GAAGjB,OAAO3B,aAAa4B,eAAgB,oBACnDP,EAAQgB,IAAI,SAAU5B,EAAQ+B,GAC/B,OAAoB7C,OAAOH,QAAQW,cAAcG,aAAc,CAC7DoC,IAAKjC,EAAOiC,IACZF,MAAOA,EACP/B,OAAQA,EACRC,gBAAiBA,SAKvBU,cAAcyB,aAAe,CAC3BxB,QAAS,IAEXD,cAAc0B,UAAY,CACxBzB,QAASzB,WAAWJ,QAAQuD,MAC5BzB,cAAe1B,WAAWJ,QAAQwD,KAClCzB,QAAS3B,WAAWJ,QAAQwD,KAC5BtC,gBAAiBd,WAAWJ,QAAQwD,KACpCvB,UAAW7B,WAAWJ,QAAQwD,MAEhC,IAAIC,SAAW7B,cACf9B,QAAQE,QAAUyD"}