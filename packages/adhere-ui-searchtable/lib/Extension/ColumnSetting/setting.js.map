{"version":3,"file":"setting.js","sources":["Extension/ColumnSetting/setting.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar antd_1 = require(\"antd\");\n\nvar array_move_1 = require(\"array-move\");\n\nvar prop_types_1 = tslib_1.__importDefault(require(\"prop-types\"));\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar react_sortable_hoc_1 = require(\"react-sortable-hoc\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar SearchTable_1 = require(\"../../SearchTable\");\n\nvar DragHandle = (0, react_sortable_hoc_1.SortableHandle)(function () {\n  return react_1.default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n    alt: \"\"\n  });\n});\nvar SortableItem = (0, react_sortable_hoc_1.SortableElement)(function (_a) {\n  var column = _a.column,\n      onDisplayColumn = _a.onDisplayColumn;\n  return react_1.default.createElement(\"li\", null, react_1.default.createElement(DragHandle, null), react_1.default.createElement(antd_1.Checkbox, {\n    checked: column.display,\n    onChange: function onChange(e) {\n      onDisplayColumn(column, e.target.checked);\n    }\n  }, column.title));\n});\nvar SortableContainer = (0, react_sortable_hoc_1.SortableContainer)(function (_a) {\n  var children = _a.children;\n  return react_1.default.createElement(\"ul\", null, children);\n});\n/**\n * ColumnSetting\n * @param props\n * @constructor\n */\n\nfunction ColumnSetting(_a) {\n  var columns = _a.columns,\n      onShowColumns = _a.onShowColumns,\n      onReset = _a.onReset,\n      onDisplayColumn = _a.onDisplayColumn,\n      _onSortEnd = _a.onSortEnd;\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting-header\")\n  }, react_1.default.createElement(\"div\", null, react_1.default.createElement(antd_1.Checkbox, {\n    checked: columns.every(function (column) {\n      return column.display;\n    }),\n    onChange: function onChange(e) {\n      onShowColumns(e.target.checked);\n    }\n  }, adhere_util_intl_1.default.v('列展示'))), react_1.default.createElement(\"div\", null, react_1.default.createElement(\"a\", {\n    onClick: onReset\n  }, adhere_util_intl_1.default.v('重置')))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting-body\")\n  }, react_1.default.createElement(SortableContainer, {\n    onSortEnd: function onSortEnd(_a) {\n      var oldIndex = _a.oldIndex,\n          newIndex = _a.newIndex;\n      var changeColumns = (0, array_move_1.arrayMoveImmutable)(tslib_1.__spreadArray([], columns, true), oldIndex, newIndex);\n      var map = new Map();\n      changeColumns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n\n      _onSortEnd(map);\n    },\n    useDragHandle: true,\n    // lockToContainerEdges\n    helperClass: \"\".concat(SearchTable_1.selectorPrefix, \"-sortableHelper\")\n  }, columns.map(function (column, index) {\n    return react_1.default.createElement(SortableItem, {\n      key: column.key,\n      index: index,\n      column: column,\n      onDisplayColumn: onDisplayColumn\n    });\n  }))));\n}\n\nColumnSetting.defaultProps = {\n  columns: []\n};\nColumnSetting.propTypes = {\n  columns: prop_types_1.default.array,\n  onShowColumns: prop_types_1.default.func,\n  onReset: prop_types_1.default.func,\n  onDisplayColumn: prop_types_1.default.func,\n  onSortEnd: prop_types_1.default.func\n};\nexports.default = ColumnSetting;"],"names":["require","Object","defineProperty","exports","value","tslib_1","antd_1","array_move_1","prop_types_1","__importDefault","react_1","react_sortable_hoc_1","adhere_util_intl_1","SearchTable_1","DragHandle","SortableHandle","default","createElement","src","alt","SortableItem","SortableElement","_a","column","onDisplayColumn","Checkbox","checked","display","onChange","e","target","title","SortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","_onSortEnd","onSortEnd","className","concat","selectorPrefix","every","v","onClick","oldIndex","newIndex","changeColumns","arrayMoveImmutable","__spreadArray","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func"],"mappings":"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"}