{"version":3,"file":"Setting.js","sources":["Extension/ColumnSetting/Setting.js"],"sourcesContent":["\"use strict\";\n\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar array_move_1 = require(\"array-move\");\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar react_sortable_hoc_1 = require(\"react-sortable-hoc\");\nvar adhere_util_intl_1 = __importDefault(require(\"@baifendian/adhere-util-intl\"));\nvar SearchTable_1 = require(\"../../SearchTable\");\nvar DragHandle = (0, react_sortable_hoc_1.SortableHandle)(function () {\n  return react_1.default.createElement(\"img\", {\n    src: \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik0xMSAxOGMwIDEuMS0uOSAyLTIgMnMtMi0uOS0yLTJzLjktMiAyLTJzMiAuOSAyIDJ6bS0yLThjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMC02Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6bTYgNGMxLjEgMCAyLS45IDItMnMtLjktMi0yLTJzLTIgLjktMiAycy45IDIgMiAyem0wIDJjLTEuMSAwLTIgLjktMiAycy45IDIgMiAyczItLjkgMi0ycy0uOS0yLTItMnptMCA2Yy0xLjEgMC0yIC45LTIgMnMuOSAyIDIgMnMyLS45IDItMnMtLjktMi0yLTJ6Ij48L3BhdGg+PC9zdmc+DQo=\",\n    alt: \"\"\n  });\n});\nvar SortableItem = (0, react_sortable_hoc_1.SortableElement)(function (_a) {\n  var column = _a.column,\n    onDisplayColumn = _a.onDisplayColumn;\n  return react_1.default.createElement(\"li\", null, react_1.default.createElement(DragHandle, null), react_1.default.createElement(antd_1.Checkbox, {\n    checked: column.display,\n    onChange: function onChange(e) {\n      onDisplayColumn(column, e.target.checked);\n    }\n  }, column.title));\n});\nvar SortableContainer = (0, react_sortable_hoc_1.SortableContainer)(function (_a) {\n  var children = _a.children;\n  return react_1.default.createElement(\"ul\", null, children);\n});\n/**\n * ColumnSetting\n * @param props\n * @constructor\n */\nfunction ColumnSetting(_a) {\n  var columns = _a.columns,\n    onShowColumns = _a.onShowColumns,\n    onReset = _a.onReset,\n    onDisplayColumn = _a.onDisplayColumn,\n    _onSortEnd = _a.onSortEnd;\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting-header\")\n  }, react_1.default.createElement(\"div\", null, react_1.default.createElement(antd_1.Checkbox, {\n    checked: columns.every(function (column) {\n      return column.display;\n    }),\n    onChange: function onChange(e) {\n      onShowColumns(e.target.checked);\n    }\n  }, adhere_util_intl_1.default.v('列展示'))), react_1.default.createElement(\"div\", null, react_1.default.createElement(\"a\", {\n    onClick: onReset\n  }, adhere_util_intl_1.default.v('重置')))), react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-column-setting-body\")\n  }, react_1.default.createElement(SortableContainer, {\n    onSortEnd: function onSortEnd(_a) {\n      var oldIndex = _a.oldIndex,\n        newIndex = _a.newIndex;\n      var changeColumns = (0, array_move_1.arrayMoveImmutable)(__spreadArray([], columns, true), oldIndex, newIndex);\n      var map = new Map();\n      changeColumns.forEach(function (column, index) {\n        map.set(column.key, index);\n      });\n      _onSortEnd(map);\n    },\n    useDragHandle: true,\n    // lockToContainerEdges\n    helperClass: \"\".concat(SearchTable_1.selectorPrefix, \"-sortableHelper\")\n  }, columns.map(function (column, index) {\n    return react_1.default.createElement(SortableItem, {\n      key: column.key,\n      index: index,\n      column: column,\n      onDisplayColumn: onDisplayColumn\n    });\n  }))));\n}\nColumnSetting.defaultProps = {\n  columns: []\n};\nColumnSetting.propTypes = {\n  columns: prop_types_1.default.array,\n  onShowColumns: prop_types_1.default.func,\n  onReset: prop_types_1.default.func,\n  onDisplayColumn: prop_types_1.default.func,\n  onSortEnd: prop_types_1.default.func\n};\nexports.default = ColumnSetting;"],"names":["__spreadArray","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__importDefault","mod","__esModule","default","antd_1","Object","defineProperty","exports","value","require","array_move_1","prop_types_1","react_1","react_sortable_hoc_1","adhere_util_intl_1","SearchTable_1","DragHandle","SortableHandle","createElement","src","alt","SortableItem","SortableElement","_a","column","onDisplayColumn","Checkbox","checked","display","onChange","e","target","title","SortableContainer","children","ColumnSetting","columns","onShowColumns","onReset","_onSortEnd","onSortEnd","className","selectorPrefix","every","v","onClick","oldIndex","newIndex","changeColumns","arrayMoveImmutable","map","Map","forEach","index","set","key","useDragHandle","helperClass","defaultProps","propTypes","array","func"],"mappings":"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"}