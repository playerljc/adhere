"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),react_1=tslib_1.__importStar(require("react")),SearchTable_1=require("../../SearchTable"),EditableCellEdit_1=tslib_1.__importDefault(require("./Edit/EditableCellEdit")),View_1=tslib_1.__importDefault(require("./View")),EditableCell=function(e,t){var l=e.column,i={editable:!1,defaultStatus:"view",type:"input",props:{},formItemProps:{},useTrigger:!0,require:!0,dataIndex:null==l?void 0:l.dataIndex,useKeepEdit:!1},a=(0,react_1.useMemo)(function(){return tslib_1.__assign(tslib_1.__assign({},i),(null==l?void 0:l.$editable)||{})},[l,null==l?void 0:l.dataIndex]),r=(0,react_1.useState)(a.defaultStatus),n=r[0],u=r[1],r=(0,react_1.useContext)(SearchTable_1.SearchTableContext),d=((0,react_1.useEffect)(function(){return u("view")},[null==(r=null==r?void 0:r.context)?void 0:r.getData()]),(0,react_1.useEffect)(function(){u(null==a?void 0:a.defaultStatus)},[null==a?void 0:a.defaultStatus]),t);return a.editable?a.useKeepEdit?d=react_1.default.cloneElement(t,t.props,[react_1.default.createElement(EditableCellEdit_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return u("view")}}))]):"view"===n?d=react_1.default.cloneElement(t,t.props,[react_1.default.createElement(View_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return u("edit")}}))]):"edit"===n&&(d=react_1.default.cloneElement(t,t.props,[react_1.default.createElement(EditableCellEdit_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return u("view")}}))])):d=t,function(){return d}};exports.default=EditableCell;
//# sourceMappingURL=EditableCell.js.map
