"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),react_1=tslib_1.__importStar(require("react")),Edit_1=tslib_1.__importDefault(require("./Edit")),View_1=tslib_1.__importDefault(require("./View")),EditableCell=function(e){e.record;var t=e.column,i=(e.rowIndex,e.columns,e.$context),r=tslib_1.__rest(e,["record","column","rowIndex","columns","$context"]),l={editable:!1,defaultStatus:"view",type:"input",props:{},formItemProps:{},useTrigger:!0,require:!0,dataIndex:null==t?void 0:t.dataIndex,useKeepEdit:!1},a=(0,react_1.useMemo)(function(){return tslib_1.__assign(tslib_1.__assign({},l),(null==t?void 0:t.$editable)||{})},[t,null==t?void 0:t.dataIndex]),n=(0,react_1.useState)(a.defaultStatus),u=n[0],_=n[1];return(0,react_1.useEffect)(function(){return _("view")},[null==i?void 0:i.getData()]),(0,react_1.useEffect)(function(){_(null==a?void 0:a.defaultStatus)},[null==a?void 0:a.defaultStatus]),a.editable?a.useKeepEdit?react_1.default.createElement("td",tslib_1.__assign({},r||{}),react_1.default.createElement(Edit_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return _("view")}}))):"view"===u?react_1.default.createElement("td",tslib_1.__assign({},r||{}),react_1.default.createElement(View_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return _("edit")}}))):"edit"===u?react_1.default.createElement("td",tslib_1.__assign({},r||{}),react_1.default.createElement(Edit_1.default,tslib_1.__assign({},e,{editableConfig:a,onTriggerChange:function(){return _("view")}}))):react_1.default.createElement("td",tslib_1.__assign({},r||{}),null==r?void 0:r.children):react_1.default.createElement("td",tslib_1.__assign({},r||{}),null==r?void 0:r.children)};exports.default=EditableCell;
//# sourceMappingURL=EditableCell.js.map
