{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar icons_1 = require(\"@ant-design/icons\");\n\nvar SearchTable_1 = require(\"../../../SearchTable\");\n/**\n * EditableCellViewProps\n * @description 可编辑单元格的查看状态\n */\n\n\nvar EditableCellView = function EditableCellView(props) {\n  var record = props.record,\n      column = props.column,\n      rowIndex = props.rowIndex,\n      columns = props.columns,\n      editableConfig = props.editableConfig,\n      onTriggerChange = props.onTriggerChange,\n      restProps = tslib_1.__rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\n\n  var useTrigger = editableConfig.useTrigger,\n      renderToEditTrigger = editableConfig.renderToEditTrigger,\n      dataIndex = editableConfig.dataIndex,\n      onBeforeToEdit = editableConfig.onBeforeToEdit; // 不使用句柄则返回原始组件\n\n  if (!useTrigger) {\n    return react_1.default.createElement(react_1.default.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\n  }\n  /**\n   * renderTrigger\n   * @description 渲染句柄\n   */\n\n\n  function renderTrigger() {\n    return react_1.default.createElement(icons_1.EditOutlined, null);\n  }\n  /**\n   * onTrigger\n   * @description 点击了句柄\n   */\n\n\n  function onTrigger() {\n    var _a;\n\n    if (onBeforeToEdit) {\n      (_a = onBeforeToEdit({\n        value: record[dataIndex],\n        record: record,\n        dataIndex: dataIndex,\n        rowIndex: rowIndex\n      })) === null || _a === void 0 ? void 0 : _a.then(function () {\n        return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n      });\n      return;\n    }\n\n    onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n  }\n\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view\")\n  }, react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis ? \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n  }, restProps === null || restProps === void 0 ? void 0 : restProps.children), react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger-inner\"),\n    onClick: onTrigger\n  }, !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\n    value: record === null || record === void 0 ? void 0 : record[dataIndex],\n    record: record,\n    dataIndex: dataIndex,\n    rowIndex: rowIndex\n  })), !renderToEditTrigger && renderTrigger())));\n};\n\nexports.default = EditableCellView;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","react_1","icons_1","SearchTable_1","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","__rest","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","default","createElement","className","concat","selectorPrefix","ellipsis","children","onClick","_a","then","EditOutlined","Fragment"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,aAAeD,QAAQE,gBAAgBP,QAAQ,YAAY,CAAC,EAE5DQ,QAAUH,QAAQE,gBAAgBP,QAAQ,OAAO,CAAC,EAElDS,QAAUT,QAAQ,mBAAmB,EAErCU,cAAgBV,QAAQ,sBAAsB,EAO9CW,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAMC,OACfC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SAEjBC,GADUJ,EAAMK,QACCL,EAAMI,gBACvBE,EAAkBN,EAAMM,gBACxBC,EAAYd,QAAQe,OAAOR,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EAElHS,EAAaL,EAAeK,WAC5BC,EAAsBN,EAAeM,oBACrCC,EAAYP,EAAeO,UAC3BC,EAAiBR,EAAeQ,eAEpC,OAAKH,EAoCEb,QAAQiB,QAAQC,cAAc,MAAO,CAC1CC,UAAW,GAAGC,OAAOlB,cAAcmB,eAAgB,oBAAoB,CACzE,EAAGrB,QAAQiB,QAAQC,cAAc,MAAO,CACtCC,WAAW,EAAIrB,aAAamB,SAAS,GAAGG,OAAOlB,cAAcmB,eAAgB,0BAA0B,EAAG,aAAcf,GAAUA,EAAOgB,SAAW,GAAGF,OAAOlB,cAAcmB,eAAgB,mCAAmC,EAAI,EAAE,CACvO,EAAGV,MAAAA,EAA6C,KAAA,EAASA,EAAUY,QAAQ,EAAGvB,QAAQiB,QAAQC,cAAc,MAAO,CACjHC,UAAW,GAAGC,OAAOlB,cAAcmB,eAAgB,4BAA4B,CACjF,EAAGrB,QAAQiB,QAAQC,cAAc,MAAO,CACtCC,UAAW,GAAGC,OAAOlB,cAAcmB,eAAgB,kCAAkC,EACrFG,QA1BF,WACE,IAAIC,EAEAT,EACF,OAACS,EAAKT,EAAe,CACnBpB,MAAOS,EAAOU,GACdV,OAAQA,EACRU,UAAWA,EACXR,SAAUA,CACZ,CAAC,IAAwCkB,EAAGC,KAAK,WAC/C,OAAOhB,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAC3F,CAAC,EAIHA,MAAAA,GAAkEA,EAAgB,CACpF,CAWA,EAAG,CAAC,CAACI,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACzHlB,MAAOS,MAAAA,EAAuC,KAAA,EAASA,EAAOU,GAC9DV,OAAQA,EACRU,UAAWA,EACXR,SAAUA,CACZ,CAAC,GAAI,CAACO,GAxCGd,QAAQiB,QAAQC,cAAcjB,QAAQ0B,aAAc,IAAI,CAwCrB,CAAC,CAAC,EAjDrC3B,QAAQiB,QAAQC,cAAclB,QAAQiB,QAAQW,SAAU,KAAMjB,MAAAA,EAA6C,KAAA,EAASA,EAAUY,QAAQ,CAkDjJ,EAEA5B,QAAQsB,QAAUd"}