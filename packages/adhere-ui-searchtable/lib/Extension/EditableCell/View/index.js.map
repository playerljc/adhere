{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\n\nvar icons_1 = require(\"@ant-design/icons\");\n\nvar SearchTable_1 = require(\"../../../SearchTable\");\n/**\n * EditableCellViewProps\n * @description 可编辑单元格的查看状态\n */\n\n\nvar EditableCellView = function EditableCellView(props) {\n  var record = props.record,\n      column = props.column,\n      rowIndex = props.rowIndex,\n      columns = props.columns,\n      $context = props.$context,\n      editableConfig = props.editableConfig,\n      onTriggerChange = props.onTriggerChange,\n      restProps = tslib_1.__rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"$context\", \"editableConfig\", \"onTriggerChange\"]);\n\n  var useTrigger = editableConfig.useTrigger,\n      renderToEditTrigger = editableConfig.renderToEditTrigger,\n      dataIndex = editableConfig.dataIndex,\n      onBeforeToEdit = editableConfig.onBeforeToEdit; // 不使用句柄则返回原始组件\n\n  if (!useTrigger) {\n    return react_1.default.createElement(react_1.default.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\n  }\n  /**\n   * renderTrigger\n   * @description 渲染句柄\n   */\n\n\n  function renderTrigger() {\n    return react_1.default.createElement(icons_1.EditOutlined, null);\n  }\n  /**\n   * onTrigger\n   * @description 点击了句柄\n   */\n\n\n  function onTrigger() {\n    var _a;\n\n    if (onBeforeToEdit) {\n      (_a = onBeforeToEdit({\n        value: record[dataIndex],\n        record: record,\n        dataIndex: dataIndex,\n        rowIndex: rowIndex\n      })) === null || _a === void 0 ? void 0 : _a.then(function () {\n        return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n      });\n      return;\n    }\n\n    onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n  }\n\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view\")\n  }, react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis ? \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner-ellipsis\") : '')\n  }, restProps === null || restProps === void 0 ? void 0 : restProps.children), react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger-inner\"),\n    onClick: onTrigger\n  }, !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\n    value: record === null || record === void 0 ? void 0 : record[dataIndex],\n    record: record,\n    dataIndex: dataIndex,\n    rowIndex: rowIndex\n  })), !renderToEditTrigger && renderTrigger())));\n};\n\nexports.default = EditableCellView;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","react_1","icons_1","SearchTable_1","EditableCellView","props","record","column","rowIndex","editableConfig","columns","$context","onTriggerChange","restProps","__rest","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","default","createElement","className","concat","selectorPrefix","ellipsis","children","onClick","_a","then","EditOutlined","Fragment"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,aAAeD,QAAQE,gBAAgBP,QAAQ,YAAY,CAAC,EAE5DQ,QAAUH,QAAQE,gBAAgBP,QAAQ,OAAO,CAAC,EAElDS,QAAUT,QAAQ,mBAAmB,EAErCU,cAAgBV,QAAQ,sBAAsB,EAO9CW,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAMC,OACfC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SAGjBC,GAFUJ,EAAMK,QACLL,EAAMM,SACAN,EAAMI,gBACvBG,EAAkBP,EAAMO,gBACxBC,EAAYf,QAAQgB,OAAOT,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,WAAY,iBAAkB,kBAAkB,EAE9HU,EAAaN,EAAeM,WAC5BC,EAAsBP,EAAeO,oBACrCC,EAAYR,EAAeQ,UAC3BC,EAAiBT,EAAeS,eAEpC,OAAKH,EAoCEd,QAAQkB,QAAQC,cAAc,MAAO,CAC1CC,UAAW,GAAGC,OAAOnB,cAAcoB,eAAgB,oBAAoB,CACzE,EAAGtB,QAAQkB,QAAQC,cAAc,MAAO,CACtCC,WAAW,EAAItB,aAAaoB,SAAS,GAAGG,OAAOnB,cAAcoB,eAAgB,0BAA0B,EAAG,aAAchB,GAAUA,EAAOiB,SAAW,GAAGF,OAAOnB,cAAcoB,eAAgB,mCAAmC,EAAI,EAAE,CACvO,EAAGV,MAAAA,EAA6C,KAAA,EAASA,EAAUY,QAAQ,EAAGxB,QAAQkB,QAAQC,cAAc,MAAO,CACjHC,UAAW,GAAGC,OAAOnB,cAAcoB,eAAgB,4BAA4B,CACjF,EAAGtB,QAAQkB,QAAQC,cAAc,MAAO,CACtCC,UAAW,GAAGC,OAAOnB,cAAcoB,eAAgB,kCAAkC,EACrFG,QA1BF,WACE,IAAIC,EAEAT,EACF,OAACS,EAAKT,EAAe,CACnBrB,MAAOS,EAAOW,GACdX,OAAQA,EACRW,UAAWA,EACXT,SAAUA,CACZ,CAAC,IAAwCmB,EAAGC,KAAK,WAC/C,OAAOhB,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAC3F,CAAC,EAIHA,MAAAA,GAAkEA,EAAgB,CACpF,CAWA,EAAG,CAAC,CAACI,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACzHnB,MAAOS,MAAAA,EAAuC,KAAA,EAASA,EAAOW,GAC9DX,OAAQA,EACRW,UAAWA,EACXT,SAAUA,CACZ,CAAC,GAAI,CAACQ,GAxCGf,QAAQkB,QAAQC,cAAclB,QAAQ2B,aAAc,IAAI,CAwCrB,CAAC,CAAC,EAjDrC5B,QAAQkB,QAAQC,cAAcnB,QAAQkB,QAAQW,SAAU,KAAMjB,MAAAA,EAA6C,KAAA,EAASA,EAAUY,QAAQ,CAkDjJ,EAEA7B,QAAQuB,QAAUf"}