{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["\"use strict\";\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar icons_1 = require(\"@ant-design/icons\");\nvar SearchTable_1 = require(\"../../../SearchTable\");\n/**\n * EditableCellViewProps\n * @description 可编辑单元格的查看状态\n */\nvar EditableCellView = function (props) {\n  var record = props.record,\n    column = props.column,\n    rowIndex = props.rowIndex,\n    columns = props.columns,\n    editableConfig = props.editableConfig,\n    onTriggerChange = props.onTriggerChange,\n    restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\n  var useTrigger = editableConfig.useTrigger,\n    renderToEditTrigger = editableConfig.renderToEditTrigger,\n    dataIndex = editableConfig.dataIndex,\n    onBeforeToEdit = editableConfig.onBeforeToEdit;\n  // 不使用句柄则返回原始组件\n  if (!useTrigger) {\n    // @ts-ignore\n    return react_1.default.createElement(react_1.default.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\n  }\n  /**\n   * renderTrigger\n   * @description 渲染句柄\n   */\n  function renderTrigger() {\n    return react_1.default.createElement(icons_1.EditOutlined, null);\n  }\n  /**\n   * onTrigger\n   * @description 点击了句柄\n   */\n  function onTrigger() {\n    var _a;\n    if (onBeforeToEdit) {\n      (_a = onBeforeToEdit({\n        value: record[dataIndex],\n        record: record,\n        dataIndex: dataIndex,\n        rowIndex: rowIndex\n      })) === null || _a === void 0 ? void 0 : _a.then(function () {\n        return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n      });\n      return;\n    }\n    onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\n  }\n  return react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editable-cell-view\")\n  }, react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editable-cell-view-inner\"), 'ellipsis' in column && column.ellipsis ? \"\".concat(SearchTable_1.selectorPrefix, \"-editable-cell-view-inner-ellipsis\") : '')\n  },\n  // @ts-ignore\n  restProps === null || restProps === void 0 ? void 0 : restProps.children), react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editable-cell-view-trigger\")\n  }, react_1.default.createElement(\"div\", {\n    className: \"\".concat(SearchTable_1.selectorPrefix, \"-editable-cell-view-trigger-inner\"),\n    onClick: onTrigger\n  }, !!renderToEditTrigger && (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\n    value: record === null || record === void 0 ? void 0 : record[dataIndex],\n    record: record,\n    dataIndex: dataIndex,\n    rowIndex: rowIndex\n  })), !renderToEditTrigger && renderTrigger())));\n};\nEditableCellView.displayName = 'EditableCellView';\nexports.default = EditableCellView;"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__importDefault","mod","__esModule","default","classnames_1","defineProperty","exports","value","require","react_1","icons_1","SearchTable_1","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","concat","selectorPrefix","ellipsis","children","onClick","_a","then","EditOutlined","Fragment","displayName"],"mappings":"AAAA,aAEA,IAAIA,OAAsC,SAAUC,EAAGC,GACrD,IAAIC,EAAI,GACR,IAASC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,CAAC,GAAKF,EAAEO,QAAQL,CAAC,EAAI,IAAGD,EAAEC,GAAKH,EAAEG,IAC9F,GAAS,MAALH,GAAqD,YAAxC,OAAOI,OAAOK,sBAAsC,IAAK,IAAIC,EAAI,EAAGP,EAAIC,OAAOK,sBAAsBT,CAAC,EAAGU,EAAIP,EAAEQ,OAAQD,CAAC,GACnIT,EAAEO,QAAQL,EAAEO,EAAE,EAAI,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,EAAE,IAAGR,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAEhG,OAAOR,CACT,EACIW,gBAAwD,SAAUC,GACpE,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnCE,QAAWF,CACb,CACF,EAIIG,cAHJb,OAAOc,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACkBP,gBAAgBQ,QAAQ,YAAY,CAAC,GACpDC,QAAUT,gBAAgBQ,QAAQ,OAAO,CAAC,EAC1CE,QAAUF,QAAQ,mBAAmB,EACrCG,cAAgBH,QAAQ,sBAAsB,EAK9CI,iBAAmB,SAAUC,GAC/B,IAAIC,EAASD,EAAMC,OACjBC,EAASF,EAAME,OACfC,EAAWH,EAAMG,SAEjBC,GADUJ,EAAMK,QACCL,EAAMI,gBACvBE,EAAkBN,EAAMM,gBACxBC,EAAYlC,OAAO2B,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EACxGQ,EAAaJ,EAAeI,WAC9BC,EAAsBL,EAAeK,oBACrCC,EAAYN,EAAeM,UAC3BC,EAAiBP,EAAeO,eAElC,OAAKH,EA8BEZ,QAAQN,QAAQsB,cAAc,MAAO,CAC1CC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,qBAAqB,CAC1E,EAAGnB,QAAQN,QAAQsB,cAAc,MAAO,CACtCC,WAAW,EAAItB,aAAaD,SAAS,GAAGwB,OAAOhB,cAAciB,eAAgB,2BAA2B,EAAG,aAAcb,GAAUA,EAAOc,SAAW,GAAGF,OAAOhB,cAAciB,eAAgB,oCAAoC,EAAI,EAAE,CACzO,EAEAR,MAAAA,EAA6C,KAAA,EAASA,EAAUU,QAAQ,EAAGrB,QAAQN,QAAQsB,cAAc,MAAO,CAC9GC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,6BAA6B,CAClF,EAAGnB,QAAQN,QAAQsB,cAAc,MAAO,CACtCC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,mCAAmC,EACtFG,QAzBF,WACE,IAAIC,EACAR,EACF,OAACQ,EAAKR,EAAe,CACnBjB,MAAOO,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,IAAwCgB,EAAGC,KAAK,WAC/C,OAAOd,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAC3F,CAAC,EAGHA,MAAAA,GAAkEA,EAAgB,CACpF,CAYA,EAAG,CAAC,CAACG,IAAwBA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CACzHf,MAAOO,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACZ,CAAC,GAAI,CAACM,GArCGb,QAAQN,QAAQsB,cAAcf,QAAQwB,aAAc,IAAI,CAqCrB,CAAC,CAAC,EA5CrCzB,QAAQN,QAAQsB,cAAchB,QAAQN,QAAQgC,SAAU,KAAMf,MAAAA,EAA6C,KAAA,EAASA,EAAUU,QAAQ,CA6CjJ,EACAlB,iBAAiBwB,YAAc,mBAC/B9B,QAAQH,QAAUS"}