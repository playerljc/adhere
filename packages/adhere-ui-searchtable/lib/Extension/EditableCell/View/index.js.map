{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport classNames from 'classnames';\r\nimport React from 'react';\r\nimport { EditOutlined } from '@ant-design/icons';\r\nimport { selectorPrefix } from '../../../SearchTable';\r\n/**\r\n * EditableCellViewProps\r\n * @description 可编辑单元格的查看状态\r\n */\r\nvar EditableCellView = function (props) {\r\n    var record = props.record, column = props.column, rowIndex = props.rowIndex, columns = props.columns, editableConfig = props.editableConfig, onTriggerChange = props.onTriggerChange, restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\r\n    var useTrigger = editableConfig.useTrigger, renderToEditTrigger = editableConfig.renderToEditTrigger, dataIndex = editableConfig.dataIndex, onBeforeToEdit = editableConfig.onBeforeToEdit;\r\n    // 不使用句柄则返回原始组件\r\n    if (!useTrigger) {\r\n        // @ts-ignore\r\n        return React.createElement(React.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\r\n    }\r\n    /**\r\n     * renderTrigger\r\n     * @description 渲染句柄\r\n     */\r\n    function renderTrigger() {\r\n        return React.createElement(EditOutlined, null);\r\n    }\r\n    /**\r\n     * onTrigger\r\n     * @description 点击了句柄\r\n     */\r\n    function onTrigger() {\r\n        var _a;\r\n        if (onBeforeToEdit) {\r\n            (_a = onBeforeToEdit({\r\n                value: record[dataIndex],\r\n                record: record,\r\n                dataIndex: dataIndex,\r\n                rowIndex: rowIndex,\r\n            })) === null || _a === void 0 ? void 0 : _a.then(function () { return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange(); });\r\n            return;\r\n        }\r\n        onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\r\n    }\r\n    return (React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-editablecell-view\") },\r\n        React.createElement(\"div\", { className: classNames(\"\".concat(selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis\r\n                ? \"\".concat(selectorPrefix, \"-editablecell-view-inner-ellipsis\")\r\n                : '') }, \r\n        // @ts-ignore\r\n        restProps === null || restProps === void 0 ? void 0 : restProps.children),\r\n        React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger\") },\r\n            React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-editablecell-view-trigger-inner\"), onClick: onTrigger },\r\n                !!renderToEditTrigger &&\r\n                    (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\r\n                        value: record === null || record === void 0 ? void 0 : record[dataIndex],\r\n                        record: record,\r\n                        dataIndex: dataIndex,\r\n                        rowIndex: rowIndex,\r\n                    })),\r\n                !renderToEditTrigger && renderTrigger()))));\r\n};\r\nexport default EditableCellView;\r\n"],"names":["__rest","this","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","classNames","React","EditOutlined","selectorPrefix","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","concat","ellipsis","children","onClick","_a","value","then","Fragment"],"mappings":"AAAA,IAAIA,OAAUC,MAAQA,KAAKD,QAAW,SAAUE,EAAGC,GAC/C,IAAIC,EAAI,GACR,IAASC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,CAAC,GAAKF,EAAEO,QAAQL,CAAC,EAAI,IAC9ED,EAAEC,GAAKH,EAAEG,IACb,GAAS,MAALH,GAAqD,YAAxC,OAAOI,OAAOK,sBAC3B,IAAK,IAAIC,EAAI,EAAGP,EAAIC,OAAOK,sBAAsBT,CAAC,EAAGU,EAAIP,EAAEQ,OAAQD,CAAC,GAC5DT,EAAEO,QAAQL,EAAEO,EAAE,EAAI,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,EAAE,IACzER,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAE1B,OAAOR,CACX,SACOW,eAAgB,oBAChBC,UAAW,eACTC,YAAuC,KAAnB,2BACpBC,cAA4C,KAAtB,uBAK/B,IAAIC,iBAAmB,SAAUC,GAC7B,IAAIC,EAASD,EAAMC,OAAQC,EAASF,EAAME,OAAQC,EAAWH,EAAMG,SAAmCC,GAAfJ,EAAMK,QAA0BL,EAAMI,gBAAgBE,EAAkBN,EAAMM,gBAAiBC,EAAY3B,OAAOoB,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EAC5RQ,EAAaJ,EAAeI,WAAYC,EAAsBL,EAAeK,oBAAqBC,EAAYN,EAAeM,UAAWC,EAAiBP,EAAeO,eAE5K,OAAKH,EA4BGZ,MAAMgB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,eAAgB,oBAAoB,CAAE,EAC5FF,MAAMgB,cAAc,MAAO,CAAEC,UAAWlB,WAAW,GAAGmB,OAAOhB,eAAgB,0BAA0B,EAAG,aAAcI,GAAUA,EAAOa,SAC/H,GAAGD,OAAOhB,eAAgB,mCAAmC,EAC7D,EAAE,CAAE,EAEdS,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,EACxEpB,MAAMgB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,eAAgB,4BAA4B,CAAE,EAC5FF,MAAMgB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,eAAgB,kCAAkC,EAAGmB,QApB/G,WACI,IAAIC,EACAP,EACA,OAACO,EAAKP,EAAe,CACjBQ,MAAOlB,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,IAAwCe,EAAGE,KAAK,WAAc,OAAOd,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAAG,CAAC,EAGhKA,MAAAA,GAAkEA,EAAgB,CACtF,CAQkI,EACtH,CAAC,CAACG,IACGA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CAC3FU,MAAOlB,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,GACL,CAACM,GAlCFb,MAAMgB,cAAcf,aAAc,IAAI,CAkCE,CAAC,CAAE,EAzC3CD,MAAMgB,cAAchB,MAAMyB,SAAU,KAAMd,MAAAA,EAA6C,KAAA,EAASA,EAAUS,QAAQ,CA0CjI,iBACejB"}