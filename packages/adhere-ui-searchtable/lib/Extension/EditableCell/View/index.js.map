{"version":3,"file":"index.js","sources":["Extension/EditableCell/View/index.js"],"sourcesContent":["\"use strict\";\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar icons_1 = require(\"@ant-design/icons\");\r\nvar SearchTable_1 = require(\"../../../SearchTable\");\r\n/**\r\n * EditableCellViewProps\r\n * @description 可编辑单元格的查看状态\r\n */\r\nvar EditableCellView = function (props) {\r\n    var record = props.record, column = props.column, rowIndex = props.rowIndex, columns = props.columns, editableConfig = props.editableConfig, onTriggerChange = props.onTriggerChange, restProps = __rest(props, [\"record\", \"column\", \"rowIndex\", \"columns\", \"editableConfig\", \"onTriggerChange\"]);\r\n    var useTrigger = editableConfig.useTrigger, renderToEditTrigger = editableConfig.renderToEditTrigger, dataIndex = editableConfig.dataIndex, onBeforeToEdit = editableConfig.onBeforeToEdit;\r\n    // 不使用句柄则返回原始组件\r\n    if (!useTrigger) {\r\n        // @ts-ignore\r\n        return react_1.default.createElement(react_1.default.Fragment, null, restProps === null || restProps === void 0 ? void 0 : restProps.children);\r\n    }\r\n    /**\r\n     * renderTrigger\r\n     * @description 渲染句柄\r\n     */\r\n    function renderTrigger() {\r\n        return react_1.default.createElement(icons_1.EditOutlined, null);\r\n    }\r\n    /**\r\n     * onTrigger\r\n     * @description 点击了句柄\r\n     */\r\n    function onTrigger() {\r\n        var _a;\r\n        if (onBeforeToEdit) {\r\n            (_a = onBeforeToEdit({\r\n                value: record[dataIndex],\r\n                record: record,\r\n                dataIndex: dataIndex,\r\n                rowIndex: rowIndex,\r\n            })) === null || _a === void 0 ? void 0 : _a.then(function () { return onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange(); });\r\n            return;\r\n        }\r\n        onTriggerChange === null || onTriggerChange === void 0 ? void 0 : onTriggerChange();\r\n    }\r\n    return (react_1.default.createElement(\"div\", { className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view\") },\r\n        react_1.default.createElement(\"div\", { className: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner\"), 'ellipsis' in column && column.ellipsis\r\n                ? \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-inner-ellipsis\")\r\n                : '') }, \r\n        // @ts-ignore\r\n        restProps === null || restProps === void 0 ? void 0 : restProps.children),\r\n        react_1.default.createElement(\"div\", { className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger\") },\r\n            react_1.default.createElement(\"div\", { className: \"\".concat(SearchTable_1.selectorPrefix, \"-editablecell-view-trigger-inner\"), onClick: onTrigger },\r\n                !!renderToEditTrigger &&\r\n                    (renderToEditTrigger === null || renderToEditTrigger === void 0 ? void 0 : renderToEditTrigger({\r\n                        value: record === null || record === void 0 ? void 0 : record[dataIndex],\r\n                        record: record,\r\n                        dataIndex: dataIndex,\r\n                        rowIndex: rowIndex,\r\n                    })),\r\n                !renderToEditTrigger && renderTrigger()))));\r\n};\r\nexports.default = EditableCellView;\r\n"],"names":["__rest","this","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__importDefault","mod","__esModule","default","classnames_1","defineProperty","exports","value","require","react_1","icons_1","SearchTable_1","EditableCellView","props","record","column","rowIndex","editableConfig","columns","onTriggerChange","restProps","useTrigger","renderToEditTrigger","dataIndex","onBeforeToEdit","createElement","className","concat","selectorPrefix","ellipsis","children","onClick","_a","then","EditOutlined","Fragment"],"mappings":"AAAA,aACA,IAAIA,OAAUC,MAAQA,KAAKD,QAAW,SAAUE,EAAGC,GAC/C,IAAIC,EAAI,GACR,IAASC,KAAKH,EAAOI,OAAOC,UAAUC,eAAeC,KAAKP,EAAGG,CAAC,GAAKF,EAAEO,QAAQL,CAAC,EAAI,IAC9ED,EAAEC,GAAKH,EAAEG,IACb,GAAS,MAALH,GAAqD,YAAxC,OAAOI,OAAOK,sBAC3B,IAAK,IAAIC,EAAI,EAAGP,EAAIC,OAAOK,sBAAsBT,CAAC,EAAGU,EAAIP,EAAEQ,OAAQD,CAAC,GAC5DT,EAAEO,QAAQL,EAAEO,EAAE,EAAI,GAAKN,OAAOC,UAAUO,qBAAqBL,KAAKP,EAAGG,EAAEO,EAAE,IACzER,EAAEC,EAAEO,IAAMV,EAAEG,EAAEO,KAE1B,OAAOR,CACX,EACIW,gBAAmBd,MAAQA,KAAKc,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,cADJb,OAAOc,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EACzCP,gBAAgBQ,QAAQ,YAAY,CAAC,GACpDC,QAAUT,gBAAgBQ,QAAQ,OAAO,CAAC,EAC1CE,QAAUF,QAAQ,mBAAmB,EACrCG,cAAgBH,QAAQ,sBAAsB,EAK9CI,iBAAmB,SAAUC,GAC7B,IAAIC,EAASD,EAAMC,OAAQC,EAASF,EAAME,OAAQC,EAAWH,EAAMG,SAAmCC,GAAfJ,EAAMK,QAA0BL,EAAMI,gBAAgBE,EAAkBN,EAAMM,gBAAiBC,EAAYnC,OAAO4B,EAAO,CAAC,SAAU,SAAU,WAAY,UAAW,iBAAkB,kBAAkB,EAC5RQ,EAAaJ,EAAeI,WAAYC,EAAsBL,EAAeK,oBAAqBC,EAAYN,EAAeM,UAAWC,EAAiBP,EAAeO,eAE5K,OAAKH,EA4BGZ,QAAQN,QAAQsB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,oBAAoB,CAAE,EACpHnB,QAAQN,QAAQsB,cAAc,MAAO,CAAEC,WAAW,EAAItB,aAAaD,SAAS,GAAGwB,OAAOhB,cAAciB,eAAgB,0BAA0B,EAAG,aAAcb,GAAUA,EAAOc,SACtK,GAAGF,OAAOhB,cAAciB,eAAgB,mCAAmC,EAC3E,EAAE,CAAE,EAEdR,MAAAA,EAA6C,KAAA,EAASA,EAAUU,QAAQ,EACxErB,QAAQN,QAAQsB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,4BAA4B,CAAE,EACpHnB,QAAQN,QAAQsB,cAAc,MAAO,CAAEC,UAAW,GAAGC,OAAOhB,cAAciB,eAAgB,kCAAkC,EAAGG,QApBvI,WACI,IAAIC,EACAR,EACA,OAACQ,EAAKR,EAAe,CACjBjB,MAAOO,EAAOS,GACdT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,IAAwCgB,EAAGC,KAAK,WAAc,OAAOd,MAAAA,EAAyD,KAAA,EAASA,EAAgB,CAAG,CAAC,EAGhKA,MAAAA,GAAkEA,EAAgB,CACtF,CAQ0J,EAC9I,CAAC,CAACG,IACGA,MAAAA,EAAiE,KAAA,EAASA,EAAoB,CAC3Ff,MAAOO,MAAAA,EAAuC,KAAA,EAASA,EAAOS,GAC9DT,OAAQA,EACRS,UAAWA,EACXP,SAAUA,CACd,CAAC,GACL,CAACM,GAlCFb,QAAQN,QAAQsB,cAAcf,QAAQwB,aAAc,IAAI,CAkChB,CAAC,CAAE,EAzC3CzB,QAAQN,QAAQsB,cAAchB,QAAQN,QAAQgC,SAAU,KAAMf,MAAAA,EAA6C,KAAA,EAASA,EAAUU,QAAQ,CA0CrJ,EACAxB,QAAQH,QAAUS"}