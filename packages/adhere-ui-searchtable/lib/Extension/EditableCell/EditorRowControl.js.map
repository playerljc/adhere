{"version":3,"file":"EditorRowControl.js","sources":["Extension/EditableCell/EditorRowControl.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar classnames_1 = tslib_1.__importDefault(require(\"classnames\"));\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar adhere_ui_conditionalrender_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar SearchTable_1 = require(\"../../SearchTable\");\n\nvar EditableRow_1 = require(\"./EditableRow\");\n/**\n * EditorRowControl\n * @description 编辑行的控制器\n * @param record\n * @param onEditor\n * @param onSave\n * @param editorRowId\n * @param rowKey\n * @param className\n * @param styles\n * @param renderEditorRow\n * @param renderSave\n * @returns {JSX.Element}\n * @constructor\n */\n\n\nvar EditorRowControl = function EditorRowControl(_a) {\n  var record = _a.record,\n      onEditor = _a.onEditor,\n      onSave = _a.onSave,\n      editorRowId = _a.editorRowId,\n      rowKey = _a.rowKey,\n      className = _a.className,\n      styles = _a.styles,\n      renderEditorRow = _a.renderEditorRow,\n      renderSave = _a.renderSave;\n  var form = (0, react_1.useContext)(EditableRow_1.EditableContext);\n  var renderDefaultSave = (0, react_1.useCallback)(function () {\n    return react_1.default.createElement(\"a\", null, adhere_util_intl_1.default.v('保存'));\n  }, []);\n  var renderDefaultEditorRow = (0, react_1.useCallback)(function () {\n    return react_1.default.createElement(\"a\", null, adhere_util_intl_1.default.v('编辑行'));\n  }, []);\n  return react_1.default.createElement(\"div\", {\n    className: (0, classnames_1.default)(\"\".concat(SearchTable_1.selectorPrefix, \"-editor-row-control\"), className),\n    style: styles || {}\n  }, react_1.default.createElement(adhere_ui_conditionalrender_1.default, {\n    conditional: editorRowId !== record[rowKey],\n    noMatch: function noMatch() {\n      return react_1.default.createElement(\"div\", {\n        onClick: function onClick() {\n          form === null || form === void 0 ? void 0 : form.validateFields().then(function (values) {\n            return onSave === null || onSave === void 0 ? void 0 : onSave(values);\n          });\n        }\n      }, renderSave ? renderSave() : renderDefaultSave());\n    }\n  }, function () {\n    return react_1.default.createElement(\"div\", {\n      onClick: function onClick() {\n        return onEditor === null || onEditor === void 0 ? void 0 : onEditor(record[rowKey]);\n      }\n    }, renderEditorRow ? renderEditorRow() : renderDefaultEditorRow());\n  }));\n};\n\nexports.default = EditorRowControl;"],"names":["require","Object","defineProperty","exports","value","tslib_1","classnames_1","__importDefault","react_1","__importStar","adhere_ui_conditionalrender_1","adhere_util_intl_1","SearchTable_1","EditableRow_1","EditorRowControl","_a","record","onEditor","onSave","editorRowId","rowKey","className","styles","renderEditorRow","renderSave","form","useContext","EditableContext","renderDefaultSave","useCallback","default","createElement","v","renderDefaultEditorRow","concat","selectorPrefix","style","conditional","noMatch","onClick","validateFields","then","values"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EAED,IAAIC,QAAUL,QAAQ,OAAO,EAEzBM,aAAeD,QAAQE,gBAAgBP,QAAQ,YAAY,CAAC,EAE5DQ,QAAUH,QAAQI,aAAaT,QAAQ,OAAO,CAAC,EAE/CU,8BAAgCL,QAAQE,gBAAgBP,QAAQ,yCAAyC,CAAC,EAE1GW,mBAAqBN,QAAQE,gBAAgBP,QAAQ,8BAA8B,CAAC,EAEpFY,cAAgBZ,QAAQ,mBAAmB,EAE3Ca,cAAgBb,QAAQ,eAAe,EAkBvCc,iBAAmB,SAA0BC,GAC/C,IAAIC,EAASD,EAAGC,OACZC,EAAWF,EAAGE,SACdC,EAASH,EAAGG,OACZC,EAAcJ,EAAGI,YACjBC,EAASL,EAAGK,OACZC,EAAYN,EAAGM,UACfC,EAASP,EAAGO,OACZC,EAAkBR,EAAGQ,gBACrBC,EAAaT,EAAGS,WAChBC,GAAO,EAAIjB,QAAQkB,YAAYb,cAAcc,eAAe,EAC5DC,GAAoB,EAAIpB,QAAQqB,aAAa,WAC/C,OAAOrB,QAAQsB,QAAQC,cAAc,IAAK,KAAMpB,mBAAmBmB,QAAQE,EAAE,IAAI,CAAC,CACpF,EAAG,EAAE,EACDC,GAAyB,EAAIzB,QAAQqB,aAAa,WACpD,OAAOrB,QAAQsB,QAAQC,cAAc,IAAK,KAAMpB,mBAAmBmB,QAAQE,EAAE,KAAK,CAAC,CACrF,EAAG,EAAE,EACL,OAAOxB,QAAQsB,QAAQC,cAAc,MAAO,CAC1CV,WAAW,EAAIf,aAAawB,SAAS,GAAGI,OAAOtB,cAAcuB,eAAgB,qBAAqB,EAAGd,CAAS,EAC9Ge,MAAOd,GAAU,EACnB,EAAGd,QAAQsB,QAAQC,cAAcrB,8BAA8BoB,QAAS,CACtEO,YAAalB,IAAgBH,EAAOI,GACpCkB,QAAS,WACP,OAAO9B,QAAQsB,QAAQC,cAAc,MAAO,CAC1CQ,QAAS,WACPd,MAAAA,GAA4CA,EAAKe,eAAe,EAAEC,KAAK,SAAUC,GAC/E,OAAOxB,MAAAA,EAAuC,KAAA,EAASA,EAAOwB,CAAM,CACtE,CAAC,CACH,CACF,GAAGlB,GAA4BI,GAAJ,CAAuB,CACpD,CACF,EAAG,WACD,OAAOpB,QAAQsB,QAAQC,cAAc,MAAO,CAC1CQ,QAAS,WACP,OAAOtB,MAAAA,EAA2C,KAAA,EAASA,EAASD,EAAOI,EAAO,CACpF,CACF,GAAGG,GAAsCU,GAAJ,CAA4B,CACnE,CAAC,CAAC,CACJ,EAEA9B,QAAQ2B,QAAUhB"}