"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),react_1=tslib_1.__importStar(require("react")),adhere_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adhere-ui-conditionalrender")),adhere_util_intl_1=tslib_1.__importDefault(require("@baifendian/adhere-util-intl")),SearchTable_1=require("../../../SearchTable"),EditableTableControl=function(e){var t=e.className,a=e.styles,l=e.renderEditorTable,r=e.renderSave,n=e.renderCancel,i=e.onEditor,c=e.onSave,u=react_1.useContext(SearchTable_1.SearchTableContext),o=react_1.useCallback(function(){return react_1.default.createElement("a",null,adhere_util_intl_1.default.v("保存"))},[]),d=react_1.useCallback(function(){return react_1.default.createElement("a",null,adhere_util_intl_1.default.v("取消"))},[]),_=react_1.useCallback(function(){return react_1.default.createElement("a",null,adhere_util_intl_1.default.v("编辑表格"))},[]),s=react_1.useCallback(function(e){c?c(e.dataSource).then(function(){return b(e.dataSource)}):b(e.dataSource)},[]),f=react_1.useCallback(function(){var e;i?null!=(e=null==i?void 0:i())&&e.then(function(){return v()}):v()},[]),b=function(e){var t;return null==(t=null==(t=null==u?void 0:u.context)?void 0:t.updateEditorData(e))?void 0:t.then(function(){return h()})},v=function(){var e;return null==(e=null==u?void 0:u.context)?void 0:e.setState({isTableEditor:!0})},h=function(){var e;return null==(e=null==u?void 0:u.context)?void 0:e.setState({isTableEditor:!1})};return react_1.default.createElement("div",{className:classnames_1.default(SearchTable_1.selectorPrefix+"-editor-table-control",t),style:a||{}},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!(null!=u&&u.context.state.isTableEditor),noMatch:function(){return react_1.default.createElement("div",{className:SearchTable_1.selectorPrefix+"-editor-table-control-save-cancel"},react_1.default.createElement("div",{className:SearchTable_1.selectorPrefix+"-editor-table-control-save-cancel-item",onClick:function(){var e,t;return null==(t=null==(e=null==(e=null==(e=null==(e=null==u?void 0:u.editable)?void 0:e.tableEditable)?void 0:e.form)?void 0:e.validateFields())?void 0:e.then)?void 0:t.call(e,function(e){return s(e)})}},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!r,noMatch:function(){return null==r?void 0:r()}},function(){return o()})),react_1.default.createElement("div",{className:SearchTable_1.selectorPrefix+"-editor-table-control-save-cancel-item",onClick:h},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!n,noMatch:function(){return null==n?void 0:n()}},function(){return d()})))}},function(){return react_1.default.createElement("div",{className:SearchTable_1.selectorPrefix+"-editor-table-control-edit",onClick:f},react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!l,noMatch:function(){return null==l?void 0:l()}},function(){return _()}))}))};exports.default=EditableTableControl;
//# sourceMappingURL=index.js.map
