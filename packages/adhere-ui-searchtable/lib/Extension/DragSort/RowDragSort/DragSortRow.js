"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var e,t=1,o=arguments.length;t<o;t++)for(var a in e=arguments[t])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(r,e,t,o){void 0===o&&(o=t);var a=Object.getOwnPropertyDescriptor(e,t);a&&("get"in a?e.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,o,a)}:function(r,e,t,o){r[o=void 0===o?t:o]=e[t]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),__importStar=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)"default"!==t&&Object.prototype.hasOwnProperty.call(r,t)&&__createBinding(e,r,t);return __setModuleDefault(e,r),e},__importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}},classnames_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("classnames"))),react_1=__importStar(require("react")),react_dnd_1=require("react-dnd"),SearchTable_1=require("../../../SearchTable"),type="DraggableBodyRow",DragSortRow=function(r){var e,t=r.rowIndex,r=r.rowConfig,o=(0,react_1.useContext)(SearchTable_1.SearchTableContext),a={type:type,dropOverDownwardClassName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-downward"),dropOverUpwardClasName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-upward"),dragConfig:function(){return{type:n.type,item:{index:t},collect:function(r){return{isDragging:r.isDragging()}}}},dropConfig:function(){return{accept:n.type,collect:function(r){var e=(r.getItem()||{}).index;return e===t?{}:{isOver:r.isOver(),dropClassName:e<t?n.dropOverDownwardClassName:n.dropOverUpwardClasName}},drop:function(r){var e;null!=(e=null==o?void 0:o.context)&&e.moveRow(r.index,t)}}}},n=__assign(__assign({},a),(null==r?void 0:r.$rowDragSort)||{}),i=(null!=(e=null==r?void 0:r.$rowDragSort)&&e.dropConfig?n.dropConfig=Object.assign(a.dropConfig(),r.$rowDragSort.dropConfig||{}):n.dropConfig=a.dropConfig(),null!=(e=null==r?void 0:r.$rowDragSort)&&e.dragConfig?n.dragConfig=Object.assign(a.dragConfig(),r.$rowDragSort.dragConfig||{}):n.dragConfig=a.dragConfig(),(0,react_1.useRef)(null));try{var s=(0,react_dnd_1.useDrag)(n.dragConfig)[1],l=(0,react_dnd_1.useDrop)(n.dropConfig),c=l[0].isOver,d=l[0].dropClassName;(0,l[1])(s(i))}catch(r){console.log(r)}return function(r){var e={cursor:"canDrag"in n.dragConfig&&!n.dragConfig.canDrag()?"no-drop":"move"};return react_1.default.cloneElement(r,__assign(__assign({},r.props),{ref:i,style:__assign(__assign({},e),r.props.style||{}),className:(0,classnames_1.default)(r.props.className,c?d:"")}))}};exports.default=DragSortRow;
//# sourceMappingURL=DragSortRow.js.map
