"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.object.assign.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),react_1=tslib_1.__importStar(require("react")),react_dnd_1=require("react-dnd"),SearchTable_1=require("../../../SearchTable"),type="DraggableBodyRow",DragSortRow=function(r,e){r.record,r.columns;var o=r.rowIndex,a=r.rowConfig,t=(r.rowKey,(0,react_1.useContext)(SearchTable_1.SearchTableContext)),r={dropOverDownwardClassName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-downward"),dropOverUpwardClasName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-upward"),type:type,dropConfig:function(){return{accept:s.type,collect:function(r){var e=(r.getItem()||{}).index;return e===o?{}:{isOver:r.isOver(),dropClassName:e<o?s.dropOverDownwardClassName:s.dropOverUpwardClasName}},drop:function(r){var e;null!=(e=null==t?void 0:t.context)&&e.moveRow(r.index,o)}}},dragConfig:function(){return{type:s.type,item:{index:o},collect:function(r){return{isDragging:r.isDragging()}}}}},s=tslib_1.__assign(tslib_1.__assign({},r),(null==a?void 0:a.$rowDragSort)||{}),n=(null!=(n=null==a?void 0:a.$rowDragSort)&&n.dropConfig&&(s.dropConfig=Object.assign(r.dropConfig(),a.$rowDragSort.dropConfig||{})),null!=(n=null==a?void 0:a.$rowDragSort)&&n.dragConfig&&(s.dragConfig=Object.assign(r.dragConfig(),a.$rowDragSort.dragConfig||{})),(0,react_1.useRef)(null)),r=(0,react_dnd_1.useDrop)(s.dropConfig),a=r[0],i=a.isOver,a=a.dropClassName,l=((0,r[1])((0,(0,react_dnd_1.useDrag)(s.dragConfig)[1])(n)),react_1.default.cloneElement(e,tslib_1.__assign(tslib_1.__assign({},e.props),{ref:n,style:tslib_1.__assign({cursor:"move"},e.props.style||{}),className:(0,classnames_1.default)(e.props.className,i?a:"")})));return function(){return l}};exports.default=DragSortRow;
//# sourceMappingURL=DragSortRow.js.map
