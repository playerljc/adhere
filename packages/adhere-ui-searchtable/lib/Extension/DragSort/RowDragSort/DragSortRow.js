"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.object.assign.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),classnames_1=tslib_1.__importDefault(require("classnames")),react_1=tslib_1.__importStar(require("react")),react_dnd_1=require("react-dnd"),SearchTable_1=require("../../../SearchTable"),type="DraggableBodyRow",DragSortRow=function(r){var o=r.rowIndex,r=r.rowConfig,a=(0,react_1.useContext)(SearchTable_1.SearchTableContext),e={type:type,dropOverDownwardClassName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-downward"),dropOverUpwardClasName:"".concat(SearchTable_1.selectorPrefix,"-row-drag-sort-drop-over-upward"),dropConfig:function(){return{accept:t.type,collect:function(r){var e=(r.getItem()||{}).index;return e===o?{}:{isOver:r.isOver(),dropClassName:e<o?t.dropOverDownwardClassName:t.dropOverUpwardClasName}},drop:function(r){var e;null!=(e=null==a?void 0:a.context)&&e.moveRow(r.index,o)}}},dragConfig:function(){return{type:t.type,item:{index:o},collect:function(r){return{isDragging:r.isDragging()}}}}},t=tslib_1.__assign(tslib_1.__assign({},e),(null==r?void 0:r.$rowDragSort)||{}),s=(null!=(n=null==r?void 0:r.$rowDragSort)&&n.dropConfig&&(t.dropConfig=Object.assign(e.dropConfig(),r.$rowDragSort.dropConfig||{})),null!=(n=null==r?void 0:r.$rowDragSort)&&n.dragConfig&&(t.dragConfig=Object.assign(e.dragConfig(),r.$rowDragSort.dragConfig||{})),(0,react_1.useRef)(null)),n=(0,react_dnd_1.useDrag)(t.dragConfig)[1],e=(0,react_dnd_1.useDrop)(t.dropConfig),r=e[0],i=r.isOver,l=r.dropClassName;return(0,e[1])(n(s)),function(r){return react_1.default.cloneElement(r,tslib_1.__assign(tslib_1.__assign({},r.props),{ref:s,style:tslib_1.__assign({cursor:"move"},r.props.style||{}),className:(0,classnames_1.default)(r.props.className,i?l:"")}))}};exports.default=DragSortRow;
//# sourceMappingURL=DragSortRow.js.map
