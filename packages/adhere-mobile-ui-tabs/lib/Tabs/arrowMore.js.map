{"version":3,"file":"arrowMore.js","sources":["Tabs/arrowMore.js"],"sourcesContent":["\"use strict\";\n\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_mobile_1 = require(\"antd-mobile\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importStar(require(\"react\"));\nvar react_dom_1 = require(\"react-dom\");\nvar arrowIcon = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik03LjQxIDguNTlMMTIgMTMuMTdsNC41OS00LjU4TDE4IDEwbC02IDZsLTYtNmwxLjQxLTEuNDF6Ij48L3BhdGg+PC9zdmc+DQo=';\nvar selectorPrefix = 'adhere-ui-tabs-arrow-more';\nvar ArrowMore = function (props) {\n  var _a;\n  var _b = props.defaultCollapsed,\n    defaultCollapsed = _b === void 0 ? false : _b,\n    activeKey = props.activeKey,\n    _c = props.data,\n    data = _c === void 0 ? [] : _c,\n    onChange = props.onChange,\n    wrapRef = props.wrapRef,\n    _d = props.swiper,\n    swiper = _d === void 0 ? false : _d,\n    zIndex = props.zIndex,\n    getActiveIndexByKey = props.getActiveIndexByKey;\n  var _e = (0, react_1.useState)(defaultCollapsed),\n    collapse = _e[0],\n    setCollapse = _e[1];\n  function getPopupContainer() {\n    if (!(wrapRef === null || wrapRef === void 0 ? void 0 : wrapRef.current)) return document.body;\n    var contentEl;\n    if (swiper) {\n      var index = getActiveIndexByKey === null || getActiveIndexByKey === void 0 ? void 0 : getActiveIndexByKey(activeKey);\n      contentEl = Array.from(wrapRef.current.querySelectorAll('.adm-swiper-slide'))[index];\n    } else {\n      contentEl = Array.from(wrapRef.current.querySelectorAll('.adm-tabs-content')).find(function (_el) {\n        return _el.style.display === 'block';\n      });\n    }\n    return contentEl;\n  }\n  (0, react_1.useEffect)(function () {\n    return setCollapse(defaultCollapsed);\n  }, [defaultCollapsed, activeKey]);\n  return react_1.default.createElement(react_1.default.Fragment, null, (wrapRef === null || wrapRef === void 0 ? void 0 : wrapRef.current) && (0, react_dom_1.createPortal)(react_1.default.createElement(\"img\", {\n    className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-icon\"), (_a = {}, _a[\"\".concat(selectorPrefix, \"-open\")] = collapse, _a[\"\".concat(selectorPrefix, \"-close\")] = !collapse, _a)),\n    style: {\n      zIndex: zIndex\n    },\n    src: arrowIcon,\n    alt: \"\",\n    onClick: function () {\n      setCollapse(!collapse);\n    }\n  }), wrapRef.current.querySelector('.adm-tabs-header')), react_1.default.createElement(antd_mobile_1.Popup, {\n    className: \"\".concat(selectorPrefix, \"-popup\"),\n    bodyClassName: \"\".concat(selectorPrefix, \"-popup-body\"),\n    maskClassName: \"\".concat(selectorPrefix, \"-mask\"),\n    visible: collapse,\n    destroyOnClose: true,\n    getContainer: function () {\n      return getPopupContainer();\n    },\n    onMaskClick: function () {\n      return setCollapse(false);\n    },\n    position: \"top\"\n  }, react_1.default.createElement(antd_mobile_1.Grid, {\n    className: \"\".concat(selectorPrefix, \"-grid\"),\n    columns: 4,\n    gap: [15, 20]\n  }, (data || []).map(function (t) {\n    var _a;\n    return react_1.default.createElement(antd_mobile_1.Grid.Item, {\n      key: t.key\n    }, react_1.default.createElement(\"div\", {\n      className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-item\"), (_a = {}, _a[\"\".concat(selectorPrefix, \"-active\")] = activeKey === t.key, _a)),\n      onClick: function () {\n        onChange === null || onChange === void 0 ? void 0 : onChange(t.key);\n        setCollapse(false);\n      }\n    }, t.title));\n  }))));\n};\nexports.default = (0, react_1.memo)(ArrowMore);"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","default","antd_mobile_1","exports","require","classnames_1","react_1","react_dom_1","arrowIcon","selectorPrefix","ArrowMore","props","_b","defaultCollapsed","activeKey","_c","data","onChange","wrapRef","_d","swiper","zIndex","getActiveIndexByKey","_e","useState","collapse","setCollapse","useEffect","createElement","Fragment","current","createPortal","className","concat","_a","style","src","alt","onClick","querySelector","Popup","bodyClassName","maskClassName","visible","destroyOnClose","getContainer","index","Array","from","querySelectorAll","find","_el","display","document","body","onMaskClick","position","Grid","columns","gap","map","t","Item","key","title","memo"],"mappings":"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"}