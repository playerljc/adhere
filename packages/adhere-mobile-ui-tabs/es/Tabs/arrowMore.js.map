{"version":3,"file":"arrowMore.js","sources":["Tabs/arrowMore.js"],"sourcesContent":["import _Grid from \"antd-mobile/es/components/grid\";\nimport _Popup from \"antd-mobile/es/components/popup\";\nimport classNames from 'classnames';\nimport React, { memo, useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nvar arrowIcon = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBhcmlhLWhpZGRlbj0idHJ1ZSIgcm9sZT0iaW1nIiBjbGFzcz0iaWNvbmlmeSBpY29uaWZ5LS1pYyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCBtZWV0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGZpbGw9IiNjY2MiIGQ9Ik03LjQxIDguNTlMMTIgMTMuMTdsNC41OS00LjU4TDE4IDEwbC02IDZsLTYtNmwxLjQxLTEuNDF6Ij48L3BhdGg+PC9zdmc+DQo=';\nvar selectorPrefix = 'adhere-ui-tabs-arrow-more';\nvar ArrowMore = function ArrowMore(props) {\n  var _a;\n  var _b = props.defaultCollapsed,\n    defaultCollapsed = _b === void 0 ? false : _b,\n    activeKey = props.activeKey,\n    _c = props.data,\n    data = _c === void 0 ? [] : _c,\n    onChange = props.onChange,\n    wrapRef = props.wrapRef,\n    _d = props.swiper,\n    swiper = _d === void 0 ? false : _d,\n    getActiveIndexByKey = props.getActiveIndexByKey;\n  var _e = useState(defaultCollapsed),\n    collapse = _e[0],\n    setCollapse = _e[1];\n  function getPopupContainer() {\n    if (!(wrapRef === null || wrapRef === void 0 ? void 0 : wrapRef.current)) return document.body;\n    var contentEl;\n    if (swiper) {\n      var index = getActiveIndexByKey === null || getActiveIndexByKey === void 0 ? void 0 : getActiveIndexByKey(activeKey);\n      contentEl = Array.from(wrapRef.current.querySelectorAll('.adm-swiper-slide'))[index];\n    } else {\n      contentEl = Array.from(wrapRef.current.querySelectorAll('.adm-tabs-content')).find(function (_el) {\n        return _el.style.display === 'block';\n      });\n    }\n    return contentEl;\n  }\n  useEffect(function () {\n    return setCollapse(defaultCollapsed);\n  }, [defaultCollapsed, activeKey]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, (wrapRef === null || wrapRef === void 0 ? void 0 : wrapRef.current) && /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(\"img\", {\n    className: classNames(\"\".concat(selectorPrefix, \"-icon\"), (_a = {}, _a[\"\".concat(selectorPrefix, \"-open\")] = collapse, _a[\"\".concat(selectorPrefix, \"-close\")] = !collapse, _a)),\n    src: arrowIcon,\n    alt: \"\",\n    onClick: function onClick() {\n      setCollapse(!collapse);\n    }\n  }), wrapRef.current.querySelector('.adm-tabs-header')), /*#__PURE__*/React.createElement(_Popup, {\n    className: \"\".concat(selectorPrefix, \"-popup\"),\n    bodyClassName: \"\".concat(selectorPrefix, \"-popup-body\"),\n    maskClassName: \"\".concat(selectorPrefix, \"-mask\"),\n    visible: collapse,\n    destroyOnClose: true,\n    getContainer: function getContainer() {\n      return getPopupContainer();\n    },\n    onMaskClick: function onMaskClick() {\n      return setCollapse(false);\n    },\n    position: \"top\"\n  }, /*#__PURE__*/React.createElement(_Grid, {\n    className: \"\".concat(selectorPrefix, \"-grid\"),\n    columns: 4,\n    gap: [15, 20]\n  }, (data || []).map(function (t) {\n    var _a;\n    return /*#__PURE__*/React.createElement(_Grid.Item, {\n      key: t.key\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-item\"), (_a = {}, _a[\"\".concat(selectorPrefix, \"-active\")] = activeKey === t.key, _a)),\n      onClick: function onClick() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(t.key);\n        setCollapse(false);\n      }\n    }, t.title));\n  }))));\n};\nexport default /*#__PURE__*/memo(ArrowMore);"],"names":["_Grid","_Popup","classNames","React","memo","useEffect","useState","createPortal","arrowIcon","selectorPrefix","ArrowMore","props","_b","defaultCollapsed","activeKey","_c","data","onChange","wrapRef","_d","swiper","getActiveIndexByKey","_e","collapse","setCollapse","createElement","Fragment","current","className","concat","_a","src","alt","onClick","querySelector","bodyClassName","maskClassName","visible","destroyOnClose","getContainer","index","Array","from","querySelectorAll","find","_el","style","display","document","body","onMaskClick","position","columns","gap","map","t","Item","key","title"],"mappings":"OAAOA,UAAW,wCACXC,WAAY,yCACZC,eAAgB,oBAChBC,OAASC,KAAMC,UAAWC,QAAuB,KAAP,eACxCC,YAA+B,KAAX,YAC7B,IAAIC,UAAY,icACZC,eAAiB,4BACjBC,UAAY,SAAmBC,GACjC,IACIC,EAAKD,EAAME,iBACbA,EAA0B,KAAA,IAAPD,GAAwBA,EAC3CE,EAAYH,EAAMG,UAClBC,EAAKJ,EAAMK,KACXA,EAAc,KAAA,IAAPD,EAAgB,GAAKA,EAC5BE,EAAWN,EAAMM,SACjBC,EAAUP,EAAMO,QAChBC,EAAKR,EAAMS,OACXA,EAAgB,KAAA,IAAPD,GAAwBA,EACjCE,EAAsBV,EAAMU,oBAC1BC,EAAKhB,SAASO,CAAgB,EAChCU,EAAWD,EAAG,GACdE,EAAcF,EAAG,GAiBnB,OAHAjB,UAAU,WACR,OAAOmB,EAAYX,CAAgB,CACrC,EAAG,CAACA,EAAkBC,EAAU,EACZX,MAAMsB,cAActB,MAAMuB,SAAU,MAAOR,MAAAA,EAAyC,KAAA,EAASA,EAAQS,UAAyBpB,aAA2BJ,MAAMsB,cAAc,MAAO,CACtMG,UAAW1B,WAAW,GAAG2B,OAAOpB,eAAgB,OAAO,IAAIqB,EAAK,IAAO,GAAGD,OAAOpB,eAAgB,OAAO,GAAKc,EAAUO,EAAG,GAAGD,OAAOpB,eAAgB,QAAQ,GAAK,CAACc,EAAUO,EAAG,EAC/KC,IAAKvB,UACLwB,IAAK,GACLC,QAAS,WACPT,EAAY,CAACD,CAAQ,CACvB,CACF,CAAC,EAAGL,EAAQS,QAAQO,cAAc,kBAAkB,CAAC,EAAgB/B,MAAMsB,cAAcxB,OAAQ,CAC/F2B,UAAW,GAAGC,OAAOpB,eAAgB,QAAQ,EAC7C0B,cAAe,GAAGN,OAAOpB,eAAgB,aAAa,EACtD2B,cAAe,GAAGP,OAAOpB,eAAgB,OAAO,EAChD4B,QAASd,EACTe,eAAgB,CAAA,EAChBC,aAAc,WACZ,OA7BIrB,MAAAA,GAAkDA,EAAQS,QAE5DP,GACEoB,EAAQnB,MAAAA,EAAiE,KAAA,EAASA,EAAoBP,CAAS,EACvG2B,MAAMC,KAAKxB,EAAQS,QAAQgB,iBAAiB,mBAAmB,CAAC,EAAEH,IAElEC,MAAMC,KAAKxB,EAAQS,QAAQgB,iBAAiB,mBAAmB,CAAC,EAAEC,KAAK,SAAUC,GAC3F,MAA6B,UAAtBA,EAAIC,MAAMC,OACnB,CAAC,EAR8EC,SAASC,KAD5F,IAIQT,CA2BN,EACAU,YAAa,WACX,OAAO1B,EAAY,CAAA,CAAK,CAC1B,EACA2B,SAAU,KACZ,EAAgBhD,MAAMsB,cAAczB,MAAO,CACzC4B,UAAW,GAAGC,OAAOpB,eAAgB,OAAO,EAC5C2C,QAAS,EACTC,IAAK,CAAC,GAAI,GACZ,GAAIrC,GAAQ,IAAIsC,IAAI,SAAUC,GAC5B,IAAIzB,EACJ,OAAoB3B,MAAMsB,cAAczB,MAAMwD,KAAM,CAClDC,IAAKF,EAAEE,GACT,EAAgBtD,MAAMsB,cAAc,MAAO,CACzCG,UAAW1B,WAAW,GAAG2B,OAAOpB,eAAgB,OAAO,IAAIqB,EAAK,IAAO,GAAGD,OAAOpB,eAAgB,SAAS,GAAKK,IAAcyC,EAAEE,IAAK3B,EAAG,EACvIG,QAAS,WACPhB,MAAAA,GAAoDA,EAASsC,EAAEE,GAAG,EAClEjC,EAAY,CAAA,CAAK,CACnB,CACF,EAAG+B,EAAEG,KAAK,CAAC,CACb,CAAC,CAAC,CAAC,CAAC,CACN,iBAC4BtD,KAAKM,SAAS"}