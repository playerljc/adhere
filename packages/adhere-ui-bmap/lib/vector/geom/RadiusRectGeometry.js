"use strict";var __extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var RectGeometry_1=__importDefault(require("./RectGeometry")),types_1=require("../types"),GeometryStyle_1=__importDefault(require("../style/GeometryStyle")),util_1=__importDefault(require("../../util")),RadiusRectGeometry=function(r){function i(t){var e=r.call(this,t)||this;return e.coordinates=t,e}return __extends(i,r),i.prototype.getType=function(){return types_1.GeometryType.RadiusRect},i.drawRadiusRect=function(t){var e=t.ctx,r=t.style,i=t.coordinates,o=t.map,n=t.isScale,s=__assign(__assign({},GeometryStyle_1.default),r||{});e.save(),e.beginPath(),e.lineWidth=s.lineWidth,e.lineJoin=s.lineJoin,e.lineCap=s.lineCap,e.setLineDash(s.lineDash),e.lineDashOffset=s.lineDashOffset,e.strokeStyle=s.strokeStyle,e.fillStyle=s.fillStyle;var a=i.leftTop,y=i.width,l=i.height,t=i.radius,r=o.pointToPixel(new BMap.Point(a.lng,a.lat)),s=util_1.default.getScale(o),i=y,a=l,o=t;n&&(i=s*y,a=s*l,o=s*t),e.moveTo(r.x,r.y+o),e.arcTo(r.x,r.y,r.x+o,r.y,o),e.lineTo(r.x+i-o,r.y),t={x:r.x+i-o,y:r.y},e.arcTo(t.x+o,r.y,t.x+o,r.y+o,o),t={x:t.x+o,y:r.y+o},e.lineTo(t.x,t.y+(a-2*o)),e.arcTo((t={x:t.x,y:t.y+(a-2*o)}).x,t.y+o,t.x-o,t.y+o,o),e.lineTo((t={x:t.x-o,y:t.y+o}).x-(i-2*o),t.y),e.arcTo((t={x:t.x-(i-2*o),y:t.y}).x-o,t.y,t.x-o,t.y-o,o),e.lineTo((t={x:t.x-o,y:t.y-o}).x,t.y-(a-2*o)),e.stroke(),e.fill(),e.restore()},i.prototype.draw=function(t,e){i.drawRadiusRect({ctx:t,style:e,coordinates:this.coordinates,map:this.getMap(),isScale:!0})},i}(RectGeometry_1.default);exports.default=RadiusRectGeometry;
//# sourceMappingURL=RadiusRectGeometry.js.map
