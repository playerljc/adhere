"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};return function(t,e){function i(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},util_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("../../util"))),GeometryStyle_1=__importDefault(require("../style/GeometryStyle")),types_1=require("../types"),RectGeometry_1=__importDefault(require("./RectGeometry")),RadiusRectGeometry=function(i){function r(t){var e=i.call(this,t)||this;return e.coordinates=t,e}return __extends(r,i),r.prototype.getType=function(){return types_1.GeometryType.RadiusRect},r.drawRadiusRect=function(t){var e=t.ctx,i=t.style,r=t.coordinates,o=t.map,t=t.isScale,i=__assign(__assign({},GeometryStyle_1.default),i||{}),i=(e.save(),e.beginPath(),e.lineWidth=i.lineWidth,e.lineJoin=i.lineJoin,e.lineCap=i.lineCap,e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset,e.strokeStyle=i.strokeStyle,e.fillStyle=i.fillStyle,r.leftTop),n=r.width,s=r.height,r=r.radius,i=o.pointToPixel(new BMap.Point(i.lng,i.lat)),o=util_1.default.getScale(o),a=n,y=s,l=r;t&&(a=o*n,y=o*s,l=o*r),e.moveTo(i.x,i.y+l),e.arcTo(i.x,i.y,i.x+l,i.y,l),e.lineTo(i.x+a-l,i.y),t={x:i.x+a-l,y:i.y},e.arcTo(t.x+l,i.y,t.x+l,i.y+l,l),t={x:t.x+l,y:i.y+l},e.lineTo(t.x,t.y+(y-2*l)),e.arcTo((t={x:t.x,y:t.y+(y-2*l)}).x,t.y+l,t.x-l,t.y+l,l),e.lineTo((t={x:t.x-l,y:t.y+l}).x-(a-2*l),t.y),e.arcTo((t={x:t.x-(a-2*l),y:t.y}).x-l,t.y,t.x-l,t.y-l,l),e.lineTo((t={x:t.x-l,y:t.y-l}).x,t.y-(y-2*l)),e.stroke(),e.fill(),e.restore()},r.prototype.draw=function(t,e){r.drawRadiusRect({ctx:t,style:e,coordinates:this.coordinates,map:this.getMap(),isScale:!0})},r}(RectGeometry_1.default);exports.default=RadiusRectGeometry;
//# sourceMappingURL=RadiusRectGeometry.js.map
