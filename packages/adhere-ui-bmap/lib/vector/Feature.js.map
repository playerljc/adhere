{"version":3,"file":"Feature.js","sources":["vector/Feature.js"],"sourcesContent":["import { VectorActions, } from './types';\r\n/**\r\n * Feature\r\n * @class Feature\r\n * @classdesc 要素\r\n */\r\nvar Feature = /** @class */ (function () {\r\n    function Feature(params) {\r\n        // 要素的名称\r\n        this.name = '';\r\n        // 要素的id\r\n        this.id = '';\r\n        // 要素的样式\r\n        this.style = {};\r\n        // 要素的层级\r\n        this.zIndex = 1;\r\n        // 要素的业务属性\r\n        this.properties = {};\r\n        this.name = params.name;\r\n        this.id = params.id;\r\n        this.style = params.style;\r\n        this.geometry = params.geometry;\r\n        this.setGeometryContext();\r\n    }\r\n    Feature.prototype.setGeometryContext = function () {\r\n        this.geometry && this.geometry.setContext(this);\r\n    };\r\n    Feature.prototype.draw = function (ctx) {\r\n        // 绘制geometry(几何形状)\r\n        this.geometry.draw(ctx, this.style);\r\n    };\r\n    Feature.prototype.getGeometry = function () {\r\n        return this.geometry;\r\n    };\r\n    Feature.prototype.getId = function () {\r\n        return this.id;\r\n    };\r\n    Feature.prototype.getName = function () {\r\n        return this.name;\r\n    };\r\n    Feature.prototype.getStyle = function () {\r\n        return this.style;\r\n    };\r\n    Feature.prototype.getZIndex = function () {\r\n        return this.zIndex;\r\n    };\r\n    Feature.prototype.getProperties = function () {\r\n        return this.properties;\r\n    };\r\n    Feature.prototype.setGeometry = function (geom) {\r\n        this.geometry = geom;\r\n        this.setGeometryContext();\r\n        this.getLayer().getEmitter().trigger(VectorActions.UPDATE);\r\n    };\r\n    Feature.prototype.setStyle = function (style) {\r\n        this.style = style;\r\n        this.getLayer().getEmitter().trigger(VectorActions.UPDATE);\r\n    };\r\n    Feature.prototype.setId = function (id) {\r\n        this.id = id;\r\n    };\r\n    Feature.prototype.setName = function (name) {\r\n        this.name = name;\r\n    };\r\n    Feature.prototype.setZIndex = function (zIndex) {\r\n        this.zIndex = zIndex;\r\n        this.getLayer().getEmitter().trigger(VectorActions.UPDATE);\r\n    };\r\n    Feature.prototype.setProperties = function (properties) {\r\n        this.properties = properties;\r\n    };\r\n    Feature.prototype.getContext = function () {\r\n        return this.context;\r\n    };\r\n    Feature.prototype.setContext = function (context) {\r\n        this.context = context;\r\n    };\r\n    Feature.prototype.getLayer = function () {\r\n        return this.getContext().getContext();\r\n    };\r\n    Feature.prototype.getMap = function () {\r\n        return this.getLayer().getMap();\r\n    };\r\n    Feature.prototype.isPointInFeature = function (pixel, style) {\r\n        return this.geometry.isPixelInGeometry(pixel, style);\r\n    };\r\n    return Feature;\r\n}());\r\nexport default Feature;\r\n"],"names":["VectorActions","Feature","params","this","name","id","style","zIndex","properties","geometry","setGeometryContext","prototype","setContext","draw","ctx","getGeometry","getId","getName","getStyle","getZIndex","getProperties","setGeometry","geom","getLayer","getEmitter","trigger","UPDATE","setStyle","setId","setName","setZIndex","setProperties","getContext","context","getMap","isPointInFeature","pixel","isPixelInGeometry"],"mappings":"OAASA,4BAMT,IAAIC,QAAyB,WACzB,SAASA,EAAQC,GAEbC,KAAKC,KAAO,GAEZD,KAAKE,GAAK,GAEVF,KAAKG,MAAQ,GAEbH,KAAKI,OAAS,EAEdJ,KAAKK,WAAa,GAClBL,KAAKC,KAAOF,EAAOE,KACnBD,KAAKE,GAAKH,EAAOG,GACjBF,KAAKG,MAAQJ,EAAOI,MACpBH,KAAKM,SAAWP,EAAOO,SACvBN,KAAKO,qBAgET,OA9DAT,EAAQU,UAAUD,mBAAqB,WACnCP,KAAKM,UAAYN,KAAKM,SAASG,WAAWT,OAE9CF,EAAQU,UAAUE,KAAO,SAAUC,GAE/BX,KAAKM,SAASI,KAAKC,EAAKX,KAAKG,QAEjCL,EAAQU,UAAUI,YAAc,WAC5B,OAAOZ,KAAKM,UAEhBR,EAAQU,UAAUK,MAAQ,WACtB,OAAOb,KAAKE,IAEhBJ,EAAQU,UAAUM,QAAU,WACxB,OAAOd,KAAKC,MAEhBH,EAAQU,UAAUO,SAAW,WACzB,OAAOf,KAAKG,OAEhBL,EAAQU,UAAUQ,UAAY,WAC1B,OAAOhB,KAAKI,QAEhBN,EAAQU,UAAUS,cAAgB,WAC9B,OAAOjB,KAAKK,YAEhBP,EAAQU,UAAUU,YAAc,SAAUC,GACtCnB,KAAKM,SAAWa,EAChBnB,KAAKO,qBACLP,KAAKoB,WAAWC,aAAaC,QAAQzB,cAAc0B,SAEvDzB,EAAQU,UAAUgB,SAAW,SAAUrB,GACnCH,KAAKG,MAAQA,EACbH,KAAKoB,WAAWC,aAAaC,QAAQzB,cAAc0B,SAEvDzB,EAAQU,UAAUiB,MAAQ,SAAUvB,GAChCF,KAAKE,GAAKA,GAEdJ,EAAQU,UAAUkB,QAAU,SAAUzB,GAClCD,KAAKC,KAAOA,GAEhBH,EAAQU,UAAUmB,UAAY,SAAUvB,GACpCJ,KAAKI,OAASA,EACdJ,KAAKoB,WAAWC,aAAaC,QAAQzB,cAAc0B,SAEvDzB,EAAQU,UAAUoB,cAAgB,SAAUvB,GACxCL,KAAKK,WAAaA,GAEtBP,EAAQU,UAAUqB,WAAa,WAC3B,OAAO7B,KAAK8B,SAEhBhC,EAAQU,UAAUC,WAAa,SAAUqB,GACrC9B,KAAK8B,QAAUA,GAEnBhC,EAAQU,UAAUY,SAAW,WACzB,OAAOpB,KAAK6B,aAAaA,cAE7B/B,EAAQU,UAAUuB,OAAS,WACvB,OAAO/B,KAAKoB,WAAWW,UAE3BjC,EAAQU,UAAUwB,iBAAmB,SAAUC,EAAO9B,GAClD,OAAOH,KAAKM,SAAS4B,kBAAkBD,EAAO9B,IAE3CL,EAhFiB,kBAkFbA"}