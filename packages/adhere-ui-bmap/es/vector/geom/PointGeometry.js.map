{"version":3,"file":"PointGeometry.js","sources":["vector/geom/PointGeometry.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport ImageCache from '../ImageCache';\r\nimport GeometryStyle from '../style/GeometryStyle';\r\nimport { GeometryType, VectorActions, } from '../types';\r\nimport CircleGeometry from './CircleGeometry';\r\nimport Geometry from './Geometry';\r\nimport LeafGeometry from './LeafGeometry';\r\nimport RadiusRectGeometry from './RadiusRectGeometry';\r\nimport RectGeometry from './RectGeometry';\r\nimport RegularPolygonGeometry from './RegularPolygonGeometry';\r\nimport SectorGeometry from './SectorGeometry';\r\nimport StartGeometry from './StartGeometry';\r\n/**\r\n * PointGeometry\r\n * @class PointGeometry\r\n * @classdesc PointGeometry - 点\r\n */\r\nvar PointGeometry = /** @class */ (function (_super) {\r\n    __extends(PointGeometry, _super);\r\n    function PointGeometry(coordinates) {\r\n        var _this = _super.call(this) || this;\r\n        _this.coordinates = coordinates;\r\n        return _this;\r\n    }\r\n    PointGeometry.prototype.setCoordinates = function (coordinates) {\r\n        var _a;\r\n        this.coordinates = coordinates;\r\n        (_a = this === null || this === void 0 ? void 0 : this.getLayer()) === null || _a === void 0 ? void 0 : _a.getEmitter().trigger(VectorActions.UPDATE);\r\n    };\r\n    PointGeometry.prototype.getCoordinates = function () {\r\n        return __assign({}, this.coordinates);\r\n    };\r\n    PointGeometry.prototype.getType = function () {\r\n        return GeometryType.Point;\r\n    };\r\n    PointGeometry.getCenterCoordinate = function (_a) {\r\n        var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n        // @ts-ignore\r\n        return PointGeometry.centerCoordinateMapping.get(style.pointType)({\r\n            ctx: ctx,\r\n            coordinates: coordinates,\r\n            map: map,\r\n            style: style,\r\n            isScale: isScale,\r\n        });\r\n    };\r\n    // @ts-ignore\r\n    PointGeometry.prototype.getCenterCoordinate = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, isScale = _a.isScale;\r\n        return PointGeometry.getCenterCoordinate({\r\n            coordinates: this.coordinates,\r\n            ctx: ctx,\r\n            map: this.getMap(),\r\n            style: style,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawCirclePoint - 绘制圆的点\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawCirclePoint = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        CircleGeometry.drawCircle({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: { radius: style.radius, center: coordinates },\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawImagePoint - 绘制图片的点\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawImagePoint = function (_a) {\r\n        var _b, _c, _d;\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        // @ts-ignore\r\n        var pixel = map.pointToPixel(new BMap.Point(coordinates.lng, coordinates.lat));\r\n        var image = ImageCache.get({\r\n            src: ((_b = style === null || style === void 0 ? void 0 : style.img) === null || _b === void 0 ? void 0 : _b.src) || '',\r\n            width: ((_c = style === null || style === void 0 ? void 0 : style.img) === null || _c === void 0 ? void 0 : _c.width) || 0,\r\n            height: ((_d = style === null || style === void 0 ? void 0 : style.img) === null || _d === void 0 ? void 0 : _d.height) || 0,\r\n        });\r\n        if (!image) {\r\n            // @ts-ignore\r\n            var image_1 = new Image(style.img.width, style.img.height);\r\n            image_1.onload = function () {\r\n                var _a, _b, _c;\r\n                ImageCache.add({\r\n                    src: ((_a = style === null || style === void 0 ? void 0 : style.img) === null || _a === void 0 ? void 0 : _a.src) || '',\r\n                    width: ((_b = style === null || style === void 0 ? void 0 : style.img) === null || _b === void 0 ? void 0 : _b.width) || 0,\r\n                    height: ((_c = style === null || style === void 0 ? void 0 : style.img) === null || _c === void 0 ? void 0 : _c.height) || 0,\r\n                }, image_1);\r\n                // @ts-ignore\r\n                ctx.drawImage(image_1, pixel.x, pixel.y, style.img.width, style.img.height);\r\n            };\r\n            // @ts-ignore\r\n            image_1.src = style.img.src;\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            ctx.drawImage(image, pixel.x, pixel.y, style.img.width, style.img.height);\r\n        }\r\n    };\r\n    /**\r\n     * drawRegularPolygon\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawRegularPolygon = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        RegularPolygonGeometry.drawRegularPolygon({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.regularPolygon), { center: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawStart\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawStart = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        StartGeometry.drawStart({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.start), { center: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawSector\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawSector = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        SectorGeometry.drawSector({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.sector), { center: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawRect\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawRect = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        RectGeometry.drawRect({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.rect), { leftTop: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    PointGeometry.drawRadiusRect = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        RadiusRectGeometry.drawRadiusRect({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.radiusRect), { leftTop: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    PointGeometry.drawLeaf = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        LeafGeometry.drawLeaf({\r\n            ctx: ctx,\r\n            style: style,\r\n            // @ts-ignore\r\n            coordinates: __assign(__assign({}, style.leaf), { center: coordinates }),\r\n            map: map,\r\n            isScale: false,\r\n        });\r\n    };\r\n    /**\r\n     * drawPoint\r\n     * @param ctx\r\n     * @param style\r\n     * @param coordinates\r\n     * @param map\r\n     */\r\n    PointGeometry.drawPoint = function (_a) {\r\n        var ctx = _a.ctx, style = _a.style, coordinates = _a.coordinates, map = _a.map;\r\n        var targetStyle = __assign(__assign(__assign({}, GeometryStyle), { radius: 5, pointType: 'circle' }), (style || {}));\r\n        // @ts-ignore\r\n        PointGeometry.drawMapping.get(targetStyle === null || targetStyle === void 0 ? void 0 : targetStyle.pointType)({\r\n            ctx: ctx,\r\n            style: targetStyle,\r\n            coordinates: coordinates,\r\n            map: map,\r\n        });\r\n    };\r\n    /**\r\n     * draw\r\n     * @param ctx\r\n     * @param style\r\n     */\r\n    PointGeometry.prototype.draw = function (ctx, style) {\r\n        PointGeometry.drawPoint({\r\n            ctx: ctx,\r\n            style: style,\r\n            coordinates: this.coordinates,\r\n            map: this.getMap(),\r\n        });\r\n    };\r\n    PointGeometry.isPixelInGeometry = function (_a) {\r\n        var coordinates = _a.coordinates, map = _a.map, pixel = _a.pixel, style = _a.style;\r\n        // @ts-ignore\r\n        return PointGeometry.isPixelInGeometryMapping.get(style === null || style === void 0 ? void 0 : style.pointType)({\r\n            // @ts-ignore\r\n            coordinates: PointGeometry.pointTypeToCoordinatesMapping.get(style === null || style === void 0 ? void 0 : style.pointType)(coordinates, style),\r\n            isScale: false,\r\n            map: map,\r\n            style: style,\r\n            pixel: pixel,\r\n        });\r\n    };\r\n    /**\r\n     * isPixelInGeometry\r\n     * @param pixel\r\n     * @param style\r\n     * @return boolean\r\n     */\r\n    PointGeometry.prototype.isPixelInGeometry = function (pixel, style) {\r\n        return PointGeometry.isPixelInGeometry({\r\n            coordinates: this.coordinates,\r\n            pixel: pixel,\r\n            map: this.getMap(),\r\n            style: style,\r\n        });\r\n    };\r\n    PointGeometry.drawMapping = new Map([\r\n        ['circle', PointGeometry.drawCirclePoint],\r\n        ['image', PointGeometry.drawImagePoint],\r\n        ['regularPolygon', PointGeometry.drawRegularPolygon],\r\n        ['start', PointGeometry.drawStart],\r\n        ['sector', PointGeometry.drawSector],\r\n        ['rect', PointGeometry.drawRect],\r\n        ['radiusRect', PointGeometry.drawRadiusRect],\r\n        ['leaf', PointGeometry.drawLeaf],\r\n    ]);\r\n    PointGeometry.isPixelInGeometryMapping = new Map([\r\n        ['circle', CircleGeometry.isPixelInGeometry],\r\n        ['image', RectGeometry.isPixelInGeometry],\r\n        ['regularPolygon', RegularPolygonGeometry.isPixelInGeometry],\r\n        ['start', StartGeometry.isPixelInGeometry],\r\n        ['sector', SectorGeometry.isPixelInGeometry],\r\n        ['rect', RectGeometry.isPixelInGeometry],\r\n        ['radiusRect', RadiusRectGeometry.isPixelInGeometry],\r\n        ['leaf', LeafGeometry.isPixelInGeometry],\r\n    ]);\r\n    PointGeometry.centerCoordinateMapping = new Map([\r\n        [\r\n            'circle',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return CircleGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    coordinates: {\r\n                        center: coordinates,\r\n                        // @ts-ignore\r\n                        radius: style.radius,\r\n                    },\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'image',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return RectGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ leftTop: coordinates }, style.img),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'regularPolygon',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return RegularPolygonGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ center: coordinates }, style.regularPolygon),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'start',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return StartGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ center: coordinates }, style.start),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'sector',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return SectorGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ center: coordinates }, style.sector),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'rect',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return RectGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ leftTop: coordinates }, style.rect),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'radiusRect',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return RadiusRectGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ leftTop: coordinates }, style.radiusRect),\r\n                });\r\n            },\r\n        ],\r\n        [\r\n            'leaf',\r\n            function (_a) {\r\n                var ctx = _a.ctx, coordinates = _a.coordinates, map = _a.map, style = _a.style, isScale = _a.isScale;\r\n                return LeafGeometry.getCenterCoordinate({\r\n                    ctx: ctx,\r\n                    map: map,\r\n                    style: style,\r\n                    isScale: isScale,\r\n                    // @ts-ignore\r\n                    coordinates: __assign({ center: coordinates }, style.leaf),\r\n                });\r\n            },\r\n        ],\r\n    ]);\r\n    PointGeometry.pointTypeToCoordinatesMapping = new Map([\r\n        [\r\n            'circle',\r\n            function (coordinates, style) { return ({\r\n                center: coordinates,\r\n                radius: style.radius,\r\n            }); },\r\n        ],\r\n        [\r\n            'image',\r\n            function (coordinates, style) { return ({\r\n                leftTop: coordinates,\r\n                // @ts-ignore\r\n                width: style.img.width,\r\n                // @ts-ignore\r\n                height: style.img.height,\r\n            }); },\r\n        ],\r\n        [\r\n            'regularPolygon',\r\n            function (coordinates, style) { return (__assign({ center: coordinates }, style.regularPolygon)); },\r\n        ],\r\n        [\r\n            'start',\r\n            function (coordinates, style) { return (__assign({ center: coordinates }, style.start)); },\r\n        ],\r\n        [\r\n            'sector',\r\n            function (coordinates, style) { return (__assign({ center: coordinates }, style.sector)); },\r\n        ],\r\n        [\r\n            'rect',\r\n            function (coordinates, style) { return (__assign({ leftTop: coordinates }, style.rect)); },\r\n        ],\r\n        [\r\n            'radiusRect',\r\n            function (coordinates, style) { return (__assign({ leftTop: coordinates }, style.radiusRect)); },\r\n        ],\r\n        [\r\n            'leaf',\r\n            function (coordinates, style) { return (__assign({ center: coordinates }, style.leaf)); },\r\n        ],\r\n    ]);\r\n    return PointGeometry;\r\n}(Geometry));\r\nexport default PointGeometry;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","ImageCache","GeometryStyle","GeometryType","VectorActions","CircleGeometry","Geometry","LeafGeometry","RadiusRectGeometry","RectGeometry","RegularPolygonGeometry","SectorGeometry","StartGeometry","PointGeometry","_super","coordinates","_this","setCoordinates","_a","getLayer","getEmitter","trigger","UPDATE","getCoordinates","getType","Point","getCenterCoordinate","ctx","map","style","isScale","centerCoordinateMapping","get","pointType","getMap","drawCirclePoint","drawCircle","radius","center","drawImagePoint","image_1","pixel","pointToPixel","BMap","lng","lat","image","src","_b","img","width","_c","height","_d","drawImage","x","y","Image","onload","add","drawRegularPolygon","regularPolygon","drawStart","start","drawSector","sector","drawRect","rect","leftTop","drawRadiusRect","radiusRect","drawLeaf","leaf","drawPoint","targetStyle","drawMapping","draw","isPixelInGeometry","isPixelInGeometryMapping","pointTypeToCoordinatesMapping","Map"],"mappings":"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"}