@import './toolBarLayout.less';
@import './scrollLayout.less';

@adhere-ui-flexlayout-grid-count: 24;

.adhere-ui-flexlayout {
  display: flex;

  // 横向
  &.adhere-ui-flexlayout-horizontal {
    flex-flow: row wrap;

    .adhere-ui-flexlayout-fixed {
      // 横向的栅格系统设置
      .span(@n, @i: 0) when (@i =< @n) {
        &.adhere-ui-flexlayout-fixed-col-@{i} {
          flex-basis: (@i * 100% / @n);
          max-width: (@i * 100% / @n);
        }
        .span(@n, (@i + 1));
      }

      .span(@adhere-ui-flexlayout-grid-count);
    }

    .adhere-ui-flexlayout-auto-autoFixed {
      min-width: 0;
    }
  }

  // 纵向
  &.adhere-ui-flexlayout-vertical {
    flex-direction: column;

    // 纵向的栅格系统设置
    .adhere-ui-flexlayout-fixed,
    .adhere-ui-flexlayout-auto {
      box-sizing: content-box;

      &:first-child {
        padding-top: 0 !important;
      }

      &:last-child {
        padding-bottom: 0 !important;
      }
    }

    .adhere-ui-flexlayout-auto-autoFixed {
      min-height: 0;
    }
  }

  .adhere-ui-flexlayout-fixed {
    flex-shrink: 0;

    &.adhere-ui-flexlayout-fixed-fit {
      display: flex;

      > .adhere-ui-flexlayout {
        width: 100%;
      }

      > * {
        width: 100%;
      }
    }
  }

  .adhere-ui-flexlayout-auto {
    flex-grow: 1;

    &.adhere-ui-flexlayout-auto-fit {
      display: flex;

      > .adhere-ui-flexlayout {
        width: 100%;
      }

      > * {
        width: 100%;
      }
    }
  }
}
