{"version":3,"file":"Hooks.js","sources":["Hooks.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useTrigger = exports.useGap = exports.useGrid = void 0;\nvar ahooks_1 = require(\"ahooks\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importStar(require(\"react\"));\nvar icons_1 = require(\"@ant-design/icons\");\nvar resize_observer_1 = require(\"@juggle/resize-observer\");\nvar Fixed_1 = require(\"./Fixed\");\n/**\n * useGrid\n * @description 是否使用了栅格系统\n * @param {FixedProps} props\n * @return {boolean}\n */\nvar useGrid = function useGrid(props) {\n  return (0, react_1.useMemo)(function () {\n    return 'span' in props && typeof props.span === 'number' && props.span >= 0 && props.span <= Fixed_1.gridCount;\n  }, [props.span]);\n};\nexports.useGrid = useGrid;\n/**\n * useGap\n * @param {number | number[]} gutter\n * @return {boolean}\n */\nvar useGap = function useGap(gutter) {\n  return (0, react_1.useMemo)(function () {\n    if (gutter === undefined || gutter === null || gutter === '' || gutter === 0 || typeof gutter === 'function' || (0, _typeof2.default)(gutter) === 'object' && !Array.isArray(gutter)) return false;\n    if (Array.isArray(gutter)) {\n      if (gutter.length === 0) return false;\n      if (gutter.length >= 1 && gutter.length <= 2) {\n        return !gutter.some(function (g) {\n          return g === undefined || g === null || g === '' || typeof g !== 'number';\n        });\n      }\n    }\n    return true;\n  }, [gutter]);\n};\nexports.useGap = useGap;\n/**\n * useTrigger\n */\nvar useTrigger = function useTrigger(_a) {\n  var trigger = _a.trigger,\n    _b = _a.collapseDirection,\n    collapseDirection = _b === void 0 ? 'L' : _b,\n    _c = _a.collapsedSize,\n    collapsedSize = _c === void 0 ? 80 : _c,\n    _d = _a.defaultCollapsible,\n    defaultCollapsible = _d === void 0 ? false : _d,\n    onCollapse = _a.onCollapse,\n    selectorPrefix = _a.selectorPrefix,\n    elRef = _a.elRef;\n  var _e = (0, react_1.useState)(defaultCollapsible),\n    collapsible = _e[0],\n    setCollapsible = _e[1];\n  var originElSize = (0, react_1.useRef)({\n    computedWidth: 0,\n    computedHeight: 0\n  });\n  var DefaultTrigger = (0, react_1.useMemo)(function () {\n    if (collapseDirection === 'L') {\n      if (collapsible) {\n        return react_1.default.createElement(icons_1.DoubleRightOutlined, null);\n      } else return react_1.default.createElement(icons_1.DoubleLeftOutlined, null);\n    } else if (collapseDirection === 'R') {\n      if (collapsible) {\n        return react_1.default.createElement(icons_1.DoubleLeftOutlined, null);\n      } else return react_1.default.createElement(icons_1.DoubleRightOutlined, null);\n    } else if (collapseDirection === 'T') {\n      if (collapsible) {\n        return react_1.default.createElement(icons_1.DoubleRightOutlined, {\n          style: {\n            transform: 'rotate(90deg)'\n          }\n        });\n      } else return react_1.default.createElement(icons_1.DoubleLeftOutlined, {\n        style: {\n          transform: 'rotate(90deg)'\n        }\n      });\n    } else if (collapseDirection === 'B') {\n      if (collapsible) {\n        return react_1.default.createElement(icons_1.DoubleLeftOutlined, {\n          style: {\n            transform: 'rotate(90deg)'\n          }\n        });\n      } else return react_1.default.createElement(icons_1.DoubleRightOutlined, {\n        style: {\n          transform: 'rotate(90deg)'\n        }\n      });\n    }\n  }, [collapseDirection, collapsible]);\n  var renderTrigger = (0, react_1.useCallback)(function () {\n    if (trigger) {\n      var triggerInner = trigger === null || trigger === void 0 ? void 0 : trigger(collapsible, DefaultTrigger);\n      if (triggerInner) {\n        return react_1.default.createElement(\"div\", {\n          className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-trigger\"), \"\".concat(selectorPrefix, \"-trigger-\").concat(collapseDirection === null || collapseDirection === void 0 ? void 0 : collapseDirection.toLowerCase())),\n          onClick: _onCollapse\n        }, triggerInner);\n      }\n      return null;\n    }\n    return null;\n  }, [trigger, collapseDirection, DefaultTrigger]);\n  (0, ahooks_1.useUpdateEffect)(function () {\n    setCollapsible(defaultCollapsible);\n  }, [defaultCollapsible]);\n  (0, ahooks_1.useUpdateEffect)(function () {\n    adapterSize();\n  }, [collapsible]);\n  (0, react_1.useEffect)(function () {\n    var el = elRef.current;\n    var ro = new resize_observer_1.ResizeObserver(function (entries) {\n      if (!collapsible) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n          var entry = entries_1[_i];\n          var target = entry.target;\n          if (target === el) {\n            originElSize.current = {\n              computedWidth: toPx(target.offsetWidth),\n              computedHeight: toPx(target.offsetHeight)\n            };\n          }\n        }\n      }\n    });\n    ro.observe(el);\n    return function () {\n      ro.unobserve(el);\n    };\n  }, [collapsible]);\n  (0, ahooks_1.useMount)(function () {\n    // 获取originElSize\n    var computedStyle = window.getComputedStyle(elRef.current);\n    var width = computedStyle.width;\n    var height = computedStyle.height;\n    originElSize.current = {\n      computedWidth: width ? width : 'auto',\n      computedHeight: height ? height : 'auto'\n    };\n  });\n  (0, ahooks_1.useMount)(function () {\n    adapterSize();\n  });\n  /**\n   * toPx\n   * @param val\n   */\n  function toPx(val) {\n    if (typeof val === 'number') return \"\".concat(val, \"px\");\n    return val;\n  }\n  /**\n   * adapterSize\n   */\n  function adapterSize() {\n    var el = elRef.current;\n    if (collapsible) {\n      if (collapseDirection === 'L') {\n        el.style.width = toPx(collapsedSize);\n      } else if (collapseDirection === 'R') {\n        el.style.width = toPx(collapsedSize);\n      } else if (collapseDirection === 'T') {\n        el.style.height = toPx(collapsedSize);\n      } else if (collapseDirection === 'B') {\n        el.style.height = toPx(collapsedSize);\n      }\n      return;\n    }\n    if (collapseDirection === 'L') {\n      el.style.width = \"\".concat(originElSize.current.computedWidth);\n    } else if (collapseDirection === 'R') {\n      el.style.width = \"\".concat(originElSize.current.computedWidth);\n    } else if (collapseDirection === 'T') {\n      el.style.height = \"\".concat(originElSize.current.computedHeight);\n    } else if (collapseDirection === 'B') {\n      el.style.height = \"\".concat(originElSize.current.computedHeight);\n    }\n  }\n  /**\n   * _onCollapse\n   */\n  function _onCollapse() {\n    setCollapsible(!collapsible);\n    onCollapse === null || onCollapse === void 0 ? void 0 : onCollapse(!collapsible);\n  }\n  return renderTrigger;\n};\nexports.useTrigger = useTrigger;"],"names":["_interopRequireDefault","require","_typeof2","__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","default","ahooks_1","exports","useTrigger","useGap","useGrid","classnames_1","react_1","icons_1","resize_observer_1","Fixed_1","props","useMemo","span","gridCount","gutter","Array","isArray","length","some","g","_a","trigger","_b","collapseDirection","_c","collapsedSize","_d","defaultCollapsible","onCollapse","selectorPrefix","elRef","_e","useState","collapsible","setCollapsible","originElSize","useRef","computedWidth","computedHeight","DefaultTrigger","createElement","DoubleRightOutlined","DoubleLeftOutlined","style","transform","renderTrigger","useCallback","triggerInner","className","concat","toLowerCase","onClick","_onCollapse","toPx","val","adapterSize","el","current","width","height","useUpdateEffect","useEffect","ro","ResizeObserver","entries","_i","entries_1","target","offsetWidth","offsetHeight","observe","unobserve","useMount","computedStyle","window","getComputedStyle"],"mappings":"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"}