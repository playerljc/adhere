import _typeof from"@babel/runtime/helpers/typeof";import{useMount,useUpdateEffect}from"ahooks";import classNames from"classnames";import React,{useCallback,useEffect,useMemo,useRef,useState}from"react";import{DoubleLeftOutlined,DoubleRightOutlined}from"@ant-design/icons";import{ResizeObserver}from"@juggle/resize-observer";import{gridCount}from"./Fixed";var useGrid=function(e){return useMemo(function(){return"span"in e&&"number"==typeof e.span&&0<=e.span&&e.span<=gridCount},[e.span])},useGap=function(e){return useMemo(function(){if(null==e||""===e||0===e||"function"==typeof e||"object"===_typeof(e)&&!Array.isArray(e))return!1;if(Array.isArray(e)){if(0===e.length)return!1;if(1<=e.length&&e.length<=2)return!e.some(function(e){return null==e||""===e||"number"!=typeof e})}return!0},[e])},useTrigger=function(e){var t=e.trigger,r=e.collapseDirection,n=void 0===r?"L":r,r=e.collapsedSize,u=void 0===r?80:r,r=e.defaultCollapsible,o=void 0!==r&&r,i=e.onCollapse,l=e.selectorPrefix,c=e.elRef,r=useState(o),a=r[0],s=r[1],f=useRef({computedWidth:0,computedHeight:0}),d=useMemo(function(){return"L"===n?a?React.createElement(DoubleRightOutlined,null):React.createElement(DoubleLeftOutlined,null):"R"===n?a?React.createElement(DoubleLeftOutlined,null):React.createElement(DoubleRightOutlined,null):"T"===n?a?React.createElement(DoubleRightOutlined,{style:{transform:"rotate(90deg)"}}):React.createElement(DoubleLeftOutlined,{style:{transform:"rotate(90deg)"}}):"B"===n?a?React.createElement(DoubleLeftOutlined,{style:{transform:"rotate(90deg)"}}):React.createElement(DoubleRightOutlined,{style:{transform:"rotate(90deg)"}}):void 0},[n,a]),e=useCallback(function(){var e;return t&&(e=null==t?void 0:t(a,d))?React.createElement("div",{className:classNames("".concat(l,"-trigger"),"".concat(l,"-trigger-").concat(null==n?void 0:n.toLowerCase())),onClick:g},e):null},[t,n,d]);function m(e){return"number"==typeof e?"".concat(e,"px"):e}function p(){var e=c.current;a?"L"===n||"R"===n?e.style.width=m(u):"T"!==n&&"B"!==n||(e.style.height=m(u)):"L"===n||"R"===n?e.style.width="".concat(f.current.computedWidth):"T"!==n&&"B"!==n||(e.style.height="".concat(f.current.computedHeight))}function g(){s(!a),null!=i&&i(!a)}return useUpdateEffect(function(){s(o)},[o]),useUpdateEffect(function(){p()},[a]),useEffect(function(){var u=c.current,e=new ResizeObserver(function(e){if(!a)for(var t=0,r=e;t<r.length;t++){var n=r[t].target;n===u&&(f.current={computedWidth:m(n.offsetWidth),computedHeight:m(n.offsetHeight)})}});return e.observe(u),function(){e.unobserve(u)}},[a]),useMount(function(){var e=window.getComputedStyle(c.current),t=e.width,e=e.height;f.current={computedWidth:t||"auto",computedHeight:e||"auto"}}),useMount(function(){p()}),e};export{useGrid,useGap,useTrigger};
//# sourceMappingURL=Hooks.js.map
