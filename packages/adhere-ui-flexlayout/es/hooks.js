import _DoubleLeftOutlined from"@ant-design/icons/es/icons/DoubleLeftOutlined";import _DoubleRightOutlined from"@ant-design/icons/es/icons/DoubleRightOutlined";import _typeof from"@babel/runtime/helpers/typeof";import{useMount,useUpdateEffect}from"ahooks";import classNames from"classnames";import React,{useCallback,useEffect,useMemo,useRef,useState}from"react";import{ResizeObserver}from"@juggle/resize-observer";import{gridCount}from"./Fixed";var useGrid=function(e){return useMemo(function(){return"span"in e&&"number"==typeof e.span&&0<=e.span&&e.span<=gridCount},[e.span])},useGap=function(e){return useMemo(function(){if(null==e||""===e||0===e||"function"==typeof e||"object"===_typeof(e)&&!Array.isArray(e))return!1;if(Array.isArray(e)){if(0===e.length)return!1;if(1<=e.length&&e.length<=2)return!e.some(function(e){return null==e||""===e||"number"!=typeof e})}return!0},[e])},useTrigger=function(e){var t=e.trigger,n=e.collapseDirection,r=void 0===n?"L":n,n=e.collapsedSize,o=void 0===n?80:n,n=e.defaultCollapsible,u=void 0!==n&&n,i=e.onCollapse,l=e.selectorPrefix,c=e.elRef,n=useState(u),a=n[0],s=n[1],f=useRef({computedWidth:0,computedHeight:0}),d=useMemo(function(){return"L"===r?a?React.createElement(_DoubleRightOutlined,null):React.createElement(_DoubleLeftOutlined,null):"R"===r?a?React.createElement(_DoubleLeftOutlined,null):React.createElement(_DoubleRightOutlined,null):"T"===r?a?React.createElement(_DoubleRightOutlined,{style:{transform:"rotate(90deg)"}}):React.createElement(_DoubleLeftOutlined,{style:{transform:"rotate(90deg)"}}):"B"===r?a?React.createElement(_DoubleLeftOutlined,{style:{transform:"rotate(90deg)"}}):React.createElement(_DoubleRightOutlined,{style:{transform:"rotate(90deg)"}}):void 0},[r,a]),e=useCallback(function(){var e;return t&&(e=null==t?void 0:t(a,d))?React.createElement("div",{className:classNames("".concat(l,"-trigger"),"".concat(l,"-trigger-").concat(null==r?void 0:r.toLowerCase())),onClick:g},e):null},[t,r,d]);function m(e){return"number"==typeof e?"".concat(e,"px"):e}function p(){var e=c.current;a?"L"===r||"R"===r?e.style.width=m(o):"T"!==r&&"B"!==r||(e.style.height=m(o)):"L"===r||"R"===r?e.style.width="".concat(f.current.computedWidth):"T"!==r&&"B"!==r||(e.style.height="".concat(f.current.computedHeight))}function g(){s(!a),null!=i&&i(!a)}return useUpdateEffect(function(){s(u)},[u]),useUpdateEffect(function(){p()},[a]),useEffect(function(){var o=c.current,e=new ResizeObserver(function(e){if(!a)for(var t=0,n=e;t<n.length;t++){var r=n[t].target;r===o&&(f.current={computedWidth:m(r.offsetWidth),computedHeight:m(r.offsetHeight)})}});return e.observe(o),function(){e.unobserve(o)}},[a]),useMount(function(){var e=window.getComputedStyle(c.current),t=e.width,e=e.height;f.current={computedWidth:t||"auto",computedHeight:e||"auto"}}),useMount(function(){p()}),e};export{useGrid,useGap,useTrigger};
//# sourceMappingURL=Hooks.js.map
