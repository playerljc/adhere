{"version":3,"file":"Tree.js","sources":["Tree.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_mobile_1 = require(\"antd-mobile\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_ui_hooks_1 = __importDefault(require(\"@baifendian/adhere-ui-hooks\"));\nvar adhere_ui_space_1 = __importDefault(require(\"@baifendian/adhere-ui-space\"));\nvar Constant_1 = require(\"./Constant\");\nvar TreeContext_1 = __importDefault(require(\"./TreeContext\"));\nvar TreeNode_1 = __importDefault(require(\"./TreeNode\"));\nvar selectorPrefix = 'adhere-mobile-ui-tree';\nvar usePropToState = adhere_ui_hooks_1.default.usePropToState;\n/**\n * Tree\n * @description Tree\n */\nvar Tree = (0, react_1.memo)(function (_a) {\n  var _b;\n  var className = _a.className,\n    style = _a.style,\n    treeData = _a.treeData,\n    expandAll = _a.expandAll,\n    expandedKeys = _a.expandedKeys,\n    selectedKeys = _a.selectedKeys,\n    switcherIcon = _a.switcherIcon,\n    titleRender = _a.titleRender,\n    renderEmpty = _a.renderEmpty,\n    size = _a.size,\n    checkable = _a.checkable,\n    checkedKeys = _a.checkedKeys,\n    multiple = _a.multiple;\n  // Tree的密度\n  var targetSize = (0, react_1.useMemo)(function () {\n    return size !== null && size !== void 0 ? size : Constant_1.DEFAULT_SIZE;\n  }, [size]);\n  // 整个Tree是否是可勾选的Tree\n  var targetCheckable = (0, react_1.useMemo)(function () {\n    if (checkable === undefined || checkable === null) return Constant_1.DEFAULT_TREE_CHECKABLE;\n    return checkable;\n  }, [checkable]);\n  // 是否可以选中多个节点\n  var targetMultiple = (0, react_1.useMemo)(function () {\n    if (multiple === undefined || multiple === null) return Constant_1.DEFAULT_MULTIPLE;\n    return multiple;\n  }, [multiple]);\n  // Tree的数据\n  var targetTreeData = (0, react_1.useMemo)(function () {\n    return treeData !== null && treeData !== void 0 ? treeData : [];\n  }, [treeData]);\n  // 展开的keys\n  var defaultExpandedKeys = (0, react_1.useMemo)(function () {\n    return expandedKeys !== null && expandedKeys !== void 0 ? expandedKeys : [];\n  }, [expandedKeys]);\n  var _c = usePropToState(defaultExpandedKeys),\n    targetExpandedKeys = _c[0],\n    setTargetExpandedKeys = _c[1];\n  // 选择的keys\n  var defaultSelectedKeys = (0, react_1.useMemo)(function () {\n    return selectedKeys !== null && selectedKeys !== void 0 ? selectedKeys : [];\n  }, [selectedKeys]);\n  var _d = usePropToState(defaultSelectedKeys),\n    targetSelectedKeys = _d[0],\n    setTargetSelectedKeys = _d[1];\n  // check的keys\n  var defaultCheckedKeys = (0, react_1.useMemo)(function () {\n    return checkedKeys !== null && checkedKeys !== void 0 ? checkedKeys : [];\n  }, [checkedKeys]);\n  var _e = usePropToState(defaultCheckedKeys),\n    targetCheckedKeys = _e[0],\n    setTargetCheckedKeys = _e[1];\n  // 行的间距\n  var rowGap = (0, react_1.useMemo)(function () {\n    return new Map([['small', 5], ['middle', 15], ['large', 25]]).get(targetSize);\n  }, [targetSize]);\n  var treeChildrenElements = (0, react_1.useMemo)(function () {\n    return targetTreeData.map(function (_treeNodeData) {\n      return react_1.default.createElement(TreeNode_1.default, __assign({\n        level: 0,\n        icon: switcherIcon,\n        titleRender: titleRender,\n        id: _treeNodeData.key\n      }, _treeNodeData));\n    });\n  }, [targetTreeData, switcherIcon, titleRender]);\n  var isEmpty = (0, react_1.useMemo)(function () {\n    return !treeChildrenElements.length;\n  }, [treeChildrenElements]);\n  var contextProviderValue = (0, react_1.useMemo)(function () {\n    return {\n      expandedKeys: function () {\n        return targetExpandedKeys;\n      },\n      selectedKeys: function () {\n        return targetSelectedKeys;\n      },\n      checkedKeys: function () {\n        return targetCheckedKeys;\n      },\n      setSelectedKeys: setTargetSelectedKeys,\n      setExpandedKeys: setTargetExpandedKeys,\n      setCheckedKeys: setTargetCheckedKeys,\n      size: function () {\n        return targetSize;\n      },\n      rowGap: function () {\n        return rowGap !== null && rowGap !== void 0 ? rowGap : 15;\n      },\n      multiple: function () {\n        return targetMultiple;\n      },\n      checkable: function () {\n        return targetCheckable;\n      },\n      treeData: function () {\n        return treeData;\n      }\n    };\n  }, [targetExpandedKeys, targetSelectedKeys, targetCheckedKeys, rowGap, targetSize, targetMultiple, targetCheckable, treeData]);\n  return react_1.default.createElement(TreeContext_1.default.Provider, {\n    value: contextProviderValue\n  }, react_1.default.createElement(\"ul\", {\n    className: (0, classnames_1.default)(selectorPrefix, className),\n    style: style !== null && style !== void 0 ? style : {}\n  }, react_1.default.createElement(adhere_ui_space_1.default.Group, {\n    direction: \"vertical\",\n    size: rowGap\n  }, isEmpty && react_1.default.createElement(\"li\", null, (_b = renderEmpty === null || renderEmpty === void 0 ? void 0 : renderEmpty()) !== null && _b !== void 0 ? _b : react_1.default.createElement(antd_mobile_1.ErrorBlock, {\n    status: \"empty\"\n  })), !isEmpty && treeChildrenElements)));\n});\nTree.displayName = 'Tree';\nexports.default = Tree;"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__importDefault","default","antd_mobile_1","exports","require","classnames_1","react_1","adhere_ui_hooks_1","adhere_ui_space_1","Constant_1","TreeContext_1","TreeNode_1","selectorPrefix","usePropToState","Tree","memo","_a","className","style","treeData","expandedKeys","expandAll","selectedKeys","switcherIcon","titleRender","renderEmpty","size","checkable","checkedKeys","multiple","targetSize","useMemo","DEFAULT_SIZE","targetCheckable","DEFAULT_TREE_CHECKABLE","targetMultiple","DEFAULT_MULTIPLE","targetTreeData","defaultExpandedKeys","_c","targetExpandedKeys","setTargetExpandedKeys","defaultSelectedKeys","_d","targetSelectedKeys","setTargetSelectedKeys","defaultCheckedKeys","_e","targetCheckedKeys","setTargetCheckedKeys","rowGap","Map","treeChildrenElements","map","_treeNodeData","createElement","level","icon","id","key","isEmpty","contextProviderValue","setSelectedKeys","setExpandedKeys","setCheckedKeys","Provider","Group","direction","_b","ErrorBlock","status","displayName"],"mappings":"AAAA,aAEA,IAAIA,SAA0C,WAQ5C,OAPAA,SAAWC,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMC,KAAMP,SAAS,CACvC,EACIQ,gBAAyDd,OAAOe,OAAS,SAAUC,EAAGC,EAAGC,EAAGC,GACnFC,KAAAA,IAAPD,IAAkBA,EAAKD,GAC3B,IAAIG,EAAOrB,OAAOsB,yBAAyBL,EAAGC,CAAC,EAC1CG,IAAS,QAASA,EAAQJ,EAAEM,WAAaF,CAAAA,EAAKG,UAAYH,CAAAA,EAAKI,gBAClEJ,EAAO,CACLK,WAAY,CAAA,EACZC,IAAK,WACH,OAAOV,EAAEC,EACX,CACF,GAEFlB,OAAO4B,eAAeZ,EAAGG,EAAIE,CAAI,CACnC,EAAI,SAAUL,EAAGC,EAAGC,EAAGC,GAErBH,EADsBG,EAAXC,KAAAA,IAAPD,EAAuBD,EACzBC,GAAMF,EAAEC,EACZ,EACIW,mBAA+D7B,OAAOe,OAAS,SAAUC,EAAGc,GAC9F9B,OAAO4B,eAAeZ,EAAG,UAAW,CAClCU,WAAY,CAAA,EACZK,MAAOD,CACT,CAAC,CACH,EAAI,SAAUd,EAAGc,GACfd,EAAW,QAAIc,CACjB,EACIE,aAAkD,SAAUC,GAC9D,GAAIA,GAAOA,EAAIV,WAAY,OAAOU,EAClC,IAAIC,EAAS,GACb,GAAW,MAAPD,EAAa,IAAK,IAAIf,KAAKe,EAAe,YAANf,GAAmBlB,OAAOS,UAAUC,eAAeC,KAAKsB,EAAKf,CAAC,GAAGJ,gBAAgBoB,EAAQD,EAAKf,CAAC,EAEvI,OADAW,mBAAmBK,EAAQD,CAAG,EACvBC,CACT,EACIC,gBAAwD,SAAUF,GACpE,OAAOA,GAAOA,EAAIV,WAAaU,EAAM,CACnCG,QAAWH,CACb,CACF,EAIII,eAHJrC,OAAO4B,eAAeU,QAAS,aAAc,CAC3CP,MAAO,CAAA,CACT,CAAC,EACmBQ,QAAQ,aAAa,GACrCC,aAAeL,gBAAgBI,QAAQ,YAAY,CAAC,EACpDE,QAAUT,aAAaO,QAAQ,OAAO,CAAC,EACvCG,kBAAoBP,gBAAgBI,QAAQ,6BAA6B,CAAC,EAC1EI,kBAAoBR,gBAAgBI,QAAQ,6BAA6B,CAAC,EAC1EK,WAAaL,QAAQ,YAAY,EACjCM,cAAgBV,gBAAgBI,QAAQ,eAAe,CAAC,EACxDO,WAAaX,gBAAgBI,QAAQ,YAAY,CAAC,EAClDQ,eAAiB,wBACjBC,eAAiBN,kBAAkBN,QAAQY,eAK3CC,MAAO,EAAIR,QAAQS,MAAM,SAAUC,GACrC,IACIC,EAAYD,EAAGC,UACjBC,EAAQF,EAAGE,MACXC,EAAWH,EAAGG,SAEdC,GADYJ,EAAGK,UACAL,EAAGI,cAClBE,EAAeN,EAAGM,aAClBC,EAAeP,EAAGO,aAClBC,EAAcR,EAAGQ,YACjBC,EAAcT,EAAGS,YACjBC,EAAOV,EAAGU,KACVC,EAAYX,EAAGW,UACfC,EAAcZ,EAAGY,YACjBC,EAAWb,EAAGa,SAEZC,GAAa,EAAIxB,QAAQyB,SAAS,WACpC,OAAOL,MAAAA,EAAmCA,EAAOjB,WAAWuB,YAC9D,EAAG,CAACN,EAAK,EAELO,GAAkB,EAAI3B,QAAQyB,SAAS,WACzC,OAAIJ,MAAAA,EAAsDlB,WAAWyB,uBAC9DP,CACT,EAAG,CAACA,EAAU,EAEVQ,GAAiB,EAAI7B,QAAQyB,SAAS,WACxC,OAAIF,MAAAA,EAAoDpB,WAAW2B,iBAC5DP,CACT,EAAG,CAACA,EAAS,EAETQ,GAAiB,EAAI/B,QAAQyB,SAAS,WACxC,OAAOZ,MAAAA,EAA2CA,EAAW,EAC/D,EAAG,CAACA,EAAS,EAETmB,GAAsB,EAAIhC,QAAQyB,SAAS,WAC7C,OAAOX,MAAAA,EAAmDA,EAAe,EAC3E,EAAG,CAACA,EAAa,EACbmB,EAAK1B,eAAeyB,CAAmB,EACzCE,EAAqBD,EAAG,GACxBE,EAAwBF,EAAG,GAEzBG,GAAsB,EAAIpC,QAAQyB,SAAS,WAC7C,OAAOT,MAAAA,EAAmDA,EAAe,EAC3E,EAAG,CAACA,EAAa,EACbqB,EAAK9B,eAAe6B,CAAmB,EACzCE,EAAqBD,EAAG,GACxBE,EAAwBF,EAAG,GAEzBG,GAAqB,EAAIxC,QAAQyB,SAAS,WAC5C,OAAOH,MAAAA,EAAiDA,EAAc,EACxE,EAAG,CAACA,EAAY,EACZmB,EAAKlC,eAAeiC,CAAkB,EACxCE,EAAoBD,EAAG,GACvBE,EAAuBF,EAAG,GAExBG,GAAS,EAAI5C,QAAQyB,SAAS,WAChC,OAAO,IAAIoB,IAAI,CAAC,CAAC,QAAS,GAAI,CAAC,SAAU,IAAK,CAAC,QAAS,IAAI,EAAE3D,IAAIsC,CAAU,CAC9E,EAAG,CAACA,EAAW,EACXsB,GAAuB,EAAI9C,QAAQyB,SAAS,WAC9C,OAAOM,EAAegB,IAAI,SAAUC,GAClC,OAAOhD,QAAQL,QAAQsD,cAAc5C,WAAWV,QAASrC,SAAS,CAChE4F,MAAO,EACPC,KAAMlC,EACNC,YAAaA,EACbkC,GAAIJ,EAAcK,GACpB,EAAGL,CAAa,CAAC,CACnB,CAAC,CACH,EAAG,CAACjB,EAAgBd,EAAcC,EAAY,EAC1CoC,GAAU,EAAItD,QAAQyB,SAAS,WACjC,MAAO,CAACqB,EAAqBhF,MAC/B,EAAG,CAACgF,EAAqB,EACrBS,GAAuB,EAAIvD,QAAQyB,SAAS,WAC9C,MAAO,CACLX,aAAc,WACZ,OAAOoB,CACT,EACAlB,aAAc,WACZ,OAAOsB,CACT,EACAhB,YAAa,WACX,OAAOoB,CACT,EACAc,gBAAiBjB,EACjBkB,gBAAiBtB,EACjBuB,eAAgBf,EAChBvB,KAAM,WACJ,OAAOI,CACT,EACAoB,OAAQ,WACN,OAAOA,MAAAA,EAAuCA,EAAS,EACzD,EACArB,SAAU,WACR,OAAOM,CACT,EACAR,UAAW,WACT,OAAOM,CACT,EACAd,SAAU,WACR,OAAOA,CACT,CACF,CACF,EAAG,CAACqB,EAAoBI,EAAoBI,EAAmBE,EAAQpB,EAAYK,EAAgBF,EAAiBd,EAAS,EAC7H,OAAOb,QAAQL,QAAQsD,cAAc7C,cAAcT,QAAQgE,SAAU,CACnErE,MAAOiE,CACT,EAAGvD,QAAQL,QAAQsD,cAAc,KAAM,CACrCtC,WAAW,EAAIZ,aAAaJ,SAASW,eAAgBK,CAAS,EAC9DC,MAAOA,MAAAA,EAAqCA,EAAQ,EACtD,EAAGZ,QAAQL,QAAQsD,cAAc/C,kBAAkBP,QAAQiE,MAAO,CAChEC,UAAW,WACXzC,KAAMwB,CACR,EAAGU,GAAWtD,QAAQL,QAAQsD,cAAc,KAAM,KAAM,OAACa,EAAK3C,MAAAA,EAAiD,KAAA,EAASA,EAAY,GAA+B2C,EAAK9D,QAAQL,QAAQsD,cAAcrD,cAAcmE,WAAY,CAC9NC,OAAQ,OACV,CAAC,CAAC,EAAG,CAACV,GAAWR,CAAoB,CAAC,CAAC,CACzC,CAAC,EACDtC,KAAKyD,YAAc,OACnBpE,QAAQF,QAAUa"}