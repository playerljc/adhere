"use strict";var __importDefault=function(e){return e&&e.__esModule?e:{default:e}},adhere_util_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("@baifendian/adhere-util")));function useChecked(){function d(e){return null==(e=null==e?void 0:e.filter(function(e){return!("checkable"in e)||e.checkable}))?void 0:e.filter(function(e){return!("disabled"in e&&e.disabled)})}return{handleCheck:function(e){var n=e.node,c=e.checked,t=e.checkedKeys,r=e.checkStrictly,e=e.next;r?(r=function n(e){var c=[e.key],e=d(null!=(e=e.children)?e:[]);return e&&e.forEach(function(e){c=c.concat(n(e))}),c}(n),c?r.forEach(function(e){t.includes(e)||t.push(e)}):r.forEach(function(e){e=t.indexOf(e);-1<e&&t.splice(e,1)}),null!=e&&e({key:n.key,checked:c,checkedKeys:t})):c?t.includes(n.key)||t.push(n.key):t.includes(n.key)&&t.splice(t.indexOf(n.key),1)},updateParentChecked:function(e){var n=e.key,c=e.checked,t=e.checkedKeys,r=e.parentId,u=e.childrenData,e=e.next,i=!1,u=d(u);c?(i=(null==u?void 0:u.filter(function(e){return e.key!==n}).map(function(e){return e.key})).every(function(e){return t.includes(e)}))&&!t.includes(r)&&t.push(r):t.includes(r)&&t.splice(t.findIndex(function(e){return e===r}),1),null!=e&&e({key:r,checked:i,checkedKeys:t})},hasCheckableNodeInParentChildren:function(e){return!!e&&(null==e?void 0:e.some(function(e){return!("checkable"in e&&!e.checkable)}))},getDefaultCheckedKeysWithCheckStrictly:function(u,e){var c=[];return e.forEach(function(e){c.push(e);var n=adhere_util_1.default.findParentNodeByKey(u,e,{keyAttr:"key"});n&&!function e(n){var c=n.key,t=n.checkedKeys,r=n.parentId,n=n.childrenData,n=((null==n?void 0:n.filter(function(e){return e.key!==c}).map(function(e){return e.key})).every(function(e){return t.includes(e)})&&!t.includes(r)&&t.push(r),adhere_util_1.default.findParentNodeByKey(u,r,{keyAttr:"key"}));n&&e({key:r,checkedKeys:t,parentId:n.key,childrenData:d(n.children)})}({key:e,checkedKeys:c,parentId:n.key,childrenData:d(n.children)})}),c}}}exports.default=useChecked;
//# sourceMappingURL=useChecked.js.map
