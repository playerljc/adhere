{"version":3,"file":"useUtil.js","sources":["useUtil.js"],"sourcesContent":["\"use strict\";\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\nvar Constant_1 = require(\"./Constant\");\n/**\n * useUtil\n */\nfunction useUtil() {\n  /**\n   * getTreeNodesByKeys\n   * @description 通过keys获取item\n   * @param {{treeData: TreeData, keys: string[]}} params\n   * @return {TreeDataItemExtra[]}\n   */\n  function getTreeNodesByKeys(_a) {\n    var treeData = _a.treeData,\n      keys = _a.keys;\n    // @ts-ignore\n    return keys.map(function (key) {\n      return adhere_util_1.default.findNodeByKey(treeData, key, {\n        keyAttr: 'key'\n      });\n    });\n  }\n  /**\n   * getLeafKeys\n   * @description 获取叶子结点的keys\n   * @param {{treeData: TreeData, keys: string[]}} params\n   * @return {string[]}\n   */\n  function getLeafKeys(_a) {\n    var treeData = _a.treeData,\n      keys = _a.keys;\n    // @ts-ignore\n    var leafKeys = adhere_util_1.default.getLeafNodes(treeData).map(function (nodeData) {\n      return nodeData[Constant_1.DEFAULT_TREE_UTIL_CONFIG.keyAttr];\n    });\n    return keys.filter(function (key) {\n      return leafKeys.includes(key);\n    });\n  }\n  /**\n   * omitDisabledKeys\n   * @description 排除不可用的keys\n   * @param {TreeData} treeData\n   * @param {string[]} keys\n   * @return {string[]}\n   */\n  function omitDisabledKeys(treeData, keys) {\n    var nodes = keys\n    // @ts-ignore\n    .map(function (key) {\n      return adhere_util_1.default.findNodeByKey(treeData, key, {\n        keyAttr: 'key'\n      });\n    }).filter(function (t) {\n      return !!t;\n    });\n    if (nodes.length !== keys.length) {\n      return keys;\n    }\n    return nodes.filter(function (node) {\n      if (node && !('disabled' in node)) return true;\n      return !(node === null || node === void 0 ? void 0 : node.disabled);\n    }).map(function (node) {\n      return node === null || node === void 0 ? void 0 : node[Constant_1.DEFAULT_TREE_UTIL_CONFIG.keyAttr];\n    });\n  }\n  function getValueWithUnit(pixel, media) {\n    if (!pixel) return pixel;\n    if (adhere_util_1.default.isString(pixel)) return pixel;\n    var value = getValue(pixel, media);\n    if (media === null || media === void 0 ? void 0 : media.isUseMedia) {\n      return \"\".concat(value, \"rem\");\n    }\n    return \"\".concat(value, \"px\");\n  }\n  function getValue(pixel, media) {\n    if (media === void 0) {\n      media = {\n        isUseMedia: false,\n        designWidth: 192\n      };\n    }\n    if (media === null || media === void 0 ? void 0 : media.isUseMedia) {\n      return adhere_util_1.default.pxToRemNumber(pixel, media.designWidth);\n    }\n    return pixel;\n  }\n  function checkTreeDataSimpleModeFromObject(treeDataSimpleMode) {\n    if ('keyAttr' in treeDataSimpleMode && 'titleAttr' in treeDataSimpleMode && 'parentIdAttr' in treeDataSimpleMode && 'rootParentId' in treeDataSimpleMode) {}\n  }\n  return {\n    getTreeNodesByKeys: getTreeNodesByKeys,\n    getLeafKeys: getLeafKeys,\n    getValueWithUnit: getValueWithUnit,\n    getValue: getValue,\n    omitDisabledKeys: omitDisabledKeys,\n    checkTreeDataSimpleModeFromObject: checkTreeDataSimpleModeFromObject\n  };\n}\nexports.default = useUtil;"],"names":["__importDefault","mod","__esModule","default","adhere_util_1","Object","defineProperty","exports","value","require","Constant_1","useUtil","getValue","pixel","media","isUseMedia","designWidth","pxToRemNumber","getTreeNodesByKeys","_a","treeData","keys","map","key","findNodeByKey","keyAttr","getLeafKeys","leafKeys","getLeafNodes","nodeData","DEFAULT_TREE_UTIL_CONFIG","filter","includes","getValueWithUnit","isString","concat","omitDisabledKeys","nodes","t","length","node","disabled","checkTreeDataSimpleModeFromObject","treeDataSimpleMode"],"mappings":"AAAA,aAEA,IAAIA,gBAAwD,SAAUC,GACpE,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CACnCE,QAAWF,CACb,CACF,EAIIG,eAHJC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACmBR,gBAAgBS,QAAQ,yBAAyB,CAAC,GAClEC,WAAaD,QAAQ,YAAY,EAIrC,SAASE,UAsEP,SAASC,EAASC,EAAOC,GAOvB,OAAIA,OALFA,EADY,KAAA,IAAVA,EACM,CACNC,WAAY,CAAA,EACZC,YAAa,GACf,EAEEF,IAA8CA,EAAMC,WAC/CX,cAAcD,QAAQc,cAAcJ,EAAOC,EAAME,WAAW,EAE9DH,CACT,CAIA,MAAO,CACLK,mBA/EF,SAA4BC,GAC1B,IAAIC,EAAWD,EAAGC,SAGlB,OAFSD,EAAGE,KAEAC,IAAI,SAAUC,GACxB,OAAOnB,cAAcD,QAAQqB,cAAcJ,EAAUG,EAAK,CACxDE,QAAS,KACX,CAAC,CACH,CAAC,CACH,EAuEEC,YAhEF,SAAqBP,GACnB,IAAIC,EAAWD,EAAGC,SAChBC,EAAOF,EAAGE,KAERM,EAAWvB,cAAcD,QAAQyB,aAAaR,CAAQ,EAAEE,IAAI,SAAUO,GACxE,OAAOA,EAASnB,WAAWoB,yBAAyBL,QACtD,CAAC,EACD,OAAOJ,EAAKU,OAAO,SAAUR,GAC3B,OAAOI,EAASK,SAAST,CAAG,CAC9B,CAAC,CACH,EAuDEU,iBA3BF,SAA0BpB,EAAOC,GAC/B,OAAKD,IACDT,cAAcD,QAAQ+B,SAASrB,CAAK,EAAUA,GAC9CL,EAAQI,EAASC,EAAOC,CAAK,EAC7BA,MAAAA,GAA8CA,EAAMC,WAC/C,GAAGoB,OAAO3B,EAAO,KAAK,EAExB,GAAG2B,OAAO3B,EAAO,IAAI,GAC9B,EAoBEI,SAAUA,EACVwB,iBAjDF,SAA0BhB,EAAUC,GAClC,IAAIgB,EAAQhB,EAEXC,IAAI,SAAUC,GACb,OAAOnB,cAAcD,QAAQqB,cAAcJ,EAAUG,EAAK,CACxDE,QAAS,KACX,CAAC,CACH,CAAC,EAAEM,OAAO,SAAUO,GAClB,MAAO,CAAC,CAACA,CACX,CAAC,EACD,OAAID,EAAME,SAAWlB,EAAKkB,OACjBlB,EAEFgB,EAAMN,OAAO,SAAUS,GAC5B,MAAIA,EAAAA,CAAAA,GAAU,aAAcA,IACrB,EAAEA,MAAAA,GAA4CA,EAAKC,SAC5D,CAAC,EAAEnB,IAAI,SAAUkB,GACf,OAAOA,MAAAA,EAAmC,KAAA,EAASA,EAAK9B,WAAWoB,yBAAyBL,QAC9F,CAAC,CACH,EA+BEiB,kCATF,SAA2CC,GACrC,YAAaA,GAAsB,cAAeA,GAAsB,iBAAkBA,GAAsB,KAAkBA,CACxI,CAQA,CACF,CACApC,QAAQJ,QAAUQ"}