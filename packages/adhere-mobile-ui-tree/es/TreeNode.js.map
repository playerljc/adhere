{"version":3,"file":"TreeNode.js","sources":["TreeNode.js"],"sourcesContent":["import _AddOutline from \"antd-mobile-icons/es/AddOutline\";\nimport _MinusOutline from \"antd-mobile-icons/es/MinusOutline\";\nimport _Checkbox from \"antd-mobile/es/components/checkbox\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport classNames from 'classnames';\nimport React, { memo, useContext, useMemo } from 'react';\nimport Space from '@baifendian/adhere-ui-space';\nimport Util from '@baifendian/adhere-util';\nimport { DEFAULT_DISABLED, DEFAULT_SELECTABLE, DEFAULT_TREE_NODE_CHECKABLE } from './Constant';\nimport TreeContext from './TreeContext';\nimport TreeNodeContext from './TreeNodeContext';\nimport useChecked from './useChecked';\nimport useUtil from './useUtil';\nvar selectorPrefix = 'adhere-mobile-ui-tree-node';\n/**\n * TreeNode\n * @description TreeNode\n */\nvar TreeNode = /*#__PURE__*/memo(function (_a) {\n  var _b, _c;\n  var _d, _f, _g;\n  var id = _a.id,\n    level = _a.level,\n    isLeaf = _a.isLeaf,\n    title = _a.title,\n    checkable = _a.checkable,\n    disabled = _a.disabled,\n    selectable = _a.selectable,\n    children = _a.children;\n  var _h = useContext(TreeContext),\n    setSelectedKeys = _h.setSelectedKeys,\n    setExpandedKeys = _h.setExpandedKeys,\n    setCheckedKeys = _h.setCheckedKeys,\n    selectedKeys = _h.selectedKeys,\n    expandedKeys = _h.expandedKeys,\n    checkedKeys = _h.checkedKeys,\n    rowGap = _h.rowGap,\n    size = _h.size,\n    multiple = _h.multiple,\n    treeCheckable = _h.checkable,\n    checkStrictly = _h.checkStrictly,\n    treeData = _h.treeData,\n    icon = _h.icon,\n    titleRender = _h.titleRender,\n    switcherIcon = _h.switcherIcon,\n    onSelect = _h.onSelect,\n    onExpand = _h.onExpand,\n    onCheck = _h.onCheck;\n  var nodeDataExtra = useMemo(function () {\n    return {\n      key: id,\n      level: level,\n      disabled: disabled,\n      selectable: selectable,\n      checkable: checkable,\n      isLeaf: !(children === null || children === void 0 ? void 0 : children.length)\n    };\n  }, [id, level, disabled, selectable, checkable, children]);\n  var targetIcon = useMemo(function () {\n    return icon === null || icon === void 0 ? void 0 : icon(nodeDataExtra);\n  }, [nodeDataExtra]);\n  var _j = useContext(TreeNodeContext),\n    next = _j.updateParentChecked,\n    hasCheckable = _j.hasCheckableNodeInParentChildren;\n  // 是否可用\n  var targetDisabled = useMemo(function () {\n    if (Util.isEmpty(disabled)) return DEFAULT_DISABLED;\n    return disabled;\n  }, [disabled]);\n  // 是否可选中\n  var targetSelectable = useMemo(function () {\n    if (Util.isEmpty(selectable)) return DEFAULT_SELECTABLE;\n    return selectable;\n  }, [selectable]);\n  // 是否可勾选\n  var targetCheckable = useMemo(function () {\n    if (Util.isEmpty(checkable)) return DEFAULT_TREE_NODE_CHECKABLE;\n    return checkable;\n  }, [checkable]);\n  var targetChildrenData = useMemo(function () {\n    return children !== null && children !== void 0 ? children : [];\n  }, [children]);\n  var hasChildren = useMemo(function () {\n    return !!targetChildrenData.length;\n  }, [targetChildrenData]);\n  var _k = useChecked(),\n    handleCheck = _k.handleCheck,\n    updateParentChecked = _k.updateParentChecked,\n    hasCheckableNodeInParentChildren = _k.hasCheckableNodeInParentChildren;\n  var _l = useUtil(),\n    getTreeNodesByKeys = _l.getTreeNodesByKeys,\n    getLeafKeys = _l.getLeafKeys;\n  // 1\n  //  1.1\n  //    1.1.1\n  //    1.1.2\n  var childrenElement = useMemo(function () {\n    return targetChildrenData.map(function (_treeNodeData) {\n      return /*#__PURE__*/React.createElement(TreeNodeContext.Provider, {\n        value: {\n          updateParentChecked: function (_a) {\n            var key = _a.key,\n              checked = _a.checked,\n              checkedKeys = _a.checkedKeys;\n            updateParentChecked({\n              key: key,\n              checked: checked,\n              checkedKeys: checkedKeys,\n              childrenData: targetChildrenData,\n              parentId: id,\n              next: next\n            });\n          },\n          hasCheckableNodeInParentChildren: function () {\n            return hasCheckableNodeInParentChildren(targetChildrenData);\n          }\n        }\n      }, /*#__PURE__*/React.createElement(TreeNode, __assign({\n        level: level + 1,\n        id: _treeNodeData.key\n      }, _treeNodeData)));\n    });\n  }, [targetChildrenData]);\n  var checked = useMemo(function () {\n    return checkedKeys().includes(id);\n  }, [checkedKeys(), id]);\n  var isExpanded = expandedKeys().includes(id);\n  var isSelected = selectedKeys().includes(id);\n  /**\n   * onExpanded\n   */\n  function onExpanded(e) {\n    function _e(_targetExpandedKeys) {\n      var _a;\n      return {\n        expanded: !isExpanded,\n        expandedNodes: getTreeNodesByKeys({\n          treeData: (_a = treeData()) !== null && _a !== void 0 ? _a : [],\n          keys: _targetExpandedKeys\n        }),\n        node: nodeDataExtra,\n        event: e\n      };\n    }\n    if (isExpanded) {\n      // 关闭\n      setExpandedKeys(function (_expandedKeys) {\n        var targetExpandedKeys = (_expandedKeys !== null && _expandedKeys !== void 0 ? _expandedKeys : []).filter(function (_id) {\n          return _id !== id;\n        });\n        onExpand === null || onExpand === void 0 ? void 0 : onExpand(targetExpandedKeys, _e(targetExpandedKeys));\n        return targetExpandedKeys;\n      });\n      return;\n    }\n    // 展开\n    setExpandedKeys(function (_expandedKeys) {\n      var targetExpandedKeys = __spreadArray(__spreadArray([], _expandedKeys !== null && _expandedKeys !== void 0 ? _expandedKeys : [], true), [id], false);\n      onExpand === null || onExpand === void 0 ? void 0 : onExpand(targetExpandedKeys, _e(targetExpandedKeys));\n      return targetExpandedKeys;\n    });\n  }\n  /**\n   * onSelected\n   */\n  function onSelected(e) {\n    // 如果不能选中\n    if (!targetSelectable) return;\n    function _e(keys) {\n      var _a;\n      return {\n        selected: !isSelected,\n        selectedNodes: getTreeNodesByKeys({\n          treeData: (_a = treeData()) !== null && _a !== void 0 ? _a : [],\n          keys: keys\n        }),\n        node: nodeDataExtra,\n        event: e\n      };\n    }\n    // 多选\n    if (multiple()) {\n      if (isSelected) {\n        // 关闭\n        setSelectedKeys(function (_selectedKeys) {\n          var targetSelectedKeys = (_selectedKeys !== null && _selectedKeys !== void 0 ? _selectedKeys : []).filter(function (_id) {\n            return _id !== id;\n          });\n          onSelect === null || onSelect === void 0 ? void 0 : onSelect(targetSelectedKeys, _e(targetSelectedKeys));\n          return targetSelectedKeys;\n        });\n        return;\n      }\n      // 展开\n      setSelectedKeys(function (_selectedKeys) {\n        var targetSelectedKeys = __spreadArray(__spreadArray([], _selectedKeys !== null && _selectedKeys !== void 0 ? _selectedKeys : [], true), [id], false);\n        onSelect === null || onSelect === void 0 ? void 0 : onSelect(targetSelectedKeys, _e(targetSelectedKeys));\n        return targetSelectedKeys;\n      });\n      return;\n    }\n    // 单选\n    if (isSelected) {\n      setSelectedKeys([]);\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect([], _e([]));\n      return;\n    }\n    setSelectedKeys([id]);\n    onSelect === null || onSelect === void 0 ? void 0 : onSelect([id], _e([id]));\n  }\n  /**\n   * onChecked\n   * @param {boolean} _checked\n   */\n  function onChecked(_checked) {\n    var _a, _b;\n    var _checkedKeys = checkedKeys();\n    handleCheck({\n      node: {\n        key: id,\n        children: children\n      },\n      checked: _checked,\n      checkedKeys: _checkedKeys,\n      checkStrictly: checkStrictly(),\n      next: next\n    });\n    setCheckedKeys(__spreadArray([], _checkedKeys, true));\n    var targetCheckedKeys = __spreadArray([], _checkedKeys, true);\n    // 如果是受控模式的时候\n    if (onCheck && checkStrictly()) {\n      // 需要筛选出叶子节点\n      targetCheckedKeys = getLeafKeys({\n        treeData: (_a = treeData()) !== null && _a !== void 0 ? _a : [],\n        keys: _checkedKeys\n      });\n    }\n    onCheck === null || onCheck === void 0 ? void 0 : onCheck(targetCheckedKeys, {\n      checked: _checked,\n      checkedNodes: getTreeNodesByKeys({\n        treeData: (_b = treeData()) !== null && _b !== void 0 ? _b : [],\n        keys: targetCheckedKeys\n      }),\n      node: nodeDataExtra\n    });\n  }\n  return (\n    /*#__PURE__*/\n    /* 一个Tree节点 */\n    React.createElement(\"li\", {\n      key: id,\n      className: classNames(selectorPrefix, \"\".concat(selectorPrefix, \"-\").concat(size()), (_b = {}, _b[\"\".concat(selectorPrefix, \"-disabled\")] = targetDisabled, _b))\n    }, /*#__PURE__*/React.createElement(Space.Group, {\n      direction: \"vertical\",\n      size: rowGap()\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-info\")\n    }, treeCheckable() && targetCheckable && ( /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-info-checkbox\"))\n    }, /*#__PURE__*/React.createElement(_Checkbox, {\n      value: id,\n      checked: checked,\n      disabled: targetDisabled,\n      onChange: onChecked\n    }))), treeCheckable() && !targetCheckable && hasCheckable() && ( /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-info-checkbox\"))\n    })), hasChildren && ( /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-info-expanded\"),\n      onClick: onExpanded\n    }, isExpanded && ((_d = switcherIcon === null || switcherIcon === void 0 ? void 0 : switcherIcon(isExpanded, nodeDataExtra)) !== null && _d !== void 0 ? _d : /*#__PURE__*/React.createElement(_MinusOutline, null)), !isExpanded && ((_f = switcherIcon === null || switcherIcon === void 0 ? void 0 : switcherIcon(isExpanded, nodeDataExtra)) !== null && _f !== void 0 ? _f : /*#__PURE__*/React.createElement(_AddOutline, null)))), /*#__PURE__*/React.createElement(\"span\", {\n      className: classNames(\"\".concat(selectorPrefix, \"-info-title-wrapper\"), (_c = {}, _c[\"\".concat(selectorPrefix, \"-info-title-selected\")] = targetSelectable && isSelected, _c))\n    }, !!targetIcon && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-info-icon\")\n    }, targetIcon), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"\".concat(selectorPrefix, \"-info-title\"),\n      onClick: onSelected\n    }, (_g = titleRender === null || titleRender === void 0 ? void 0 : titleRender(nodeDataExtra)) !== null && _g !== void 0 ? _g : title))), hasChildren && isExpanded && ( /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"\".concat(selectorPrefix, \"-children\")\n    }, /*#__PURE__*/React.createElement(Space.Group, {\n      direction: \"vertical\",\n      size: rowGap()\n    }, childrenElement)))))\n  );\n});\nTreeNode.displayName = 'TreeNode';\nexport default TreeNode;"],"names":["_AddOutline","_MinusOutline","_Checkbox","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","pack","ar","l","Array","slice","concat","classNames","React","memo","useContext","useMemo","Space","Util","DEFAULT_DISABLED","DEFAULT_SELECTABLE","DEFAULT_TREE_NODE_CHECKABLE","TreeContext","TreeNodeContext","useChecked","useUtil","selectorPrefix","TreeNode","_a","id","level","title","isLeaf","checkable","disabled","selectable","children","_h","setSelectedKeys","setExpandedKeys","setCheckedKeys","selectedKeys","expandedKeys","checkedKeys","rowGap","size","multiple","treeCheckable","checkStrictly","treeData","icon","titleRender","switcherIcon","onSelect","onExpand","onCheck","nodeDataExtra","key","targetIcon","_j","next","updateParentChecked","hasCheckable","hasCheckableNodeInParentChildren","targetDisabled","isEmpty","targetSelectable","targetCheckable","targetChildrenData","hasChildren","_k","handleCheck","_l","getTreeNodesByKeys","getLeafKeys","childrenElement","map","_treeNodeData","createElement","Provider","value","checked","childrenData","parentId","includes","isExpanded","isSelected","className","_b","Group","direction","onChange","_checked","_checkedKeys","targetCheckedKeys","node","keys","checkedNodes","onClick","e","_e","_targetExpandedKeys","expanded","expandedNodes","event","_expandedKeys","targetExpandedKeys","filter","_id","_d","_f","_c","_selectedKeys","targetSelectedKeys","selected","selectedNodes","_g","displayName"],"mappings":"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"}