import _ErrorBlock from"antd-mobile/es/components/error-block";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};import classNames from"classnames";import React,{memo,useMemo}from"react";import Hooks from"@baifendian/adhere-ui-hooks";import Space from"@baifendian/adhere-ui-space";import{DEFAULT_MULTIPLE,DEFAULT_SIZE,DEFAULT_TREE_CHECKABLE}from"./Constant";import TreeContext from"./TreeContext";import TreeNode from"./TreeNode";var selectorPrefix="adhere-mobile-ui-tree",usePropToState=Hooks.usePropToState,Tree=memo(function(e){var t=e.className,r=e.style,n=e.treeData,o=(e.expandAll,e.expandedKeys),u=e.selectedKeys,s=e.switcherIcon,a=e.titleRender,l=e.renderEmpty,c=e.size,i=e.checkable,m=e.checkedKeys,f=e.multiple,p=useMemo(function(){return null!=c?c:DEFAULT_SIZE},[c]),d=useMemo(function(){return null==i?DEFAULT_TREE_CHECKABLE:i},[i]),E=useMemo(function(){return null==f?DEFAULT_MULTIPLE:f},[f]),T=useMemo(function(){return null!=n?n:[]},[n]),e=useMemo(function(){return null!=o?o:[]},[o]),e=usePropToState(e),y=e[0],_=e[1],e=useMemo(function(){return null!=u?u:[]},[u]),e=usePropToState(e),h=e[0],M=e[1],e=useMemo(function(){return null!=m?m:[]},[m]),e=usePropToState(e),k=e[0],L=e[1],K=useMemo(function(){return new Map([["small",5],["middle",15],["large",25]]).get(p)},[p]),P=useMemo(function(){return T.map(function(e){return React.createElement(TreeNode,__assign({level:0,icon:s,titleRender:a,id:e.key},e))})},[T,s,a]),e=useMemo(function(){return!P.length},[P]),R=useMemo(function(){return{expandedKeys:function(){return y},selectedKeys:function(){return h},checkedKeys:function(){return k},setSelectedKeys:M,setExpandedKeys:_,setCheckedKeys:L,size:function(){return p},rowGap:function(){return null!=K?K:15},multiple:function(){return E},checkable:function(){return d},treeData:function(){return n}}},[y,h,k,K,p,E,d,n]);return React.createElement(TreeContext.Provider,{value:R},React.createElement("ul",{className:classNames(selectorPrefix,t),style:null!=r?r:{}},React.createElement(Space.Group,{direction:"vertical",size:K},e&&React.createElement("li",null,null!=(R=null==l?void 0:l())?R:React.createElement(_ErrorBlock,{status:"empty"})),!e&&P)))});Tree.displayName="Tree";export default Tree;
//# sourceMappingURL=Tree.js.map
