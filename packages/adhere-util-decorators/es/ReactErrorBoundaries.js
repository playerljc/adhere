import _Empty from"antd/es/empty";var __extends=this&&this.__extends||function(){var M=function(r,t){return(M=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(r,t){r.__proto__=t}:function(r,t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}))(r,t)};return function(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}M(r,t),r.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var t,e=1,M=arguments.length;e<M;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)},__rest=this&&this.__rest||function(r,t){var e={};for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.indexOf(o)<0&&(e[o]=r[o]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols)for(var M=0,o=Object.getOwnPropertySymbols(r);M<o.length;M++)t.indexOf(o[M])<0&&Object.prototype.propertyIsEnumerable.call(r,o[M])&&(e[o[M]]=r[o[M]]);return e};import classNames from"classnames";import React from"react";import Util from"@baifendian/adhere-util";import intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-util-decorators",errorIcon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTkyNzM0NTgwMDkxIiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjMzODMiIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTM1OC4zMjUzODYgNTYzLjA3MzczMW0tNzYuNzgyNzgxIDBhNzYuNzgyNzgxIDc2Ljc4Mjc4MSAwIDEgMCAxNTMuNTY1NTYzIDAgNzYuNzgyNzgxIDc2Ljc4Mjc4MSAwIDEgMC0xNTMuNTY1NTYzIDBaIiBmaWxsPSIjMTM5MjdEIiBwLWlkPSIzMzg0Ij48L3BhdGg+PHBhdGggZD0iTTY2NS40NTY1MTIgNTYzLjA3MzczMW0tNzYuNzgyNzgxIDBhNzYuNzgyNzgxIDc2Ljc4Mjc4MSAwIDEgMCAxNTMuNTY1NTYzIDAgNzYuNzgyNzgxIDc2Ljc4Mjc4MSAwIDEgMC0xNTMuNTY1NTYzIDBaIiBmaWxsPSIjMTM5MjdEIiBwLWlkPSIzMzg1Ij48L3BhdGg+PHBhdGggZD0iTTUxMS44OTA5NDkgMGMyNjguNTYwNTc1IDAgNDg2LjI5MDk0OSAyMTcuNzMwMzc0IDQ4Ni4yOTA5NSA0ODYuMjkwOTQ5IDAgMTE5LjYyNzU3NC00My40NTkwNTQgMjMyLjQ3MjY2OC0xMjAuMjY3NDMxIDMyMC4xODQxOTlsLTcuNzAzODcyIDguNTc0MDc3Vjk3Mi41ODE4OTlhNTEuMTg4NTIxIDUxLjE4ODUyMSAwIDAgMS00Ny4zNzQ5NzYgNTEuMDYwNTQ5bC0zLjgzOTEzOSAwLjEyNzk3MWE1MS4xODg1MjEgNTEuMTg4NTIxIDAgMCAxLTUxLjAzNDk1Ni00Ny4zNzQ5NzZsLTAuMTI3OTcxLTMuODM5MTM5di0xNzguMDg0ODY0YTUxLjE4ODUyMSA1MS4xODg1MjEgMCAwIDEgMTUuMDc1MDItMzYuMjY3MDY3QTM4Mi40ODA2MjkgMzgyLjQ4MDYyOSAwIDAgMCA4OTUuODA0ODU3IDQ4Ni4yOTA5NDljMC0yMTIuMDIyODU0LTE3MS44OTEwNTMtMzgzLjkxMzkwNy0zODMuOTEzOTA4LTM4My45MTM5MDctMjEyLjAyMjg1NCAwLTM4My45MTM5MDcgMTcxLjg5MTA1My0zODMuOTEzOTA3IDM4My45MTM5MDcgMCAxMDMuNDc3NTk1IDQxLjA3ODc4OCAyMDAuMzI2Mjc3IDExMi45MjE4NzcgMjcxLjkzOTAxOGE1MS4xODg1MjEgNTEuMTg4NTIxIDAgMCAxIDE0Ljg0NDY3MSAzMS43MzY4ODNsMC4yMDQ3NTQgNC41MzAxODRWOTcyLjU4MTg5OWE1MS4xODg1MjEgNTEuMTg4NTIxIDAgMCAxLTEwMi4yNDkwNyAzLjgzOTEzOUwxNTMuNTcxMzAyIDk3Mi41ODE4OTl2LTE1Ny41MzI2NzRBNDg0LjY1MjkxNyA0ODQuNjUyOTE3IDAgMCAxIDI1LjcyNzk3MSA0OTcuNTAxMjM1TDI1LjYgNDg2LjI5MDk0OUMyNS42IDIxNy43MzAzNzQgMjQzLjMzMDM3NCAwIDUxMS44OTA5NDkgMHoiIGZpbGw9IiMxMzkyN0QiIHAtaWQ9IjMzODYiPjwvcGF0aD48cGF0aCBkPSJNNTExLjg5MDk0OSA3OTMuNDIyMDc1YTUxLjE4ODUyMSA1MS4xODg1MjEgMCAwIDEgNTEuMDYwNTUgNDcuMzQ5MzgyTDU2My4wNzk0NyA4NDQuNjEwNTk2djEyNy45NzEzMDNhNTEuMTg4NTIxIDUxLjE4ODUyMSAwIDAgMS0xMDIuMjQ5MDcgMy44MzkxMzlMNDYwLjcwMjQyOCA5NzIuNTgxODk5di0xMjcuOTcxMzAzYTUxLjE4ODUyMSA1MS4xODg1MjEgMCAwIDEgNTEuMTg4NTIxLTUxLjE4ODUyMXoiIGZpbGw9IiMxMzkyN0QiIHAtaWQ9IjMzODciPjwvcGF0aD48L3N2Zz4=",DEFAULT_ERROR_UI=React.createElement("div",{className:classNames("".concat(selectorPrefix,"-default-error-ui-wrapper"))},React.createElement(_Empty,{image:errorIcon,imageStyle:{height:60},description:intl.v("糟糕！，出了些问题")})),ReactErrorBoundariesHOC=function(e){t=React.Component,__extends(r,t),r.getDerivedStateFromError=function(r){return console.error(r),{hasError:!0}},r.prototype.componentDidCatch=function(r,t){console.error(r,t),String(r).includes("Loading chunk")&&(t=+new Date,window.location.href="".concat(window.location.href).concat(window.location.search?"&":"?","=_ijt=").concat(t))},r.prototype.renderErrorUI=function(){var r=this.refIns;return r&&r.current&&r.current.getReactErrorBoundariesErrorUI&&Util.isFunction(r.current.getReactErrorBoundariesErrorUI)?r.current.getReactErrorBoundariesErrorUI():"getReactErrorBoundariesErrorUI"in e&&Util.isFunction(e.getReactErrorBoundariesErrorUI)?e.getReactErrorBoundariesErrorUI():DEFAULT_ERROR_UI},r.prototype.render=function(){var r,t;return this.state.hasError?this.renderErrorUI():(r=(t=this.props).forwardedRef,t=__rest(t,["forwardedRef"]),t=__assign({},t),Util.isArray(e)?e.prototype.isReactComponent&&(this.refIns=r||React.createRef(),t.ref=this.refIns):Util.isObject(e)&&e.constructor.prototype.isReactComponent&&(this.refIns=r||React.createRef(),t.ref=this.refIns),React.createElement(e,__assign({},t)))};var t,M=r;function r(){var r=null!==t&&t.apply(this,arguments)||this;return r.state={hasError:!1},r.refIns=null,r}return React.forwardRef(function(r,t){return React.createElement(M,__assign({},r,{forwardedRef:t}))})};ReactErrorBoundariesHOC.setDefaultErrorUI=function(r){DEFAULT_ERROR_UI=r};export default ReactErrorBoundariesHOC;
//# sourceMappingURL=ReactErrorBoundaries.js.map
