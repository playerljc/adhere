import _PickerView from"antd-mobile/es/components/picker-view";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var n={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,l=Object.getOwnPropertySymbols(e);o<l.length;o++)t.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(n[l[o]]=e[l[o]]);return n};import classNames from"classnames";import dayjs from"dayjs";import React,{memo,useMemo}from"react";var selectorPrefix="adhere-mobile-ui-time-picker-view",timeColumns=[Array.from({length:24}).fill(0).map(function(e,t){return{label:"".concat(t<10?"0":"").concat(t),value:t}}),Array.from({length:60}).fill(0).map(function(e,t){return{label:"".concat(t<10?"0":"").concat(t),value:t}}),Array.from({length:60}).fill(0).map(function(e,t){return{label:"".concat(t<10?"0":"").concat(t),value:t}})],timeMap=new Map([["HH:mm:ss",timeColumns],["HH:mm",[timeColumns[0],timeColumns[1]]],["HH",[timeColumns[0]]],["mm:ss",[timeColumns[1],timeColumns[2]]],["ss",[timeColumns[2]]]]),TimePickerView=memo(function(e){var t=e.className,n=e.style,o=e.defaultValue,l=e.value,a=e.onChange,r=e.format,s=void 0===r?"HH:mm:ss":r,r=__rest(e,["className","style","defaultValue","value","onChange","format"]);function i(e){var t,n;if(e)return t=e.getHours(),n=e.getMinutes(),e=e.getSeconds(),new Map([["HH:mm:ss",[t,n,e]],["HH:mm",[t,n]],["HH",[t]],["mm:ss",[n,e]],["ss",[e]]]).get(s)}var e=useMemo(function(){return i(null!=o?o:new Date)},[o]),m=useMemo(function(){return i(l)},[l]),u=useMemo(function(){return timeMap.get(s)},[s]);return React.createElement("div",{className:classNames(selectorPrefix,null!=t?t:""),style:null!=n?n:{}},React.createElement(_PickerView,__assign({},r,{columns:null!=u?u:[],defaultValue:e,value:m,onChange:function(e){null!=a&&a((e=e,new Map([["HH:mm:ss",dayjs().hour(null==e?void 0:e[0]).minute(null==e?void 0:e[1]).second(null==e?void 0:e[2]).toDate()],["HH:mm",dayjs().hour(null==e?void 0:e[0]).minute(null==e?void 0:e[1]).toDate()],["HH",dayjs().hour(null==e?void 0:e[0]).toDate()],["mm:ss",dayjs().minute(null==e?void 0:e[1]).second(null==e?void 0:e[2]).toDate()],["ss",dayjs().second(null==e?void 0:e[2]).toDate()]]).get(s)))}})))});TimePickerView.displayName="TimePickerView";export default TimePickerView;
//# sourceMappingURL=TimePickerView.js.map
