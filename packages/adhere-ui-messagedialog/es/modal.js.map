{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import _Modal from \"antd/es/modal\";\nimport _Button from \"antd/es/button\";\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport React, { useMemo } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nexport var selectorPrefix = 'adhere-ui-messagedialog';\n\nvar ModalDialog = function ModalDialog(props) {\n  var config = props.config,\n      closeBtn = props.closeBtn,\n      close = props.close,\n      children = props.children;\n\n  var _a = config.footer,\n      footer = _a === void 0 ? [] : _a,\n      _b = config.centered,\n      centered = _b === void 0 ? true : _b,\n      other = __rest(config, [\"footer\", \"centered\"]);\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  function renderCloseBtn() {\n    var props = {\n      key: 'close',\n      title: Intl.v('取消'),\n      type: 'default',\n      onClick: function onClick() {\n        return close === null || close === void 0 ? void 0 : close();\n      }\n    };\n\n    if (Array.isArray(footer) && footer.length === 0) {\n      props['type'] = 'primary';\n    } // @ts-ignore\n\n\n    return /*#__PURE__*/React.createElement(_Button, __assign({}, props), Intl.v('取消'));\n  }\n\n  var footerNode = useMemo(function () {\n    var closeBtnNode = renderCloseBtn();\n    var footerNode;\n\n    if (footer) {\n      if (closeBtn) {\n        if (Array.isArray(footer)) {\n          footerNode = __spreadArray(__spreadArray([], footer, true), [closeBtnNode], false);\n        } else {\n          footerNode = [footer, closeBtnNode];\n        }\n      } else {\n        footerNode = footer;\n      }\n    } else {\n      if (closeBtn) {\n        footerNode = closeBtnNode;\n      }\n    }\n\n    return footerNode;\n  }, [footer, closeBtn]);\n  return /*#__PURE__*/React.createElement(_Modal, __assign({}, other, {\n    footer: footerNode,\n    centered: centered,\n    wrapClassName: selectorPrefix,\n    onCancel: function onCancel() {\n      return close === null || close === void 0 ? void 0 : close();\n    },\n    visible: true\n  }), children);\n};\n\nexport default ModalDialog;"],"names":["_Modal","_Button","__assign","__rest","__spreadArray","React","useMemo","Intl","selectorPrefix","ModalDialog","props","config","closeBtn","close","children","_a","footer","_b","centered","other","footerNode","closeBtnNode","key","title","v","type","onClick","Array","isArray","length","createElement","wrapClassName","onCancel","visible"],"mappings":"OAAOA,kCACAC,oCACEC,SAAUC,OAAQC,iCACpBC,OAASC,2BACTC,wCACA,IAAIC,eAAiB,0BAExBC,YAAc,SAAqBC,GACrC,IAAIC,EAASD,EAAMC,OACfC,EAAWF,EAAME,SACjBC,EAAQH,EAAMG,MACdC,EAAWJ,EAAMI,SAEjBC,EAAKJ,EAAOK,OACZA,OAAgB,IAAPD,EAAgB,GAAKA,EAC9BE,EAAKN,EAAOO,SACZA,OAAkB,IAAPD,GAAuBA,EAClCE,EAAQhB,OAAOQ,EAAQ,CAAC,SAAU,aAyBlCS,EAAad,QAAQ,WACvB,IACIc,EADAC,GAlBAX,EAAQ,CACVY,IAAK,QACLC,MAAOhB,KAAKiB,EAAE,MACdC,KAAM,UACNC,QAAS,WACP,OAAOb,MAAAA,OAAqC,EAASA,MAIrDc,MAAMC,QAAQZ,IAA6B,IAAlBA,EAAOa,SAClCnB,EAAY,KAAI,WAIEL,MAAMyB,cAAc7B,QAASC,SAAS,GAAIQ,GAAQH,KAAKiB,EAAE,QAuB7E,OAhBIR,EAGEI,EAFAR,EACEe,MAAMC,QAAQZ,GACHZ,cAAcA,cAAc,GAAIY,GAAQ,GAAO,CAACK,IAAe,GAE/D,CAACL,EAAQK,GAGXL,EAGXJ,IACFQ,EAAaC,GAIVD,GACN,CAACJ,EAAQJ,IACZ,OAAoBP,MAAMyB,cAAc9B,OAAQE,SAAS,GAAIiB,EAAO,CAClEH,OAAQI,EACRF,SAAUA,EACVa,cAAevB,eACfwB,SAAU,WACR,OAAOnB,MAAAA,OAAqC,EAASA,KAEvDoB,SAAS,IACPnB,mBAGSL,mBAtEJD"}