{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import _Modal from \"antd/es/modal\";\nimport _Button from \"antd/es/button\";\nimport { __assign, __rest, __spreadArray } from \"tslib\";\nimport React, { memo, useCallback, useMemo } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nexport var selectorPrefix = 'adhere-ui-messagedialog';\n\nvar ModalDialog = function ModalDialog(props) {\n  var config = props.config,\n      closeBtn = props.closeBtn,\n      close = props.close,\n      children = props.children;\n\n  var _a = config.footer,\n      footer = _a === void 0 ? [] : _a,\n      _b = config.centered,\n      centered = _b === void 0 ? true : _b,\n      other = __rest(config, [\"footer\", \"centered\"]);\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  function renderCloseBtn() {\n    var props = {\n      key: 'close',\n      title: Intl.v('取消'),\n      type: 'default',\n      onClick: function onClick() {\n        return close === null || close === void 0 ? void 0 : close();\n      }\n    };\n\n    if (Array.isArray(footer) && footer.length === 0) {\n      props['type'] = 'primary';\n    } // @ts-ignore\n\n\n    return /*#__PURE__*/React.createElement(_Button, __assign({}, props), Intl.v('取消'));\n  }\n\n  var footerNode = useMemo(function () {\n    var closeBtnNode = renderCloseBtn();\n    var footerNode;\n\n    if (footer) {\n      if (closeBtn) {\n        if (Array.isArray(footer)) {\n          footerNode = __spreadArray(__spreadArray([], footer, true), [closeBtnNode], false);\n        } else {\n          footerNode = [footer, closeBtnNode];\n        }\n      } else {\n        footerNode = footer;\n      }\n    } else {\n      if (closeBtn) {\n        footerNode = closeBtnNode;\n      }\n    }\n\n    return footerNode;\n  }, [footer, closeBtn]);\n  var onCancel = useCallback(function () {\n    return close === null || close === void 0 ? void 0 : close();\n  }, []);\n  return /*#__PURE__*/React.createElement(_Modal, __assign({}, other, {\n    footer: footerNode,\n    centered: centered,\n    wrapClassName: selectorPrefix,\n    onCancel: onCancel,\n    visible: true\n  }), children);\n};\n\nexport default /*#__PURE__*/memo(ModalDialog);"],"names":["_Modal","_Button","__assign","__rest","__spreadArray","React","memo","useCallback","useMemo","Intl","selectorPrefix","ModalDialog","props","config","closeBtn","close","children","_a","footer","_b","centered","other","footerNode","key","title","v","type","onClick","Array","isArray","length","closeBtnNode","createElement","onCancel","wrapClassName","visible"],"mappings":"OAAOA,WAAY,uBACZC,YAAa,wBACXC,SAAUC,OAAQC,aAA4B,KAAP,eACzCC,OAASC,KAAMC,YAAaC,OAAsB,KAAP,eAC3CC,SAAU,+BACV,IAAIC,eAAiB,0BAExBC,YAAc,SAAqBC,GACrC,IAAIC,EAASD,EAAMC,OACfC,EAAWF,EAAME,SACjBC,EAAQH,EAAMG,MACdC,EAAWJ,EAAMI,SAEjBC,EAAKJ,EAAOK,OACZA,EAAgB,KAAA,IAAPD,EAAgB,GAAKA,EAC9BE,EAAKN,EAAOO,SACZA,EAAkB,KAAA,IAAPD,GAAuBA,EAClCE,EAAQlB,OAAOU,EAAQ,CAAC,SAAU,WAAW,EAyBjD,IAAIS,EAAad,QAAQ,WAjBnBI,EAAQ,CACVW,IAAK,QACLC,MAAOf,KAAKgB,EAAE,IAAI,EAClBC,KAAM,UACNC,QAAS,WACP,OAAOZ,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAC7D,CACF,EAEIa,MAAMC,QAAQX,CAAM,GAAuB,IAAlBA,EAAOY,SAClClB,EAAY,KAAI,WAQlB,IACIU,EADAS,EAJgB1B,MAAM2B,cAAc/B,QAASC,SAAS,GAAIU,CAAK,EAAGH,KAAKgB,EAAE,IAAI,CAAC,EAuBlF,OAhBIP,EAGEI,EAFAR,EACEc,MAAMC,QAAQX,CAAM,EACTd,cAAcA,cAAc,GAAIc,EAAQ,CAAA,CAAI,EAAG,CAACa,GAAe,CAAA,CAAK,EAEpE,CAACb,EAAQa,GAGXb,EAGXJ,IACFQ,EAAaS,GAIVT,CACT,EAAG,CAACJ,EAAQJ,EAAS,EACjBmB,EAAW1B,YAAY,WACzB,OAAOQ,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAC7D,EAAG,EAAE,EACL,OAAoBV,MAAM2B,cAAchC,OAAQE,SAAS,GAAImB,EAAO,CAClEH,OAAQI,EACRF,SAAUA,EACVc,cAAexB,eACfuB,SAAUA,EACVE,QAAS,CAAA,CACX,CAAC,EAAGnB,CAAQ,CACd,iBAE4BV,KAAKK,WAAW,SAvEjCD,cAuEkC"}