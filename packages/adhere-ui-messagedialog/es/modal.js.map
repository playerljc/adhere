{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["import _Modal from \"antd/es/modal\";\nimport _Button from \"antd/es/button\";\nimport \"core-js/modules/es.array.concat.js\";\nimport { __assign, __extends, __rest } from \"tslib\";\nimport intl from '@baifendian/adhere-util-intl';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport var selectorPrefix = 'adhere-ui-messagedialog';\n/**\n * ModalDialog\n * @class Modal\n * @classdesc Modal\n */\n\nvar ModalDialog =\n/** @class */\nfunction (_super) {\n  __extends(ModalDialog, _super);\n\n  function ModalDialog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // constructor(props) {\n  //   super(props);\n  //   this.onClose = this.onClose.bind(this);\n  // }\n  // componentDidMount() {\n  //   Emitter.on(Actions.close, this.onClose);\n  // }\n  // componentWillUnmount() {\n  //   Emitter.remove(Actions.close, this.onClose);\n  // }\n\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  ModalDialog.prototype.renderCloseBtn = function () {\n    var _this = this;\n\n    var _a = this.props.config.footer,\n        footer = _a === void 0 ? [] : _a;\n    var props = {\n      key: 'close',\n      title: intl.v('取消'),\n      type: undefined,\n      onClick: function onClick() {\n        // @ts-ignore\n        _this.props.close();\n      }\n    };\n\n    if (footer.length === 0) {\n      // @ts-ignore\n      props.type = 'primary';\n    }\n\n    return /*#__PURE__*/React.createElement(_Button, __assign({}, props), intl.v('取消'));\n  };\n\n  ModalDialog.prototype.render = function () {\n    var _a = this.props,\n        config = _a.config,\n        closeBtn = _a.closeBtn,\n        close = _a.close,\n        children = _a.children; // @ts-ignore\n\n    var _b = config.footer,\n        footer = _b === void 0 ? [] : _b,\n        _c = config.centered,\n        centered = _c === void 0 ? true : _c,\n        other = __rest(config, [\"footer\", \"centered\"]);\n\n    return /*#__PURE__*/React.createElement(_Modal, __assign({}, other, {\n      footer: closeBtn ? footer.concat(this.renderCloseBtn()) : footer,\n      centered: centered,\n      wrapClassName: selectorPrefix,\n      onCancel: function onCancel() {\n        close();\n      },\n      visible: true\n    }), children);\n  };\n\n  return ModalDialog;\n}(React.Component);\n\nModalDialog.defaultProps = {\n  config: {},\n  closeBtn: true\n};\nModalDialog.propTypes = {\n  config: PropTypes.object,\n  closeBtn: PropTypes.bool,\n  close: PropTypes.func\n};\nexport default ModalDialog;"],"names":["_Modal","_Button","__assign","__extends","__rest","intl","PropTypes","React","selectorPrefix","ModalDialog","_super","apply","this","arguments","prototype","renderCloseBtn","_this","_a","props","config","footer","key","title","v","type","undefined","onClick","close","length","createElement","render","closeBtn","children","_b","_c","centered","other","concat","wrapClassName","onCancel","visible","Component","defaultProps","propTypes","object","bool","func"],"mappings":"OAAOA,kCACAC,+EAEEC,SAAUC,UAAWC,0BACvBC,+CACAC,kCACAC,kBACA,IAAIC,eAAiB,0BAOxBC,YAEJ,SAAUC,GAGR,SAASD,IACP,OAAkB,OAAXC,GAAmBA,EAAOC,MAAMC,KAAMC,YAAcD,KAiE7D,OApEAT,UAAUM,EAAaC,GAqBvBD,EAAYK,UAAUC,eAAiB,WACrC,IAAIC,EAAQJ,KAERK,EAAKL,KAAKM,MAAMC,OAAOC,OACvBA,OAAgB,IAAPH,EAAgB,GAAKA,EAC9BC,EAAQ,CACVG,IAAK,QACLC,MAAOjB,KAAKkB,EAAE,MACdC,UAAMC,EACNC,QAAS,WAEPV,EAAME,MAAMS,UAShB,OALsB,IAAlBP,EAAOQ,SAETV,EAAMM,KAAO,WAGKjB,MAAMsB,cAAc5B,QAASC,SAAS,GAAIgB,GAAQb,KAAKkB,EAAE,QAG/Ed,EAAYK,UAAUgB,OAAS,WAC7B,IAAIb,EAAKL,KAAKM,MACVC,EAASF,EAAGE,OACZY,EAAWd,EAAGc,SACdJ,EAAQV,EAAGU,MACXK,EAAWf,EAAGe,SAEdC,EAAKd,EAAOC,OACZA,OAAgB,IAAPa,EAAgB,GAAKA,EAC9BC,EAAKf,EAAOgB,SACZA,OAAkB,IAAPD,GAAuBA,EAClCE,EAAQhC,OAAOe,EAAQ,CAAC,SAAU,aAEtC,OAAoBZ,MAAMsB,cAAc7B,OAAQE,SAAS,GAAIkC,EAAO,CAClEhB,OAAQW,EAAWX,EAAOiB,OAAOzB,KAAKG,kBAAoBK,EAC1De,SAAUA,EACVG,cAAe9B,eACf+B,SAAU,WACRZ,KAEFa,SAAS,IACPR,IAGCvB,EArET,CAsEEF,MAAMkC,WAERhC,YAAYiC,aAAe,CACzBvB,OAAQ,GACRY,UAAU,GAEZtB,YAAYkC,UAAY,CACtBxB,OAAQb,UAAUsC,OAClBb,SAAUzB,UAAUuC,KACpBlB,MAAOrB,UAAUwC,qBAEJrC,mBA1FJD"}