var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var a={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]]);return a};import classNames from"classnames";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Draggable from"react-draggable";import{BlockOutlined,BorderOutlined,CloseOutlined}from"@ant-design/icons";import Space from"@baifendian/adhere-ui-space";import Modal from"./Modal";var selectorPrefix="adhere-ui-message-dialog-maximize-modal",MaximizeModalDialog=function(e){var t=e.config,a=t.title,r=t.closeIcon,o=__rest(t,["title","closeIcon"]),c=__rest(e,["config"]),n=useRef(null),t=useState(!1),l=t[0],i=t[1],e=useState(!0),s=e[0],m=e[1],t=useState({left:0,top:0,bottom:0,right:0}),u=t[0],f=t[1],e=useMemo(function(){var e;return classNames("".concat(selectorPrefix),null!=(e=o.className)?e:"",((e={})["".concat(selectorPrefix,"-maximize")]=l,e))},[l]),t=useCallback(function(e){return React.createElement(Draggable,{disabled:!!l||s,bounds:u,nodeRef:n,onStart:d},function(e){var t;return React.createElement("div",{className:"".concat(selectorPrefix,"-inner"),ref:n},React.createElement("div",{className:classNames("".concat(selectorPrefix,"-header"),((t={})["".concat(selectorPrefix,"-header-draggable")]=!l,t)),onMouseOver:function(){l||s&&m(!1)},onMouseOut:function(){l||m(!0)}},React.createElement("div",{className:"".concat(selectorPrefix,"-header-title")},a),React.createElement("div",{className:"".concat(selectorPrefix,"-header-actions")},React.createElement(Space.Group,{direction:"horizontal",size:5},l&&React.createElement(BlockOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:p}),!l&&React.createElement(BorderOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:h}),function(){if(r)return React.createElement("div",{className:"".concat(selectorPrefix,"-header-action"),onClick:g},r);return React.createElement(CloseOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:g})}()))),React.createElement("div",{className:"".concat(selectorPrefix,"-body")},e))}(e))},[l,u,s]);function d(e,t){var a,r=window.document.documentElement,o=r.clientWidth,r=r.clientHeight,c=null==(c=null==(a=n.current)?void 0:a.getBoundingClientRect)?void 0:c.call(a);c&&f({left:-c.left+t.x,right:o-(c.right-t.x),top:-c.top+t.y,bottom:r-(c.bottom-t.y)})}function g(){var e;null!=(e=null==c?void 0:c.close)&&e.call(c)}function p(){i(!1)}function h(){i(!0)}return React.createElement(Modal,__assign({},c,{config:__assign(__assign({},null!=o?o:{}),{className:e,modalRender:t})}))};export default memo(MaximizeModalDialog);export{selectorPrefix};
//# sourceMappingURL=MaximizeModal.js.map
