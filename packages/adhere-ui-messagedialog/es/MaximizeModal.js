var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var a={};for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&t.indexOf(c)<0&&(a[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,c=Object.getOwnPropertySymbols(e);o<c.length;o++)t.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(e,c[o])&&(a[c[o]]=e[c[o]]);return a};import classNames from"classnames";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Draggable from"react-draggable";import{BlockOutlined,BorderOutlined,CloseOutlined}from"@ant-design/icons";import Space from"@baifendian/adhere-ui-space";import Modal from"./Modal";var selectorPrefix="adhere-ui-messagedialog-maximize-modal",MaximizeModalDialog=function(e){var t=e.config,a=t.title,o=t.closeIcon,c=__rest(t,["title","closeIcon"]),r=__rest(e,["config"]),n=useRef(null),t=useState(!1),l=t[0],i=t[1],e=useState(!0),s=e[0],m=e[1],t=useState({left:0,top:0,bottom:0,right:0}),u=t[0],f=t[1],e=useMemo(function(){var e;return classNames("".concat(selectorPrefix),null!=(e=c.className)?e:"",((e={})["".concat(selectorPrefix,"-maximize")]=l,e))},[l]),t=useCallback(function(e){return React.createElement(Draggable,{disabled:!!l||s,bounds:u,nodeRef:n,onStart:d},function(e){var t;return React.createElement("div",{className:"".concat(selectorPrefix,"-inner"),ref:n},React.createElement("div",{className:classNames("".concat(selectorPrefix,"-header"),((t={})["".concat(selectorPrefix,"-header-draggable")]=!l,t)),onMouseOver:function(){l||s&&m(!1)},onMouseOut:function(){l||m(!0)}},React.createElement("div",{className:"".concat(selectorPrefix,"-header-title")},a),React.createElement("div",{className:"".concat(selectorPrefix,"-header-actions")},React.createElement(Space.Group,{direction:"horizontal",size:5},l&&React.createElement(BlockOutlined,{className:"".concat(selectorPrefix,"-header-action"),onClick:p}),!l&&React.createElement(BorderOutlined,{className:"".concat(selectorPrefix,"-header-action"),onClick:h}),function(){if(o)return React.createElement("div",{className:"".concat(selectorPrefix,"-header-action"),onClick:g},o);return React.createElement(CloseOutlined,{className:"".concat(selectorPrefix,"-header-action"),onClick:g})}()))),React.createElement("div",{className:"".concat(selectorPrefix,"-body")},e))}(e))},[l,u,s]);function d(e,t){var a,o=window.document.documentElement,c=o.clientWidth,o=o.clientHeight,r=null==(r=null==(a=n.current)?void 0:a.getBoundingClientRect)?void 0:r.call(a);r&&f({left:-r.left+t.x,right:c-(r.right-t.x),top:-r.top+t.y,bottom:o-(r.bottom-t.y)})}function g(){var e;null!=(e=null==r?void 0:r.close)&&e.call(r)}function p(){i(!1)}function h(){i(!0)}return React.createElement(Modal,__assign({},r,{config:__assign(__assign({},null!=c?c:{}),{className:e,modalRender:t})}))};export default memo(MaximizeModalDialog);export{selectorPrefix};
//# sourceMappingURL=MaximizeModal.js.map
