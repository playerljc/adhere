var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var a={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(a[r[o]]=e[r[o]]);return a};import classNames from"classnames";import React,{memo,useCallback,useMemo,useRef,useState}from"react";import Draggable from"react-draggable";import{BlockOutlined,BorderOutlined,CloseOutlined}from"@ant-design/icons";import Space from"@baifendian/adhere-ui-space";import Modal from"./Modal";var selectorPrefix="adhere-ui-message-dialog-maximize-modal",MaximizeModalDialog=memo(function(e){var t=e.config,a=t.title,o=t.closeIcon,r=__rest(t,["title","closeIcon"]),c=__rest(e,["config"]),n=useRef(null),t=useState(!1),l=t[0],i=t[1],e=useState(!0),s=e[0],m=e[1],t=useState({left:0,top:0,bottom:0,right:0}),u=t[0],d=t[1],e=useMemo(function(){var e;return classNames("".concat(selectorPrefix),null!=(e=r.className)?e:"",((e={})["".concat(selectorPrefix,"-maximize")]=l,e))},[l]),t=useCallback(function(e){return React.createElement(Draggable,{disabled:!!l||s,bounds:u,nodeRef:n,onStart:f},function(e){var t;return React.createElement("div",{className:"".concat(selectorPrefix,"-inner"),ref:n},React.createElement("div",{className:classNames("".concat(selectorPrefix,"-header"),((t={})["".concat(selectorPrefix,"-header-draggable")]=!l,t)),onMouseOver:function(){l||s&&m(!1)},onMouseOut:function(){l||m(!0)}},React.createElement("div",{className:"".concat(selectorPrefix,"-header-title")},a),React.createElement("div",{className:"".concat(selectorPrefix,"-header-actions")},React.createElement(Space.Group,{direction:"horizontal",size:5},l&&React.createElement(BlockOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:p}),!l&&React.createElement(BorderOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:x}),function(){if(o)return React.createElement("div",{className:"".concat(selectorPrefix,"-header-action"),onClick:g},o);return React.createElement(CloseOutlined,{rev:"",className:"".concat(selectorPrefix,"-header-action"),onClick:g})}()))),React.createElement("div",{className:"".concat(selectorPrefix,"-body")},e))}(e))},[l,u,s]);function f(e,t){var a,o=window.document.documentElement,r=o.clientWidth,o=o.clientHeight,c=null==(c=null==(a=n.current)?void 0:a.getBoundingClientRect)?void 0:c.call(a);c&&d({left:-c.left+t.x,right:r-(c.right-t.x),top:-c.top+t.y,bottom:o-(c.bottom-t.y)})}function g(){var e;null!=(e=null==c?void 0:c.close)&&e.call(c)}function p(){i(!1)}function x(){i(!0)}return React.createElement(Modal,__assign({},c,{config:__assign(__assign({},null!=r?r:{}),{className:e,modalRender:t})}))});MaximizeModalDialog.displayName="MaximizeModalDialog";export default MaximizeModalDialog;export{selectorPrefix};
//# sourceMappingURL=MaximizeModal.js.map
