var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(n){for(var e,o=1,l=arguments.length;o<l;o++)for(var t in e=arguments[o])Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n}).apply(this,arguments)};import classNames from"classnames";import debounce from"lodash.debounce";import React,{useMemo}from"react";import MessageDialog from"./MessageDialog";import{selectorPrefix}from"./Modal";import SubmitButton from"./SubmitButton";var Trigger=function(n){var e=n.className,o=n.style,l=n.value,r=n.onChange,t=n.children,i=n.renderTrigger,a=n.modalConfig,s=n.actions,u=useMemo(function(){return t?React.cloneElement(t,__assign(__assign({},t.props),{value:l}),t.props.children):null},[t]);return React.createElement("div",{className:classNames("".concat(selectorPrefix,"-trigger"),null!=e?e:""),style:null!=o?o:{},onClick:debounce(function(){var n,e,o,l=null!=(l=null==a?void 0:a.config)?l:{};l.footer=null!=(e=null==(e=(n=null!=s?s:[]).map)?void 0:e.call(n,function(n){return React.createElement(SubmitButton,__assign({},null!=n?n:{},{onClick:function(){return l=n.onClick,t=null==o?void 0:o.close,new Promise(function(e,o){var n;null!=(n=null==l?void 0:l())&&n.then(function(n){null!=r&&r(n),setTimeout(function(){e(n),null!=t&&t()},300)}).catch(function(n){return o(n)})});var l,t}}))}))?e:[],o=MessageDialog.Modal({config:l,defaultCloseBtn:!0,children:u})},200)},null==i?void 0:i())};export default Trigger;
//# sourceMappingURL=Trigger.js.map
