var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,t){var o={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(o[r[n]]=e[r[n]]);return o};import FormItemCreator from"@baifendian/adhere-ui-formitemcreator";import intl from"@baifendian/adhere-util-intl";import Resource from"@baifendian/adhere-util-resource";import{Button,ConfigProvider,Form}from"antd";import React from"react";import ReactDOM from"react-dom";import ModalDialog,{selectorPrefix}from"./modal";var DEFAULT_LOCAL="zh_CN",LOCAL=Resource.Dict.value.LocalsAntd.value,PromptLayout={labelCol:{span:6},wrapperCol:{span:18}};function renderByIcon(e,t){return React.createElement("div",{className:selectorPrefix+"-renderByIcon"},React.createElement("div",{className:selectorPrefix+"-renderByIcon-fixed"},e),React.createElement("div",{className:selectorPrefix+"-renderByIcon-auto"},t))}var MessageDialogFactory={Confirm:function(e){var t=e.title,o=e.text,n=void 0===o?null:o,r=e.width,i=e.zIndex,a=e.local,o=e.icon,o=void 0===o?null:o,l=e.onSuccess,c=this.Modal({config:{title:t,centered:!0,width:(void 0===r?300:r)||300,closable:!1,zIndex:void 0===i?1e3:i,footer:[React.createElement(Button,{key:"submit",type:"primary",title:intl.v("确定"),onClick:function(){l?l().then(function(){c()}):c()}},intl.v("确定"))]},local:a,children:o?renderByIcon(o,n):n}).close},Alert:function(e){var t=e.title,o=e.text,n=void 0===o?null:o,r=e.width,i=e.zIndex,o=e.local,e=e.icon;this.Modal({config:{title:t,centered:!0,width:(void 0===r?300:r)||300,closable:!1,zIndex:void 0===i?1e3:i},local:o,children:e?renderByIcon(e,n):n})},Prompt:function(e){var t=e.title,o=e.config,n=e.layout,r=void 0===n?PromptLayout:n,i=e.width,a=void 0===i?300:i,n=e.zIndex,i=void 0===n?1e3:n,n=e.local,l=e.onSuccess,c=React.createRef(),s=this.Modal({config:{title:t,centered:!0,width:a||300,closable:!1,zIndex:i,footer:[React.createElement(Button,{key:"submit",type:"primary",title:intl.v("确定"),onClick:function(){l?c.current.validateFields().then(function(e){l(e.value).then(function(){s()})}):s()}},intl.v("确定"))]},local:n,children:React.createElement(Form,{name:"Prompt",ref:c,style:{width:"100%"}},React.createElement(FormItemCreator,{columns:[__assign(__assign({},o||{label:"normal",type:FormItemCreator.TEXT,initialValue:""}),{name:"value"})],layout:r||PromptLayout}))}).close},InputPrompt:function(e){var t=e.config,e=__rest(e,["config"]);MessageDialogFactory.Prompt(__assign(__assign({},e),{config:__assign(__assign({},t),{type:FormItemCreator.INPUT})}))},TextAreaPrompt:function(e){var t=e.config,e=__rest(e,["config"]);MessageDialogFactory.Prompt(__assign(__assign({},e),{config:__assign(__assign({},t),{type:FormItemCreator.TEXTAREA})}))},PassWordPrompt:function(e){var t=e.config,e=__rest(e,["config"]);MessageDialogFactory.Prompt(__assign(__assign({},e),{config:__assign(__assign({},t),{type:FormItemCreator.PASSWORD})}))},NumberPrompt:function(e){var t=e.config,e=__rest(e,["config"]);MessageDialogFactory.Prompt(__assign(__assign({},e),{config:__assign(__assign({},t),{type:FormItemCreator.NUMBER})}))},Modal:function(e){var t=e.config,o=e.children,n=void 0===o?null:o,o=e.defaultCloseBtn,o=void 0===o||o,e=e.local,e=void 0===e?DEFAULT_LOCAL:e,t=Object.assign({maskClosable:!1},void 0===t?{}:t),r=document.createElement("div");function i(){var e,t;ReactDOM.unmountComponentAtNode(r)&&null!==(t=null===(e=null==r?void 0:r.parentElement)||void 0===e?void 0:e.removeChild)&&void 0!==t&&t.call(e,r)}return ReactDOM.render(React.createElement(ConfigProvider,{locale:LOCAL[e||DEFAULT_LOCAL]},React.createElement(ModalDialog,{close:i,config:t,closeBtn:o},n)),r),document.body.appendChild(r),{el:r,close:i}},close:function(e){var t,o;ReactDOM.unmountComponentAtNode(e)&&null!==(o=null===(t=null==e?void 0:e.parentElement)||void 0===t?void 0:t.removeChild)&&void 0!==o&&o.call(t,e)}};export default MessageDialogFactory;
//# sourceMappingURL=messagedialog.js.map
