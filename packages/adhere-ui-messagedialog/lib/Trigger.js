"use strict";var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__createBinding=Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&("get"in l?t.__esModule:!l.writable&&!l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},classnames_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("classnames"))),lodash_debounce_1=__importDefault(require("lodash.debounce")),react_1=__importStar(require("react")),MessageDialog_1=__importDefault(require("./MessageDialog")),Modal_1=require("./Modal"),SubmitButton_1=__importDefault(require("./SubmitButton")),Trigger=function(e){var t=e.className,r=e.style,n=e.value,l=e.disabled,a=void 0!==l&&l,u=e.onChange,i=e.children,l=e.renderTrigger,o=e.modalConfig,c=e.actions,e=e.maximized,s=void 0===e||e,_=(0,react_1.useRef)(null),f=(0,react_1.useMemo)(function(){return i&&react_1.default.cloneElement(i,__assign(__assign({},i.props),{value:n}),i.props.children)},[i,n]);return(0,react_1.useEffect)(function(){var e;try{null!=(e=_.current)&&e.update(f)}catch(e){}}),react_1.default.createElement("div",{className:(0,classnames_1.default)("".concat(Modal_1.selectorPrefix,"-trigger"),null!=t?t:""),style:null!=r?r:{},onClick:(0,lodash_debounce_1.default)(function(){var e,t,r;a||((t=null!=(t=null==o?void 0:o.config)?t:{}).footer=null!=(e=null==(e=(r=null!=c?c:[]).map)?void 0:e.call(r,function(e){return react_1.default.createElement(SubmitButton_1.default,__assign({},null!=e?e:{},{onClick:function(){return n=e.onClick,l=_.current.close,new Promise(function(t,r){var e;null!=(e=null==n?void 0:n())&&e.then(function(e){null!=u&&u(e),setTimeout(function(){t(e),null!=l&&l()},300)}).catch(function(e){return r(e)})});var n,l}}))}))?e:[],r=new Map([[!0,MessageDialog_1.default.MaximizeModal],[!1,MessageDialog_1.default.Modal]]),_.current=null==(e=r.get(s))?void 0:e({config:t,defaultCloseBtn:!0,children:f}))},200)},null==l?void 0:l())};Trigger.displayName="Trigger",exports.default=Trigger;
//# sourceMappingURL=Trigger.js.map
