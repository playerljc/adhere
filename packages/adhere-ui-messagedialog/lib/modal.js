"use strict";var __extends=this&&this.__extends||function(){var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,o=1,r=arguments.length;o<r;o++)for(var n in e=arguments[o])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var o={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectorPrefix=void 0;var react_1=__importDefault(require("react")),react_dom_1=__importDefault(require("react-dom")),prop_types_1=__importDefault(require("prop-types")),antd_1=require("antd"),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),actions_1=__importDefault(require("./actions")),emitter_1=__importDefault(require("./emitter"));exports.selectorPrefix="adhere-ui-messagedialog";var ModalDialog=function(e){function t(t){t=e.call(this,t)||this;return t.onClose=t.onClose.bind(t),t}return __extends(t,e),t.prototype.componentDidMount=function(){emitter_1.default.on(actions_1.default.close,this.onClose)},t.prototype.componentWillUnmount=function(){emitter_1.default.remove(actions_1.default.close,this.onClose)},t.prototype.onClose=function(t){var e=this.props.parent;function o(){react_dom_1.default.unmountComponentAtNode(e)&&e.parentElement.removeChild(e)}t&&t!==e||o()},t.prototype.renderCloseBtn=function(){var t=this,e=this.props.config.footer,o=void 0===e?[]:e,e={key:"close",title:adhere_util_intl_1.default.v("取消"),type:void 0,onClick:function(){t.onClose()}};return 0===o.length&&(e.type="primary"),react_1.default.createElement(antd_1.Button,__assign({},e),adhere_util_intl_1.default.v("取消"))},t.prototype.render=function(){var t=this,e=this.props,o=e.config,r=e.cloneBtn,n=e.children,i=o.footer,e=void 0===i?[]:i,i=o.centered,i=void 0===i||i,o=__rest(o,["footer","centered"]);return react_1.default.createElement(antd_1.Modal,__assign({},o,{footer:r?e.concat(this.renderCloseBtn()):e,centered:i,wrapClassName:exports.selectorPrefix,onCancel:function(){t.onClose()},visible:!0}),n)},t}(react_1.default.Component);ModalDialog.defaultProps={parent:null,config:{},cloneBtn:!0},ModalDialog.propTypes={parent:prop_types_1.default.object,config:prop_types_1.default.object,cloneBtn:prop_types_1.default.bool},exports.default=ModalDialog;
//# sourceMappingURL=modal.js.map
