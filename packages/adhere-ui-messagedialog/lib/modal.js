var __extends=this&&this.__extends||function(){var n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};return function(t,o){function e(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var o,e=1,n=arguments.length;e<n;e++)for(var r in o=arguments[e])Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,o){var e={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&o.indexOf(r)<0&&(e[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)o.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(e[r[n]]=t[r[n]]);return e};import React from"react";import ReactDOM from"react-dom";import PropTypes from"prop-types";import{Modal as Modal,Button as Button}from"antd";import intl from"@baifendian/adhere-util-intl";import Actions from"./actions";import Emitter from"./emitter";var selectorPrefix="adhere-ui-messagedialog",ModalDialog=function(o){function t(t){t=o.call(this,t)||this;return t.onClose=t.onClose.bind(t),t}return __extends(t,o),t.prototype.componentDidMount=function(){Emitter.on(Actions.close,this.onClose)},t.prototype.componentWillUnmount=function(){Emitter.remove(Actions.close,this.onClose)},t.prototype.onClose=function(t){var o=this.props.parent;function e(){ReactDOM.unmountComponentAtNode(o)&&o.parentElement.removeChild(o)}t&&t!==o||e()},t.prototype.renderCloseBtn=function(){var t=this,o=this.props.config.footer,e=void 0===o?[]:o,o={key:"close",title:intl.v("取消"),type:void 0,onClick:function(){t.onClose()}};return 0===e.length&&(o.type="primary"),React.createElement(Button,__assign({},o),intl.v("取消"))},t.prototype.render=function(){var t=this,o=this.props,e=o.config,n=o.cloneBtn,r=o.children,i=e.footer,o=void 0===i?[]:i,i=e.centered,i=void 0===i||i,e=__rest(e,["footer","centered"]);return React.createElement(Modal,__assign({},e,{footer:n?o.concat(this.renderCloseBtn()):o,centered:i,wrapClassName:selectorPrefix,onCancel:function(){t.onClose()},visible:!0}),r)},t}(React.Component);ModalDialog.defaultProps={parent:null,config:{},cloneBtn:!0},ModalDialog.propTypes={parent:PropTypes.object,config:PropTypes.object,cloneBtn:PropTypes.bool};export default ModalDialog;export{selectorPrefix as selectorPrefix};
//# sourceMappingURL=modal.js.map
