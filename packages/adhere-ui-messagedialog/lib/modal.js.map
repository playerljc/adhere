{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = exports.default = void 0;\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nvar _modal = _interopRequireDefault(require(\"antd/lib/modal\"));\n\nvar _button = _interopRequireDefault(require(\"antd/lib/button\"));\n\nvar _tslib = require(\"tslib\");\n\nvar _adhereUtilIntl = _interopRequireDefault(require(\"@baifendian/adhere-util-intl\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar selectorPrefix = 'adhere-ui-messagedialog';\n/**\n * ModalDialog\n * @class Modal\n * @classdesc Modal\n */\n\nexports.selectorPrefix = selectorPrefix;\n\nvar ModalDialog =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(ModalDialog, _super);\n\n  function ModalDialog() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  } // constructor(props) {\n  //   super(props);\n  //   this.onClose = this.onClose.bind(this);\n  // }\n  // componentDidMount() {\n  //   Emitter.on(Actions.close, this.onClose);\n  // }\n  // componentWillUnmount() {\n  //   Emitter.remove(Actions.close, this.onClose);\n  // }\n\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  ModalDialog.prototype.renderCloseBtn = function () {\n    var _this = this;\n\n    var _a = this.props.config.footer,\n        footer = _a === void 0 ? [] : _a;\n    var props = {\n      key: 'close',\n      title: _adhereUtilIntl.default.v('取消'),\n      type: undefined,\n      onClick: function onClick() {\n        // @ts-ignore\n        _this.props.close();\n      }\n    };\n\n    if (footer.length === 0) {\n      // @ts-ignore\n      props.type = 'primary';\n    }\n\n    return /*#__PURE__*/_react.default.createElement(_button.default, (0, _tslib.__assign)({}, props), _adhereUtilIntl.default.v('取消'));\n  };\n\n  ModalDialog.prototype.render = function () {\n    var _a = this.props,\n        config = _a.config,\n        closeBtn = _a.closeBtn,\n        close = _a.close,\n        children = _a.children; // @ts-ignore\n\n    var _b = config.footer,\n        footer = _b === void 0 ? [] : _b,\n        _c = config.centered,\n        centered = _c === void 0 ? true : _c,\n        other = (0, _tslib.__rest)(config, [\"footer\", \"centered\"]);\n    return /*#__PURE__*/_react.default.createElement(_modal.default, (0, _tslib.__assign)({}, other, {\n      footer: closeBtn ? footer.concat(this.renderCloseBtn()) : footer,\n      centered: centered,\n      wrapClassName: selectorPrefix,\n      onCancel: function onCancel() {\n        close();\n      },\n      visible: true\n    }), children);\n  };\n\n  return ModalDialog;\n}(_react.default.Component);\n\nModalDialog.defaultProps = {\n  config: {},\n  closeBtn: true\n};\nModalDialog.propTypes = {\n  config: _propTypes.default.object,\n  closeBtn: _propTypes.default.bool,\n  close: _propTypes.default.func\n};\nvar _default = ModalDialog;\nexports.default = _default;"],"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","selectorPrefix","default","_modal","_button","_tslib","_adhereUtilIntl","_propTypes","_react","ModalDialog","_super","apply","this","arguments","__extends","prototype","renderCloseBtn","_this","_a","props","config","footer","key","title","v","type","undefined","onClick","close","length","createElement","__assign","render","closeBtn","children","_b","_c","centered","other","__rest","concat","wrapClassName","onCancel","visible","Component","defaultProps","propTypes","object","bool","func","_default"],"mappings":"aAEAA,QAAQ,gDAER,IAAIC,uBAAyBD,QAAQ,gDAErCE,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,eAAiBF,QAAQG,aAAU,EAE3CP,QAAQ,sCAER,IAAIQ,OAASP,uBAAuBD,QAAQ,mBAExCS,QAAUR,uBAAuBD,QAAQ,oBAEzCU,OAASV,QAAQ,SAEjBW,gBAAkBV,uBAAuBD,QAAQ,iCAEjDY,WAAaX,uBAAuBD,QAAQ,eAE5Ca,OAASZ,uBAAuBD,QAAQ,UAExCM,eAAiB,0BAOrBF,QAAQE,eAAiBA,eAEzB,IAAIQ,YAEJ,SAAUC,GAGR,SAASD,IACP,OAAkB,OAAXC,GAAmBA,EAAOC,MAAMC,KAAMC,YAAcD,KAgE7D,OAnEA,EAAIP,OAAOS,WAAWL,EAAaC,GAqBnCD,EAAYM,UAAUC,eAAiB,WACrC,IAAIC,EAAQL,KAERM,EAAKN,KAAKO,MAAMC,OAAOC,OACvBA,OAAgB,IAAPH,EAAgB,GAAKA,EAC9BC,EAAQ,CACVG,IAAK,QACLC,MAAOjB,gBAAgBJ,QAAQsB,EAAE,MACjCC,UAAMC,EACNC,QAAS,WAEPV,EAAME,MAAMS,UAShB,OALsB,IAAlBP,EAAOQ,SAETV,EAAMM,KAAO,WAGKjB,OAAON,QAAQ4B,cAAc1B,QAAQF,SAAS,EAAIG,OAAO0B,UAAU,GAAIZ,GAAQb,gBAAgBJ,QAAQsB,EAAE,QAG/Hf,EAAYM,UAAUiB,OAAS,WAC7B,IAAId,EAAKN,KAAKO,MACVC,EAASF,EAAGE,OACZa,EAAWf,EAAGe,SACdL,EAAQV,EAAGU,MACXM,EAAWhB,EAAGgB,SAEdC,EAAKf,EAAOC,OACZA,OAAgB,IAAPc,EAAgB,GAAKA,EAC9BC,EAAKhB,EAAOiB,SACZA,OAAkB,IAAPD,GAAuBA,EAClCE,GAAQ,EAAIjC,OAAOkC,QAAQnB,EAAQ,CAAC,SAAU,aAClD,OAAoBZ,OAAON,QAAQ4B,cAAc3B,OAAOD,SAAS,EAAIG,OAAO0B,UAAU,GAAIO,EAAO,CAC/FjB,OAAQY,EAAWZ,EAAOmB,OAAO5B,KAAKI,kBAAoBK,EAC1DgB,SAAUA,EACVI,cAAexC,eACfyC,SAAU,WACRd,KAEFe,SAAS,IACPT,IAGCzB,EApET,CAqEED,OAAON,QAAQ0C,WAEjBnC,YAAYoC,aAAe,CACzBzB,OAAQ,GACRa,UAAU,GAEZxB,YAAYqC,UAAY,CACtB1B,OAAQb,WAAWL,QAAQ6C,OAC3Bd,SAAU1B,WAAWL,QAAQ8C,KAC7BpB,MAAOrB,WAAWL,QAAQ+C,MAE5B,IAAIC,SAAWzC,YACfV,QAAQG,QAAUgD"}