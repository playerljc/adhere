{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar antd_1 = require(\"antd\");\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nexports.selectorPrefix = 'adhere-ui-messagedialog';\n\nvar ModalDialog = function ModalDialog(props) {\n  var config = props.config,\n      closeBtn = props.closeBtn,\n      close = props.close,\n      children = props.children;\n\n  var _a = config.footer,\n      footer = _a === void 0 ? [] : _a,\n      _b = config.centered,\n      centered = _b === void 0 ? true : _b,\n      other = tslib_1.__rest(config, [\"footer\", \"centered\"]);\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  function renderCloseBtn() {\n    var props = {\n      key: 'close',\n      title: adhere_util_intl_1.default.v('取消'),\n      type: 'default',\n      onClick: function onClick() {\n        return close === null || close === void 0 ? void 0 : close();\n      }\n    };\n\n    if (Array.isArray(footer) && footer.length === 0) {\n      props['type'] = 'primary';\n    } // @ts-ignore\n\n\n    return react_1.default.createElement(antd_1.Button, tslib_1.__assign({}, props), adhere_util_intl_1.default.v('取消'));\n  }\n\n  var footerNode = (0, react_1.useMemo)(function () {\n    var closeBtnNode = renderCloseBtn();\n    var footerNode;\n\n    if (footer) {\n      if (closeBtn) {\n        if (Array.isArray(footer)) {\n          footerNode = tslib_1.__spreadArray(tslib_1.__spreadArray([], footer, true), [closeBtnNode], false);\n        } else {\n          footerNode = [footer, closeBtnNode];\n        }\n      } else {\n        footerNode = footer;\n      }\n    } else {\n      if (closeBtn) {\n        footerNode = closeBtnNode;\n      }\n    }\n\n    return footerNode;\n  }, [footer, closeBtn]);\n  return react_1.default.createElement(antd_1.Modal, tslib_1.__assign({}, other, {\n    footer: footerNode,\n    centered: centered,\n    wrapClassName: exports.selectorPrefix,\n    onCancel: function onCancel() {\n      return close === null || close === void 0 ? void 0 : close();\n    },\n    visible: true\n  }), children);\n};\n\nexports.default = ModalDialog;"],"names":["require","Object","defineProperty","exports","value","selectorPrefix","tslib_1","react_1","__importStar","antd_1","adhere_util_intl_1","__importDefault","ModalDialog","props","config","closeBtn","close","children","_a","footer","_b","centered","other","__rest","footerNode","useMemo","closeBtnNode","key","title","default","v","type","onClick","Array","isArray","length","createElement","Button","__assign","__spreadArray","Modal","wrapClassName","onCancel","visible"],"mappings":"aAEAA,QAAQ,gDAERC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,oBAAiB,EAEzB,IAAIC,QAAUN,QAAQ,SAElBO,QAAUD,QAAQE,aAAaR,QAAQ,UAEvCS,OAAST,QAAQ,QAEjBU,mBAAqBJ,QAAQK,gBAAgBX,QAAQ,iCAEzDG,QAAQE,eAAiB,0BAEzB,IAAIO,YAAc,SAAqBC,GACrC,IAAIC,EAASD,EAAMC,OACfC,EAAWF,EAAME,SACjBC,EAAQH,EAAMG,MACdC,EAAWJ,EAAMI,SAEjBC,EAAKJ,EAAOK,OACZA,OAAgB,IAAPD,EAAgB,GAAKA,EAC9BE,EAAKN,EAAOO,SACZA,OAAkB,IAAPD,GAAuBA,EAClCE,EAAQhB,QAAQiB,OAAOT,EAAQ,CAAC,SAAU,aAyB1CU,GAAa,EAAIjB,QAAQkB,SAAS,WACpC,IACID,EADAE,GAlBAb,EAAQ,CACVc,IAAK,QACLC,MAAOlB,mBAAmBmB,QAAQC,EAAE,MACpCC,KAAM,UACNC,QAAS,WACP,OAAOhB,MAAAA,OAAqC,EAASA,MAIrDiB,MAAMC,QAAQf,IAA6B,IAAlBA,EAAOgB,SAClCtB,EAAY,KAAI,WAIXN,QAAQsB,QAAQO,cAAc3B,OAAO4B,OAAQ/B,QAAQgC,SAAS,GAAIzB,GAAQH,mBAAmBmB,QAAQC,EAAE,QAuB9G,OAhBIX,EAGEK,EAFAT,EACEkB,MAAMC,QAAQf,GACHb,QAAQiC,cAAcjC,QAAQiC,cAAc,GAAIpB,GAAQ,GAAO,CAACO,IAAe,GAE/E,CAACP,EAAQO,GAGXP,EAGXJ,IACFS,EAAaE,GAIVF,GACN,CAACL,EAAQJ,IACZ,OAAOR,QAAQsB,QAAQO,cAAc3B,OAAO+B,MAAOlC,QAAQgC,SAAS,GAAIhB,EAAO,CAC7EH,OAAQK,EACRH,SAAUA,EACVoB,cAAetC,QAAQE,eACvBqC,SAAU,WACR,OAAO1B,MAAAA,OAAqC,EAASA,KAEvD2B,SAAS,IACP1B,IAGNd,QAAQ0B,QAAUjB"}