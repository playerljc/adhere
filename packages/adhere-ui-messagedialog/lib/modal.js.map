{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.selectorPrefix = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar antd_1 = require(\"antd\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\n\nexports.selectorPrefix = 'adhere-ui-messagedialog';\n\nvar ModalDialog = function ModalDialog(props) {\n  var config = props.config,\n      closeBtn = props.closeBtn,\n      close = props.close,\n      children = props.children;\n\n  var _a = config.footer,\n      footer = _a === void 0 ? [] : _a,\n      _b = config.centered,\n      centered = _b === void 0 ? true : _b,\n      other = tslib_1.__rest(config, [\"footer\", \"centered\"]);\n  /**\n   * renderCloseBtn\n   * @return {ReactNode}\n   */\n\n\n  function renderCloseBtn() {\n    var props = {\n      key: 'close',\n      title: adhere_util_intl_1.default.v('取消'),\n      type: 'default',\n      onClick: function onClick() {\n        return close === null || close === void 0 ? void 0 : close();\n      }\n    };\n\n    if (Array.isArray(footer) && footer.length === 0) {\n      props['type'] = 'primary';\n    } // @ts-ignore\n\n\n    return react_1.default.createElement(antd_1.Button, tslib_1.__assign({}, props), adhere_util_intl_1.default.v('取消'));\n  }\n\n  var footerNode = (0, react_1.useMemo)(function () {\n    var closeBtnNode = renderCloseBtn();\n    var footerNode;\n\n    if (footer) {\n      if (closeBtn) {\n        if (Array.isArray(footer)) {\n          footerNode = tslib_1.__spreadArray(tslib_1.__spreadArray([], footer, true), [closeBtnNode], false);\n        } else {\n          footerNode = [footer, closeBtnNode];\n        }\n      } else {\n        footerNode = footer;\n      }\n    } else {\n      if (closeBtn) {\n        footerNode = closeBtnNode;\n      }\n    }\n\n    return footerNode;\n  }, [footer, closeBtn]);\n  var onCancel = (0, react_1.useCallback)(function () {\n    return close === null || close === void 0 ? void 0 : close();\n  }, []);\n  return react_1.default.createElement(antd_1.Modal, tslib_1.__assign({}, other, {\n    footer: footerNode,\n    centered: centered,\n    wrapClassName: exports.selectorPrefix,\n    onCancel: onCancel,\n    visible: true\n  }), children);\n};\n\nexports.default = (0, react_1.memo)(ModalDialog);"],"names":["require","Object","defineProperty","exports","value","selectorPrefix","tslib_1","antd_1","react_1","__importStar","adhere_util_intl_1","__importDefault","ModalDialog","props","config","closeBtn","close","children","_a","footer","_b","centered","other","__rest","footerNode","useMemo","key","title","default","v","type","onClick","Array","isArray","length","closeBtnNode","createElement","Button","__assign","__spreadArray","onCancel","useCallback","Modal","wrapClassName","visible","memo"],"mappings":"AAAA,aAEAA,QAAQ,8CAA8C,EAEtDC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,MAAO,CAAA,CACT,CAAC,EACDD,QAAQE,eAAiB,KAAA,EAEzB,IAAIC,QAAUN,QAAQ,OAAO,EAEzBO,OAASP,QAAQ,MAAM,EAEvBQ,QAAUF,QAAQG,aAAaT,QAAQ,OAAO,CAAC,EAE/CU,mBAAqBJ,QAAQK,gBAAgBX,QAAQ,8BAA8B,CAAC,EAIpFY,aAFJT,QAAQE,eAAiB,0BAEP,SAAqBQ,GACrC,IAAIC,EAASD,EAAMC,OACfC,EAAWF,EAAME,SACjBC,EAAQH,EAAMG,MACdC,EAAWJ,EAAMI,SAEjBC,EAAKJ,EAAOK,OACZA,EAAgB,KAAA,IAAPD,EAAgB,GAAKA,EAC9BE,EAAKN,EAAOO,SACZA,EAAkB,KAAA,IAAPD,GAAuBA,EAClCE,EAAQhB,QAAQiB,OAAOT,EAAQ,CAAC,SAAU,WAAW,EAyBzD,IAAIU,GAAa,EAAIhB,QAAQiB,SAAS,WAjBhCZ,EAAQ,CACVa,IAAK,QACLC,MAAOjB,mBAAmBkB,QAAQC,EAAE,IAAI,EACxCC,KAAM,UACNC,QAAS,WACP,OAAOf,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAC7D,CACF,EAEIgB,MAAMC,QAAQd,CAAM,GAAuB,IAAlBA,EAAOe,SAClCrB,EAAY,KAAI,WAQlB,IACIW,EADAW,EAJG3B,QAAQoB,QAAQQ,cAAc7B,OAAO8B,OAAQ/B,QAAQgC,SAAS,GAAIzB,CAAK,EAAGH,mBAAmBkB,QAAQC,EAAE,IAAI,CAAC,EAuBnH,OAhBIV,EAGEK,EAFAT,EACEiB,MAAMC,QAAQd,CAAM,EACTb,QAAQiC,cAAcjC,QAAQiC,cAAc,GAAIpB,EAAQ,CAAA,CAAI,EAAG,CAACgB,GAAe,CAAA,CAAK,EAEpF,CAAChB,EAAQgB,GAGXhB,EAGXJ,IACFS,EAAaW,GAIVX,CACT,EAAG,CAACL,EAAQJ,EAAS,EACjByB,GAAW,EAAIhC,QAAQiC,aAAa,WACtC,OAAOzB,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAC7D,EAAG,EAAE,EACL,OAAOR,QAAQoB,QAAQQ,cAAc7B,OAAOmC,MAAOpC,QAAQgC,SAAS,GAAIhB,EAAO,CAC7EH,OAAQK,EACRH,SAAUA,EACVsB,cAAexC,QAAQE,eACvBmC,SAAUA,EACVI,QAAS,CAAA,CACX,CAAC,EAAG3B,CAAQ,CACd,GAEAd,QAAQyB,SAAU,EAAIpB,QAAQqC,MAAMjC,WAAW"}