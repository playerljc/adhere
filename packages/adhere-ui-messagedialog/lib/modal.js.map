{"version":3,"file":"modal.js","sources":["modal.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.selectorPrefix = void 0;\r\nvar tslib_1 = require(\"tslib\");\r\nvar antd_1 = require(\"antd\");\r\nvar react_1 = tslib_1.__importStar(require(\"react\"));\r\nvar adhere_util_intl_1 = tslib_1.__importDefault(require(\"@baifendian/adhere-util-intl\"));\r\nexports.selectorPrefix = 'adhere-ui-messagedialog';\r\nvar ModalDialog = function (props) {\r\n    var config = props.config, closeBtn = props.closeBtn, close = props.close, children = props.children;\r\n    var _a = config.footer, footer = _a === void 0 ? [] : _a, _b = config.centered, centered = _b === void 0 ? true : _b, other = tslib_1.__rest(config, [\"footer\", \"centered\"]);\r\n    /**\r\n     * renderCloseBtn\r\n     * @return {ReactNode}\r\n     */\r\n    function renderCloseBtn() {\r\n        var props = {\r\n            key: 'close',\r\n            title: adhere_util_intl_1.default.v('取消'),\r\n            type: 'default',\r\n            onClick: function () { return close === null || close === void 0 ? void 0 : close(); },\r\n        };\r\n        if (Array.isArray(footer) && footer.length === 0) {\r\n            props['type'] = 'primary';\r\n        }\r\n        // @ts-ignore\r\n        return react_1.default.createElement(antd_1.Button, tslib_1.__assign({}, props), adhere_util_intl_1.default.v('取消'));\r\n    }\r\n    var footerNode = (0, react_1.useMemo)(function () {\r\n        var closeBtnNode = renderCloseBtn();\r\n        var footerNode;\r\n        if (footer) {\r\n            if (closeBtn) {\r\n                if (Array.isArray(footer)) {\r\n                    footerNode = tslib_1.__spreadArray(tslib_1.__spreadArray([], footer, true), [closeBtnNode], false);\r\n                }\r\n                else {\r\n                    footerNode = [footer, closeBtnNode];\r\n                }\r\n            }\r\n            else {\r\n                footerNode = footer;\r\n            }\r\n        }\r\n        else {\r\n            if (closeBtn) {\r\n                footerNode = closeBtnNode;\r\n            }\r\n        }\r\n        return footerNode;\r\n    }, [footer, closeBtn]);\r\n    var onCancel = (0, react_1.useCallback)(function () { return close === null || close === void 0 ? void 0 : close(); }, []);\r\n    return (react_1.default.createElement(antd_1.Modal, tslib_1.__assign({}, other, { footer: footerNode, centered: centered, wrapClassName: exports.selectorPrefix, onCancel: onCancel, open: true }), children));\r\n};\r\nexports.default = (0, react_1.memo)(ModalDialog);\r\n//# sourceMappingURL=modal.js.map"],"names":["Object","defineProperty","exports","value","selectorPrefix","tslib_1","require","antd_1","react_1","__importStar","adhere_util_intl_1","__importDefault","ModalDialog","props","config","closeBtn","close","children","_a","footer","_b","centered","other","__rest","footerNode","useMemo","key","title","default","v","type","onClick","Array","isArray","length","closeBtnNode","createElement","Button","__assign","__spreadArray","onCancel","useCallback","Modal","wrapClassName","open","memo"],"mappings":"AAAA,aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC5DD,QAAQE,eAAiB,KAAA,EACzB,IAAIC,QAAUC,QAAQ,OAAO,EACzBC,OAASD,QAAQ,MAAM,EACvBE,QAAUH,QAAQI,aAAaH,QAAQ,OAAO,CAAC,EAC/CI,mBAAqBL,QAAQM,gBAAgBL,QAAQ,8BAA8B,CAAC,EAEpFM,aADJV,QAAQE,eAAiB,0BACP,SAAUS,GACxB,IAAIC,EAASD,EAAMC,OAAQC,EAAWF,EAAME,SAAUC,EAAQH,EAAMG,MAAOC,EAAWJ,EAAMI,SACxFC,EAAKJ,EAAOK,OAAQA,EAAgB,KAAA,IAAPD,EAAgB,GAAKA,EAAIE,EAAKN,EAAOO,SAAUA,EAAkB,KAAA,IAAPD,GAAuBA,EAAIE,EAAQjB,QAAQkB,OAAOT,EAAQ,CAAC,SAAU,WAAW,EAkB3K,IAAIU,GAAa,EAAIhB,QAAQiB,SAAS,WAZ9BZ,EAAQ,CACRa,IAAK,QACLC,MAAOjB,mBAAmBkB,QAAQC,EAAE,IAAI,EACxCC,KAAM,UACNC,QAAS,WAAc,OAAOf,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAAG,CACzF,EACIgB,MAAMC,QAAQd,CAAM,GAAuB,IAAlBA,EAAOe,SAChCrB,EAAY,KAAI,WAMpB,IACIW,EADAW,EAHG3B,QAAQoB,QAAQQ,cAAc7B,OAAO8B,OAAQhC,QAAQiC,SAAS,GAAIzB,CAAK,EAAGH,mBAAmBkB,QAAQC,EAAE,IAAI,CAAC,EAuBnH,OAlBIV,EAGQK,EAFJT,EACIiB,MAAMC,QAAQd,CAAM,EACPd,QAAQkC,cAAclC,QAAQkC,cAAc,GAAIpB,EAAQ,CAAA,CAAI,EAAG,CAACgB,GAAe,CAAA,CAAK,EAGpF,CAAChB,EAAQgB,GAIbhB,EAIbJ,IACAS,EAAaW,GAGdX,CACX,EAAG,CAACL,EAAQJ,EAAS,EACjByB,GAAW,EAAIhC,QAAQiC,aAAa,WAAc,OAAOzB,MAAAA,EAAqC,KAAA,EAASA,EAAM,CAAG,EAAG,EAAE,EACzH,OAAQR,QAAQoB,QAAQQ,cAAc7B,OAAOmC,MAAOrC,QAAQiC,SAAS,GAAIhB,EAAO,CAAEH,OAAQK,EAAYH,SAAUA,EAAUsB,cAAezC,QAAQE,eAAgBoC,SAAUA,EAAUI,KAAM,CAAA,CAAK,CAAC,EAAG3B,CAAS,CACjN,GACAf,QAAQ0B,SAAU,EAAIpB,QAAQqC,MAAMjC,WAAW"}