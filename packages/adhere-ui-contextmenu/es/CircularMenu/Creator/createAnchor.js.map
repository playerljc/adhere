{"version":3,"file":"createAnchor.js","sources":["CircularMenu/Creator/createAnchor.js"],"sourcesContent":["import classed from './../classed';\nimport on from './../on';\nimport style from './../style';\nimport styleSheet from './styleSheet';\nfunction hasSubMenus(menus) {\n    return menus instanceof Array && menus.length !== 0;\n}\nfunction ifDisabled(disabled) {\n    if (disabled instanceof Function)\n        return disabled();\n    else\n        return Boolean(disabled);\n}\nfunction setHref(ele, href) {\n    if (!href)\n        return;\n    if (href instanceof Object) {\n        ele.href = href.url;\n        ele.target = href.blank ? '_blank' : '';\n    }\n    else {\n        ele.href = href;\n    }\n}\nvar delayShow = null; // delayShow reference the last setTimeout triggered by any one of menu item(anchor)\nexport default function (parent, data, index) {\n    var self = this;\n    var delayHide = null; // delayHide reference the last setTimeout triggered by the menu item itself\n    var a = document.createElement('a');\n    setHref(a, data.href);\n    a.setDisabled = function () {\n        classed(a, 'disabled', ifDisabled(data.disabled));\n    };\n    this._anchors.push(a);\n    style(a, 'width', this._calc.clickZoneSize.width);\n    style(a, 'height', this._calc.clickZoneSize.height);\n    style(a, 'right', this._calc.clickZoneSize.marginRight);\n    style(a, 'bottom', this._calc.clickZoneSize.marginBottom);\n    style(a, 'transform', 'skew(' + -this._calc.skewDeg + 'deg) rotate(' + this._calc.unskewDeg + 'deg) scale(1)');\n    classed(a, 'disabled', ifDisabled(data.disabled));\n    var percent = this._config.percent * 100 + '%';\n    styleSheet(a, 'background', 'radial-gradient(transparent ' + percent + ', ' + this._config.background + ' ' + percent + ')');\n    styleSheet(a, 'background', 'radial-gradient(transparent ' +\n        percent +\n        ', ' +\n        this._config.backgroundHover +\n        ' ' +\n        percent +\n        ')', 'hover');\n    function clickCallBack(e, data) {\n        if (data.click)\n            data.click.call(this, e, data);\n        if (self._config.hideAfterClick) {\n            self._cMenu.hide();\n            if (self._cMenu._pMenu)\n                self._cMenu._pMenu.hide();\n            // if (subMenu) subMenu.hide();\n        }\n    }\n    on(a, 'click', clickCallBack, data);\n    parent.appendChild(a);\n    this._createHorizontal(a, data, index);\n    //toggle subMenu\n    if (hasSubMenus(data.menus)) {\n        var subMenu_1 = this._createSubMenu(self, data.menus, index);\n        on(a, 'mouseenter', function () {\n            delayShow = setTimeout(function () {\n                subMenu_1\n                    .styles({\n                    top: self._container.offsetTop + self._calc.radius + 'px',\n                    left: self._container.offsetLeft + self._calc.radius + 'px',\n                })\n                    .show();\n            }, 150);\n        });\n        on(a, 'mouseleave', function (e) {\n            if (!subMenu_1._container.contains(e.toElement)) {\n                delayHide = setTimeout(function () {\n                    subMenu_1.hide();\n                }, 200);\n            }\n        });\n        on(subMenu_1._container, 'mouseenter', function () {\n            clearTimeout(delayShow);\n            clearTimeout(delayHide);\n        });\n        on(subMenu_1._container, 'mouseleave', function (e) {\n            if (!a.contains(e.toElement) || e.toElement.children[0] === a) {\n                subMenu_1.hide();\n            }\n        });\n    }\n}\n"],"names":["classed","on","style","styleSheet","hasSubMenus","menus","Array","length","ifDisabled","disabled","Function","Boolean","setHref","ele","href","Object","url","target","blank","delayShow","parent","data","index","subMenu_1","self","this","delayHide","a","document","createElement","percent","setDisabled","_anchors","push","_calc","clickZoneSize","width","height","marginRight","marginBottom","skewDeg","unskewDeg","_config","background","backgroundHover","e","click","call","hideAfterClick","_cMenu","hide","_pMenu","appendChild","_createHorizontal","_createSubMenu","setTimeout","styles","top","_container","offsetTop","radius","left","offsetLeft","show","contains","toElement","clearTimeout","children"],"mappings":"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"}