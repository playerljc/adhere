import classNames from"classnames";import React,{memo,useCallback,useContext}from"react";import ReactDOM from"react-dom";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import{ProviderContext}from"./ContextMenuContext";import SubMenu from"./SubMenu";var selectorPrefix="adhere-ui-contextmenu-menuitem",MenuItem=function(e){var e=e.data,t=e.separation,n=e.disabled,a=void 0!==n&&n,n=e.className,o=void 0===n?"":n,n=e.style,r=void 0===n?{}:n,n=e.subMenuClassName,c=void 0===n?"":n,n=e.subMenuStyle,i=void 0===n?{}:n,l=e.id,s=e.attribute,n=e.children,u=void 0===n?[]:n,m=e.name,d=e.icon,n=useContext(ProviderContext),f=n.config,C=n.el;function R(e){e.stopPropagation();e=f.handler;if(a||0<(u||[]).length)return!1;e&&(e(l,s),ReactDOM.unmountComponentAtNode(C))}var p=useCallback(function(){return React.createElement(ConditionalRender,{conditional:"string"==typeof d,noMatch:function(){return React.createElement("span",{className:classNames("".concat(selectorPrefix,"-icon"))},d)}},function(){return React.createElement("span",{className:classNames("".concat(selectorPrefix,"-icon"),d)})})},[d]),x=useCallback(function(){return React.createElement("span",{className:"".concat(selectorPrefix,"-name")},m)},[m]),b=useCallback(function(){return React.createElement(ConditionalRender,{conditional:0!==(u||[]).length},function(){return React.createElement("span",{className:"".concat(selectorPrefix,"-more fa fa-caret-right")})})},[u]),N=useCallback(function(){return React.createElement(ConditionalRender,{conditional:0!==(u||[]).length},function(){return React.createElement(SubMenu,{data:u,className:c,style:i})})},[u,c,i]);return React.createElement(ConditionalRender,{conditional:!t,noMatch:function(){return React.createElement("li",{className:"".concat(selectorPrefix,"-separation")})}},function(){return React.createElement("li",{className:classNames(selectorPrefix,a?"disabled":"",null!=o?o:""),style:null!=r?r:{},onClick:R},p(),x(),b(),N())})};export default memo(MenuItem);
//# sourceMappingURL=MenuItem.js.map
