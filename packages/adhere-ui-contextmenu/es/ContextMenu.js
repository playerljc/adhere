import classNames from"classnames";import React,{forwardRef,useImperativeHandle,useRef}from"react";import ReactDOM from"react-dom";import{ProviderContext}from"./ContextMenuContext";import Menu from"./Menu";var selectorPrefix="adhere-ui-contextmenu",ContextMenuComponent=function(e,t){var n=e.data,n=void 0===n?[]:n,o=e.config,r=e.el,a=useRef(null);return useImperativeHandle(t,function(){return{mount:function(){var e;return null==(e=a.current)?void 0:e.mount()}}}),React.createElement(ProviderContext.Provider,{value:{config:o,el:r}},React.createElement("div",{className:classNames(selectorPrefix),style:{zIndex:19998},onClick:function(e){e.stopPropagation(),ReactDOM.unmountComponentAtNode(r)&&null!=(e=null==r?void 0:r.parentElement)&&e.removeChild(r)},onContextMenu:function(e){e.preventDefault(),ReactDOM.unmountComponentAtNode(r)&&null!=(e=null==r?void 0:r.parentElement)&&e.removeChild(r)}},React.createElement(Menu,{data:n,className:o.className,style:o.style,ref:a})))},ContextMenuComponentHOC=forwardRef(ContextMenuComponent),ContextMenu={open:function(e,t){var n=React.createRef(),o=(t=Object.assign({width:200,maskClosable:!0},t),document.createElement("div"));return document.body.appendChild(o),ReactDOM.render(React.createElement(ContextMenuComponentHOC,{data:e,config:t,el:o,ref:n}),o,function(){var e;return null==(e=n.current)?void 0:e.mount()}),o},close:function(e){ReactDOM.unmountComponentAtNode(e)&&e.parentElement.removeChild(e)}};export default ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
