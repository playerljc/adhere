"use strict";var __extends=this&&this.__extends||function(){var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),react_dom_1=__importDefault(require("react-dom")),classnames_1=__importDefault(require("classnames")),prop_types_1=__importDefault(require("prop-types")),adhere_ui_conditionalrender_1=__importDefault(require("@baifendian/adhere-ui-conditionalrender")),SubMenu_1=__importDefault(require("./SubMenu")),ContextMenuContext_1=require("./ContextMenuContext"),selectorPrefix="adhere-ui-contextmenu-menuitem",MenuItem=function(t){function e(e){var o=t.call(this,e)||this;return o.onClick=function(e){e.stopPropagation();var t=o.props.data,r=t.id,n=t.attribute,a=t.children,e=t.disabled,t=o.config.handler;if(e||0<a.length)return!1;t&&(t(r,n),react_dom_1.default.unmountComponentAtNode(o.el))},o.renderInner=o.renderInner.bind(o),o}return __extends(e,t),e.prototype.renderIcon=function(){var e=this.props.data.icon;return react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:"string"==typeof e,noMatch:function(){return react_1.default.createElement("span",{className:classnames_1.default(selectorPrefix+"-icon")},e)}},function(){return react_1.default.createElement("span",{className:classnames_1.default(selectorPrefix+"-icon",e)})})},e.prototype.renderName=function(){var e=this.props.data.name;return react_1.default.createElement("span",{className:selectorPrefix+"-name"},e)},e.prototype.renderMore=function(){var e=this.props.data.children;return react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:0!==e.length},function(){return react_1.default.createElement("span",{className:selectorPrefix+"-more fa fa-caret-right"})})},e.prototype.renderSubMenu=function(){var e=this.props.data,t=e.children,r=e.subMenuClassName,n=e.subMenuStyle;return react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:0!==t.length},function(){return react_1.default.createElement(SubMenu_1.default,{data:t,className:r,style:n})})},e.prototype.renderInner=function(e){var t=this,r=e.config,n=e.el,a=this.props.data,o=a.separation,e=a.disabled,u=void 0!==e&&e,i=a.className,s=a.style;return this.config=r,this.el=n,react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!o,noMatch:function(){return react_1.default.createElement("li",{className:selectorPrefix+"-separation"})}},function(){return react_1.default.createElement("li",{className:classnames_1.default(selectorPrefix,u?"disabled":"",(i||"").split(/\s+/)),style:__assign({},s||{}),onClick:t.onClick},t.renderIcon(),t.renderName(),t.renderMore(),t.renderSubMenu())})},e.prototype.render=function(){return react_1.default.createElement(ContextMenuContext_1.ProviderContext.Consumer,null,this.renderInner)},e}(react_1.default.PureComponent);MenuItem.propTypes={data:prop_types_1.default.shape({name:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.node]),icon:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.node]),disabled:prop_types_1.default.bool,separation:prop_types_1.default.bool,attribute:prop_types_1.default.object,children:prop_types_1.default.array,className:prop_types_1.default.string,style:prop_types_1.default.object,subMenuClassName:prop_types_1.default.string,subMenuStyle:prop_types_1.default.object})},exports.default=MenuItem;
//# sourceMappingURL=MenuItem.js.map
