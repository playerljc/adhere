{"version":3,"file":"factory.js","sources":["CircularMenu/factory.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = __importDefault(require(\"./index\"));\nvar menuContainer = null;\nvar contextMenu = null;\nvar mask = null;\nvar selectorPrefix = 'adhere-ui-context-circular-menu';\nfunction close() {\n    var _a, _b;\n    (_b = (_a = menuContainer === null || menuContainer === void 0 ? void 0 : menuContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, menuContainer);\n    closeMask();\n    menuContainer = null;\n    contextMenu = null;\n}\nfunction createMask() {\n    mask = document.createElement('div');\n    mask.addEventListener('click', function () {\n        close();\n    });\n    mask.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n        close();\n    });\n    mask.className = selectorPrefix;\n    document.body.appendChild(mask);\n}\nfunction closeMask() {\n    var _a, _b;\n    (_b = (_a = mask === null || mask === void 0 ? void 0 : mask.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, mask);\n    mask = null;\n}\nexports.default = {\n    open: function (config, point) {\n        var _a;\n        createMask();\n        menuContainer = document.createElement('div');\n        document.body.appendChild(menuContainer);\n        contextMenu = (0, index_1.default)(menuContainer).config(config);\n        (_a = contextMenu === null || contextMenu === void 0 ? void 0 : contextMenu.show) === null || _a === void 0 ? void 0 : _a.call(contextMenu, [point.x, point.y]);\n    },\n    hide: function () {\n        var _a;\n        if (contextMenu) {\n            (_a = contextMenu.hide) === null || _a === void 0 ? void 0 : _a.call(contextMenu);\n        }\n    },\n    styles: function (properties) {\n        var _a;\n        if (contextMenu) {\n            (_a = contextMenu.styles) === null || _a === void 0 ? void 0 : _a.call(contextMenu, properties);\n        }\n    },\n};\n"],"names":["__importDefault","this","mod","__esModule","default","index_1","Object","defineProperty","exports","value","require","menuContainer","contextMenu","mask","selectorPrefix","close","_a","_b","parentElement","removeChild","call","closeMask","createMask","document","createElement","addEventListener","e","preventDefault","className","body","appendChild","open","config","point","show","x","y","hide","styles","properties"],"mappings":"AAAA,aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,SADJC,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC9CT,gBAAgBU,QAAQ,SAAS,CAAC,GAC5CC,cAAgB,KAChBC,YAAc,KACdC,KAAO,KACPC,eAAiB,kCACrB,SAASC,QACL,IAAIC,EAAIC,EACR,OAACA,EAAK,OAACD,EAAKL,MAAAA,cAAqD,KAAA,EAASA,cAAcO,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIL,aAAa,EAC1NU,UAAU,EAEVT,YADAD,cAAgB,IAEpB,CACA,SAASW,cACLT,KAAOU,SAASC,cAAc,KAAK,GAC9BC,iBAAiB,QAAS,WAC3BV,MAAM,CACV,CAAC,EACDF,KAAKY,iBAAiB,cAAe,SAAUC,GAC3CA,EAAEC,eAAe,EACjBZ,MAAM,CACV,CAAC,EACDF,KAAKe,UAAYd,eACjBS,SAASM,KAAKC,YAAYjB,IAAI,CAClC,CACA,SAASQ,YACL,IAAIL,EAAIC,EACR,OAACA,EAAK,OAACD,EAAKH,MAAAA,KAAmC,KAAA,EAASA,KAAKK,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIH,IAAI,EACtLA,KAAO,IACX,CACAL,QAAQJ,QAAU,CACd2B,KAAM,SAAUC,EAAQC,GAEpBX,WAAW,EACXX,cAAgBY,SAASC,cAAc,KAAK,EAC5CD,SAASM,KAAKC,YAAYnB,aAAa,EAEvC,OAACK,EAAKJ,OADNA,aAAc,EAAIP,QAAQD,SAASO,aAAa,EAAEqB,OAAOA,CAAM,GACR,KAAA,EAASpB,YAAYsB,OAA2ClB,EAAGI,KAAKR,YAAa,CAACqB,EAAME,EAAGF,EAAMG,EAAE,CAClK,EACAC,KAAM,WACF,IAAIrB,EACAJ,aACA,OAACI,EAAKJ,YAAYyB,OAA2CrB,EAAGI,KAAKR,WAAW,CAExF,EACA0B,OAAQ,SAAUC,GACd,IAAIvB,EACAJ,aACA,OAACI,EAAKJ,YAAY0B,SAA6CtB,EAAGI,KAAKR,YAAa2B,CAAU,CAEtG,CACJ"}