{"version":3,"file":"factory.js","sources":["CircularMenu/factory.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = __importDefault(require(\"./index\"));\nvar menuContainer = null;\nvar contextMenu = null;\nvar mask = null;\nvar selectorPrefix = 'adhere-ui-context-circular-menu';\nfunction createMask() {\n    mask = document.createElement('div');\n    mask.addEventListener('click', function () {\n        var _a, _b;\n        (_b = (_a = menuContainer === null || menuContainer === void 0 ? void 0 : menuContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, menuContainer);\n        closeMask();\n        menuContainer = null;\n        contextMenu = null;\n    });\n    mask.addEventListener('contextmenu', function (e) {\n        var _a, _b;\n        e.preventDefault();\n        (_b = (_a = menuContainer === null || menuContainer === void 0 ? void 0 : menuContainer.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, menuContainer);\n        closeMask();\n        menuContainer = null;\n        contextMenu = null;\n    });\n    mask.className = selectorPrefix;\n    document.body.appendChild(mask);\n}\nfunction closeMask() {\n    var _a, _b;\n    (_b = (_a = mask === null || mask === void 0 ? void 0 : mask.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild) === null || _b === void 0 ? void 0 : _b.call(_a, mask);\n    mask = null;\n}\nexports.default = {\n    open: function (config, point) {\n        var _a;\n        createMask();\n        menuContainer = document.createElement('div');\n        document.body.appendChild(menuContainer);\n        contextMenu = (0, index_1.default)(menuContainer).config(config);\n        (_a = contextMenu === null || contextMenu === void 0 ? void 0 : contextMenu.show) === null || _a === void 0 ? void 0 : _a.call(contextMenu, [point.x, point.y]);\n    },\n    hide: function () {\n        var _a;\n        if (contextMenu) {\n            (_a = contextMenu.hide) === null || _a === void 0 ? void 0 : _a.call(contextMenu);\n        }\n    },\n    styles: function (properties) {\n        var _a;\n        if (contextMenu) {\n            (_a = contextMenu.styles) === null || _a === void 0 ? void 0 : _a.call(contextMenu, properties);\n        }\n    },\n};\n"],"names":["__importDefault","this","mod","__esModule","default","index_1","Object","defineProperty","exports","value","require","menuContainer","contextMenu","mask","selectorPrefix","createMask","document","createElement","addEventListener","_a","_b","parentElement","removeChild","call","closeMask","e","preventDefault","className","body","appendChild","open","config","point","show","x","y","hide","styles","properties"],"mappings":"AAAA,aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,SADJC,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC9CT,gBAAgBU,QAAQ,SAAS,CAAC,GAC5CC,cAAgB,KAChBC,YAAc,KACdC,KAAO,KACPC,eAAiB,kCACrB,SAASC,cACLF,KAAOG,SAASC,cAAc,KAAK,GAC9BC,iBAAiB,QAAS,WAC3B,IAAIC,EAAIC,EACR,OAACA,EAAK,OAACD,EAAKR,MAAAA,cAAqD,KAAA,EAASA,cAAcU,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIR,aAAa,EAC1Na,UAAU,EAEVZ,YADAD,cAAgB,IAEpB,CAAC,EACDE,KAAKK,iBAAiB,cAAe,SAAUO,GAC3C,IAAQL,EACRK,EAAEC,eAAe,EACjB,OAACN,EAAK,OAACD,EAAKR,MAAAA,cAAqD,KAAA,EAASA,cAAcU,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIR,aAAa,EAC1Na,UAAU,EAEVZ,YADAD,cAAgB,IAEpB,CAAC,EACDE,KAAKc,UAAYb,eACjBE,SAASY,KAAKC,YAAYhB,IAAI,CAClC,CACA,SAASW,YACL,IAAIL,EAAIC,EACR,OAACA,EAAK,OAACD,EAAKN,MAAAA,KAAmC,KAAA,EAASA,KAAKQ,eAA2C,KAAA,EAASF,EAAGG,cAAkDF,EAAGG,KAAKJ,EAAIN,IAAI,EACtLA,KAAO,IACX,CACAL,QAAQJ,QAAU,CACd0B,KAAM,SAAUC,EAAQC,GAEpBjB,WAAW,EACXJ,cAAgBK,SAASC,cAAc,KAAK,EAC5CD,SAASY,KAAKC,YAAYlB,aAAa,EAEvC,OAACQ,EAAKP,OADNA,aAAc,EAAIP,QAAQD,SAASO,aAAa,EAAEoB,OAAOA,CAAM,GACR,KAAA,EAASnB,YAAYqB,OAA2Cd,EAAGI,KAAKX,YAAa,CAACoB,EAAME,EAAGF,EAAMG,EAAE,CAClK,EACAC,KAAM,WACF,IAAIjB,EACAP,aACA,OAACO,EAAKP,YAAYwB,OAA2CjB,EAAGI,KAAKX,WAAW,CAExF,EACAyB,OAAQ,SAAUC,GACd,IAAInB,EACAP,aACA,OAACO,EAAKP,YAAYyB,SAA6ClB,EAAGI,KAAKX,YAAa0B,CAAU,CAEtG,CACJ"}