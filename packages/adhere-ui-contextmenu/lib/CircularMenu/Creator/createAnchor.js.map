{"version":3,"file":"createAnchor.js","sources":["CircularMenu/Creator/createAnchor.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classed_1 = __importDefault(require(\"./../classed\"));\nvar on_1 = __importDefault(require(\"./../on\"));\nvar style_1 = __importDefault(require(\"./../style\"));\nvar styleSheet_1 = __importDefault(require(\"./styleSheet\"));\nfunction hasSubMenus(menus) {\n    return menus instanceof Array && menus.length !== 0;\n}\nfunction ifDisabled(disabled) {\n    if (disabled instanceof Function)\n        return disabled();\n    else\n        return Boolean(disabled);\n}\nfunction setHref(ele, href) {\n    if (!href)\n        return;\n    if (href instanceof Object) {\n        ele.href = href.url;\n        ele.target = href.blank ? '_blank' : '';\n    }\n    else {\n        ele.href = href;\n    }\n}\nvar delayShow = null; // delayShow reference the last setTimeout triggered by any one of menu item(anchor)\nfunction default_1(parent, data, index) {\n    var self = this;\n    var delayHide = null; // delayHide reference the last setTimeout triggered by the menu item itself\n    var a = document.createElement('a');\n    setHref(a, data.href);\n    a.setDisabled = function () {\n        (0, classed_1.default)(a, 'disabled', ifDisabled(data.disabled));\n    };\n    this._anchors.push(a);\n    (0, style_1.default)(a, 'width', this._calc.clickZoneSize.width);\n    (0, style_1.default)(a, 'height', this._calc.clickZoneSize.height);\n    (0, style_1.default)(a, 'right', this._calc.clickZoneSize.marginRight);\n    (0, style_1.default)(a, 'bottom', this._calc.clickZoneSize.marginBottom);\n    (0, style_1.default)(a, 'transform', 'skew(' + -this._calc.skewDeg + 'deg) rotate(' + this._calc.unskewDeg + 'deg) scale(1)');\n    (0, classed_1.default)(a, 'disabled', ifDisabled(data.disabled));\n    var percent = this._config.percent * 100 + '%';\n    (0, styleSheet_1.default)(a, 'background', 'radial-gradient(transparent ' + percent + ', ' + this._config.background + ' ' + percent + ')');\n    (0, styleSheet_1.default)(a, 'background', 'radial-gradient(transparent ' +\n        percent +\n        ', ' +\n        this._config.backgroundHover +\n        ' ' +\n        percent +\n        ')', 'hover');\n    function clickCallBack(e, data) {\n        if (data.click)\n            data.click.call(this, e, data);\n        if (self._config.hideAfterClick) {\n            self._cMenu.hide();\n            if (self._cMenu._pMenu)\n                self._cMenu._pMenu.hide();\n            // if (subMenu) subMenu.hide();\n        }\n    }\n    (0, on_1.default)(a, 'click', clickCallBack, data);\n    parent.appendChild(a);\n    this._createHorizontal(a, data, index);\n    //toggle subMenu\n    if (hasSubMenus(data.menus)) {\n        var subMenu_1 = this._createSubMenu(self, data.menus, index);\n        (0, on_1.default)(a, 'mouseenter', function () {\n            delayShow = setTimeout(function () {\n                subMenu_1\n                    .styles({\n                    top: self._container.offsetTop + self._calc.radius + 'px',\n                    left: self._container.offsetLeft + self._calc.radius + 'px',\n                })\n                    .show();\n            }, 150);\n        });\n        (0, on_1.default)(a, 'mouseleave', function (e) {\n            if (!subMenu_1._container.contains(e.toElement)) {\n                delayHide = setTimeout(function () {\n                    subMenu_1.hide();\n                }, 200);\n            }\n        });\n        (0, on_1.default)(subMenu_1._container, 'mouseenter', function () {\n            clearTimeout(delayShow);\n            clearTimeout(delayHide);\n        });\n        (0, on_1.default)(subMenu_1._container, 'mouseleave', function (e) {\n            if (!a.contains(e.toElement) || e.toElement.children[0] === a) {\n                subMenu_1.hide();\n            }\n        });\n    }\n}\nexports.default = default_1;\n"],"names":["__importDefault","this","mod","__esModule","default","classed_1","Object","defineProperty","exports","value","require","on_1","style_1","styleSheet_1","hasSubMenus","menus","Array","length","ifDisabled","disabled","Function","Boolean","setHref","ele","href","url","target","blank","delayShow","default_1","parent","data","index","subMenu_1","self","delayHide","a","document","createElement","percent","setDisabled","_anchors","push","_calc","clickZoneSize","width","height","marginRight","marginBottom","skewDeg","unskewDeg","_config","background","backgroundHover","e","click","call","hideAfterClick","_cMenu","hide","_pMenu","appendChild","_createHorizontal","_createSubMenu","setTimeout","styles","top","_container","offsetTop","radius","left","offsetLeft","show","contains","toElement","clearTimeout","children"],"mappings":"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"}