{"version":3,"file":"MenuItem.js","sources":["MenuItem.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\r\nvar SubMenu_1 = __importDefault(require(\"./SubMenu\"));\r\nvar ContextMenuContext_1 = require(\"./ContextMenuContext\");\r\nvar selectorPrefix = 'adhere-ui-contextmenu-menuitem';\r\n/**\r\n * MenuItem\r\n * @class MenuItem\r\n * @classdesc MenuItem\r\n */\r\nvar MenuItem = /** @class */ (function (_super) {\r\n    __extends(MenuItem, _super);\r\n    function MenuItem(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.onClick = function (e) {\r\n            e.stopPropagation();\r\n            var \r\n            // @ts-ignore\r\n            _a = _this.props.data, id = _a.id, attribute = _a.attribute, children = _a.children, disabled = _a.disabled;\r\n            // @ts-ignore\r\n            var handler = _this.config.handler;\r\n            if (disabled || children.length > 0)\r\n                return false;\r\n            if (handler) {\r\n                handler(id, attribute);\r\n                // @ts-ignore\r\n                react_dom_1.default.unmountComponentAtNode(_this.el);\r\n            }\r\n        };\r\n        _this.renderInner = _this.renderInner.bind(_this);\r\n        return _this;\r\n    }\r\n    MenuItem.prototype.renderIcon = function () {\r\n        var icon = this.props.data.icon;\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: typeof icon === 'string', noMatch: react_1.default.createElement(\"span\", { className: classnames_1.default(selectorPrefix + \"-icon\") }, icon) },\r\n            react_1.default.createElement(\"span\", { className: classnames_1.default(selectorPrefix + \"-icon\", icon) })));\r\n    };\r\n    MenuItem.prototype.renderName = function () {\r\n        var name = this.props.data.name;\r\n        return react_1.default.createElement(\"span\", { className: selectorPrefix + \"-name\" }, name);\r\n    };\r\n    MenuItem.prototype.renderMore = function () {\r\n        var children = this.props.data.children;\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: children.length !== 0, noMatch: null },\r\n            react_1.default.createElement(\"span\", { className: selectorPrefix + \"-more fa fa-caret-right\" })));\r\n    };\r\n    MenuItem.prototype.renderSubMenu = function () {\r\n        var \r\n        // @ts-ignore\r\n        _a = this.props.data, children = _a.children, subMenuClassName = _a.subMenuClassName, subMenuStyle = _a.subMenuStyle;\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: children.length !== 0, noMatch: null },\r\n            react_1.default.createElement(SubMenu_1.default\r\n            // @ts-ignore\r\n            , { \r\n                // @ts-ignore\r\n                data: children, className: subMenuClassName, style: subMenuStyle })));\r\n    };\r\n    MenuItem.prototype.renderInner = function (_a) {\r\n        var config = _a.config, el = _a.el;\r\n        var \r\n        // @ts-ignore\r\n        _b = this.props.data, separation = _b.separation, _c = _b.disabled, disabled = _c === void 0 ? false : _c, className = _b.className, style = _b.style;\r\n        // @ts-ignore\r\n        this.config = config;\r\n        // @ts-ignore\r\n        this.el = el;\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !separation, noMatch: react_1.default.createElement(\"li\", { className: selectorPrefix + \"-separation\" }) },\r\n            react_1.default.createElement(\"li\", { className: classnames_1.default(selectorPrefix, disabled ? 'disabled' : '', \r\n                // @ts-ignore\r\n                (className || '').split(' ')), style: __assign({}, (style || {})), onClick: this.onClick },\r\n                this.renderIcon(),\r\n                this.renderName(),\r\n                this.renderMore(),\r\n                this.renderSubMenu())));\r\n    };\r\n    MenuItem.prototype.render = function () {\r\n        return react_1.default.createElement(ContextMenuContext_1.ProviderContext.Consumer, null, this.renderInner);\r\n    };\r\n    return MenuItem;\r\n}(react_1.default.PureComponent));\r\nMenuItem.propTypes = {\r\n    data: prop_types_1.default.shape({\r\n        name: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.node]),\r\n        icon: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.node]),\r\n        disabled: prop_types_1.default.bool,\r\n        separation: prop_types_1.default.bool,\r\n        attribute: prop_types_1.default.object,\r\n        children: prop_types_1.default.array,\r\n        className: prop_types_1.default.string,\r\n        style: prop_types_1.default.object,\r\n        subMenuClassName: prop_types_1.default.string,\r\n        subMenuStyle: prop_types_1.default.object,\r\n    }),\r\n};\r\nexports.default = MenuItem;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__importDefault","mod","__esModule","default","defineProperty","exports","value","react_1","require","react_dom_1","classnames_1","prop_types_1","adhere_ui_conditionalrender_1","SubMenu_1","ContextMenuContext_1","selectorPrefix","MenuItem","_super","props","_this","onClick","e","stopPropagation","_a","data","id","attribute","children","disabled","handler","config","unmountComponentAtNode","el","renderInner","bind","renderIcon","icon","createElement","conditional","noMatch","className","renderName","name","renderMore","renderSubMenu","subMenuClassName","subMenuStyle","style","_b","separation","_c","split","render","ProviderContext","Consumer","PureComponent","propTypes","shape","oneOfType","string","node","bool","object","array"],"mappings":"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"}