"use strict";var __extends=this&&this.__extends||function(){var o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),react_dom_1=__importDefault(require("react-dom")),classnames_1=__importDefault(require("classnames")),prop_types_1=__importDefault(require("prop-types")),Menu_1=__importDefault(require("./Menu")),ContextMenuContext_1=require("./ContextMenuContext"),selectorPrefix="adhere-ui-contextmenu",ContextMenuComponent=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){var e=n.props.el;react_dom_1.default.unmountComponentAtNode(e)&&e.parentElement.removeChild(e)},n.onContextMenu=function(e){var t=n.props.el;e.preventDefault(),react_dom_1.default.unmountComponentAtNode(t)&&t.parentElement.removeChild(t)},n}return __extends(t,e),t.prototype.mount=function(){var e;null!==(e=this.menuIns)&&void 0!==e&&e.mount()},t.prototype.render=function(){var t=this,e=this.props,n=e.data,o=void 0===n?[]:n,n=e.config,e=e.el;return react_1.default.createElement(ContextMenuContext_1.ProviderContext.Provider,{value:{config:n,el:e}},react_1.default.createElement("div",{className:classnames_1.default(selectorPrefix),style:{zIndex:19998},onClick:this.onClick,onContextMenu:this.onContextMenu},react_1.default.createElement(Menu_1.default,{data:o,className:n.className,style:n.style,ref:function(e){return t.menuIns=e}})))},t}(react_1.default.PureComponent);ContextMenuComponent.defaultProps={data:[],config:{}},ContextMenuComponent.propTypes={data:prop_types_1.default.arrayOf(prop_types_1.default.shape({name:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.node]),icon:prop_types_1.default.oneOfType([prop_types_1.default.string,prop_types_1.default.node]),disabled:prop_types_1.default.bool,separation:prop_types_1.default.bool,attribute:prop_types_1.default.object,children:prop_types_1.default.array})),config:prop_types_1.default.shape({x:prop_types_1.default.number,y:prop_types_1.default.number,width:prop_types_1.default.number,maskClosable:prop_types_1.default.bool,handler:prop_types_1.default.func,className:prop_types_1.default.string,style:prop_types_1.default.object,subMenuClassName:prop_types_1.default.string,subMenuStyle:prop_types_1.default.object}),el:prop_types_1.default.any};var ContextMenu={open:function(e,t){var n=null;t=Object.assign({width:200,maskClosable:!0},t);var o=document.createElement("div");return document.body.appendChild(o),react_dom_1.default.render(react_1.default.createElement(ContextMenuComponent,{data:e,config:t,el:o,ref:function(e){return n=e}}),o,function(){n.mount()}),o},close:function(e){react_dom_1.default.unmountComponentAtNode(e)&&e.parentElement.removeChild(e)}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
