"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},classnames_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("classnames"))),react_1=__importStar(require("react")),react_dom_1=__importDefault(require("react-dom")),ContextMenuContext_1=require("./ContextMenuContext"),Menu_1=__importDefault(require("./Menu")),selectorPrefix="adhere-ui-contextmenu",ContextMenuComponent=function(e,t){var n=e.data,n=void 0===n?[]:n,r=e.config,o=e.el,u=react_1.useRef(null);return react_1.useImperativeHandle(t,function(){return{mount:function(){var e;return null==(e=u.current)?void 0:e.mount()}}}),react_1.default.createElement(ContextMenuContext_1.ProviderContext.Provider,{value:{config:r,el:o}},react_1.default.createElement("div",{className:classnames_1.default(selectorPrefix),style:{zIndex:19998},onClick:function(e){e.stopPropagation(),react_dom_1.default.unmountComponentAtNode(o)&&null!=(e=null==o?void 0:o.parentElement)&&e.removeChild(o)},onContextMenu:function(e){e.preventDefault(),react_dom_1.default.unmountComponentAtNode(o)&&null!=(e=null==o?void 0:o.parentElement)&&e.removeChild(o)}},react_1.default.createElement(Menu_1.default,{data:n,className:r.className,style:r.style,ref:u})))},ContextMenuComponentHOC=react_1.forwardRef(ContextMenuComponent),ContextMenu={open:function(e,t){var n=react_1.default.createRef(),r=(t=Object.assign({width:200,maskClosable:!0},t),document.createElement("div"));return document.body.appendChild(r),react_dom_1.default.render(react_1.default.createElement(ContextMenuComponentHOC,{data:e,config:t,el:r,ref:n}),r,function(){var e;return null==(e=n.current)?void 0:e.mount()}),r},close:function(e){react_dom_1.default.unmountComponentAtNode(e)&&e.parentElement.removeChild(e)}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
