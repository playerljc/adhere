"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var u=Object.getOwnPropertyDescriptor(t,n);u&&("get"in u?t.__esModule:!u.writable&&!u.configurable)||(u={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,u)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&__createBinding(t,e,n);return __setModuleDefault(t,e),t},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},classnames_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("classnames"))),react_1=__importStar(require("react")),client_1=__importDefault(require("react-dom/client")),factory_1=__importDefault(require("./CircularMenu/factory")),ContextMenuContext_1=require("./ContextMenuContext"),Menu_1=__importDefault(require("./Menu")),selectorPrefix="adhere-ui-context-menu",ContextMenuComponentFunction=(0,react_1.forwardRef)(function(e,t){var n=e.data,n=void 0===n?[]:n,r=e.config,u=e.el,a=(0,react_1.useRef)();return(0,react_1.useImperativeHandle)(t,function(){return{mount:function(){var e;return null==(e=a.current)?void 0:e.mount()}}}),react_1.default.createElement(ContextMenuContext_1.ProviderContext.Provider,{value:{config:r,el:u}},react_1.default.createElement("div",{className:(0,classnames_1.default)(selectorPrefix),style:{zIndex:19998},onClick:function(e){e.stopPropagation(),(e=openHandlers.get(u))&&e.unmount()},onContextMenu:function(e){e.preventDefault(),(e=openHandlers.get(u))&&e.unmount()}},react_1.default.createElement(Menu_1.default,{data:n,className:null!=(e=r.className)?e:"",style:null!=(t=r.style)?t:{},ref:a})))}),openHandlers=new WeakMap,ContextMenu={open:function(e,t){var n=react_1.default.createRef(),r=(t=Object.assign({width:200,maskClosable:!0},t),document.createElement("div")),u=(document.body.appendChild(r),client_1.default.createRoot(r));return u.render(react_1.default.createElement(ContextMenuComponentFunction,{data:e,config:t,el:r,ref:function(e){n.current=e,null!=(e=n.current)&&e.mount()}})),openHandlers.set(r,u),r},close:function(e){e=openHandlers.get(e);e&&e.unmount()},openCircular:function(e,t){factory_1.default.open(e,t)},hideCircular:function(){factory_1.default.hide()},stylesCircular:function(e){factory_1.default.styles(e)}};exports.default=ContextMenu;
//# sourceMappingURL=ContextMenu.js.map
