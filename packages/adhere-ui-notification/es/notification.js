import React from"react";import ReactDOM from"react-dom/client";import{v1}from"uuid";var selectorPrefix="adhere-ui-notification",Notification=function(){function t(t,e){this.config={style:"material",type:"top"},this.notifications={},this.key=!1,this.container=t,this.config=Object.assign(this.config,e),this.createInnerContainer(),this.init(),this.initEvents()}return t.prototype.createInnerContainer=function(){var t,e=this.container.querySelector(".".concat(selectorPrefix));e&&null!=(t=null==e?void 0:e.parentElement)&&t.removeChild(e),this.innerContainer=document.createElement("div"),this.innerContainer.className=selectorPrefix,this.notificationContainer=document.createElement("ul"),this.innerContainer.appendChild(this.notificationContainer),this.container.appendChild(this.innerContainer)},t.prototype.init=function(){var t,e=this.config;null!=(t=this.innerContainer)&&t.classList.remove([selectorPrefix].concat(["top"===e.type?"bottom":"top",e.style]).join("-")),null!=(t=this.innerContainer)&&t.classList.add([selectorPrefix].concat([e.type,e.style]).join("-"))},t.prototype.initEvents=function(){var t,e=this;null!=(t=this.notificationContainer)&&t.addEventListener("click",function(t){t.target.classList.contains("close-btn")&&e.closeNotification.call(e,t.target.parentNode.dataset.id)})},t.prototype.closeNotification=function(t){var n,i=this;i.key||(i.key=!0,n=i.notifications[t],i.trigger("onCloseBefore",n),n.addEventListener("transitionend",function t(){var e;n.removeEventListener("transitionend",t),null!=(e=null==i?void 0:i.notificationContainer)&&e.removeChild(n),i.key=!1,i.trigger("onCloseAfter",n)}),n.style.overflow="hidden",n.querySelector(".info").style.opacity="0",n.style.height="0")},t.prototype.buildCustom=function(t){var e=t.closed,n=t.children,t=v1(),i=document.createElement("li");i.dataset.id=t;return ReactDOM.createRoot(i).render(React.createElement(function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"info"},n),e?React.createElement("span",{className:"close-btn"}):null)},null)),this.build(t,i)},t.prototype.buildStandard=function(t){var e=t.headerLabel,n=void 0===e?"":e,e=t.headerIcon,i=void 0===e?"":e,e=t.title,o=void 0===e?"":e,e=t.text,a=void 0===e?"":e,e=t.icon,c=void 0===e?"":e,e=t.closed,r=void 0===e||e,e=t.datetime,l=void 0===e?"":e,t=v1(),e=document.createElement("li");e.dataset.id=t;return ReactDOM.createRoot(e).render(React.createElement(function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"info"},React.createElement("div",{className:"".concat(selectorPrefix,"-standard-header")},React.createElement("div",{className:"".concat(selectorPrefix,"-standard-header-icon")},i?React.createElement("img",{src:i,alt:""}):null),React.createElement("div",{className:"".concat(selectorPrefix,"-standard-header-label")},null!=n?n:"")),React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content")},React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content-media-l")},c?React.createElement("img",{src:c,alt:""}):null),React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content-row")},React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content-row-title")},null!=o?o:""),React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content-row-text")},null!=a?a:"")),React.createElement("div",{className:"".concat(selectorPrefix,"-standard-content-media-r")},null!=l?l:""))),r?React.createElement("span",{className:"close-btn"}):null)},null)),this.build(t,e)},t.prototype.build=function(t,e){var n=this;return this.notifications[t]=e,this.notificationContainer.appendChild(e),setTimeout(function(){n.trigger("onCreate",e),e.style.height="auto";var t=e.clientHeight;"material"===n.config.style?t<40&&(t=40):"ios"===n.config.style&&t<70&&(t=70),e.style.height="0",setTimeout(function(){e.style.height="".concat(t,"px"),e.querySelector(".info").style.opacity="1",n.trigger("onShow",e)},100)},100),t},t.prototype.trigger=function(t,e){this.config[t]&&this.config[t](e)},t.prototype.show=function(t){return this.buildCustom(t)},t.prototype.showStandard=function(t){return this.buildStandard(t)},t.prototype.close=function(t){this.closeNotification(t)},t}(),NotificationFactory={build:function(t,e){return new Notification(t,e)}};export default NotificationFactory;
//# sourceMappingURL=Notification.js.map
