import React from"react";import ReactDOM from"react-dom";import{v1}from"uuid";var selectorPrefix="adhere-ui-notification",Notification=function(){function e(e,t){this.config={style:"material",type:"top"},this.notifications={},this.key=!1,this.container=e,this.config=Object.assign(this.config,t),this.createInnerContainer(),this.init(),this.initEvents()}return e.prototype.createInnerContainer=function(){var e=this.container.querySelector("."+selectorPrefix);e&&e.parentElement.removeChild(e),this.innerContainer=document.createElement("div"),this.innerContainer.className=selectorPrefix,this.notificationContainer=document.createElement("ul"),this.innerContainer.appendChild(this.notificationContainer),this.container.appendChild(this.innerContainer)},e.prototype.init=function(){var e=this.config;this.innerContainer.classList.remove([selectorPrefix].concat(["top"===e.type?"bottom":"top",e.style]).join("-")),this.innerContainer.classList.add([selectorPrefix].concat([e.type,e.style]).join("-"))},e.prototype.initEvents=function(){var t=this;this.notificationContainer.addEventListener("click",function(e){e.target.classList.contains("closeBtn")&&t.closeNotification.call(t,e.target.parentNode.dataset.id)})},e.prototype.closeNotification=function(e){var t,n=this;n.key||(n.key=!0,t=n.notifications[e],n.trigger("onCloseBefore",t),t.addEventListener("transitionend",function e(){t.removeEventListener("transitionend",e),n.notificationContainer.removeChild(t),n.key=!1,n.trigger("onCloseAfter",t)}),t.style.overflow="hidden",t.querySelector(".info").style.opacity="0",t.style.height="0")},e.prototype.buildCustom=function(e){var t=e.closed,n=e.children,i=v1(),e=document.createElement("li");e.dataset.id=i;return ReactDOM.render(React.createElement(function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"info"},n),t?React.createElement("span",{className:"closeBtn"}):null)},null),e),this.build(i,e)},e.prototype.buildStandard=function(e){var t=e.headerLabel,n=void 0===t?"":t,t=e.headerIcon,i=void 0===t?"":t,t=e.title,a=void 0===t?"":t,t=e.text,o=void 0===t?"":t,t=e.icon,r=void 0===t?"":t,t=e.closed,c=void 0===t||t,t=e.datetime,s=void 0===t?"":t,e=v1(),t=document.createElement("li");t.dataset.id=e;return ReactDOM.render(React.createElement(function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"info"},React.createElement("div",{className:selectorPrefix+"-standard-header"},React.createElement("div",{className:selectorPrefix+"-standard-header-icon"},i?React.createElement("img",{src:i,alt:""}):null),React.createElement("div",{className:selectorPrefix+"-standard-header-label"},n||"")),React.createElement("div",{className:selectorPrefix+"-standard-content"},React.createElement("div",{className:selectorPrefix+"-standard-content-media-l"},r?React.createElement("img",{src:r,alt:""}):null),React.createElement("div",{className:selectorPrefix+"-standard-content-row"},React.createElement("div",{className:selectorPrefix+"-standard-content-row-title"},a||""),React.createElement("div",{className:selectorPrefix+"-standard-content-row-text"},o||"")),React.createElement("div",{className:selectorPrefix+"-standard-content-media-r"},s||""))),c?React.createElement("span",{className:"closeBtn"}):null)},null),t),this.build(e,t)},e.prototype.build=function(e,t){var n=this;this.notifications[e]=t,this.notificationContainer.appendChild(t),n.trigger("onCreate",t),t.style.height="auto";var i=t.clientHeight;return"material"===n.config.style?i<40&&(i=40):"ios"===n.config.style&&i<70&&(i=70),t.style.height="0",setTimeout(function(){t.style.height=i+"px",t.querySelector(".info").style.opacity="1",n.trigger("onShow",t)},100),e},e.prototype.trigger=function(e,t){this.config[e]&&this.config[e](t)},e.prototype.show=function(e){return this.buildCustom(e)},e.prototype.showStandard=function(e){return this.buildStandard(e)},e.prototype.close=function(e){this.closeNotification(e)},e}();export default{build:function(e,t){return new Notification(e,t)}};
//# sourceMappingURL=notification.js.map
