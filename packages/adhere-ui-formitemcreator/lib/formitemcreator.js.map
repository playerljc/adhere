{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _row = _interopRequireDefault(require(\"antd/lib/row\"));\n\nvar _col = _interopRequireDefault(require(\"antd/lib/col\"));\n\nvar _form = _interopRequireDefault(require(\"antd/lib/form\"));\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nvar _tslib = require(\"tslib\");\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _formitem = _interopRequireDefault(require(\"./formitem\"));\n\n/**\n * FormItemCreator\n * @class FormItemCreator\n * @classdesc 表单项的创建组件\n */\nvar FormItemCreator =\n/** @class */\nfunction (_super) {\n  (0, _tslib.__extends)(FormItemCreator, _super);\n\n  function FormItemCreator() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.FORM_ITEM_CONFIG = new Map([[FormItemCreator.TEXT, 'renderText'], [FormItemCreator.INPUT, 'renderInput'], [FormItemCreator.SEARCH, 'renderSearch'], [FormItemCreator.PASSWORD, 'renderPassword'], [FormItemCreator.TEXTAREA, 'renderInputArea'], [FormItemCreator.NUMBER, 'renderInputNumber'], [FormItemCreator.RADIO, 'renderRadio'], [FormItemCreator.CHECKBOX, 'renderCheckbox'], [FormItemCreator.DATEPICKER, 'renderDatePicker'], [FormItemCreator.RANGEPICKER, 'renderRangePicker'], [FormItemCreator.TIMEPICKER, 'renderTimePicker'], [FormItemCreator.SWITCH, 'renderSwitch'], [FormItemCreator.SELECT, 'renderSelect'], [FormItemCreator.SLIDER, 'renderSlider'], [FormItemCreator.RATE, 'renderRate'], [FormItemCreator.UPLOAD, 'renderUpload']]);\n    return _this;\n  }\n  /**\n   * getDefaultItemProps - 表单单项的默认配置 通过type来制定\n   * @param {Object} item\n   */\n\n\n  FormItemCreator.prototype.getDefaultItemProps = function (item) {\n    switch (item.type) {\n      case FormItemCreator.SWITCH:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.CHECKBOX:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.UPLOAD:\n        return {\n          valuePropName: 'fileList'\n        };\n\n      default:\n        return null;\n    }\n  };\n  /**\n   * renderFormItem - 表单单项渲染 通过type来制定\n   * @param {Object} item\n   */\n\n\n  FormItemCreator.prototype.renderFormItem = function (item) {\n    var type = item.type,\n        _a = item.contentProps,\n        contentProps = _a === void 0 ? {} : _a; // @ts-ignore\n\n    if (type === FormItemCreator.DEFINE) {\n      return item.content;\n    } else {\n      // @ts-ignore\n      var renderMethodName = this.FORM_ITEM_CONFIG.get(type || FormItemCreator.INPUT); // @ts-ignore\n\n      return renderMethodName ? _formitem.default[renderMethodName](contentProps) : null;\n    }\n  };\n\n  FormItemCreator.prototype.render = function () {\n    var _this = this; // @ts-ignore\n\n\n    var _a = this.props,\n        columns = _a.columns,\n        layout = _a.layout,\n        row = _a.row;\n    var formItems = columns.map(function (item) {\n      var skip = item.skip,\n          contentProps = item.contentProps,\n          col = item.col,\n          itemProps = (0, _tslib.__rest)(item, [\"skip\", \"contentProps\", \"col\"]);\n      if (skip) return;\n\n      var formItem = /*#__PURE__*/_react.default.createElement(_form.default.Item, (0, _tslib.__assign)({}, _this.getDefaultItemProps(item), layout, itemProps), _this.renderFormItem(item));\n\n      return col ? /*#__PURE__*/_react.default.createElement(_col.default, (0, _tslib.__assign)({}, col), formItem) : formItem;\n    });\n    return row ? /*#__PURE__*/_react.default.createElement(_row.default, (0, _tslib.__assign)({}, row), formItems) : formItems;\n  };\n\n  FormItemCreator.TEXT = Symbol('text');\n  FormItemCreator.INPUT = Symbol('input');\n  FormItemCreator.SEARCH = Symbol('search');\n  FormItemCreator.PASSWORD = Symbol('password');\n  FormItemCreator.TEXTAREA = Symbol('textarea');\n  FormItemCreator.NUMBER = Symbol('number');\n  FormItemCreator.RADIO = Symbol('radio');\n  FormItemCreator.CHECKBOX = Symbol('checkbox');\n  FormItemCreator.DATEPICKER = Symbol('datepicker');\n  FormItemCreator.RANGEPICKER = Symbol('rangepicker');\n  FormItemCreator.TIMEPICKER = Symbol('timepicker');\n  FormItemCreator.SWITCH = Symbol('switch');\n  FormItemCreator.SELECT = Symbol('select');\n  FormItemCreator.SLIDER = Symbol('slider');\n  FormItemCreator.RATE = Symbol('rate');\n  FormItemCreator.UPLOAD = Symbol('upload');\n  FormItemCreator.DEFINE = Symbol('define');\n  return FormItemCreator;\n}(_react.default.Component);\n\nFormItemCreator.defaultProps = {\n  columns: []\n};\nFormItemCreator.propTypes = {\n  columns: _propTypes.default.arrayOf(_propTypes.default.shape({\n    labelCol: _propTypes.default.object,\n    wrapperCol: _propTypes.default.object\n  })),\n  layout: _propTypes.default.shape({\n    name: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number, _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.number])])),\n    type: _propTypes.default.symbol,\n    contentProps: _propTypes.default.any,\n    skip: _propTypes.default.bool,\n    content: _propTypes.default.node\n  })\n};\nvar _default = FormItemCreator;\nexports.default = _default;"],"names":["require","_interopRequireDefault","Object","defineProperty","exports","value","default","_row","_col","_form","_tslib","_react","_propTypes","_formitem","FormItemCreator","_super","_this","apply","this","arguments","FORM_ITEM_CONFIG","Map","TEXT","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","__extends","prototype","getDefaultItemProps","item","type","valuePropName","renderFormItem","_a","contentProps","DEFINE","content","renderMethodName","get","render","props","columns","layout","row","formItems","map","skip","col","itemProps","__rest","formItem","createElement","Item","__assign","Symbol","Component","defaultProps","propTypes","arrayOf","shape","labelCol","object","wrapperCol","name","oneOfType","string","number","symbol","any","bool","node","_default"],"mappings":"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"}