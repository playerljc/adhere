{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form } from 'antd';\r\nimport renderItem from './formitem';\r\nvar selectorPrefix = 'adhere-ui-formitemcreator';\r\n/**\r\n * FormItemCreator\r\n * @class FormItemCreator\r\n * @classdesc 表单项的创建组件\r\n */\r\nvar FormItemCreator = /** @class */ (function (_super) {\r\n    __extends(FormItemCreator, _super);\r\n    function FormItemCreator() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * 表单单项的默认配置 通过type来制定\r\n         * @param {Object} item\r\n         */\r\n        _this.getDefaultItemProps = function (item) {\r\n            switch (item.type) {\r\n                case 'switch':\r\n                    return { valuePropName: 'checked' };\r\n                case 'checkbox':\r\n                    return { valuePropName: 'checked' };\r\n                case 'upload':\r\n                    return { valuePropName: 'fileList' };\r\n                default:\r\n                    return null;\r\n            }\r\n        };\r\n        /**\r\n         * 表单单项渲染 通过type来制定\r\n         * @param {Object} item\r\n         */\r\n        _this.createFormItem = function (item) {\r\n            var type = item.type, _a = item.contentProps, contentProps = _a === void 0 ? {} : _a;\r\n            var component;\r\n            switch (type) {\r\n                case 'text':\r\n                    component = renderItem.renderText(contentProps);\r\n                    break;\r\n                case 'input':\r\n                    component = renderItem.renderInput(contentProps);\r\n                    break;\r\n                case 'password':\r\n                    component = renderItem.renderPassword(contentProps);\r\n                    break;\r\n                case 'textarea':\r\n                    component = renderItem.renderInputArea(contentProps);\r\n                    break;\r\n                case 'number':\r\n                    component = renderItem.renderInputNumber(contentProps);\r\n                    break;\r\n                case 'radio':\r\n                    component = renderItem.renderRadio(contentProps);\r\n                    break;\r\n                case 'checkbox':\r\n                    component = renderItem.renderCheckbox(contentProps);\r\n                    break;\r\n                case 'datepicker':\r\n                    component = renderItem.renderDatepicker(contentProps);\r\n                    break;\r\n                case 'rangepicker':\r\n                    component = renderItem.renderRangepicker(contentProps);\r\n                    break;\r\n                case 'timepicker':\r\n                    component = renderItem.renderTimePicker(contentProps);\r\n                    break;\r\n                case 'switch':\r\n                    component = renderItem.renderSwitch(contentProps);\r\n                    break;\r\n                case 'select':\r\n                    component = renderItem.renderSelect(contentProps);\r\n                    break;\r\n                case 'slider':\r\n                    component = renderItem.renderSlider(contentProps);\r\n                    break;\r\n                case 'rate':\r\n                    component = renderItem.renderRate(contentProps);\r\n                    break;\r\n                case 'upload':\r\n                    component = renderItem.renderUpload(contentProps);\r\n                    break;\r\n                case 'define':\r\n                    component = item.content;\r\n                    break;\r\n                default:\r\n                    component = renderItem.renderInput(contentProps);\r\n                    ;\r\n                    break;\r\n            }\r\n            return component || null;\r\n        };\r\n        return _this;\r\n    }\r\n    FormItemCreator.prototype.componentDidMount = function () { };\r\n    FormItemCreator.prototype.componentWillReceiveProps = function (nextProps, nextContext) { };\r\n    FormItemCreator.prototype.render = function () {\r\n        var _this = this;\r\n        // @ts-ignore\r\n        var _a = this.props, columns = _a.columns, layout = _a.layout;\r\n        // @ts-ignore\r\n        return (columns.map(function (item) {\r\n            var skip = item.skip, contentProps = item.contentProps, itemProps = __rest(item, [\"skip\", \"contentProps\"]);\r\n            if (skip)\r\n                return;\r\n            return (React.createElement(Form.Item, __assign({}, _this.getDefaultItemProps(item), layout, itemProps), _this.createFormItem(item)));\r\n        }));\r\n    };\r\n    return FormItemCreator;\r\n}(React.Component));\r\nFormItemCreator.defaultProps = {\r\n    columns: [],\r\n};\r\nFormItemCreator.propTypes = {\r\n    columns: PropTypes.array,\r\n};\r\nexport default FormItemCreator;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","React","PropTypes","Form","renderItem","selectorPrefix","FormItemCreator","_super","_this","getDefaultItemProps","item","type","valuePropName","createFormItem","component","_a","contentProps","renderText","renderInput","renderPassword","renderInputArea","renderInputNumber","renderRadio","renderCheckbox","renderDatepicker","renderRangepicker","renderTimePicker","renderSwitch","renderSelect","renderSlider","renderRate","renderUpload","content","componentDidMount","componentWillReceiveProps","nextProps","nextContext","render","props","columns","layout","map","skip","itemProps","createElement","Item","Component","defaultProps","propTypes","array"],"mappings":"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"}