{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar antd_1 = require(\"antd\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar formitem_1 = tslib_1.__importDefault(require(\"./formitem\"));\n\nvar TEXT = Symbol('text');\nvar INPUT = Symbol('input');\nvar SEARCH = Symbol('search');\nvar PASSWORD = Symbol('password');\nvar TEXTAREA = Symbol('textarea');\nvar NUMBER = Symbol('number');\nvar RADIO = Symbol('radio');\nvar CHECKBOX = Symbol('checkbox');\nvar DATEPICKER = Symbol('datepicker');\nvar RANGEPICKER = Symbol('rangepicker');\nvar TIMEPICKER = Symbol('timepicker');\nvar SWITCH = Symbol('switch');\nvar SELECT = Symbol('select');\nvar SLIDER = Symbol('slider');\nvar RATE = Symbol('rate');\nvar UPLOAD = Symbol('upload');\nvar DEFINE = Symbol('define');\n\nvar FormItemCreator = function FormItemCreator(props) {\n  var columns = props.columns,\n      layout = props.layout,\n      row = props.row;\n  /**\n   * renderFormItem\n   * @description 表单单项渲染 通过type来制定\n   * @param item\n   */\n\n  function renderFormItem(item) {\n    var type = item.type,\n        _a = item.contentProps,\n        contentProps = _a === void 0 ? {} : _a;\n\n    if (type === DEFINE) {\n      return item.content;\n    } else {\n      var renderMethodName = FORM_ITEM_CONFIG.get(type || INPUT);\n\n      if (renderMethodName) {\n        var FormItem = formitem_1.default[renderMethodName];\n        return react_1.default.createElement(FormItem, tslib_1.__assign({}, contentProps));\n      }\n\n      return null; // return renderMethodName ? renderItem[renderMethodName](contentProps) : null;\n    }\n  }\n  /**\n   * getDefaultItemProps\n   * @description 表单单项的默认配置 通过type来制定\n   * @param item\n   */\n\n\n  function getDefaultItemProps(item) {\n    switch (item.type) {\n      case SWITCH:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case CHECKBOX:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case UPLOAD:\n        return {\n          valuePropName: 'fileList'\n        };\n\n      default:\n        return null;\n    }\n  }\n\n  var FORM_ITEM_CONFIG = (0, react_1.useMemo)(function () {\n    return new Map([[TEXT, 'renderText'], [INPUT, 'renderInput'], [SEARCH, 'renderSearch'], [PASSWORD, 'renderPassword'], [TEXTAREA, 'renderInputArea'], [NUMBER, 'renderInputNumber'], [RADIO, 'renderRadio'], [CHECKBOX, 'renderCheckbox'], [DATEPICKER, 'renderDatePicker'], [RANGEPICKER, 'renderRangePicker'], [TIMEPICKER, 'renderTimePicker'], [SWITCH, 'renderSwitch'], [SELECT, 'renderSelect'], [SLIDER, 'renderSlider'], [RATE, 'renderRate'], [UPLOAD, 'renderUpload']]);\n  }, []);\n  var formItems = (0, react_1.useMemo)(function () {\n    return columns.filter(function (item) {\n      return !('skip' in item);\n    }).map(function (item) {\n      var contentProps = item.contentProps,\n          col = item.col,\n          itemProps = tslib_1.__rest(item, [\"contentProps\", \"col\"]);\n\n      var formItem = react_1.default.createElement(antd_1.Form.Item, tslib_1.__assign({}, getDefaultItemProps(item), layout, itemProps), renderFormItem(item));\n      return col ? react_1.default.createElement(antd_1.Col, tslib_1.__assign({}, col), formItem) : formItem;\n    });\n  }, [columns]);\n  return react_1.default.createElement(react_1.default.Fragment, null, row ? react_1.default.createElement(antd_1.Row, tslib_1.__assign({}, row), formItems) : formItems);\n}; //@ts-ignore\n\n\nvar MemoWrap = (0, react_1.memo)(FormItemCreator);\nMemoWrap.TEXT = TEXT;\nMemoWrap.INPUT = INPUT;\nMemoWrap.SEARCH = SEARCH;\nMemoWrap.PASSWORD = PASSWORD;\nMemoWrap.TEXTAREA = TEXTAREA;\nMemoWrap.NUMBER = NUMBER;\nMemoWrap.RADIO = RADIO;\nMemoWrap.CHECKBOX = CHECKBOX;\nMemoWrap.DATEPICKER = DATEPICKER;\nMemoWrap.RANGEPICKER = RANGEPICKER;\nMemoWrap.TIMEPICKER = TIMEPICKER;\nMemoWrap.SWITCH = SWITCH;\nMemoWrap.SELECT = SELECT;\nMemoWrap.SLIDER = SLIDER;\nMemoWrap.RATE = RATE;\nMemoWrap.UPLOAD = UPLOAD;\nMemoWrap.DEFINE = DEFINE;\nexports.default = MemoWrap;"],"names":["require","Object","defineProperty","exports","value","tslib_1","antd_1","react_1","__importStar","formitem_1","__importDefault","TEXT","Symbol","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","DEFINE","FormItemCreator","props","columns","layout","row","FORM_ITEM_CONFIG","useMemo","Map","formItems","filter","item","map","contentProps","col","itemProps","__rest","formItem","default","createElement","Form","Item","__assign","type","valuePropName","_a","content","renderMethodName","get","FormItem","Col","Fragment","Row","MemoWrap","memo"],"mappings":"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"}