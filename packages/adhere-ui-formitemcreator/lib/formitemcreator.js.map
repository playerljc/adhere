{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.symbol.description.js\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar antd_1 = require(\"antd\");\n\nvar formitem_1 = tslib_1.__importDefault(require(\"./formitem\"));\n\nvar FormItemCreator = function FormItemCreator(props) {\n  var columns = props.columns,\n      layout = props.layout,\n      row = props.row;\n  /**\n   * renderFormItem\n   * @description 表单单项渲染 通过type来制定\n   * @param item\n   */\n\n  function renderFormItem(item) {\n    var type = item.type,\n        _a = item.contentProps,\n        contentProps = _a === void 0 ? {} : _a;\n\n    if (type === FormItemCreator.DEFINE) {\n      return item.content;\n    } else {\n      var renderMethodName = FORM_ITEM_CONFIG.get(type || FormItemCreator.INPUT);\n      return renderMethodName ? formitem_1.default[renderMethodName](contentProps) : null;\n    }\n  }\n  /**\n   * getDefaultItemProps\n   * @description 表单单项的默认配置 通过type来制定\n   * @param item\n   */\n\n\n  function getDefaultItemProps(item) {\n    switch (item.type) {\n      case FormItemCreator.SWITCH:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.CHECKBOX:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.UPLOAD:\n        return {\n          valuePropName: 'fileList'\n        };\n\n      default:\n        return null;\n    }\n  }\n\n  var FORM_ITEM_CONFIG = (0, react_1.useMemo)(function () {\n    return new Map([[FormItemCreator.TEXT, 'renderText'], [FormItemCreator.INPUT, 'renderInput'], [FormItemCreator.SEARCH, 'renderSearch'], [FormItemCreator.PASSWORD, 'renderPassword'], [FormItemCreator.TEXTAREA, 'renderInputArea'], [FormItemCreator.NUMBER, 'renderInputNumber'], [FormItemCreator.RADIO, 'renderRadio'], [FormItemCreator.CHECKBOX, 'renderCheckbox'], [FormItemCreator.DATEPICKER, 'renderDatePicker'], [FormItemCreator.RANGEPICKER, 'renderRangePicker'], [FormItemCreator.TIMEPICKER, 'renderTimePicker'], [FormItemCreator.SWITCH, 'renderSwitch'], [FormItemCreator.SELECT, 'renderSelect'], [FormItemCreator.SLIDER, 'renderSlider'], [FormItemCreator.RATE, 'renderRate'], [FormItemCreator.UPLOAD, 'renderUpload']]);\n  }, []);\n  var formItems = (0, react_1.useMemo)(function () {\n    return columns.filter(function (item) {\n      return !('skip' in item);\n    }).map(function (item) {\n      var contentProps = item.contentProps,\n          col = item.col,\n          itemProps = tslib_1.__rest(item, [\"contentProps\", \"col\"]);\n\n      var formItem = react_1.default.createElement(antd_1.Form.Item, tslib_1.__assign({}, getDefaultItemProps(item), layout, itemProps), renderFormItem(item));\n      return col ? react_1.default.createElement(antd_1.Col, tslib_1.__assign({}, col), formItem) : formItem;\n    });\n  }, [columns]);\n  return row ? react_1.default.createElement(antd_1.Row, tslib_1.__assign({}, row), formItems) : formItems;\n};\n\nFormItemCreator.TEXT = Symbol('text');\nFormItemCreator.INPUT = Symbol('input');\nFormItemCreator.SEARCH = Symbol('search');\nFormItemCreator.PASSWORD = Symbol('password');\nFormItemCreator.TEXTAREA = Symbol('textarea');\nFormItemCreator.NUMBER = Symbol('number');\nFormItemCreator.RADIO = Symbol('radio');\nFormItemCreator.CHECKBOX = Symbol('checkbox');\nFormItemCreator.DATEPICKER = Symbol('datepicker');\nFormItemCreator.RANGEPICKER = Symbol('rangepicker');\nFormItemCreator.TIMEPICKER = Symbol('timepicker');\nFormItemCreator.SWITCH = Symbol('switch');\nFormItemCreator.SELECT = Symbol('select');\nFormItemCreator.SLIDER = Symbol('slider');\nFormItemCreator.RATE = Symbol('rate');\nFormItemCreator.UPLOAD = Symbol('upload');\nFormItemCreator.DEFINE = Symbol('define');\nexports.default = FormItemCreator;"],"names":["require","Object","defineProperty","exports","value","tslib_1","react_1","__importStar","antd_1","formitem_1","__importDefault","FormItemCreator","props","columns","layout","row","FORM_ITEM_CONFIG","useMemo","Map","TEXT","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","formItems","filter","item","map","contentProps","col","itemProps","__rest","formItem","default","createElement","Form","Item","__assign","type","valuePropName","getDefaultItemProps","_a","DEFINE","content","renderMethodName","get","Col","Row","Symbol"],"mappings":"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"}