{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar antd_1 = require(\"antd\");\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar formitem_1 = __importDefault(require(\"./formitem\"));\r\nvar TEXT = Symbol('text');\r\nvar INPUT = Symbol('input');\r\nvar SEARCH = Symbol('search');\r\nvar PASSWORD = Symbol('password');\r\nvar TEXTAREA = Symbol('textarea');\r\nvar NUMBER = Symbol('number');\r\nvar RADIO = Symbol('radio');\r\nvar CHECKBOX = Symbol('checkbox');\r\nvar DATEPICKER = Symbol('datepicker');\r\nvar RANGEPICKER = Symbol('rangepicker');\r\nvar TIMEPICKER = Symbol('timepicker');\r\nvar SWITCH = Symbol('switch');\r\nvar SELECT = Symbol('select');\r\nvar SLIDER = Symbol('slider');\r\nvar RATE = Symbol('rate');\r\nvar UPLOAD = Symbol('upload');\r\nvar TAG = Symbol('tag');\r\nvar DEFINE = Symbol('define');\r\nvar FormItemCreator = function (props) {\r\n    var columns = props.columns, layout = props.layout, row = props.row;\r\n    /**\r\n     * renderFormItem\r\n     * @description 表单单项渲染 通过type来制定\r\n     * @param item\r\n     */\r\n    function renderFormItem(item) {\r\n        var type = item.type, _a = item.contentProps, contentProps = _a === void 0 ? {} : _a;\r\n        if (type === DEFINE) {\r\n            return item.content;\r\n        }\r\n        else {\r\n            var renderMethodName = FORM_ITEM_CONFIG.get(type || INPUT);\r\n            if (renderMethodName) {\r\n                var FormItem = formitem_1.default[renderMethodName];\r\n                return react_1.default.createElement(FormItem, __assign({}, contentProps));\r\n            }\r\n            return null;\r\n            // return renderMethodName ? renderItem[renderMethodName](contentProps) : null;\r\n        }\r\n    }\r\n    /**\r\n     * getDefaultItemProps\r\n     * @description 表单单项的默认配置 通过type来制定\r\n     * @param item\r\n     */\r\n    function getDefaultItemProps(item) {\r\n        switch (item.type) {\r\n            case SWITCH:\r\n                return { valuePropName: 'checked' };\r\n            case CHECKBOX:\r\n                return { valuePropName: 'checked' };\r\n            case UPLOAD:\r\n                return { valuePropName: 'fileList' };\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    var FORM_ITEM_CONFIG = (0, react_1.useMemo)(function () {\r\n        return new Map([\r\n            [TEXT, 'renderText'],\r\n            [INPUT, 'renderInput'],\r\n            [SEARCH, 'renderSearch'],\r\n            [PASSWORD, 'renderPassword'],\r\n            [TEXTAREA, 'renderInputArea'],\r\n            [NUMBER, 'renderInputNumber'],\r\n            [RADIO, 'renderRadio'],\r\n            [CHECKBOX, 'renderCheckbox'],\r\n            [DATEPICKER, 'renderDatePicker'],\r\n            [RANGEPICKER, 'renderRangePicker'],\r\n            [TIMEPICKER, 'renderTimePicker'],\r\n            [SWITCH, 'renderSwitch'],\r\n            [SELECT, 'renderSelect'],\r\n            [SLIDER, 'renderSlider'],\r\n            [RATE, 'renderRate'],\r\n            [UPLOAD, 'renderUpload'],\r\n            [TAG, 'renderTag'],\r\n        ]);\r\n    }, []);\r\n    var formItems = (0, react_1.useMemo)(function () {\r\n        return columns\r\n            .filter(function (item) { return !('skip' in item); })\r\n            .map(function (item) {\r\n            var contentProps = item.contentProps, col = item.col, type = item.type, itemProps = __rest(item, [\"contentProps\", \"col\", \"type\"]);\r\n            var formItem = (react_1.default.createElement(antd_1.Form.Item, __assign({}, getDefaultItemProps(item), layout, itemProps, { key: item.name }), renderFormItem(item)));\r\n            return col ? react_1.default.createElement(antd_1.Col, __assign({}, col, { key: item.name }), formItem) : formItem;\r\n        });\r\n    }, [columns]);\r\n    return react_1.default.createElement(react_1.default.Fragment, null, row ? react_1.default.createElement(antd_1.Row, __assign({}, row), formItems) : formItems);\r\n};\r\n//@ts-ignore\r\nvar MemoWrap = (0, react_1.memo)(FormItemCreator);\r\nMemoWrap.TEXT = TEXT;\r\nMemoWrap.INPUT = INPUT;\r\nMemoWrap.SEARCH = SEARCH;\r\nMemoWrap.PASSWORD = PASSWORD;\r\nMemoWrap.TEXTAREA = TEXTAREA;\r\nMemoWrap.NUMBER = NUMBER;\r\nMemoWrap.RADIO = RADIO;\r\nMemoWrap.CHECKBOX = CHECKBOX;\r\nMemoWrap.DATEPICKER = DATEPICKER;\r\nMemoWrap.RANGEPICKER = RANGEPICKER;\r\nMemoWrap.TIMEPICKER = TIMEPICKER;\r\nMemoWrap.SWITCH = SWITCH;\r\nMemoWrap.SELECT = SELECT;\r\nMemoWrap.SLIDER = SLIDER;\r\nMemoWrap.RATE = RATE;\r\nMemoWrap.UPLOAD = UPLOAD;\r\nMemoWrap.TAG = TAG;\r\nMemoWrap.DEFINE = DEFINE;\r\nexports.default = MemoWrap;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","default","antd_1","exports","require","react_1","formitem_1","TEXT","Symbol","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","TAG","DEFINE","FormItemCreator","props","columns","layout","row","FORM_ITEM_CONFIG","useMemo","Map","formItems","filter","item","map","contentProps","type","col","itemProps","formItem","createElement","Form","Item","valuePropName","key","name","_a","content","renderMethodName","FormItem","Col","Fragment","Row","MemoWrap","memo"],"mappings":"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"}