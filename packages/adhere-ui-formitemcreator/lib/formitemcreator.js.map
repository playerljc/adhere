{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar antd_1 = require(\"antd\");\r\nvar formitem_1 = __importDefault(require(\"./formitem\"));\r\n/**\r\n * FormItemCreator\r\n * @class FormItemCreator\r\n * @classdesc 表单项的创建组件\r\n */\r\nvar FormItemCreator = /** @class */ (function (_super) {\r\n    __extends(FormItemCreator, _super);\r\n    function FormItemCreator() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.FORM_ITEM_CONFIG = new Map([\r\n            [FormItemCreator.TEXT, 'renderText'],\r\n            [FormItemCreator.INPUT, 'renderInput'],\r\n            [FormItemCreator.SEARCH, 'renderSearch'],\r\n            [FormItemCreator.PASSWORD, 'renderPassword'],\r\n            [FormItemCreator.TEXTAREA, 'renderInputArea'],\r\n            [FormItemCreator.NUMBER, 'renderInputNumber'],\r\n            [FormItemCreator.RADIO, 'renderRadio'],\r\n            [FormItemCreator.CHECKBOX, 'renderCheckbox'],\r\n            [FormItemCreator.DATEPICKER, 'renderDatePicker'],\r\n            [FormItemCreator.RANGEPICKER, 'renderRangePicker'],\r\n            [FormItemCreator.TIMEPICKER, 'renderTimePicker'],\r\n            [FormItemCreator.SWITCH, 'renderSwitch'],\r\n            [FormItemCreator.SELECT, 'renderSelect'],\r\n            [FormItemCreator.SLIDER, 'renderSlider'],\r\n            [FormItemCreator.RATE, 'renderRate'],\r\n            [FormItemCreator.UPLOAD, 'renderUpload'],\r\n        ]);\r\n        return _this;\r\n    }\r\n    /**\r\n     * getDefaultItemProps - 表单单项的默认配置 通过type来制定\r\n     * @param {Object} item\r\n     */\r\n    FormItemCreator.prototype.getDefaultItemProps = function (item) {\r\n        switch (item.type) {\r\n            case FormItemCreator.SWITCH:\r\n                return { valuePropName: 'checked' };\r\n            case FormItemCreator.CHECKBOX:\r\n                return { valuePropName: 'checked' };\r\n            case FormItemCreator.UPLOAD:\r\n                return { valuePropName: 'fileList' };\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n    /**\r\n     * renderFormItem - 表单单项渲染 通过type来制定\r\n     * @param {Object} item\r\n     */\r\n    FormItemCreator.prototype.renderFormItem = function (item) {\r\n        var type = item.type, _a = item.contentProps, contentProps = _a === void 0 ? {} : _a;\r\n        // @ts-ignore\r\n        if (type === FormItemCreator.DEFINE) {\r\n            return item.content;\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            var renderMethodName = this.FORM_ITEM_CONFIG.get(type || FormItemCreator.INPUT);\r\n            // @ts-ignore\r\n            return renderMethodName ? formitem_1.default[renderMethodName](contentProps) : null;\r\n        }\r\n    };\r\n    FormItemCreator.prototype.render = function () {\r\n        var _this = this;\r\n        // @ts-ignore\r\n        var _a = this.props, columns = _a.columns, layout = _a.layout;\r\n        // @ts-ignore\r\n        return columns.map(function (item) {\r\n            var skip = item.skip, contentProps = item.contentProps, itemProps = __rest(item, [\"skip\", \"contentProps\"]);\r\n            if (skip)\r\n                return;\r\n            return (react_1.default.createElement(antd_1.Form.Item, __assign({}, _this.getDefaultItemProps(item), layout, itemProps), _this.renderFormItem(item)));\r\n        });\r\n    };\r\n    FormItemCreator.TEXT = Symbol('text');\r\n    FormItemCreator.INPUT = Symbol('input');\r\n    FormItemCreator.SEARCH = Symbol('search');\r\n    FormItemCreator.PASSWORD = Symbol('password');\r\n    FormItemCreator.TEXTAREA = Symbol('textarea');\r\n    FormItemCreator.NUMBER = Symbol('number');\r\n    FormItemCreator.RADIO = Symbol('radio');\r\n    FormItemCreator.CHECKBOX = Symbol('checkbox');\r\n    FormItemCreator.DATEPICKER = Symbol('datepicker');\r\n    FormItemCreator.RANGEPICKER = Symbol('rangepicker');\r\n    FormItemCreator.TIMEPICKER = Symbol('timepicker');\r\n    FormItemCreator.SWITCH = Symbol('switch');\r\n    FormItemCreator.SELECT = Symbol('select');\r\n    FormItemCreator.SLIDER = Symbol('slider');\r\n    FormItemCreator.RATE = Symbol('rate');\r\n    FormItemCreator.UPLOAD = Symbol('upload');\r\n    FormItemCreator.DEFINE = Symbol('define');\r\n    return FormItemCreator;\r\n}(react_1.default.Component));\r\nFormItemCreator.defaultProps = {\r\n    columns: [],\r\n};\r\nFormItemCreator.propTypes = {\r\n    columns: prop_types_1.default.arrayOf(prop_types_1.default.shape({\r\n        labelCol: prop_types_1.default.object,\r\n        wrapperCol: prop_types_1.default.object,\r\n    })),\r\n    layout: prop_types_1.default.shape({\r\n        name: prop_types_1.default.arrayOf(prop_types_1.default.oneOfType([\r\n            prop_types_1.default.string,\r\n            prop_types_1.default.number,\r\n            prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.number]),\r\n        ])),\r\n        type: prop_types_1.default.symbol,\r\n        contentProps: prop_types_1.default.any,\r\n        skip: prop_types_1.default.bool,\r\n        content: prop_types_1.default.node,\r\n    }),\r\n};\r\nexports.default = FormItemCreator;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","mod","__esModule","default","defineProperty","exports","value","react_1","require","prop_types_1","antd_1","formitem_1","FormItemCreator","_super","_this","FORM_ITEM_CONFIG","Map","TEXT","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","getDefaultItemProps","item","type","valuePropName","renderFormItem","_a","contentProps","DEFINE","content","renderMethodName","get","render","props","columns","layout","map","skip","itemProps","createElement","Form","Item","Symbol","Component","defaultProps","propTypes","arrayOf","shape","labelCol","object","wrapperCol","name","oneOfType","string","number","symbol","any","bool","node"],"mappings":"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"}