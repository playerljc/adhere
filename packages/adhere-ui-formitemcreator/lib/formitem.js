"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&("get"in a?t.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__rest=this&&this.__rest||function(e,t){var r={};for(a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||((n=n||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},antd_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("antd")),react_1=__importStar(require("react")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),CheckboxGroup=antd_1.Checkbox.Group,RadioGroup=antd_1.Radio.Group,RangePicker=antd_1.DatePicker.RangePicker,TextArea=antd_1.Input.TextArea,Option=antd_1.Select.Option,renderText=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.Input,__assign({},e,{readOnly:!0}))}),renderInput=(0,react_1.memo)(function(e){var t=e.type,r=e.maxLength,r=void 0===r?100:r,n=e.placeholder,n=void 0===n?adhere_util_intl_1.default.v("请输入"):n,e=__rest(e,["type","maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input,__assign({autoComplete:"off",type:t,maxLength:r||100,placeholder:n},e))}),renderSearch=(0,react_1.memo)(function(e){var t=e.maxLength,t=void 0===t?800:t,r=e.placeholder,r=void 0===r?adhere_util_intl_1.default.v("请输入"):r,e=__rest(e,["maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input.Search,__assign({autoComplete:"off",maxLength:t||800,placeholder:r},e))}),renderInputArea=(0,react_1.memo)(function(e){var t=e.maxLength,t=void 0===t?500:t,r=e.rows,r=void 0===r?4:r,n=e.placeholder,n=void 0===n?adhere_util_intl_1.default.v("请输入"):n,e=__rest(e,["maxLength","rows","placeholder"]);return react_1.default.createElement(TextArea,__assign({autoComplete:"off",maxLength:t||500,rows:r,placeholder:n},e))}),renderPassword=(0,react_1.memo)(function(e){var t=e.type,r=e.maxLength,r=void 0===r?800:r,n=e.placeholder,n=void 0===n?adhere_util_intl_1.default.v("请输入"):n,e=__rest(e,["type","maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input.Password,__assign({autoComplete:"off",type:t,maxLength:r||800,placeholder:n},e))}),renderInputNumber=(0,react_1.memo)(function(e){var t=e.placeholder,t=void 0===t?"请输入":t,r=e.max,r=void 0===r?1/0:r,n=e.min,n=void 0===n?-1/0:n,e=__rest(e,["placeholder","max","min"]);return react_1.default.createElement(antd_1.InputNumber,__assign({autoComplete:"off",placeholder:t,max:r||1/0,min:n||-1/0},e))}),renderRadio=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(RadioGroup,__assign({},e))}),renderCheckbox=(0,react_1.memo)(function(e){var t=e.options,e=__rest(e,["options"]);return t.length&&1===t.length?react_1.default.createElement(antd_1.Checkbox,__assign({},e),t[0].label):react_1.default.createElement(CheckboxGroup,__assign({options:t},e))}),renderSelect=(0,react_1.memo)(function(e){function t(e){return(e||[]).map(function(e){return react_1.default.createElement(Option,{value:e.value,key:e.value,disabled:e.disabled},o?o(e):e.label)})}var r=e.optGroup,n=e.options,a=e.placeholder,a=void 0===a?adhere_util_intl_1.default.v("请选择"):a,o=e.renderOption,l=e.autoComplete,e=__rest(e,["optGroup","options","placeholder","renderOption","autoComplete"]),c=(0,react_1.useState)(""),i=c[0],u=c[1];return react_1.default.createElement(antd_1.Select,__assign({placeholder:a,optionFilterProp:"children",onSearch:function(e){return u(e)}},e,{showSearch:e.showSearch||l}),r&&r.length?r.map(t):t(!(null!=(c=n)&&c.length&&l&&i)||e.mode||null!=c&&c.find(function(e){return e.value&&e.value.toString()===i||e.label&&e.label.toString()===i})?c:__spreadArray(__spreadArray([],c,!0),[{label:i,value:i}],!1)))}),renderRangePicker=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(RangePicker,__assign({},e))}),renderDatePicker=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.DatePicker,__assign({},e))}),renderTimePicker=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.TimePicker,__assign({},e))}),renderSwitch=(0,react_1.memo)(function(e){return react_1.default.createElement(antd_1.Switch,__assign({},e))}),renderTreeSelect=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.TreeSelect,__assign({},e))}),renderSlider=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.Slider,__assign({},e))}),renderRate=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.Rate,__assign({},e))}),renderUpload=(0,react_1.memo)(function(e){e=__rest(e,[]);return react_1.default.createElement(antd_1.Upload,__assign({},e))}),Tags=function(e){function r(e){(e?((e=__spreadArray([],i,!0))[h]=m,u(e),g(-1),p):(s&&-1===i.indexOf(s)&&u(__spreadArray(__spreadArray([],i,!0),[s],!1)),d(!1),f))("")}function n(e,t){return void 0===t&&(t=!1),react_1.default.createElement(antd_1.Input,{type:"text",key:t?e:"",ref:t?b:v,size:"small",maxLength:100,className:"form-item-tag-input",value:e,onChange:function(e){return(t?p:f)(e.target.value)},onPressEnter:function(){return r(t)},onBlur:function(){return r(t)}})}function a(r,t){var e=r.length>o;return react_1.default.createElement(antd_1.Tag,{className:"form-item-tag",key:r,closable:!l,onClose:function(){var t,e;t=r,e=i.filter(function(e){return e!==t}),u(e)}},react_1.default.createElement("span",{onDoubleClick:function(e){l||(g(t),p(r),e.preventDefault())}},e?"".concat(r.slice(0,20),"..."):r))}var t=e.longLimit,o=void 0===t?20:t,l=e.disabled,t=e.addTagInner,t=void 0===t?"+":t,c=(0,react_1.useState)(e.value||[]),i=c[0],u=c[1],c=(0,react_1.useState)(!1),_=c[0],d=c[1],c=(0,react_1.useState)(""),s=c[0],f=c[1],c=(0,react_1.useState)(""),m=c[0],p=c[1],c=(0,react_1.useState)(-1),h=c[0],g=c[1],v=(0,react_1.useRef)(null),b=(0,react_1.useRef)(null);(0,react_1.useEffect)(function(){var e;_&&null!=(e=v.current)&&e.focus()},[_,s]),(0,react_1.useEffect)(function(){var e;null!=(e=b.current)&&e.focus()},[m]),(0,react_1.useEffect)(function(){JSON.stringify(e.value)!==JSON.stringify(i)&&u(e.value||[])},[e.value]),(0,react_1.useEffect)(function(){e.onChange&&e.onChange(i)},[i]);return react_1.default.createElement("div",{className:"form-item-tag"},null==i?void 0:i.map(function(e,t){return t===h?n(m,!0):a(e,t)}),l?"":_?n(s,!1):react_1.default.createElement(antd_1.Tag,{className:"form-item-tag-add",onClick:function(){return d(!0)}},t))},renderTag=(0,react_1.memo)(function(e){return react_1.default.createElement(Tags,__assign({},e))});exports.default={renderText:renderText,renderInput:renderInput,renderSearch:renderSearch,renderPassword:renderPassword,renderInputArea:renderInputArea,renderInputNumber:renderInputNumber,renderRadio:renderRadio,renderCheckbox:renderCheckbox,renderSelect:renderSelect,renderDatePicker:renderDatePicker,renderRangePicker:renderRangePicker,renderTimePicker:renderTimePicker,renderSwitch:renderSwitch,renderTreeSelect:renderTreeSelect,renderSlider:renderSlider,renderRate:renderRate,renderTag:renderTag,renderUpload:renderUpload};
//# sourceMappingURL=formitem.js.map
