"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),antd_1=require("antd"),react_1=tslib_1.__importStar(require("react")),adhere_util_intl_1=tslib_1.__importDefault(require("@baifendian/adhere-util-intl")),CheckboxGroup=antd_1.Checkbox.Group,RadioGroup=antd_1.Radio.Group,RangePicker=antd_1.DatePicker.RangePicker,TextArea=antd_1.Input.TextArea,Option=antd_1.Select.Option,renderText=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.Input,tslib_1.__assign({},e,{readOnly:!0}))}),renderInput=(0,react_1.memo)(function(e){var t=e.type,r=e.maxLength,r=void 0===r?100:r,a=e.placeholder,a=void 0===a?adhere_util_intl_1.default.v("请输入"):a,e=tslib_1.__rest(e,["type","maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input,tslib_1.__assign({autoComplete:"off",type:t,maxLength:r||100,placeholder:a},e))}),renderSearch=(0,react_1.memo)(function(e){var t=e.maxLength,t=void 0===t?800:t,r=e.placeholder,r=void 0===r?adhere_util_intl_1.default.v("请输入"):r,e=tslib_1.__rest(e,["maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input.Search,tslib_1.__assign({autoComplete:"off",maxLength:t||800,placeholder:r},e))}),renderInputArea=(0,react_1.memo)(function(e){var t=e.maxLength,t=void 0===t?500:t,r=e.rows,r=void 0===r?4:r,a=e.placeholder,a=void 0===a?adhere_util_intl_1.default.v("请输入"):a,e=tslib_1.__rest(e,["maxLength","rows","placeholder"]);return react_1.default.createElement(TextArea,tslib_1.__assign({autoComplete:"off",maxLength:t||500,rows:r,placeholder:a},e))}),renderPassword=(0,react_1.memo)(function(e){var t=e.type,r=e.maxLength,r=void 0===r?800:r,a=e.placeholder,a=void 0===a?adhere_util_intl_1.default.v("请输入"):a,e=tslib_1.__rest(e,["type","maxLength","placeholder"]);return react_1.default.createElement(antd_1.Input.Password,tslib_1.__assign({autoComplete:"off",type:t,maxLength:r||800,placeholder:a},e))}),renderInputNumber=(0,react_1.memo)(function(e){var t=e.placeholder,t=void 0===t?"请输入":t,r=e.max,r=void 0===r?1/0:r,a=e.min,a=void 0===a?-1/0:a,e=tslib_1.__rest(e,["placeholder","max","min"]);return react_1.default.createElement(antd_1.InputNumber,tslib_1.__assign({autoComplete:"off",placeholder:t,max:r||1/0,min:a||-1/0},e))}),renderRadio=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(RadioGroup,tslib_1.__assign({},e))}),renderCheckbox=(0,react_1.memo)(function(e){var t=e.options,e=tslib_1.__rest(e,["options"]);return t.length&&1===t.length?react_1.default.createElement(antd_1.Checkbox,tslib_1.__assign({},e),t[0].label):react_1.default.createElement(CheckboxGroup,tslib_1.__assign({options:t},e))}),renderSelect=(0,react_1.memo)(function(e){function t(e){return(e||[]).map(function(e){return react_1.default.createElement(Option,{value:e.value,key:e.value,disabled:e.disabled},l?l(e):e.label)})}var r=e.optGroup,a=e.options,n=e.placeholder,n=void 0===n?adhere_util_intl_1.default.v("请选择"):n,l=e.renderOption,_=e.autoComplete,e=tslib_1.__rest(e,["optGroup","options","placeholder","renderOption","autoComplete"]),i=(0,react_1.useState)(""),c=i[0],d=i[1];return react_1.default.createElement(antd_1.Select,tslib_1.__assign({placeholder:n,optionFilterProp:"children",onSearch:function(e){return d(e)}},e,{showSearch:e.showSearch||_}),r&&r.length?r.map(t):t(!(null!=(i=a)&&i.length&&_&&c)||e.mode||null!=i&&i.find(function(e){return e.value&&e.value.toString()===c||e.label&&e.label.toString()===c})?i:tslib_1.__spreadArray(tslib_1.__spreadArray([],i,!0),[{label:c,value:c}],!1)))}),renderRangePicker=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(RangePicker,tslib_1.__assign({},e))}),renderDatePicker=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.DatePicker,tslib_1.__assign({},e))}),renderTimePicker=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.TimePicker,tslib_1.__assign({},e))}),renderSwitch=(0,react_1.memo)(function(e){return react_1.default.createElement(antd_1.Switch,tslib_1.__assign({},e))}),renderTreeSelect=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.TreeSelect,tslib_1.__assign({},e))}),renderSlider=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.Slider,tslib_1.__assign({},e))}),renderRate=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.Rate,tslib_1.__assign({},e))}),renderUpload=(0,react_1.memo)(function(e){e=tslib_1.__rest(e,[]);return react_1.default.createElement(antd_1.Upload,tslib_1.__assign({},e))}),Tags=function(e){function r(e){(e?((e=tslib_1.__spreadArray([],c,!0))[b]=f,d(e),h(-1),p):(s&&-1===c.indexOf(s)&&d(tslib_1.__spreadArray(tslib_1.__spreadArray([],c,!0),[s],!1)),u(!1),m))("")}function a(e,t){return void 0===t&&(t=!1),react_1.default.createElement(antd_1.Input,{type:"text",key:t?e:"",ref:t?v:g,size:"small",maxLength:100,className:"form-item-tag-input",value:e,onChange:function(e){return(t?p:m)(e.target.value)},onPressEnter:function(){return r(t)},onBlur:function(){return r(t)}})}function n(r,t){var e=r.length>l;return react_1.default.createElement(antd_1.Tag,{className:"form-item-tag",key:r,closable:!_,onClose:function(){var t,e;t=r,e=c.filter(function(e){return e!==t}),d(e)}},react_1.default.createElement("span",{onDoubleClick:function(e){_||(h(t),p(r),e.preventDefault())}},e?"".concat(r.slice(0,20),"..."):r))}var t=e.longLimit,l=void 0===t?20:t,_=e.disabled,t=e.addTagInner,t=void 0===t?"+":t,i=(0,react_1.useState)(e.value||[]),c=i[0],d=i[1],i=(0,react_1.useState)(!1),o=i[0],u=i[1],i=(0,react_1.useState)(""),s=i[0],m=i[1],i=(0,react_1.useState)(""),f=i[0],p=i[1],i=(0,react_1.useState)(-1),b=i[0],h=i[1],g=(0,react_1.useRef)(null),v=(0,react_1.useRef)(null);(0,react_1.useEffect)(function(){var e;o&&null!=(e=g.current)&&e.focus()},[o,s]),(0,react_1.useEffect)(function(){var e;null!=(e=v.current)&&e.focus()},[f]),(0,react_1.useEffect)(function(){JSON.stringify(e.value)!==JSON.stringify(c)&&d(e.value||[])},[e.value]),(0,react_1.useEffect)(function(){e.onChange&&e.onChange(c)},[c]);return react_1.default.createElement("div",{className:"form-item-tag"},null==c?void 0:c.map(function(e,t){return t===b?a(f,!0):n(e,t)}),_?"":o?a(s,!1):react_1.default.createElement(antd_1.Tag,{className:"form-item-tag-add",onClick:function(){return u(!0)}},t))},renderTag=(0,react_1.memo)(function(e){return react_1.default.createElement(Tags,tslib_1.__assign({},e))});exports.default={renderText:renderText,renderInput:renderInput,renderSearch:renderSearch,renderPassword:renderPassword,renderInputArea:renderInputArea,renderInputNumber:renderInputNumber,renderRadio:renderRadio,renderCheckbox:renderCheckbox,renderSelect:renderSelect,renderDatePicker:renderDatePicker,renderRangePicker:renderRangePicker,renderTimePicker:renderTimePicker,renderSwitch:renderSwitch,renderTreeSelect:renderTreeSelect,renderSlider:renderSlider,renderRate:renderRate,renderTag:renderTag,renderUpload:renderUpload};
//# sourceMappingURL=formitem.js.map
