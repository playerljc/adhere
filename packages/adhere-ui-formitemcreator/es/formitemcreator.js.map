{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["import _Row from \"antd/es/row\";\nimport _Col from \"antd/es/col\";\nimport _Form from \"antd/es/form\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { __assign, __extends, __rest } from \"tslib\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport renderItem from './formitem';\n/**\n * FormItemCreator\n * @class FormItemCreator\n * @classdesc 表单项的创建组件\n */\n\nvar FormItemCreator =\n/** @class */\nfunction (_super) {\n  __extends(FormItemCreator, _super);\n\n  function FormItemCreator() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.FORM_ITEM_CONFIG = new Map([[FormItemCreator.TEXT, 'renderText'], [FormItemCreator.INPUT, 'renderInput'], [FormItemCreator.SEARCH, 'renderSearch'], [FormItemCreator.PASSWORD, 'renderPassword'], [FormItemCreator.TEXTAREA, 'renderInputArea'], [FormItemCreator.NUMBER, 'renderInputNumber'], [FormItemCreator.RADIO, 'renderRadio'], [FormItemCreator.CHECKBOX, 'renderCheckbox'], [FormItemCreator.DATEPICKER, 'renderDatePicker'], [FormItemCreator.RANGEPICKER, 'renderRangePicker'], [FormItemCreator.TIMEPICKER, 'renderTimePicker'], [FormItemCreator.SWITCH, 'renderSwitch'], [FormItemCreator.SELECT, 'renderSelect'], [FormItemCreator.SLIDER, 'renderSlider'], [FormItemCreator.RATE, 'renderRate'], [FormItemCreator.UPLOAD, 'renderUpload']]);\n    return _this;\n  }\n  /**\n   * getDefaultItemProps - 表单单项的默认配置 通过type来制定\n   * @param {Object} item\n   */\n\n\n  FormItemCreator.prototype.getDefaultItemProps = function (item) {\n    switch (item.type) {\n      case FormItemCreator.SWITCH:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.CHECKBOX:\n        return {\n          valuePropName: 'checked'\n        };\n\n      case FormItemCreator.UPLOAD:\n        return {\n          valuePropName: 'fileList'\n        };\n\n      default:\n        return null;\n    }\n  };\n  /**\n   * renderFormItem - 表单单项渲染 通过type来制定\n   * @param {Object} item\n   */\n\n\n  FormItemCreator.prototype.renderFormItem = function (item) {\n    var type = item.type,\n        _a = item.contentProps,\n        contentProps = _a === void 0 ? {} : _a; // @ts-ignore\n\n    if (type === FormItemCreator.DEFINE) {\n      return item.content;\n    } else {\n      // @ts-ignore\n      var renderMethodName = this.FORM_ITEM_CONFIG.get(type || FormItemCreator.INPUT); // @ts-ignore\n\n      return renderMethodName ? renderItem[renderMethodName](contentProps) : null;\n    }\n  };\n\n  FormItemCreator.prototype.render = function () {\n    var _this = this; // @ts-ignore\n\n\n    var _a = this.props,\n        columns = _a.columns,\n        layout = _a.layout,\n        row = _a.row;\n    var formItems = columns.map(function (item) {\n      var skip = item.skip,\n          contentProps = item.contentProps,\n          col = item.col,\n          itemProps = __rest(item, [\"skip\", \"contentProps\", \"col\"]);\n\n      if (skip) return;\n      var formItem = /*#__PURE__*/React.createElement(_Form.Item, __assign({}, _this.getDefaultItemProps(item), layout, itemProps), _this.renderFormItem(item));\n      return col ? /*#__PURE__*/React.createElement(_Col, __assign({}, col), formItem) : formItem;\n    });\n    return row ? /*#__PURE__*/React.createElement(_Row, __assign({}, row), formItems) : formItems;\n  };\n\n  FormItemCreator.TEXT = Symbol('text');\n  FormItemCreator.INPUT = Symbol('input');\n  FormItemCreator.SEARCH = Symbol('search');\n  FormItemCreator.PASSWORD = Symbol('password');\n  FormItemCreator.TEXTAREA = Symbol('textarea');\n  FormItemCreator.NUMBER = Symbol('number');\n  FormItemCreator.RADIO = Symbol('radio');\n  FormItemCreator.CHECKBOX = Symbol('checkbox');\n  FormItemCreator.DATEPICKER = Symbol('datepicker');\n  FormItemCreator.RANGEPICKER = Symbol('rangepicker');\n  FormItemCreator.TIMEPICKER = Symbol('timepicker');\n  FormItemCreator.SWITCH = Symbol('switch');\n  FormItemCreator.SELECT = Symbol('select');\n  FormItemCreator.SLIDER = Symbol('slider');\n  FormItemCreator.RATE = Symbol('rate');\n  FormItemCreator.UPLOAD = Symbol('upload');\n  FormItemCreator.DEFINE = Symbol('define');\n  return FormItemCreator;\n}(React.Component);\n\nFormItemCreator.defaultProps = {\n  columns: []\n};\nFormItemCreator.propTypes = {\n  columns: PropTypes.arrayOf(PropTypes.shape({\n    labelCol: PropTypes.object,\n    wrapperCol: PropTypes.object\n  })),\n  layout: PropTypes.shape({\n    name: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.oneOfType([PropTypes.string, PropTypes.number])])),\n    type: PropTypes.symbol,\n    contentProps: PropTypes.any,\n    skip: PropTypes.bool,\n    content: PropTypes.node\n  })\n};\nexport default FormItemCreator;"],"names":["_Row","_Col","_Form","__assign","__extends","__rest","React","PropTypes","renderItem","FormItemCreator","_super","_this","apply","this","arguments","FORM_ITEM_CONFIG","Map","TEXT","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","prototype","getDefaultItemProps","item","type","valuePropName","renderFormItem","_a","contentProps","DEFINE","content","renderMethodName","get","render","props","columns","layout","row","formItems","map","skip","col","itemProps","formItem","createElement","Item","Symbol","Component","defaultProps","propTypes","arrayOf","shape","labelCol","object","wrapperCol","name","oneOfType","string","number","symbol","any","bool","node"],"mappings":"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"}