{"version":3,"file":"formitemcreator.js","sources":["formitemcreator.js"],"sourcesContent":["import { __assign, __rest } from \"tslib\";\r\nimport { Col, Form, Row } from 'antd';\r\nimport React, { memo, useMemo } from 'react';\r\nimport renderItem from './formitem';\r\nvar TEXT = Symbol('text');\r\nvar INPUT = Symbol('input');\r\nvar SEARCH = Symbol('search');\r\nvar PASSWORD = Symbol('password');\r\nvar TEXTAREA = Symbol('textarea');\r\nvar NUMBER = Symbol('number');\r\nvar RADIO = Symbol('radio');\r\nvar CHECKBOX = Symbol('checkbox');\r\nvar DATEPICKER = Symbol('datepicker');\r\nvar RANGEPICKER = Symbol('rangepicker');\r\nvar TIMEPICKER = Symbol('timepicker');\r\nvar SWITCH = Symbol('switch');\r\nvar SELECT = Symbol('select');\r\nvar SLIDER = Symbol('slider');\r\nvar RATE = Symbol('rate');\r\nvar UPLOAD = Symbol('upload');\r\nvar TAG = Symbol('tag');\r\nvar DEFINE = Symbol('define');\r\nvar FormItemCreator = function (props) {\r\n    var columns = props.columns, layout = props.layout, row = props.row;\r\n    /**\r\n     * renderFormItem\r\n     * @description 表单单项渲染 通过type来制定\r\n     * @param item\r\n     */\r\n    function renderFormItem(item) {\r\n        var type = item.type, _a = item.contentProps, contentProps = _a === void 0 ? {} : _a;\r\n        if (type === DEFINE) {\r\n            return item.content;\r\n        }\r\n        else {\r\n            var renderMethodName = FORM_ITEM_CONFIG.get(type || INPUT);\r\n            if (renderMethodName) {\r\n                var FormItem = renderItem[renderMethodName];\r\n                return React.createElement(FormItem, __assign({}, contentProps));\r\n            }\r\n            return null;\r\n            // return renderMethodName ? renderItem[renderMethodName](contentProps) : null;\r\n        }\r\n    }\r\n    /**\r\n     * getDefaultItemProps\r\n     * @description 表单单项的默认配置 通过type来制定\r\n     * @param item\r\n     */\r\n    function getDefaultItemProps(item) {\r\n        switch (item.type) {\r\n            case SWITCH:\r\n                return { valuePropName: 'checked' };\r\n            case CHECKBOX:\r\n                return { valuePropName: 'checked' };\r\n            case UPLOAD:\r\n                return { valuePropName: 'fileList' };\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n    var FORM_ITEM_CONFIG = useMemo(function () {\r\n        return new Map([\r\n            [TEXT, 'renderText'],\r\n            [INPUT, 'renderInput'],\r\n            [SEARCH, 'renderSearch'],\r\n            [PASSWORD, 'renderPassword'],\r\n            [TEXTAREA, 'renderInputArea'],\r\n            [NUMBER, 'renderInputNumber'],\r\n            [RADIO, 'renderRadio'],\r\n            [CHECKBOX, 'renderCheckbox'],\r\n            [DATEPICKER, 'renderDatePicker'],\r\n            [RANGEPICKER, 'renderRangePicker'],\r\n            [TIMEPICKER, 'renderTimePicker'],\r\n            [SWITCH, 'renderSwitch'],\r\n            [SELECT, 'renderSelect'],\r\n            [SLIDER, 'renderSlider'],\r\n            [RATE, 'renderRate'],\r\n            [UPLOAD, 'renderUpload'],\r\n            [TAG, 'renderTag'],\r\n        ]);\r\n    }, []);\r\n    var formItems = useMemo(function () {\r\n        return columns\r\n            .filter(function (item) { return !('skip' in item); })\r\n            .map(function (item) {\r\n            var contentProps = item.contentProps, col = item.col, type = item.type, itemProps = __rest(item, [\"contentProps\", \"col\", \"type\"]);\r\n            var formItem = (React.createElement(Form.Item, __assign({}, getDefaultItemProps(item), layout, itemProps, { key: item.name }), renderFormItem(item)));\r\n            return col ? React.createElement(Col, __assign({}, col, { key: item.name }), formItem) : formItem;\r\n        });\r\n    }, [columns]);\r\n    return React.createElement(React.Fragment, null, row ? React.createElement(Row, __assign({}, row), formItems) : formItems);\r\n};\r\n//@ts-ignore\r\nvar MemoWrap = memo(FormItemCreator);\r\nMemoWrap.TEXT = TEXT;\r\nMemoWrap.INPUT = INPUT;\r\nMemoWrap.SEARCH = SEARCH;\r\nMemoWrap.PASSWORD = PASSWORD;\r\nMemoWrap.TEXTAREA = TEXTAREA;\r\nMemoWrap.NUMBER = NUMBER;\r\nMemoWrap.RADIO = RADIO;\r\nMemoWrap.CHECKBOX = CHECKBOX;\r\nMemoWrap.DATEPICKER = DATEPICKER;\r\nMemoWrap.RANGEPICKER = RANGEPICKER;\r\nMemoWrap.TIMEPICKER = TIMEPICKER;\r\nMemoWrap.SWITCH = SWITCH;\r\nMemoWrap.SELECT = SELECT;\r\nMemoWrap.SLIDER = SLIDER;\r\nMemoWrap.RATE = RATE;\r\nMemoWrap.UPLOAD = UPLOAD;\r\nMemoWrap.TAG = TAG;\r\nMemoWrap.DEFINE = DEFINE;\r\nexport default MemoWrap;\r\n//# sourceMappingURL=formitemcreator.js.map"],"names":["__assign","__rest","Col","Form","Row","React","memo","useMemo","renderItem","TEXT","Symbol","INPUT","SEARCH","PASSWORD","TEXTAREA","NUMBER","RADIO","CHECKBOX","DATEPICKER","RANGEPICKER","TIMEPICKER","SWITCH","SELECT","SLIDER","RATE","UPLOAD","TAG","DEFINE","FormItemCreator","props","columns","layout","row","FORM_ITEM_CONFIG","Map","formItems","filter","item","map","contentProps","type","col","itemProps","formItem","createElement","Item","valuePropName","key","name","_a","content","renderMethodName","get","FormItem","Fragment","MemoWrap"],"mappings":"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"}