{"version":3,"file":"pc.js","sources":["pc.js"],"sourcesContent":["\"use strict\";\n\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_1 = require(\"antd\");\nvar react_1 = __importDefault(require(\"react\"));\nvar client_1 = __importDefault(require(\"react-dom/client\"));\nvar tinycolor2_1 = __importDefault(require(\"tinycolor2\"));\nvar adhere_1 = require(\"@baifendian/adhere\");\nrequire(\"antd/dist/reset.css\");\nrequire(\"font-awesome/css/font-awesome.min.css\");\nrequire(\"@baifendian/adhere/lib/css.less\");\n/**\n * antdThemeToCssVariable\n */\nfunction antdThemeToCssVariable(curTheme) {\n  /**\n   * setCssVariable\n   * @description 设置css变量\n   * @param {string} varName 这个变量 xxx-xxx-xxx 类型\n   */\n  function setCssVariable(varName) {\n    // 小写驼峰\n    // 例子: adhereColorPrimary\n    var varCamelCaseName = adhere_1.Util.toCamelCase(varName, '-');\n    // 大写驼峰\n    // 例子: AdhereColorPrimary\n    var varUpperCamelCaseName = adhere_1.Util.toCamelCase(varName, '-', true);\n    if (varCamelCaseName in cssVars) return;\n    var entryValue = themes.get(varName);\n    // 定义驼峰变量\n    Object.defineProperty(cssVars, varCamelCaseName, {\n      set: function set(value) {\n        var _a, _b, _c, _d;\n        // --------------定义css变量 -------------\n        document.documentElement.style.setProperty(\"--\".concat(varName), value);\n        // 是颜色需要在定义一个-rgb的变量\n        var color = (0, tinycolor2_1.default)(value);\n        if (color.isValid()) {\n          var rgb = color.toRgb();\n          document.documentElement.style.setProperty(\"--\".concat(varName, \"-rgb\"), \"\".concat([rgb.r, rgb.g, rgb.b].join(',')));\n        }\n        // 处理mapToken\n        if (!(entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken)) return;\n        (_d = (_c = Array.from((_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.keys) === null || _b === void 0 ? void 0 : _b.call(_a))) === null || _c === void 0 ? void 0 : _c.forEach) === null || _d === void 0 ? void 0 : _d.call(_c, function (mapTokenVarName) {\n          var _a, _b;\n          var mapTokenVEntryValue = (_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.get) === null || _b === void 0 ? void 0 : _b.call(_a, mapTokenVarName);\n          if (mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha) {\n            color.setAlpha(Number.parseFloat(mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha));\n            document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), color.toPercentageRgbString());\n          }\n          if (mapTokenVEntryValue.calc) {\n            document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), \"calc(\".concat(value, \" \").concat(mapTokenVEntryValue.calc, \")\"));\n          }\n        });\n      }\n    });\n    // 定义导出变量\n    exportObj[\"set\".concat(varUpperCamelCaseName)] = function (value) {\n      cssVars[varCamelCaseName] = value;\n      adhere_1.Preferences.putStringByLocal(varUpperCamelCaseName, value);\n    };\n    // 定义导出变量\n    exportObj[\"get\".concat(varUpperCamelCaseName)] = function () {\n      return document.documentElement.style.getPropertyValue(\"--\".concat(varName));\n    };\n  }\n  /**\n   * init\n   */\n  function init() {\n    var _a;\n    // 主题的变量\n    var mapToken = ((_a = themes.get(curTheme)) !== null && _a !== void 0 ? _a : themes.get('default')).mapToken;\n    // 主题的变量\n    Object.keys(mapToken).forEach(function (_key) {\n      // colorPrimary\n      var varName = adhere_1.Util.capitalized(adhere_1.Util.toCamelCase(_key, '-', true));\n      exportObj[\"setAntd\".concat(varName)](mapToken[_key]);\n    });\n    Object.keys(designToken).forEach(function (_key) {\n      // colorPrimary\n      var varName = adhere_1.Util.capitalized(adhere_1.Util.toCamelCase(_key, '-', true));\n      exportObj[\"setAntd\".concat(varName)](designToken[_key]);\n    });\n  }\n  var getDesignToken = antd_1.theme.getDesignToken,\n    defaultAlgorithm = antd_1.theme.defaultAlgorithm,\n    defaultSeed = antd_1.theme.defaultSeed,\n    darkAlgorithm = antd_1.theme.darkAlgorithm;\n  var themes = new Map([[\n  // 缺省主题\n  'default', {\n    // 算法(antd)\n    algorithm: antd_1.theme.defaultAlgorithm,\n    // 算法对用的mapToken(antd)\n    mapToken: defaultAlgorithm(defaultSeed)\n  }], [\n  // 暗黑主题\n  'dark', {\n    algorithm: antd_1.theme.darkAlgorithm,\n    mapToken: darkAlgorithm(defaultSeed)\n  }]]);\n  // 当前变量\n  var cssVars = {};\n  // 导出对象\n  var exportObj = {};\n  var mapToken = defaultAlgorithm(defaultSeed);\n  var designToken = getDesignToken();\n  var antdKeys = Object.keys(themes.get('default').mapToken);\n  var antdDesignKeys = Object.keys(designToken);\n  /* 全局的css Vars*/\n  __spreadArray(__spreadArray([], antdKeys, true), antdDesignKeys, true).map(function (_key) {\n    return adhere_1.Util.pascalCaseToKebabCase(\"antd\".concat(adhere_1.Util.capitalized(_key)));\n  }).forEach(function (varName) {\n    setCssVariable(varName);\n  });\n  init();\n}\nexports.default = function (_a) {\n  var children = _a.children,\n    _b = _a.lang,\n    lang = _b === void 0 ? 'zh_CN' : _b,\n    _c = _a.locales,\n    locales = _c === void 0 ? {\n      en_US: [],\n      zh_CN: [],\n      pt_PT: []\n    } : _c,\n    _d = _a.theme,\n    theme = _d === void 0 ? {} : _d,\n    _e = _a.curTheme,\n    curTheme = _e === void 0 ? 'default' : _e;\n  client_1.default.createRoot(document.getElementById('app')).render(react_1.default.createElement(antd_1.ConfigProvider, {\n    locale: adhere_1.Resource.Dict.value.LocalsAntd.value[lang]\n  }, react_1.default.createElement(adhere_1.ConfigProvider, {\n    intl: {\n      lang: lang,\n      locales: locales\n    },\n    onIntlInit: function onIntlInit() {\n      antdThemeToCssVariable(curTheme);\n    },\n    theme: theme\n  }, function () {\n    return children;\n  })));\n};"],"names":["__spreadArray","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","__importDefault","mod","__esModule","default","antd_1","Object","defineProperty","exports","value","require","react_1","client_1","tinycolor2_1","adhere_1","antdThemeToCssVariable","curTheme","mapToken","getDesignToken","theme","defaultAlgorithm","defaultSeed","darkAlgorithm","themes","Map","algorithm","cssVars","exportObj","designToken","antdKeys","keys","get","antdDesignKeys","map","_key","Util","pascalCaseToKebabCase","capitalized","forEach","varName","entryValue","varCamelCaseName","varUpperCamelCaseName","toCamelCase","set","document","documentElement","style","setProperty","_c","rgb","color","isValid","toRgb","r","g","b","join","_d","_b","_a","mapTokenVarName","mapTokenVEntryValue","alpha","setAlpha","Number","parseFloat","toPercentageRgbString","calc","Preferences","putStringByLocal","getPropertyValue","children","lang","locales","en_US","zh_CN","pt_PT","_e","createRoot","getElementById","render","createElement","ConfigProvider","locale","Resource","Dict","LocalsAntd","intl","onIntlInit"],"mappings":"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"}