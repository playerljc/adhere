{"version":3,"file":"mobile.js","sources":["mobile.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * 否是通过mobile变量来判断\n * fastclick是否需要载入\n * amfe-flexible是否需要载入\n * postcss中的pxtorem插件是否需要载入\n */\nvar antd_mobile_1 = require(\"antd-mobile\");\nrequire(\"antd-mobile/es/global\");\nvar zh_CN_1 = __importDefault(require(\"antd-mobile/es/locales/zh-CN\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar client_1 = __importDefault(require(\"react-dom/client\"));\nvar cssinjs_1 = require(\"@ant-design/cssinjs\");\nvar adhere_ui_anthoc_1 = require(\"@baifendian/adhere-ui-anthoc\");\nvar adhere_ui_configprovider_1 = __importDefault(require(\"@baifendian/adhere-ui-configprovider\"));\nvar adhere_ui_contextmenu_1 = __importDefault(require(\"@baifendian/adhere-ui-contextmenu\"));\nvar adhere_ui_messagedialog_1 = __importDefault(require(\"@baifendian/adhere-ui-messagedialog\"));\nvar adhere_ui_notification_1 = __importDefault(require(\"@baifendian/adhere-ui-notification\"));\nvar adhere_ui_popup_1 = __importDefault(require(\"@baifendian/adhere-ui-popup\"));\nvar adhere_util_browsersniff_1 = __importDefault(require(\"@baifendian/adhere-util-browsersniff\"));\nvar adhere_util_resource_1 = __importDefault(require(\"@baifendian/adhere-util-resource\"));\nvar theme_1 = require(\"./theme\");\nvar util_1 = require(\"./util\");\nrequire(\"antd/dist/reset.css\");\nrequire(\"font-awesome/css/font-awesome.min.css\");\nrequire(\"@baifendian/adhere-ui-configprovider/es/index.less\");\nrequire(\"@baifendian/adhere-ui-css/lib/css.less\");\nvar timerRef = null;\nvar rem = window.document.body.clientWidth / 10;\ndocument.documentElement.style.fontSize = rem + 'px';\n// app载入移动端样式;\ndocument.getElementById('app').classList.add('mobile');\n// fastclick\nPromise.resolve().then(function () {\n  return __importStar(require('react-fastclick'));\n}).then(function (initReactFastclick) {\n  return initReactFastclick.default();\n});\n// ios端input失去焦点界面不返回\nif (adhere_util_browsersniff_1.default.iSOSiOS()) {\n  document.addEventListener('focusin', function (e) {\n    if (e && e.target && e.target.tagName && ['input', 'textarea'].includes(e.target.tagName.toLowerCase())) {\n      clearTimeout(timerRef);\n    }\n  });\n  document.addEventListener('focusout', function (e) {\n    if (e && e.target && e.target.tagName && ['input', 'textarea'].includes(e.target.tagName.toLowerCase())) {\n      timerRef = setTimeout(function () {\n        window.scrollTo(0, 0);\n      }, 0);\n    }\n  });\n}\nexports.default = function (_a) {\n  var children = _a.children,\n    _b = _a.lang,\n    lang = _b === void 0 ? 'zh_CN' : _b,\n    _c = _a.locales,\n    locales = _c === void 0 ? {\n      en_US: [],\n      zh_CN: [],\n      pt_PT: []\n    } : _c,\n    _d = _a.theme,\n    theme = _d === void 0 ? {} : _d,\n    _e = _a.curTheme,\n    curTheme = _e === void 0 ? 'default' : _e;\n  var styleProviderProps = {\n    transformers: [cssinjs_1.legacyLogicalPropertiesTransformer, (0, util_1.isUseMedia)() && (0, cssinjs_1.px2remTransformer)({\n      rootValue: 37.5\n    })].filter(function (c) {\n      return !!c;\n    })\n  };\n  var antDesignConfigProviderProps = {\n    locale: adhere_util_resource_1.default.Dict.value.LocalsAntd.value[lang]\n  };\n  function renderToFragmentWrapper(children) {\n    return react_1.default.createElement(adhere_ui_anthoc_1.ConfigProvider, __assign({}, antDesignConfigProviderProps), react_1.default.createElement(cssinjs_1.StyleProvider, __assign({}, styleProviderProps), react_1.default.createElement(antd_mobile_1.ConfigProvider, {\n      locale: zh_CN_1.default\n    }, react_1.default.createElement(adhere_ui_configprovider_1.default, {\n      intl: {\n        lang: lang,\n        locales: locales\n      },\n      onIntlInit: function () {\n        (0, theme_1.antdThemeToCssVariable)(curTheme);\n      },\n      theme: theme,\n      media: {\n        isUseMedia: (0, util_1.isUseMedia)(),\n        designWidth: 37.5\n      },\n      isUseWrapper: false\n    }, children))));\n  }\n  function renderToWrapper(children) {\n    return react_1.default.createElement(adhere_ui_anthoc_1.ConfigProvider, __assign({}, antDesignConfigProviderProps), react_1.default.createElement(cssinjs_1.StyleProvider, __assign({}, styleProviderProps), react_1.default.createElement(antd_mobile_1.ConfigProvider, {\n      locale: zh_CN_1.default\n    }, react_1.default.createElement(adhere_ui_configprovider_1.default, {\n      intl: {\n        lang: lang,\n        locales: locales\n      },\n      onIntlInit: function () {\n        (0, theme_1.antdThemeToCssVariable)(curTheme);\n      },\n      theme: theme,\n      media: {\n        isUseMedia: (0, util_1.isUseMedia)(),\n        designWidth: 37.5\n      }\n    }, children))));\n  }\n  adhere_ui_messagedialog_1.default.setRenderToWrapper(renderToFragmentWrapper);\n  adhere_ui_popup_1.default.setRenderToWrapper(renderToFragmentWrapper);\n  adhere_ui_contextmenu_1.default.setRenderToWrapper(renderToFragmentWrapper);\n  adhere_ui_notification_1.default.setRenderToWrapper(renderToFragmentWrapper);\n  client_1.default.createRoot(document.getElementById('app')).render(renderToWrapper(function () {\n    return children;\n  }));\n};"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__importDefault","default","antd_mobile_1","exports","require","zh_CN_1","react_1","client_1","cssinjs_1","adhere_ui_anthoc_1","adhere_ui_configprovider_1","adhere_ui_contextmenu_1","adhere_ui_messagedialog_1","adhere_ui_notification_1","adhere_ui_popup_1","adhere_util_browsersniff_1","adhere_util_resource_1","theme_1","util_1","timerRef","rem","window","document","body","clientWidth","documentElement","style","fontSize","getElementById","classList","add","Promise","resolve","then","initReactFastclick","iSOSiOS","addEventListener","e","target","tagName","includes","toLowerCase","clearTimeout","setTimeout","scrollTo","_a","children","_b","lang","_c","locales","en_US","zh_CN","pt_PT","_d","theme","_e","curTheme","styleProviderProps","transformers","legacyLogicalPropertiesTransformer","isUseMedia","px2remTransformer","rootValue","filter","c","antDesignConfigProviderProps","locale","Dict","LocalsAntd","renderToFragmentWrapper","createElement","ConfigProvider","StyleProvider","intl","onIntlInit","antdThemeToCssVariable","media","designWidth","isUseWrapper","setRenderToWrapper","createRoot","render"],"mappings":"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"}