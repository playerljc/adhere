{"version":3,"file":"mobile.js","sources":["mobile.js"],"sourcesContent":["import _ConfigProvider2 from \"antd-mobile/es/components/config-provider\";\nimport _ConfigProvider from \"@baifendian/adhere-ui-anthoc/es/config-provider\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\n/**\n * 否是通过mobile变量来判断\n * fastclick是否需要载入\n * amfe-flexible是否需要载入\n * postcss中的pxtorem插件是否需要载入\n */\n\nimport 'antd-mobile/es/global';\nimport zhCN from 'antd-mobile/es/locales/zh-CN';\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { StyleProvider, legacyLogicalPropertiesTransformer, px2remTransformer } from '@ant-design/cssinjs';\nimport AdhereConfigProvider from '@baifendian/adhere-ui-configprovider';\nimport ContextMenu from '@baifendian/adhere-ui-contextmenu';\nimport MessageDialog from '@baifendian/adhere-ui-messagedialog';\nimport Notification from '@baifendian/adhere-ui-notification';\nimport Popup from '@baifendian/adhere-ui-popup';\nimport Browsersniff from '@baifendian/adhere-util-browsersniff';\nimport Resource from '@baifendian/adhere-util-resource';\nimport { antdThemeToCssVariable } from './theme';\nimport { isUseMedia } from './util';\nimport 'antd/dist/reset.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport '@baifendian/adhere-ui-configprovider/es/index.less';\nimport '@baifendian/adhere-ui-css/lib/css.less';\nvar timerRef = null;\nvar rem = window.document.body.clientWidth / 10;\ndocument.documentElement.style.fontSize = rem + 'px';\n// app载入移动端样式;\ndocument.getElementById('app').classList.add('mobile');\n// fastclick\nimport('react-fastclick').then(function (initReactFastclick) {\n  return initReactFastclick.default();\n});\n// ios端input失去焦点界面不返回\nif (Browsersniff.iSOSiOS()) {\n  document.addEventListener('focusin', function (e) {\n    if (e && e.target && e.target.tagName && ['input', 'textarea'].includes(e.target.tagName.toLowerCase())) {\n      clearTimeout(timerRef);\n    }\n  });\n  document.addEventListener('focusout', function (e) {\n    if (e && e.target && e.target.tagName && ['input', 'textarea'].includes(e.target.tagName.toLowerCase())) {\n      timerRef = setTimeout(function () {\n        window.scrollTo(0, 0);\n      }, 0);\n    }\n  });\n}\nexport default (function (_a) {\n  var children = _a.children,\n    _b = _a.lang,\n    lang = _b === void 0 ? 'zh_CN' : _b,\n    _c = _a.locales,\n    locales = _c === void 0 ? {\n      en_US: [],\n      zh_CN: [],\n      pt_PT: []\n    } : _c,\n    _d = _a.theme,\n    theme = _d === void 0 ? {} : _d,\n    _e = _a.curTheme,\n    curTheme = _e === void 0 ? 'default' : _e;\n  var styleProviderProps = {\n    transformers: [legacyLogicalPropertiesTransformer, isUseMedia() && px2remTransformer({\n      rootValue: 37.5\n    })].filter(function (c) {\n      return !!c;\n    })\n  };\n  var antDesignConfigProviderProps = {\n    locale: Resource.Dict.value.LocalsAntd.value[lang]\n  };\n  function renderToFragmentWrapper(children) {\n    return /*#__PURE__*/React.createElement(_ConfigProvider, __assign({}, antDesignConfigProviderProps), /*#__PURE__*/React.createElement(StyleProvider, __assign({}, styleProviderProps), /*#__PURE__*/React.createElement(_ConfigProvider2, {\n      locale: zhCN\n    }, /*#__PURE__*/React.createElement(AdhereConfigProvider, {\n      intl: {\n        lang: lang,\n        locales: locales\n      },\n      onIntlInit: function () {\n        antdThemeToCssVariable(curTheme);\n      },\n      theme: theme,\n      media: {\n        isUseMedia: isUseMedia(),\n        designWidth: 37.5\n      },\n      isUseWrapper: false\n    }, children))));\n  }\n  function renderToWrapper(children) {\n    return /*#__PURE__*/React.createElement(_ConfigProvider, __assign({}, antDesignConfigProviderProps), /*#__PURE__*/React.createElement(StyleProvider, __assign({}, styleProviderProps), /*#__PURE__*/React.createElement(_ConfigProvider2, {\n      locale: zhCN\n    }, /*#__PURE__*/React.createElement(AdhereConfigProvider, {\n      intl: {\n        lang: lang,\n        locales: locales\n      },\n      onIntlInit: function () {\n        antdThemeToCssVariable(curTheme);\n      },\n      theme: theme,\n      media: {\n        isUseMedia: isUseMedia(),\n        designWidth: 37.5\n      }\n    }, children))));\n  }\n  MessageDialog.setRenderToWrapper(renderToFragmentWrapper);\n  Popup.setRenderToWrapper(renderToFragmentWrapper);\n  ContextMenu.setRenderToWrapper(renderToFragmentWrapper);\n  Notification.setRenderToWrapper(renderToFragmentWrapper);\n  ReactDOM.createRoot(document.getElementById('app')).render(renderToWrapper(function () {\n    return children;\n  }));\n});"],"names":["_ConfigProvider2","_ConfigProvider","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","zhCN","React","ReactDOM","StyleProvider","legacyLogicalPropertiesTransformer","px2remTransformer","AdhereConfigProvider","ContextMenu","MessageDialog","Notification","Popup","Browsersniff","Resource","antdThemeToCssVariable","isUseMedia","timerRef","rem","window","document","body","clientWidth","documentElement","style","fontSize","getElementById","classList","add","import","then","initReactFastclick","default","iSOSiOS","addEventListener","e","target","tagName","includes","toLowerCase","clearTimeout","setTimeout","scrollTo","_a","children","_b","lang","_c","locales","en_US","zh_CN","pt_PT","_d","theme","_e","curTheme","styleProviderProps","transformers","rootValue","filter","c","antDesignConfigProviderProps","locale","Dict","value","LocalsAntd","renderToFragmentWrapper","createElement","intl","onIntlInit","media","designWidth","isUseWrapper","setRenderToWrapper","createRoot","render"],"mappings":"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"}