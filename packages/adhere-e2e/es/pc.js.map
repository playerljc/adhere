{"version":3,"file":"pc.js","sources":["pc.js"],"sourcesContent":["import _ConfigProvider from \"antd/es/config-provider\";\nimport _theme from \"antd/es/theme\";\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport tinyColor from 'tinycolor2';\nimport { ConfigProvider as AdhereConfigProvider, Preferences, Resource, Util } from '@baifendian/adhere';\nimport 'antd/dist/reset.css';\nimport 'font-awesome/css/font-awesome.min.css';\nimport '@baifendian/adhere/lib/css.less';\n/**\n * antdThemeToCssVariable\n */\nfunction antdThemeToCssVariable(curTheme) {\n  /**\n   * setCssVariable\n   * @description 设置css变量\n   * @param {string} varName 这个变量 xxx-xxx-xxx 类型\n   */\n  function setCssVariable(varName) {\n    // 小写驼峰\n    // 例子: adhereColorPrimary\n    var varCamelCaseName = Util.toCamelCase(varName, '-');\n    // 大写驼峰\n    // 例子: AdhereColorPrimary\n    var varUpperCamelCaseName = Util.toCamelCase(varName, '-', true);\n    if (varCamelCaseName in cssVars) return;\n    var entryValue = themes.get(varName);\n    // 定义驼峰变量\n    Object.defineProperty(cssVars, varCamelCaseName, {\n      set: function set(value) {\n        var _a, _b, _c, _d;\n        // --------------定义css变量 -------------\n        document.documentElement.style.setProperty(\"--\".concat(varName), value);\n        // 是颜色需要在定义一个-rgb的变量\n        var color = tinyColor(value);\n        if (color.isValid()) {\n          var rgb = color.toRgb();\n          document.documentElement.style.setProperty(\"--\".concat(varName, \"-rgb\"), \"\".concat([rgb.r, rgb.g, rgb.b].join(',')));\n        }\n        // 处理mapToken\n        if (!(entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken)) return;\n        (_d = (_c = Array.from((_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.keys) === null || _b === void 0 ? void 0 : _b.call(_a))) === null || _c === void 0 ? void 0 : _c.forEach) === null || _d === void 0 ? void 0 : _d.call(_c, function (mapTokenVarName) {\n          var _a, _b;\n          var mapTokenVEntryValue = (_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.get) === null || _b === void 0 ? void 0 : _b.call(_a, mapTokenVarName);\n          if (mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha) {\n            color.setAlpha(Number.parseFloat(mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha));\n            document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), color.toPercentageRgbString());\n          }\n          if (mapTokenVEntryValue.calc) {\n            document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), \"calc(\".concat(value, \" \").concat(mapTokenVEntryValue.calc, \")\"));\n          }\n        });\n      }\n    });\n    // 定义导出变量\n    exportObj[\"set\".concat(varUpperCamelCaseName)] = function (value) {\n      cssVars[varCamelCaseName] = value;\n      Preferences.putStringByLocal(varUpperCamelCaseName, value);\n    };\n    // 定义导出变量\n    exportObj[\"get\".concat(varUpperCamelCaseName)] = function () {\n      return document.documentElement.style.getPropertyValue(\"--\".concat(varName));\n    };\n  }\n  /**\n   * init\n   */\n  function init() {\n    var _a;\n    // 主题的变量\n    var mapToken = ((_a = themes.get(curTheme)) !== null && _a !== void 0 ? _a : themes.get('default')).mapToken;\n    // 主题的变量\n    Object.keys(mapToken).forEach(function (_key) {\n      // colorPrimary\n      var varName = Util.capitalized(Util.toCamelCase(_key, '-', true));\n      exportObj[\"setAntd\".concat(varName)](mapToken[_key]);\n    });\n    Object.keys(designToken).forEach(function (_key) {\n      // colorPrimary\n      var varName = Util.capitalized(Util.toCamelCase(_key, '-', true));\n      exportObj[\"setAntd\".concat(varName)](designToken[_key]);\n    });\n  }\n  var getDesignToken = _theme.getDesignToken,\n    defaultAlgorithm = _theme.defaultAlgorithm,\n    defaultSeed = _theme.defaultSeed,\n    darkAlgorithm = _theme.darkAlgorithm;\n  var themes = new Map([[\n  // 缺省主题\n  'default', {\n    // 算法(antd)\n    algorithm: _theme.defaultAlgorithm,\n    // 算法对用的mapToken(antd)\n    mapToken: defaultAlgorithm(defaultSeed)\n  }], [\n  // 暗黑主题\n  'dark', {\n    algorithm: _theme.darkAlgorithm,\n    mapToken: darkAlgorithm(defaultSeed)\n  }]]);\n  // 当前变量\n  var cssVars = {};\n  // 导出对象\n  var exportObj = {};\n  var mapToken = defaultAlgorithm(defaultSeed);\n  var designToken = getDesignToken();\n  var antdKeys = Object.keys(themes.get('default').mapToken);\n  var antdDesignKeys = Object.keys(designToken);\n  /* 全局的css Vars*/\n  __spreadArray(__spreadArray([], antdKeys, true), antdDesignKeys, true).map(function (_key) {\n    return Util.pascalCaseToKebabCase(\"antd\".concat(Util.capitalized(_key)));\n  }).forEach(function (varName) {\n    setCssVariable(varName);\n  });\n  init();\n}\nexport default (function (_a) {\n  var children = _a.children,\n    _b = _a.lang,\n    lang = _b === void 0 ? 'zh_CN' : _b,\n    _c = _a.locales,\n    locales = _c === void 0 ? {\n      en_US: [],\n      zh_CN: [],\n      pt_PT: []\n    } : _c,\n    _d = _a.theme,\n    theme = _d === void 0 ? {} : _d,\n    _e = _a.curTheme,\n    curTheme = _e === void 0 ? 'default' : _e;\n  ReactDOM.createRoot(document.getElementById('app')).render( /*#__PURE__*/React.createElement(_ConfigProvider, {\n    locale: Resource.Dict.value.LocalsAntd.value[lang]\n  }, /*#__PURE__*/React.createElement(AdhereConfigProvider, {\n    intl: {\n      lang: lang,\n      locales: locales\n    },\n    onIntlInit: function onIntlInit() {\n      antdThemeToCssVariable(curTheme);\n    },\n    theme: theme\n  }, function () {\n    return children;\n  })));\n});"],"names":["_ConfigProvider","_theme","__spreadArray","this","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","React","ReactDOM","tinyColor","AdhereConfigProvider","Preferences","Resource","Util","antdThemeToCssVariable","curTheme","mapToken","getDesignToken","defaultAlgorithm","defaultSeed","darkAlgorithm","themes","Map","algorithm","cssVars","exportObj","designToken","antdKeys","Object","keys","get","antdDesignKeys","map","_key","pascalCaseToKebabCase","capitalized","forEach","varName","entryValue","varCamelCaseName","varUpperCamelCaseName","toCamelCase","defineProperty","set","value","document","documentElement","style","setProperty","_c","rgb","color","isValid","toRgb","r","g","b","join","_d","_b","_a","mapTokenVarName","mapTokenVEntryValue","alpha","setAlpha","Number","parseFloat","toPercentageRgbString","calc","putStringByLocal","getPropertyValue","children","lang","locales","en_US","zh_CN","pt_PT","theme","_e","createRoot","getElementById","render","createElement","locale","Dict","LocalsAntd","intl","onIntlInit"],"mappings":"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"}