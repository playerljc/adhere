{"version":3,"file":"ForceUpdate.js","sources":["ForceUpdate.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar uuid_1 = require(\"uuid\");\nvar adhere_ui_hooks_1 = __importDefault(require(\"@baifendian/adhere-ui-hooks\"));\nvar useSetState = adhere_ui_hooks_1.default.useSetState;\nvar ForceUpdate = (0, react_1.forwardRef)(function (props, ref) {\n    var _a;\n    var children = props.children;\n    var _b = useSetState((0, uuid_1.v1)()), keyRef = _b[0], setKey = _b[1];\n    (0, react_1.useImperativeHandle)(ref, function () { return ({\n        reMount: function () { return new Promise(function (resolve) { return setKey((0, uuid_1.v1)(), function () { return resolve(); }); }); },\n    }); });\n    return (0, react_1.cloneElement)(children, __assign({ key: keyRef.current }, ((_a = children.props) !== null && _a !== void 0 ? _a : {})));\n});\nForceUpdate.displayName = 'ForceUpdate';\nexports.default = ForceUpdate;\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","default","react_1","defineProperty","exports","value","require","uuid_1","adhere_ui_hooks_1","useSetState","ForceUpdate","forwardRef","props","ref","children","_b","v1","keyRef","setKey","useImperativeHandle","reMount","Promise","resolve","cloneElement","key","current","_a","displayName"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,EACIO,gBAAmBd,MAAQA,KAAKc,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,SADJjB,OAAOkB,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EAC9CC,QAAQ,OAAO,GACzBC,OAASD,QAAQ,MAAM,EACvBE,kBAAoBV,gBAAgBQ,QAAQ,6BAA6B,CAAC,EAC1EG,YAAcD,kBAAkBP,QAAQQ,YACxCC,aAAc,EAAIR,QAAQS,YAAY,SAAUC,EAAOC,GACvD,IACIC,EAAWF,EAAME,SACjBC,EAAKN,aAAY,EAAIF,OAAOS,IAAI,CAAC,EAAGC,EAASF,EAAG,GAAIG,EAASH,EAAG,GAIpE,OAHA,EAAIb,QAAQiB,qBAAqBN,EAAK,WAAc,MAAO,CACvDO,QAAS,WAAc,OAAO,IAAIC,QAAQ,SAAUC,GAAW,OAAOJ,GAAO,EAAIX,OAAOS,IAAI,EAAG,WAAc,OAAOM,EAAQ,CAAG,CAAC,CAAG,CAAC,CAAG,CAC1I,CAAG,CAAC,GACE,EAAIpB,QAAQqB,cAAcT,EAAU/B,SAAS,CAAEyC,IAAKP,EAAOQ,OAAQ,EAAI,OAACC,EAAKZ,EAASF,OAAmCc,EAAK,EAAG,CAAC,CAC7I,CAAC,EACDhB,YAAYiB,YAAc,cAC1BvB,QAAQH,QAAUS"}