{"version":3,"file":"forceupdate.js","sources":["forceupdate.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = require(\"react\");\r\nvar adhere_ui_hooks_1 = __importDefault(require(\"@baifendian/adhere-ui-hooks\"));\r\nvar useSetState = adhere_ui_hooks_1.default.useSetState;\r\nvar ForceUpdate = function (props, ref) {\r\n    var children = props.children;\r\n    var _a = useSetState(true), display = _a[0], setDisplay = _a[1];\r\n    react_1.useImperativeHandle(ref, function () { return ({\r\n        reMount: function () {\r\n            return new Promise(function (resolve) { return setDisplay(false, function () { return setDisplay(true, function () { return resolve(); }); }); });\r\n        },\r\n    }); });\r\n    return display ? children : null;\r\n};\r\nexports.default = react_1.forwardRef(ForceUpdate);\r\n"],"names":["__importDefault","this","mod","__esModule","default","Object","defineProperty","exports","value","react_1","require","adhere_ui_hooks_1","useSetState","ForceUpdate","props","ref","children","_a","display","setDisplay","useImperativeHandle","reMount","Promise","resolve","forwardRef"],"mappings":"aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,IAExDG,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IACtD,IAAIC,QAAUC,QAAQ,SAClBC,kBAAoBX,gBAAgBU,QAAQ,gCAC5CE,YAAcD,kBAAkBP,QAAQQ,YACxCC,YAAc,SAAUC,EAAOC,GAC/B,IAAIC,EAAWF,EAAME,SACjBC,EAAKL,aAAY,GAAOM,EAAUD,EAAG,GAAIE,EAAaF,EAAG,GAM7D,OALAR,QAAQW,oBAAoBL,EAAK,WAAc,MAAO,CAClDM,QAAS,WACL,OAAO,IAAIC,QAAQ,SAAUC,GAAW,OAAOJ,GAAW,EAAO,WAAc,OAAOA,GAAW,EAAM,WAAc,OAAOI,cAG7HL,EAAUF,EAAW,MAEhCT,QAAQH,QAAUK,QAAQe,WAAWX"}