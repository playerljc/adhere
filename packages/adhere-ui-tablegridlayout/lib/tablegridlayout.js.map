{"version":3,"file":"TableGridLayout.js","sources":["TableGridLayout.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.selectorPrefix = void 0;\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_1 = __importStar(require(\"react\"));\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\nvar adhere_ui_configprovider_1 = __importDefault(require(\"@baifendian/adhere-ui-configprovider\"));\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\nvar Label_1 = __importDefault(require(\"./Label\"));\nvar Value_1 = __importDefault(require(\"./Value\"));\nexports.selectorPrefix = 'adhere-ui-table-grid-layout';\n/**\n * renderHorizontal\n * @description 渲染横向布局\n * @return {\n *   element: JSX.Element[];\n     detail: GroupRenderDetail;\n * }\n */\nvar renderHorizontal = function (params) {\n    var _a = params.data, _columnCount = _a.columnCount, _data = _a.data, rowCountRef = params.rowCountRef;\n    /**\n     * createRow\n     * @description 创建一行\n     */\n    function createRow() {\n        var startIndex = _index;\n        // 一行的所有列\n        var tdJSXChildren = [];\n        // 一行的列数计数\n        var columnsCount = 0;\n        while (_index < flatData.length) {\n            // label或者value\n            var item = flatData[_index];\n            if (columnsCount !== columnCount) {\n                if (item) {\n                    if ('colSpan' in item.props && typeof item.props.colSpan === 'number') {\n                        columnsCount += item.props.colSpan;\n                    }\n                    else {\n                        columnsCount = columnsCount + 1;\n                    }\n                    tdJSXChildren.push(item);\n                }\n                _index++;\n            }\n            else {\n                break;\n            }\n        }\n        // 一行\n        if (columnsCount < columnCount) {\n            Array.from({ length: columnCount - columnsCount })\n                .fill(0)\n                .forEach(function () {\n                tdJSXChildren.push(react_1.default.createElement(\"td\", { className: \"\".concat(exports.selectorPrefix, \"-table-noborder\") }));\n            });\n        }\n        var rowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-table-row\"), rowCountRef.current % 2 === 0 ? 'odd' : 'even') }, tdJSXChildren));\n        rowCountRef.current++;\n        rowJSXChildren.push(rowJSX);\n        var endIndex = _index - 1;\n        detail.push({\n            startIndex: startIndex / 2,\n            endIndex: (endIndex - 1) / 2,\n        });\n        if (_index < flatData.length) {\n            createRow();\n        }\n        // 0 1 2 3 4 5 6 7\n        // 第一行 0 1 2 3 4 5 | 0 1 2\n        // 第二行 6 7 8 9 10 11 | 3 4 5\n    }\n    var detail = [];\n    // 一行多少列\n    var columnCount = _columnCount * 2;\n    // 拉平的数据\n    var flatData = [];\n    (_data || []).forEach(function (t) {\n        var _a;\n        var label = t.label;\n        if ('require' in t && !!t.require) {\n            label = react_1.default.cloneElement(label, __assign(__assign({}, label.props), { className: (0, classnames_1.default)(\n                // `${selectorPrefix}-table-row-label`,\n                'require', (_a = label.props.className) !== null && _a !== void 0 ? _a : '') }), label.props.children);\n        }\n        flatData.push(label);\n        flatData.push(t.value);\n    });\n    // 迭代的索引\n    var _index = 0;\n    var rowJSXChildren = [];\n    createRow();\n    return {\n        element: rowJSXChildren,\n        detail: detail,\n    };\n};\n/**\n * renderVertical\n * @description 渲染纵向布局\n * @return ReactElement[]\n * @param data\n * @param rowCountRef\n */\nvar renderVertical = function (data, rowCountRef) {\n    var _columnCount = data.columnCount, _data = data.data;\n    /**\n     * createRow\n     * @description 创建一行\n     */\n    function createRow() {\n        // 一行的所有列\n        var tdLabelJSXS = [];\n        var tdValueJSXS = [];\n        // 一行的列数计数\n        var columnsCount = 0;\n        // 0 1 2\n        // 3 4 5\n        var startIndex = _index;\n        while (_index < (_data || []).length) {\n            var item = (_data || [])[_index];\n            if (columnsCount !== columnCount) {\n                if (item) {\n                    if ('colSpan' in item.value.props && typeof item.value.props.colSpan === 'number') {\n                        columnsCount += item.value.props.colSpan;\n                    }\n                    else {\n                        columnsCount = columnsCount + 1;\n                    }\n                    tdLabelJSXS.push(item.label);\n                    tdValueJSXS.push(item.value);\n                }\n                _index++;\n            }\n            else {\n                break;\n            }\n        }\n        // 一行\n        if (columnsCount < columnCount) {\n            var fillCount = columnCount - columnsCount;\n            Array.from({ length: fillCount })\n                .fill(0)\n                .forEach(function () {\n                tdLabelJSXS.push(react_1.default.createElement(\"td\", { className: \"\".concat(exports.selectorPrefix, \"-table-noborder\") }));\n                tdValueJSXS.push(react_1.default.createElement(\"td\", { className: \"\".concat(exports.selectorPrefix, \"-table-noborder\") }));\n            });\n        }\n        var labelRowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-table-row\"), 'even') }, tdLabelJSXS));\n        var valueRowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-table-row\"), 'odd') }, tdValueJSXS));\n        rowJSXChildren.push(labelRowJSX, valueRowJSX);\n        rowCountRef.current += 2;\n        var endIndex = _index - 1;\n        detail.push({\n            startIndex: startIndex,\n            endIndex: endIndex,\n        });\n        if (_index < (_data || []).length) {\n            createRow();\n        }\n    }\n    var detail = [];\n    // 一行多少列\n    var columnCount = _columnCount;\n    (_data || []).forEach(function (t) {\n        var _a;\n        var label = t.label;\n        if ('require' in t && !!t.require) {\n            t.label = react_1.default.cloneElement(label, __assign(__assign({}, label.props), { className: (0, classnames_1.default)(\n                // `${selectorPrefix}-table-row-label`,\n                'require', (_a = label.props.className) !== null && _a !== void 0 ? _a : '') }), label.props.children);\n        }\n    });\n    var _index = 0;\n    var rowJSXChildren = [];\n    createRow();\n    return {\n        element: rowJSXChildren,\n        detail: detail,\n    };\n};\n/**\n * renderGridSearchForm\n * @description 渲染一个Table\n * @return {ReactElement}\n */\nvar renderGridSearchForm = function (params) {\n    var _a = params.data, className = _a.className, style = _a.style, width = _a.width, colgroup = _a.colgroup, _b = _a.defaultLabelWidth, defaultLabelWidth = _b === void 0 ? 120 : _b, layout = params.layout, density = params.density, \n    // parity = false,\n    mode = params.mode, rowCountRef = params.rowCountRef, _c = params.media, media = _c === void 0 ? { isUseMedia: false, designWidth: 192 } : _c;\n    var targetWidth = width;\n    if (media.isUseMedia) {\n        targetWidth = adhere_util_1.default.isNumber(width)\n            ? adhere_util_1.default.pxToRem(width, media.designWidth)\n            : width;\n    }\n    var targetDefaultLabelWidth = defaultLabelWidth;\n    if (media.isUseMedia) {\n        targetDefaultLabelWidth = adhere_util_1.default.isNumber(defaultLabelWidth)\n            ? adhere_util_1.default.pxToRem(defaultLabelWidth, media.designWidth)\n            : defaultLabelWidth;\n    }\n    var densityClass = new Map([\n        ['default', 'densitydefault'],\n        ['middle', 'densitymiddle'],\n        ['small', 'densitysmall'],\n    ]);\n    var colgroupJSX = [];\n    var _loop_1 = function (i) {\n        var width_1 = (colgroup || [])[i];\n        var targetWidth_1 = width_1;\n        if (media.isUseMedia) {\n            targetWidth_1 = adhere_util_1.default.isNumber(width_1)\n                ? adhere_util_1.default.pxToRem(width_1, media.designWidth)\n                : width_1;\n        }\n        colgroupJSX.push(react_1.default.createElement(adhere_ui_conditionalrender_1.default, { key: i, conditional: targetWidth_1 !== 'auto', noMatch: function () { return react_1.default.createElement(\"col\", null); } }, function () { return (react_1.default.createElement(\"col\", { style: {\n                width: targetWidth_1 !== null && targetWidth_1 !== void 0 ? targetWidth_1 : targetDefaultLabelWidth,\n            } })); }));\n    };\n    for (var i = 0; i < (colgroup || []).length; i++) {\n        _loop_1(i);\n    }\n    return (react_1.default.createElement(\"table\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-table\"), \"\".concat(exports.selectorPrefix, \"-table-\").concat(layout), densityClass.get(density || 'default'), mode, className !== null && className !== void 0 ? className : ''), style: __assign({ width: targetWidth ? targetWidth : '100%' }, (style !== null && style !== void 0 ? style : {})) },\n        react_1.default.createElement(\"colgroup\", null, colgroupJSX),\n        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: layout === 'horizontal', noMatch: function () { return renderVertical(params.data, rowCountRef).element; } }, function () { return renderHorizontal(params).element; })));\n};\n/**\n * renderGridSearchFormGroup\n * @param data\n * @param props\n * @param media\n */\nfunction renderGridSearchFormGroup(data, props, media) {\n    var _a;\n    var rowCountRef = { current: 0 };\n    var _b = props !== null && props !== void 0 ? props : {}, _c = _b.bordered, bordered = _c === void 0 ? false : _c, innerClassName = _b.innerClassName, innerStyle = _b.innerStyle, renderGridSearchFormProps = __rest(_b, [\"bordered\", \"innerClassName\", \"innerStyle\"]);\n    return (react_1.default.createElement(\"div\", { className: (0, classnames_1.default)(\"\".concat(exports.selectorPrefix, \"-inner-wrap\"), (_a = {},\n            _a[\"\".concat(exports.selectorPrefix, \"-border\")] = bordered,\n            _a), innerClassName !== null && innerClassName !== void 0 ? innerClassName : ''), style: innerStyle !== null && innerStyle !== void 0 ? innerStyle : {} }, (data || []).map(function (g, index) { return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { key: g.name || index, conditional: index !== 0, noMatch: function () {\n            return renderGridSearchForm(__assign({ data: g, rowCountRef: rowCountRef, media: media }, renderGridSearchFormProps));\n        } }, function () { return (react_1.default.createElement(\"div\", null, renderGridSearchForm(__assign({ data: g, rowCountRef: rowCountRef, media: media }, renderGridSearchFormProps)))); })); })));\n}\n/**\n * getRenderDetail\n * @param data\n * @param props\n */\nfunction getRenderDetail(data, props) {\n    var _a = props !== null && props !== void 0 ? props : {}, _b = _a.bordered, bordered = _b === void 0 ? false : _b, innerClassName = _a.innerClassName, innerStyle = _a.innerStyle, renderGridSearchFormProps = __rest(_a, [\"bordered\", \"innerClassName\", \"innerStyle\"]);\n    var result = { rowCount: 0, layout: props.layout, detail: [] };\n    data.forEach(function (g) {\n        var rowCountRef = { current: 0 };\n        var params = __assign({ data: g, rowCountRef: rowCountRef }, renderGridSearchFormProps);\n        var detail = [];\n        if (props.layout === 'horizontal') {\n            detail = renderHorizontal(params).detail;\n        }\n        else {\n            detail = renderVertical(params.data, rowCountRef).detail;\n        }\n        result.rowCount += rowCountRef.current;\n        result.detail.push({\n            name: g.name,\n            rowCount: props.layout === 'horizontal' ? rowCountRef.current : rowCountRef.current / 2,\n            detail: detail,\n        });\n    });\n    return result;\n}\n/**\n * TableGridLayout\n * @param data\n * @param className\n * @param style\n * @param props\n * @return {ReactElement}\n */\nvar InternalTableGridLayout = (0, react_1.memo)(function (_a) {\n    var data = _a.data, className = _a.className, style = _a.style, props = __rest(_a, [\"data\", \"className\", \"style\"]);\n    var targetData = (0, react_1.useMemo)(function () {\n        return (data !== null && data !== void 0 ? data : [])\n            .map(function (_record) {\n            var _a, _b;\n            return (__assign(__assign({}, _record), { data: (_b = (_a = _record.data) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (_item) { return !('show' in _item) || !!_item.show; }) }));\n        })\n            .filter(function (_record) { var _a; return !!((_a = _record === null || _record === void 0 ? void 0 : _record.data) === null || _a === void 0 ? void 0 : _a.length); });\n    }, [data, className, style, props]);\n    var configProvider = (0, react_1.useContext)(adhere_ui_configprovider_1.default.Context);\n    return (react_1.default.createElement(\"div\", { className: (0, classnames_1.default)(exports.selectorPrefix, className !== null && className !== void 0 ? className : ''), style: style !== null && style !== void 0 ? style : {} }, renderGridSearchFormGroup(targetData, props, configProvider.media)));\n});\nvar TableGridLayout = InternalTableGridLayout;\nTableGridLayout.displayName = 'TableGridLayout';\n/**\n * Label\n * @description 左侧Label\n * @param props\n * @constructor\n */\nTableGridLayout.Label = Label_1.default;\n/**\n * Value\n * @description 右侧Value\n * @param props\n * @constructor\n */\nTableGridLayout.Value = Value_1.default;\n/**\n * renderGridSearchFormGroup\n * @description - 渲染TableGridLayout\n * @param data\n * @param props\n * @return {ReactElement}\n */\nTableGridLayout.renderGridSearchFormGroup = renderGridSearchFormGroup;\n/**\n * getRenderDetail\n * @description 获取渲染细节\n * @param data - 组数据\n * @param props - 配置\n * @return RenderDetail\n */\nTableGridLayout.getRenderDetail = getRenderDetail;\nTableGridLayout.defaultProps = {\n    data: [],\n    layout: 'horizontal',\n    bordered: false,\n    mode: 'normal',\n};\nTableGridLayout.propTypes = {\n    className: prop_types_1.default.string,\n    style: prop_types_1.default.object,\n    innerClassName: prop_types_1.default.string,\n    innerStyle: prop_types_1.default.object,\n    // 是否有边框\n    bordered: prop_types_1.default.bool,\n    // 布局\n    layout: prop_types_1.default.oneOf(['horizontal', 'vertical']),\n    // 密度\n    density: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.number]),\n    // 是否是奇偶数不同色\n    // parity: PropTypes.bool,\n    mode: prop_types_1.default.string,\n    // 数据配置，一个数据表示一个表格\n    data: prop_types_1.default.arrayOf(prop_types_1.default.shape({\n        className: prop_types_1.default.string,\n        style: prop_types_1.default.object,\n        // group名称\n        name: prop_types_1.default.string,\n        // group的宽度，默认是100%\n        width: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.number]),\n        // 缺省的Label宽度\n        defaultLabelWidth: prop_types_1.default.number,\n        // 缺省的padding\n        padding: prop_types_1.default.arrayOf(prop_types_1.default.number),\n        // 列设置 auto表示自适应\n        colgroup: prop_types_1.default.arrayOf(prop_types_1.default.number).isRequired,\n        // 列数\n        columnCount: prop_types_1.default.number.isRequired,\n        data: prop_types_1.default.arrayOf(prop_types_1.default.shape({\n            key: prop_types_1.default.string.isRequired,\n            // Label组件\n            label: prop_types_1.default.node.isRequired,\n            // Value组件\n            value: prop_types_1.default.node.isRequired,\n            // 是否显示此项\n            show: prop_types_1.default.bool,\n        })).isRequired,\n    })).isRequired,\n};\nexports.default = TableGridLayout;\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","default","classnames_1","exports","selectorPrefix","require","prop_types_1","react_1","adhere_ui_conditionalrender_1","adhere_ui_configprovider_1","adhere_util_1","Label_1","Value_1","renderHorizontal","params","_a","data","_columnCount","columnCount","_data","rowCountRef","detail","flatData","_index","forEach","label","cloneElement","props","className","children","push","rowJSXChildren","createRow","startIndex","tdJSXChildren","columnsCount","item","colSpan","Array","from","fill","createElement","concat","rowJSX","current","endIndex","element","renderVertical","tdLabelJSXS","tdValueJSXS","labelRowJSX","valueRowJSX","renderGridSearchForm","style","width","colgroup","_b","defaultLabelWidth","layout","density","mode","_c","media","isUseMedia","designWidth","targetWidth","targetDefaultLabelWidth","isNumber","pxToRem","densityClass","Map","colgroupJSX","_loop_1","width_1","targetWidth_1","key","conditional","noMatch","renderGridSearchFormGroup","bordered","innerClassName","innerStyle","renderGridSearchFormProps","map","g","index","name","getRenderDetail","rowCount","InternalTableGridLayout","memo","targetData","useMemo","_record","filter","_item","show","configProvider","useContext","Context","TableGridLayout","displayName","Label","Value","defaultProps","propTypes","string","object","bool","oneOf","oneOfType","number","arrayOf","shape","padding","isRequired","node"],"mappings":"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"}