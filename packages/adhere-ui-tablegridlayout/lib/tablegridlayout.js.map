{"version":3,"file":"tablegridlayout.js","sources":["tablegridlayout.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_1 = __importDefault(require(\"react\"));\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\nvar selectorPrefix = 'adhere-ui-tablegridlayout';\n/**\n * renderHorizontal\n * @description 渲染横向布局\n * @return {\n *   element: JSX.Element[];\n     detail: GroupRenderDetail;\n * }\n */\nvar renderHorizontal = function (params) {\n    var _a = params.data, _columnCount = _a.columnCount, _data = _a.data, rowCountRef = params.rowCountRef;\n    /**\n     * createRow\n     * @description 创建一行\n     */\n    function createRow() {\n        var startIndex = _index;\n        // 一行的所有列\n        var tdJSXChildren = [];\n        // 一行的列数计数\n        var columnsCount = 0;\n        while (_index < flatData.length) {\n            var item = flatData[_index];\n            if (columnsCount !== columnCount) {\n                if ('colSpan' in item.props && typeof item.props.colSpan === 'number') {\n                    columnsCount += item.props.colSpan;\n                }\n                else {\n                    columnsCount = columnsCount + 1;\n                }\n                tdJSXChildren.push(item);\n                _index++;\n            }\n            else {\n                break;\n            }\n        }\n        // 一行\n        if (columnsCount < columnCount) {\n            Array.from({ length: columnCount - columnsCount })\n                .fill(0)\n                .forEach(function () {\n                tdJSXChildren.push(react_1.default.createElement(\"td\", { className: \"\".concat(selectorPrefix, \"-table-noborder\") }));\n            });\n        }\n        var rowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row\"), rowCountRef.current % 2 === 0 ? 'odd' : 'even') }, tdJSXChildren));\n        rowCountRef.current++;\n        rowJSXChildren.push(rowJSX);\n        var endIndex = _index - 1;\n        detail.push({\n            startIndex: startIndex / 2,\n            endIndex: (endIndex - 1) / 2,\n        });\n        if (_index < flatData.length) {\n            createRow();\n        }\n        // 0 1 2 3 4 5 6 7\n        // 第一行 0 1 2 3 4 5 | 0 1 2\n        // 第二行 6 7 8 9 10 11 | 3 4 5\n    }\n    var detail = [];\n    // 一行多少列\n    var columnCount = _columnCount * 2;\n    // 拉平的数据\n    var flatData = [];\n    (_data || []).forEach(function (t) {\n        var _a;\n        var label = t.label;\n        if ('require' in t && !!t.require) {\n            label = react_1.default.cloneElement(label, __assign(__assign({}, label.props), { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row-label\"), 'require', (_a = label.props.className) !== null && _a !== void 0 ? _a : '') }), label.props.children);\n        }\n        flatData.push(label);\n        flatData.push(t.value);\n    });\n    // 迭代的索引\n    var _index = 0;\n    var rowJSXChildren = [];\n    createRow();\n    return {\n        element: rowJSXChildren,\n        detail: detail,\n    };\n};\n/**\n * renderVertical\n * @description 渲染纵向布局\n * @return ReactElement[]\n * @param data\n * @param rowCountRef\n */\nvar renderVertical = function (data, rowCountRef) {\n    var _columnCount = data.columnCount, _data = data.data;\n    /**\n     * createRow\n     * @description 创建一行\n     */\n    function createRow() {\n        // 一行的所有列\n        var tdLabelJSXS = [];\n        var tdValueJSXS = [];\n        // 一行的列数计数\n        var columnsCount = 0;\n        // 0 1 2\n        // 3 4 5\n        var startIndex = _index;\n        while (_index < (_data || []).length) {\n            var item = (_data || [])[_index];\n            if (columnsCount !== columnCount) {\n                if ('colSpan' in item.value.props && typeof item.value.props.colSpan === 'number') {\n                    columnsCount += item.value.props.colSpan;\n                }\n                else {\n                    columnsCount = columnsCount + 1;\n                }\n                tdLabelJSXS.push(item.label);\n                tdValueJSXS.push(item.value);\n                _index++;\n            }\n            else {\n                break;\n            }\n        }\n        // 一行\n        if (columnsCount < columnCount) {\n            var fillCount = columnCount - columnsCount;\n            Array.from({ length: fillCount })\n                .fill(0)\n                .forEach(function () {\n                tdLabelJSXS.push(react_1.default.createElement(\"td\", { className: \"\".concat(selectorPrefix, \"-table-noborder\") }));\n                tdValueJSXS.push(react_1.default.createElement(\"td\", { className: \"\".concat(selectorPrefix, \"-table-noborder\") }));\n            });\n        }\n        var labelRowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row\"), 'even') }, tdLabelJSXS));\n        var valueRowJSX = (react_1.default.createElement(\"tr\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row\"), 'odd') }, tdValueJSXS));\n        rowJSXChildren.push(labelRowJSX, valueRowJSX);\n        rowCountRef.current += 2;\n        var endIndex = _index - 1;\n        detail.push({\n            startIndex: startIndex,\n            endIndex: endIndex,\n        });\n        if (_index < (_data || []).length) {\n            createRow();\n        }\n    }\n    var detail = [];\n    // 一行多少列\n    var columnCount = _columnCount;\n    (_data || []).forEach(function (t) {\n        var _a;\n        var label = t.label;\n        if ('require' in t && !!t.require) {\n            t.label = react_1.default.cloneElement(label, __assign(__assign({}, label.props), { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row-label\"), 'require', (_a = label.props.className) !== null && _a !== void 0 ? _a : '') }), label.props.children);\n        }\n    });\n    var _index = 0;\n    var rowJSXChildren = [];\n    createRow();\n    return {\n        element: rowJSXChildren,\n        detail: detail,\n    };\n};\n/**\n * renderGridSearchForm\n * @description 渲染一个Table\n * @return {ReactElement}\n */\nvar renderGridSearchForm = function (params) {\n    var _a = params.data, className = _a.className, style = _a.style, _width = _a.width, _colgroup = _a.colgroup, _b = _a.defaultLabelWidth, _defaultLabelWidth = _b === void 0 ? 120 : _b, layout = params.layout, _density = params.density, _c = params.parity, _parity = _c === void 0 ? false : _c, rowCountRef = params.rowCountRef;\n    var densityClass = new Map([\n        ['default', 'densitydefault'],\n        ['middle', 'densitymiddle'],\n        ['small', 'densitysmall'],\n    ]);\n    var colgroupJSX = [];\n    var _loop_1 = function (i) {\n        var width = (_colgroup || [])[i];\n        colgroupJSX.push(react_1.default.createElement(adhere_ui_conditionalrender_1.default, { key: i, conditional: width !== 'auto', noMatch: function () { return react_1.default.createElement(\"col\", null); } }, function () { return react_1.default.createElement(\"col\", { width: width || _defaultLabelWidth }); }));\n    };\n    for (var i = 0; i < (_colgroup || []).length; i++) {\n        _loop_1(i);\n    }\n    return (react_1.default.createElement(\"table\", { className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table\"), \"\".concat(selectorPrefix, \"-table-\").concat(layout), densityClass.get(_density || 'default'), {\n            parity: _parity,\n        }, className !== null && className !== void 0 ? className : ''), style: __assign({ width: _width ? _width : '100%' }, (style !== null && style !== void 0 ? style : {})) },\n        react_1.default.createElement(\"colgroup\", null, colgroupJSX),\n        react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: layout === 'horizontal', noMatch: function () { return renderVertical(params.data, rowCountRef).element; } }, function () { return renderHorizontal(params).element; })));\n};\n/**\n * TableGridLayout\n * @param data\n * @param className\n * @param style\n * @param props\n * @return {ReactElement}\n * @constructor\n */\nfunction TableGridLayout(_a) {\n    var data = _a.data, className = _a.className, style = _a.style, props = __rest(_a, [\"data\", \"className\", \"style\"]);\n    return (react_1.default.createElement(\"div\", { className: (0, classnames_1.default)(selectorPrefix, className !== null && className !== void 0 ? className : ''), style: style !== null && style !== void 0 ? style : {} }, TableGridLayout.renderGridSearchFormGroup(data, props)));\n}\n/**\n * Label\n * @description 左侧Label\n * @param props\n * @constructor\n */\nTableGridLayout.Label = function (props) {\n    var className = props.className, _props = __rest(props, [\"className\"]);\n    return (react_1.default.createElement(\"td\", __assign({ className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row-label\"), className !== null && className !== void 0 ? className : '') }, _props), props.children));\n};\n/**\n * Value\n * @description 右侧Value\n * @param props\n * @constructor\n */\nTableGridLayout.Value = function (props) {\n    var className = props.className, _props = __rest(props, [\"className\"]);\n    return (react_1.default.createElement(\"td\", __assign({ className: (0, classnames_1.default)(\"\".concat(selectorPrefix, \"-table-row-value\"), className !== null && className !== void 0 ? className : '') }, _props), props.children));\n};\n/**\n * renderGridSearchFormGroup\n * @description - 渲染TableGridLayout\n * @param data\n * @param props\n * @return {ReactElement}\n */\nTableGridLayout.renderGridSearchFormGroup = function (data, props) {\n    var rowCountRef = { current: 0 };\n    var _a = props !== null && props !== void 0 ? props : {}, _b = _a.bordered, bordered = _b === void 0 ? false : _b, innerClassName = _a.innerClassName, innerStyle = _a.innerStyle, renderGridSearchFormProps = __rest(_a, [\"bordered\", \"innerClassName\", \"innerStyle\"]);\n    return (react_1.default.createElement(\"div\", { className: (0, classnames_1.default)(bordered ? \"\".concat(selectorPrefix, \"-border\") : null, \"\".concat(selectorPrefix, \"-inner-wrap\"), innerClassName !== null && innerClassName !== void 0 ? innerClassName : ''), style: innerStyle !== null && innerStyle !== void 0 ? innerStyle : {} }, (data || []).map(function (g, index) { return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { key: g.name || index, conditional: index !== 0, noMatch: function () {\n            return renderGridSearchForm(__assign({ data: g, rowCountRef: rowCountRef }, renderGridSearchFormProps));\n        } }, function () { return (react_1.default.createElement(\"div\", null, renderGridSearchForm(__assign({ data: g, rowCountRef: rowCountRef }, renderGridSearchFormProps)))); })); })));\n};\n/**\n * getRenderDetail\n * @description 获取渲染细节\n * @param data - 组数据\n * @param props - 配置\n * @return RenderDetail\n */\nTableGridLayout.getRenderDetail = function (data, props) {\n    var _a = props !== null && props !== void 0 ? props : {}, _b = _a.bordered, bordered = _b === void 0 ? false : _b, innerClassName = _a.innerClassName, innerStyle = _a.innerStyle, renderGridSearchFormProps = __rest(_a, [\"bordered\", \"innerClassName\", \"innerStyle\"]);\n    var result = { rowCount: 0, layout: props.layout, detail: [] };\n    data.forEach(function (g) {\n        var rowCountRef = { current: 0 };\n        var params = __assign({ data: g, rowCountRef: rowCountRef }, renderGridSearchFormProps);\n        var detail = [];\n        if (props.layout === 'horizontal') {\n            detail = renderHorizontal(params).detail;\n        }\n        else {\n            detail = renderVertical(params.data, rowCountRef).detail;\n        }\n        result.rowCount += rowCountRef.current;\n        result.detail.push({\n            name: g.name,\n            rowCount: props.layout === 'horizontal' ? rowCountRef.current : rowCountRef.current / 2,\n            detail: detail,\n        });\n    });\n    return result;\n};\nTableGridLayout.defaultProps = {\n    data: [],\n    layout: 'horizontal',\n    bordered: false,\n};\nTableGridLayout.propTypes = {\n    className: prop_types_1.default.string,\n    style: prop_types_1.default.object,\n    innerClassName: prop_types_1.default.string,\n    innerStyle: prop_types_1.default.object,\n    // 是否有边框\n    bordered: prop_types_1.default.bool,\n    // 布局\n    layout: prop_types_1.default.oneOf(['horizontal', 'vertical']),\n    // 密度\n    density: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.number]),\n    // 是否是奇偶数不同色\n    parity: prop_types_1.default.bool,\n    // 数据配置，一个数据表示一个表格\n    data: prop_types_1.default.arrayOf(prop_types_1.default.shape({\n        className: prop_types_1.default.string,\n        style: prop_types_1.default.object,\n        // group名称\n        name: prop_types_1.default.string,\n        // group的宽度，默认是100%\n        width: prop_types_1.default.oneOfType([prop_types_1.default.string, prop_types_1.default.number]),\n        // 缺省的Label宽度\n        defaultLabelWidth: prop_types_1.default.number,\n        // 缺省的padding\n        padding: prop_types_1.default.arrayOf(prop_types_1.default.number),\n        // 列设置 auto表示自适应\n        colgroup: prop_types_1.default.arrayOf(prop_types_1.default.number).isRequired,\n        // 列数\n        columnCount: prop_types_1.default.number.isRequired,\n        data: prop_types_1.default.arrayOf(prop_types_1.default.shape({\n            key: prop_types_1.default.string.isRequired,\n            // Label组件\n            label: prop_types_1.default.node.isRequired,\n            // Value组件\n            value: prop_types_1.default.node.isRequired,\n        })).isRequired,\n    })).isRequired,\n};\nexports.default = TableGridLayout;\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__importDefault","mod","__esModule","default","classnames_1","defineProperty","exports","value","require","prop_types_1","react_1","adhere_ui_conditionalrender_1","selectorPrefix","renderHorizontal","params","_a","data","_columnCount","columnCount","_data","rowCountRef","detail","flatData","_index","forEach","label","cloneElement","props","className","concat","children","push","rowJSXChildren","createRow","startIndex","tdJSXChildren","columnsCount","item","colSpan","Array","from","fill","createElement","rowJSX","current","endIndex","element","renderVertical","tdLabelJSXS","tdValueJSXS","labelRowJSX","valueRowJSX","renderGridSearchForm","style","_width","width","_colgroup","colgroup","_b","defaultLabelWidth","_defaultLabelWidth","layout","_density","density","_c","parity","_parity","densityClass","Map","colgroupJSX","_loop_1","key","conditional","noMatch","get","TableGridLayout","renderGridSearchFormGroup","Label","_props","Value","bordered","innerClassName","innerStyle","renderGridSearchFormProps","map","g","index","name","getRenderDetail","result","rowCount","defaultProps","propTypes","string","object","bool","oneOf","oneOfType","number","arrayOf","shape","padding","isRequired","node"],"mappings":"AAAA,aACA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,EACIO,OAAUd,MAAQA,KAAKc,QAAW,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAASM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,GAAKM,EAAEC,QAAQP,CAAC,EAAI,IAC9EN,EAAEM,GAAKL,EAAEK,IACb,GAAS,MAALL,GAAqD,YAAxC,OAAOH,OAAOgB,sBAC3B,IAAK,IAAIZ,EAAI,EAAGI,EAAIR,OAAOgB,sBAAsBb,CAAC,EAAGC,EAAII,EAAED,OAAQH,CAAC,GAC5DU,EAAEC,QAAQP,EAAEJ,EAAE,EAAI,GAAKJ,OAAOS,UAAUQ,qBAAqBN,KAAKR,EAAGK,EAAEJ,EAAE,IACzEF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAE1B,OAAOF,CACX,EACIgB,gBAAmBnB,MAAQA,KAAKmB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,cADJtB,OAAOuB,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EACzCP,gBAAgBQ,QAAQ,YAAY,CAAC,GACpDC,aAAeT,gBAAgBQ,QAAQ,YAAY,CAAC,EACpDE,QAAUV,gBAAgBQ,QAAQ,OAAO,CAAC,EAC1CG,8BAAgCX,gBAAgBQ,QAAQ,yCAAyC,CAAC,EAClGI,eAAiB,4BASjBC,iBAAmB,SAAUC,GAC7B,IAAIC,EAAKD,EAAOE,KAAMC,EAAeF,EAAGG,YAAaC,EAAQJ,EAAGC,KAAMI,EAAcN,EAAOM,YAkD3F,IAAIC,EAAS,GAETH,EAA6B,EAAfD,EAEdK,EAAW,GAWXC,IAVHJ,GAAS,IAAIK,QAAQ,SAAUxC,GAC5B,IAAI+B,EACAU,EAAQzC,EAAEyC,MACV,YAAazC,GAAOA,EAAEwB,UACtBiB,EAAQf,QAAQP,QAAQuB,aAAaD,EAAO7C,SAASA,SAAS,GAAI6C,EAAME,KAAK,EAAG,CAAEC,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,kBAAkB,EAAG,UAAW,OAACG,EAAKU,EAAME,MAAMC,WAAuCb,EAAK,EAAE,CAAE,CAAC,EAAGU,EAAME,MAAMG,QAAQ,GAE/QR,EAASS,KAAKN,CAAK,EACnBH,EAASS,KAAK/C,EAAEuB,KAAK,CACzB,CAAC,EAEY,GACTyB,EAAiB,GAErB,OA/DA,SAASC,IAML,IALA,IAAIC,EAAaX,EAEbY,EAAgB,GAEhBC,EAAe,EACZb,EAASD,EAASjC,QAAQ,CAC7B,IAAIgD,EAAOf,EAASC,GACpB,GAAIa,IAAiBlB,EAWjB,MAVI,YAAamB,EAAKV,OAAuC,UAA9B,OAAOU,EAAKV,MAAMW,QAC7CF,GAAgBC,EAAKV,MAAMW,QAG3BF,GAA8B,EAElCD,EAAcJ,KAAKM,CAAI,EACvBd,CAAM,EAKd,CAEIa,EAAelB,GACfqB,MAAMC,KAAK,CAAEnD,OAAQ6B,EAAckB,CAAa,CAAC,EAC5CK,KAAK,CAAC,EACNjB,QAAQ,WACTW,EAAcJ,KAAKrB,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,UAAW,GAAGC,OAAOjB,eAAgB,iBAAiB,CAAE,CAAC,CAAC,CACvH,CAAC,EAEL,IAAI+B,EAAUjC,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,YAAY,EAAGQ,EAAYwB,QAAU,GAAM,EAAI,MAAQ,MAAM,CAAE,EAAGT,CAAc,EAG/LU,GAFJzB,EAAYwB,OAAO,GACnBZ,EAAeD,KAAKY,CAAM,EACXpB,EAAS,GACxBF,EAAOU,KAAK,CACRG,WAAYA,EAAa,EACzBW,UAAWA,EAAW,GAAK,CAC/B,CAAC,EACGtB,EAASD,EAASjC,QAClB4C,EAAU,CAKlB,EAkBU,EACH,CACHa,QAASd,EACTX,OAAQA,CACZ,CACJ,EAQI0B,eAAiB,SAAU/B,EAAMI,GACjC,IAAIH,EAAeD,EAAKE,YAAaC,EAAQH,EAAKA,KAsDlD,IAAIK,EAAS,GAETH,EAAcD,EAQdM,IAPHJ,GAAS,IAAIK,QAAQ,SAAUxC,GAC5B,IACIyC,EAAQzC,EAAEyC,MACV,YAAazC,GAAOA,EAAEwB,UACtBxB,EAAEyC,MAAQf,QAAQP,QAAQuB,aAAaD,EAAO7C,SAASA,SAAS,GAAI6C,EAAME,KAAK,EAAG,CAAEC,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,kBAAkB,EAAG,UAAW,OAACG,EAAKU,EAAME,MAAMC,WAAuCb,EAAK,EAAE,CAAE,CAAC,EAAGU,EAAME,MAAMG,QAAQ,EAErR,CAAC,EACY,GACTE,EAAiB,GAErB,OA9DA,SAASC,IASL,IAPA,IAAIe,EAAc,GACdC,EAAc,GAEdb,EAAe,EAGfF,EAAaX,EACVA,GAAUJ,GAAS,IAAI9B,QAAQ,CAClC,IAAIgD,GAAQlB,GAAS,IAAII,GACzB,GAAIa,IAAiBlB,EAYjB,MAXI,YAAamB,EAAK9B,MAAMoB,OAA6C,UAApC,OAAOU,EAAK9B,MAAMoB,MAAMW,QACzDF,GAAgBC,EAAK9B,MAAMoB,MAAMW,QAGjCF,GAA8B,EAElCY,EAAYjB,KAAKM,EAAKZ,KAAK,EAC3BwB,EAAYlB,KAAKM,EAAK9B,KAAK,EAC3BgB,CAAM,EAKd,CAEIa,EAAelB,GAEfqB,MAAMC,KAAK,CAAEnD,OADG6B,EAAckB,CACC,CAAC,EAC3BK,KAAK,CAAC,EACNjB,QAAQ,WACTwB,EAAYjB,KAAKrB,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,UAAW,GAAGC,OAAOjB,eAAgB,iBAAiB,CAAE,CAAC,CAAC,EACjHqC,EAAYlB,KAAKrB,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,UAAW,GAAGC,OAAOjB,eAAgB,iBAAiB,CAAE,CAAC,CAAC,CACrH,CAAC,EAEL,IAAIsC,EAAexC,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,YAAY,EAAG,MAAM,CAAE,EAAGoC,CAAY,EAC1JG,EAAezC,QAAQP,QAAQuC,cAAc,KAAM,CAAEd,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,YAAY,EAAG,KAAK,CAAE,EAAGqC,CAAY,EAGzJJ,GAFJb,EAAeD,KAAKmB,EAAaC,CAAW,EAC5C/B,EAAYwB,SAAW,EACRrB,EAAS,GACxBF,EAAOU,KAAK,CACRG,WAAYA,EACZW,SAAUA,CACd,CAAC,EACGtB,GAAUJ,GAAS,IAAI9B,QACvB4C,EAAU,CAElB,EAaU,EACH,CACHa,QAASd,EACTX,OAAQA,CACZ,CACJ,EAMI+B,qBAAuB,SAAUtC,GAYjC,IAXA,IAAIC,EAAKD,EAAOE,KAAMY,EAAYb,EAAGa,UAAWyB,EAAQtC,EAAGsC,MAAOC,EAASvC,EAAGwC,MAAOC,EAAYzC,EAAG0C,SAAUC,EAAK3C,EAAG4C,kBAAmBC,EAA4B,KAAA,IAAPF,EAAgB,IAAMA,EAAIG,EAAS/C,EAAO+C,OAAQC,EAAWhD,EAAOiD,QAASC,EAAKlD,EAAOmD,OAAQC,EAAiB,KAAA,IAAPF,GAAwBA,EAAI5C,EAAcN,EAAOM,YACtT+C,EAAe,IAAIC,IAAI,CACvB,CAAC,UAAW,kBACZ,CAAC,SAAU,iBACX,CAAC,QAAS,gBACb,EACGC,EAAc,GAKTnF,EAAI,EAAGA,GAAKsE,GAAa,IAAInE,OAAQH,CAAC,GAC3CoF,CALU,SAAUpF,GACpB,IAAIqE,GAASC,GAAa,IAAItE,GAC9BmF,EAAYtC,KAAKrB,QAAQP,QAAQuC,cAAc/B,8BAA8BR,QAAS,CAAEoE,IAAKrF,EAAGsF,YAAuB,SAAVjB,EAAkBkB,QAAS,WAAc,OAAO/D,QAAQP,QAAQuC,cAAc,MAAO,IAAI,CAAG,CAAE,EAAG,WAAc,OAAOhC,QAAQP,QAAQuC,cAAc,MAAO,CAAEa,MAAOA,GAASK,CAAmB,CAAC,CAAG,CAAC,CAAC,CACvT,EAEY1E,CAAC,EAEb,OAAQwB,QAAQP,QAAQuC,cAAc,QAAS,CAAEd,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,QAAQ,EAAG,GAAGiB,OAAOjB,eAAgB,SAAS,EAAEiB,OAAOgC,CAAM,EAAGM,EAAaO,IAAIZ,GAAY,SAAS,EAAG,CACjNG,OAAQC,CACZ,EAAGtC,MAAAA,EAA6CA,EAAY,EAAE,EAAGyB,MAAOzE,SAAS,CAAE2E,MAAOD,GAAkB,MAAO,EAAID,MAAAA,EAAqCA,EAAQ,EAAG,CAAE,EACzK3C,QAAQP,QAAQuC,cAAc,WAAY,KAAM2B,CAAW,EAC3D3D,QAAQP,QAAQuC,cAAc/B,8BAA8BR,QAAS,CAAEqE,YAAwB,eAAXX,EAAyBY,QAAS,WAAc,OAAO1B,eAAejC,EAAOE,KAAMI,CAAW,EAAE0B,OAAS,CAAE,EAAG,WAAc,OAAOjC,iBAAiBC,CAAM,EAAEgC,OAAS,CAAC,CAAE,CACpQ,EAUA,SAAS6B,gBAAgB5D,GACrB,IAAIC,EAAOD,EAAGC,KAAMY,EAAYb,EAAGa,UAAWyB,EAAQtC,EAAGsC,MAAO1B,EAAQhC,OAAOoB,EAAI,CAAC,OAAQ,YAAa,QAAQ,EACjH,OAAQL,QAAQP,QAAQuC,cAAc,MAAO,CAAEd,WAAW,EAAIxB,aAAaD,SAASS,eAAgBgB,MAAAA,EAA6CA,EAAY,EAAE,EAAGyB,MAAOA,MAAAA,EAAqCA,EAAQ,EAAG,EAAGsB,gBAAgBC,0BAA0B5D,EAAMW,CAAK,CAAE,CACvR,CAOAgD,gBAAgBE,MAAQ,SAAUlD,GAC9B,IAAIC,EAAYD,EAAMC,UAAWkD,EAASnF,OAAOgC,EAAO,CAAC,YAAY,EACrE,OAAQjB,QAAQP,QAAQuC,cAAc,KAAM9D,SAAS,CAAEgD,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,kBAAkB,EAAGgB,MAAAA,EAA6CA,EAAY,EAAE,CAAE,EAAGkD,CAAM,EAAGnD,EAAMG,QAAS,CACvO,EAOA6C,gBAAgBI,MAAQ,SAAUpD,GAC9B,IAAIC,EAAYD,EAAMC,UAAWkD,EAASnF,OAAOgC,EAAO,CAAC,YAAY,EACrE,OAAQjB,QAAQP,QAAQuC,cAAc,KAAM9D,SAAS,CAAEgD,WAAW,EAAIxB,aAAaD,SAAS,GAAG0B,OAAOjB,eAAgB,kBAAkB,EAAGgB,MAAAA,EAA6CA,EAAY,EAAE,CAAE,EAAGkD,CAAM,EAAGnD,EAAMG,QAAS,CACvO,EAQA6C,gBAAgBC,0BAA4B,SAAU5D,EAAMW,GACxD,IAAIP,EAAc,CAAEwB,QAAS,CAAE,EAC3B7B,EAAKY,MAAAA,EAAqCA,EAAQ,GAAI+B,EAAK3C,EAAGiE,SAAUA,EAAkB,KAAA,IAAPtB,GAAwBA,EAAIuB,EAAiBlE,EAAGkE,eAAgBC,EAAanE,EAAGmE,WAAYC,EAA4BxF,OAAOoB,EAAI,CAAC,WAAY,iBAAkB,aAAa,EACtQ,OAAQL,QAAQP,QAAQuC,cAAc,MAAO,CAAEd,WAAW,EAAIxB,aAAaD,SAAS6E,EAAW,GAAGnD,OAAOjB,eAAgB,SAAS,EAAI,KAAM,GAAGiB,OAAOjB,eAAgB,aAAa,EAAGqE,MAAAA,EAAuDA,EAAiB,EAAE,EAAG5B,MAAO6B,MAAAA,EAA+CA,EAAa,EAAG,GAAIlE,GAAQ,IAAIoE,IAAI,SAAUC,EAAGC,GAAS,OAAQ5E,QAAQP,QAAQuC,cAAc/B,8BAA8BR,QAAS,CAAEoE,IAAKc,EAAEE,MAAQD,EAAOd,YAAuB,IAAVc,EAAab,QAAS,WACnf,OAAOrB,qBAAqBxE,SAAS,CAAEoC,KAAMqE,EAAGjE,YAAaA,CAAY,EAAG+D,CAAyB,CAAC,CAC1G,CAAE,EAAG,WAAc,OAAQzE,QAAQP,QAAQuC,cAAc,MAAO,KAAMU,qBAAqBxE,SAAS,CAAEoC,KAAMqE,EAAGjE,YAAaA,CAAY,EAAG+D,CAAyB,CAAC,CAAE,CAAG,CAAE,CAAG,CAAC,CAAE,CAC1L,EAQAR,gBAAgBa,gBAAkB,SAAUxE,EAAMW,GAC9C,IAAIZ,EAAKY,MAAAA,EAAqCA,EAAQ,GAA6HwD,GAApHpE,EAAGiE,SAAkEjE,EAAGkE,eAA6BlE,EAAGmE,WAAwCvF,OAAOoB,EAAI,CAAC,WAAY,iBAAkB,aAAa,GAClQ0E,EAAS,CAAEC,SAAU,EAAG7B,OAAQlC,EAAMkC,OAAQxC,OAAQ,EAAG,EAkB7D,OAjBAL,EAAKQ,QAAQ,SAAU6D,GACnB,IAAIjE,EAAc,CAAEwB,QAAS,CAAE,EAC3B9B,EAASlC,SAAS,CAAEoC,KAAMqE,EAAGjE,YAAaA,CAAY,EAAG+D,CAAyB,EAClF9D,EAAS,GAETA,GADiB,eAAjBM,EAAMkC,OACGhD,iBAAiBC,CAAM,EAGvBiC,eAAejC,EAAOE,KAAMI,CAAW,GAHdC,OAKtCoE,EAAOC,UAAYtE,EAAYwB,QAC/B6C,EAAOpE,OAAOU,KAAK,CACfwD,KAAMF,EAAEE,KACRG,SAA2B,eAAjB/D,EAAMkC,OAA0BzC,EAAYwB,QAAUxB,EAAYwB,QAAU,EACtFvB,OAAQA,CACZ,CAAC,CACL,CAAC,EACMoE,CACX,EACAd,gBAAgBgB,aAAe,CAC3B3E,KAAM,GACN6C,OAAQ,aACRmB,SAAU,CAAA,CACd,EACAL,gBAAgBiB,UAAY,CACxBhE,UAAWnB,aAAaN,QAAQ0F,OAChCxC,MAAO5C,aAAaN,QAAQ2F,OAC5Bb,eAAgBxE,aAAaN,QAAQ0F,OACrCX,WAAYzE,aAAaN,QAAQ2F,OAEjCd,SAAUvE,aAAaN,QAAQ4F,KAE/BlC,OAAQpD,aAAaN,QAAQ6F,MAAM,CAAC,aAAc,WAAW,EAE7DjC,QAAStD,aAAaN,QAAQ8F,UAAU,CAACxF,aAAaN,QAAQ0F,OAAQpF,aAAaN,QAAQ+F,OAAO,EAElGjC,OAAQxD,aAAaN,QAAQ4F,KAE7B/E,KAAMP,aAAaN,QAAQgG,QAAQ1F,aAAaN,QAAQiG,MAAM,CAC1DxE,UAAWnB,aAAaN,QAAQ0F,OAChCxC,MAAO5C,aAAaN,QAAQ2F,OAE5BP,KAAM9E,aAAaN,QAAQ0F,OAE3BtC,MAAO9C,aAAaN,QAAQ8F,UAAU,CAACxF,aAAaN,QAAQ0F,OAAQpF,aAAaN,QAAQ+F,OAAO,EAEhGvC,kBAAmBlD,aAAaN,QAAQ+F,OAExCG,QAAS5F,aAAaN,QAAQgG,QAAQ1F,aAAaN,QAAQ+F,MAAM,EAEjEzC,SAAUhD,aAAaN,QAAQgG,QAAQ1F,aAAaN,QAAQ+F,MAAM,EAAEI,WAEpEpF,YAAaT,aAAaN,QAAQ+F,OAAOI,WACzCtF,KAAMP,aAAaN,QAAQgG,QAAQ1F,aAAaN,QAAQiG,MAAM,CAC1D7B,IAAK9D,aAAaN,QAAQ0F,OAAOS,WAEjC7E,MAAOhB,aAAaN,QAAQoG,KAAKD,WAEjC/F,MAAOE,aAAaN,QAAQoG,KAAKD,UACrC,CAAC,CAAC,EAAEA,UACR,CAAC,CAAC,EAAEA,UACR,EACAhG,QAAQH,QAAUwE"}