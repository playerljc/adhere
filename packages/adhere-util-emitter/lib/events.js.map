{"version":3,"file":"events.js","sources":["events.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Events\r\n * @class Events\r\n * @classdesc Events\r\n */\r\nvar Events = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     */\r\n    function Events() {\r\n        this.events = {};\r\n    }\r\n    /**\r\n     * remove\r\n     * @param {type} type\r\n     * @param {Function} handler\r\n     */\r\n    Events.prototype.remove = function (type, handler) {\r\n        if (this.hasType(type)) {\r\n            var index = this.events[type].handlers.findIndex(function (item) {\r\n                return item === handler;\r\n            });\r\n            if (index !== -1) {\r\n                this.events[type].handlers.splice(index, 1);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * hasType\r\n     * @param {string} type\r\n     * @return {boolean}\r\n     */\r\n    Events.prototype.hasType = function (type) {\r\n        return type in this.events;\r\n    };\r\n    /**\r\n     * clear 清除一个type下的所有handler\r\n     * @param {string} type\r\n     */\r\n    Events.prototype.clear = function (type) {\r\n        if (this.hasType(type)) {\r\n            this.events[type].handlers = [];\r\n        }\r\n    };\r\n    /**\r\n     * 清除所有\r\n     */\r\n    Events.prototype.clearAll = function () {\r\n        this.events = {};\r\n    };\r\n    /**\r\n     * on\r\n     * @param {string} type\r\n     * @param {Function} handler\r\n     */\r\n    Events.prototype.on = function (type, handler) {\r\n        if (!this.hasType(type)) {\r\n            this.events[type] = {\r\n                handlers: [],\r\n            };\r\n        }\r\n        this.events[type].handlers.push(handler);\r\n    };\r\n    /**\r\n     * trigger\r\n     * @param {string} type\r\n     * @param {Object} params\r\n     */\r\n    // @ts-ignore\r\n    Events.prototype.trigger = function (type) {\r\n        var params = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            params[_i - 1] = arguments[_i];\r\n        }\r\n        var result;\r\n        if (this.hasType(type)) {\r\n            this.events[type].handlers.forEach(function (handler) {\r\n                // @ts-ignore\r\n                result = handler.apply(void 0, params);\r\n            });\r\n        }\r\n        return result;\r\n    };\r\n    /**\r\n     * document自定义事件的触发\r\n     * @param el\r\n     * @param type\r\n     * @param params\r\n     */\r\n    Events.prototype.dispatchEvent = function (el, type, params) {\r\n        if (el === void 0) { el = document; }\r\n        var event = new CustomEvent(type, params);\r\n        el.dispatchEvent(event);\r\n    };\r\n    return Events;\r\n}());\r\n/**\r\n * 消息通知\r\n */\r\nexports.default = Events;\r\n"],"names":["Object","defineProperty","exports","value","Events","this","events","prototype","remove","type","handler","index","hasType","handlers","findIndex","item","splice","clear","clearAll","on","push","trigger","result","params","_i","arguments","length","forEach","apply","dispatchEvent","el","document","event","CustomEvent","default"],"mappings":"aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IAMtD,IAAIC,OAAwB,WAIxB,SAASA,IACLC,KAAKC,OAAS,GAoFlB,OA7EAF,EAAOG,UAAUC,OAAS,SAAUC,EAAMC,GACtC,IACQC,GADJN,KAAKO,QAAQH,KAIE,KAHXE,EAAQN,KAAKC,OAAOG,GAAMI,SAASC,UAAU,SAAUC,GACvD,OAAOA,IAASL,MAGhBL,KAAKC,OAAOG,GAAMI,SAASG,OAAOL,EAAO,IASrDP,EAAOG,UAAUK,QAAU,SAAUH,GACjC,OAAOA,KAAQJ,KAAKC,QAMxBF,EAAOG,UAAUU,MAAQ,SAAUR,GAC3BJ,KAAKO,QAAQH,KACbJ,KAAKC,OAAOG,GAAMI,SAAW,KAMrCT,EAAOG,UAAUW,SAAW,WACxBb,KAAKC,OAAS,IAOlBF,EAAOG,UAAUY,GAAK,SAAUV,EAAMC,GAC7BL,KAAKO,QAAQH,KACdJ,KAAKC,OAAOG,GAAQ,CAChBI,SAAU,KAGlBR,KAAKC,OAAOG,GAAMI,SAASO,KAAKV,IAQpCN,EAAOG,UAAUc,QAAU,SAAUZ,GAEjC,IADA,IAIIa,EAJAC,EAAS,GACJC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IACpCD,EAAOC,EAAK,GAAKC,UAAUD,GAS/B,OANInB,KAAKO,QAAQH,IACbJ,KAAKC,OAAOG,GAAMI,SAASc,QAAQ,SAAUjB,GAEzCY,EAASZ,EAAQkB,WAAM,EAAQL,KAGhCD,GAQXlB,EAAOG,UAAUsB,cAAgB,SAAUC,EAAIrB,EAAMc,QACtC,IAAPO,IAAiBA,EAAKC,UACtBC,EAAQ,IAAIC,YAAYxB,EAAMc,GAClCO,EAAGD,cAAcG,IAEd5B,EAzFgB,GA8F3BF,QAAQgC,QAAU9B"}