"use strict";var __extends=this&&this.__extends||function(){var i=function(t,o){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])})(t,o)};return function(t,o){function e(){this.constructor=t}i(t,o),t.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}(),__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var react_1=__importDefault(require("react")),slidelayout_1=require("./slidelayout"),SlideLayout=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.positionConfig={},t}return __extends(t,o),t.prototype.componentWillReceiveProps=function(t,o){t.collapse!==this.state.collapse&&this.setState({collapse:t.collapse})},t.prototype.componentDidMount=function(){var t,o=this;this.props.mask&&(this.maskEl=slidelayout_1.createMask(this.props.zIndex,function(){o.close()}),null!==(t=null===(t=this.el)||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.insertBefore(this.maskEl,this.el)),this.initial()},t.prototype.componentDidUpdate=function(t,o,e){o.collapse!==this.state.collapse&&(this.state.collapse?this.positionConfig.show:this.positionConfig.close)[this.props.direction]()},t.prototype.componentWillUnmount=function(){this.maskEl&&this.maskEl.parentElement.removeChild(this.maskEl)},t.prototype.getDuration=function(t){return null!=t?t:this.props.time},t.prototype.initial=function(){var t=this.el,o=this.props,e=o.direction,i=o.width,o=o.height;"left"===e||"right"===e?(null!=t&&(t.style.height="100%"),i?null!=t&&(t.style.width=i):null!=t&&(t.style.width=.9*(null===(i=null==t?void 0:t.parentElement)||void 0===i?void 0:i.offsetWidth)+"px")):(null!=t&&(t.style.width="100%"),o?null!=t&&(t.style.height=o):null!=t&&(t.style.height=.3*(null===(t=null==t?void 0:t.parentElement)||void 0===t?void 0:t.offsetHeight)+"px")),this.positionConfig.init[this.props.direction](),this.state.collapse&&this.positionConfig.show[this.props.direction](0)},t.prototype.show=function(){var t=this,o=this.props.onBeforeShow;o&&o();var e=this.props.direction;this.setState({collapse:!0},function(){t.positionConfig.show[e]()})},t.prototype.close=function(){var t=this,o=this.props.onBeforeClose;o&&o();var e=this.props.direction;this.setState({collapse:!1},function(){t.positionConfig.close[e]()})},t}(react_1.default.Component);exports.default=SlideLayout;
//# sourceMappingURL=slide.js.map
