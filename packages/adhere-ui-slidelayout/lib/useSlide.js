"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var react_1=require("react"),SlideLayout_1=require("./SlideLayout");exports.default=function(e,r,n){var t=e.time,l=void 0===t?300:t,t=e.mask,u=void 0===t||t,t=e.zIndex,c=void 0===t?9999:t,t=e.direction,o=void 0===t?"left":t,t=e.width,i=void 0===t?"80%":t,t=e.height,a=void 0===t?"40%":t,s=e.onBeforeClose,t=(0,react_1.useState)(e.collapse),f=t[0],d=t[1],v=(0,react_1.useRef)();return(0,react_1.useEffect)(function(){d(e.collapse)},[e.collapse]),(0,react_1.useLayoutEffect)(function(){var e,t;return u&&(v.current=(0,SlideLayout_1.createMask)(c,function(){s&&s(),d(!1)}),(null==(e=r.current)?void 0:e.parentElement).insertBefore(v.current,r.current)),"left"===o||"right"===o?(r.current.style.height="100%",r.current.style.width="string"==typeof i?i:"".concat(.9*(null==(t=r.current)?void 0:t.parentElement).offsetWidth,"px")):(r.current.style.width="100%",r.current.style.height="string"==typeof a?a:"".concat(.3*(null==(t=r.current)?void 0:t.parentElement).offsetHeight,"px")),null!=(e=(t=n.current.init)[o])&&e.call(t),f&&null!=(t=(e=n.current.show)[o])&&t.call(e,0),function(){var e,t;if(v.current){try{null!=(t=null==(e=v.current)?void 0:e.parentElement)&&t.removeChild(null==v?void 0:v.current)}catch(e){}v.current=null}}},[]),(0,react_1.useLayoutEffect)(function(){var e,t;f?null!=(e=(t=n.current.show)[o])&&e.call(t):null!=(t=(e=n.current.close)[o])&&t.call(e)},[f]),{getDuration:function(e){return null!=e?e:l},maskEl:v}};
//# sourceMappingURL=useSlide.js.map
