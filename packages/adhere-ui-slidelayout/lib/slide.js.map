{"version":3,"file":"slide.js","sources":["slide.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar slidelayout_1 = require(\"./slidelayout\");\r\n/**\r\n * SlideLayout\r\n * @class SlideLayout\r\n * @classdesc SlideLayout\r\n */\r\nvar SlideLayout = /** @class */ (function (_super) {\r\n    __extends(SlideLayout, _super);\r\n    function SlideLayout() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // @ts-ignore\r\n        _this.positionConfig = {};\r\n        return _this;\r\n    }\r\n    SlideLayout.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\r\n        if (nextProps.collapse !== this.state.collapse) {\r\n            this.setState({\r\n                collapse: nextProps.collapse,\r\n            });\r\n        }\r\n    };\r\n    SlideLayout.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        var _a, _b;\r\n        if (this.props.mask) {\r\n            this.maskEl = slidelayout_1.createMask(this.props.zIndex, function () {\r\n                _this.close();\r\n            });\r\n            (_b = (_a = this.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.insertBefore(this.maskEl, this.el);\r\n        }\r\n        this.initial();\r\n    };\r\n    // @ts-ignore\r\n    SlideLayout.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\r\n        if (prevState.collapse !== this.state.collapse) {\r\n            if (this.state.collapse) {\r\n                // @ts-ignore\r\n                this.positionConfig['show'][this.props.direction]();\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                this.positionConfig['close'][this.props.direction]();\r\n            }\r\n        }\r\n    };\r\n    SlideLayout.prototype.componentWillUnmount = function () {\r\n        if (this.maskEl) {\r\n            // @ts-ignore\r\n            this.maskEl.parentElement.removeChild(this.maskEl);\r\n        }\r\n    };\r\n    /**\r\n     * getDuration\r\n     * @param time\r\n     */\r\n    SlideLayout.prototype.getDuration = function (time) {\r\n        return time !== undefined && time !== null ? time : this.props.time;\r\n    };\r\n    /**\r\n     * initial\r\n     */\r\n    SlideLayout.prototype.initial = function () {\r\n        var _a, _b;\r\n        var _c = this, el = _c.el, _d = _c.props, \r\n        // @ts-ignore\r\n        direction = _d.direction, \r\n        // @ts-ignore\r\n        width = _d.width, \r\n        // @ts-ignore\r\n        height = _d.height;\r\n        if (direction === 'left' || direction === 'right') {\r\n            // 赋值宽度\r\n            // @ts-ignore\r\n            el === null || el === void 0 ? void 0 : el.style.height = '100%';\r\n            width\r\n                ? // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.width = width)\r\n                : // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.width = ((_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.offsetWidth) * 0.9 + \"px\");\r\n        }\r\n        else {\r\n            // 赋值高度\r\n            // @ts-ignore\r\n            el === null || el === void 0 ? void 0 : el.style.width = '100%';\r\n            height\r\n                ? // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.height = height)\r\n                : // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.height = ((_b = el === null || el === void 0 ? void 0 : el.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight) * 0.3 + \"px\");\r\n        }\r\n        // 赋值默认位置\r\n        // @ts-ignore\r\n        this.positionConfig['init'][this.props.direction]();\r\n        if (this.state.collapse) {\r\n            // @ts-ignore\r\n            this.positionConfig['show'][this.props.direction](0);\r\n        }\r\n    };\r\n    /**\r\n     * show\r\n     */\r\n    SlideLayout.prototype.show = function () {\r\n        var _this = this;\r\n        var onBeforeShow = this.props.onBeforeShow;\r\n        if (onBeforeShow) {\r\n            onBeforeShow();\r\n        }\r\n        var direction = this.props.direction;\r\n        this.setState({\r\n            collapse: true,\r\n        }, function () {\r\n            // @ts-ignore\r\n            _this.positionConfig['show'][direction]();\r\n        });\r\n    };\r\n    /**\r\n     * close\r\n     */\r\n    SlideLayout.prototype.close = function () {\r\n        var _this = this;\r\n        var onBeforeClose = this.props.onBeforeClose;\r\n        if (onBeforeClose) {\r\n            onBeforeClose();\r\n        }\r\n        var direction = this.props.direction;\r\n        this.setState({\r\n            collapse: false,\r\n        }, function () {\r\n            // @ts-ignore\r\n            _this.positionConfig['close'][direction]();\r\n        });\r\n    };\r\n    return SlideLayout;\r\n}(react_1.default.Component));\r\nexports.default = SlideLayout;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","default","defineProperty","exports","value","react_1","require","slidelayout_1","SlideLayout","_super","_this","apply","arguments","positionConfig","componentWillReceiveProps","nextProps","nextContext","collapse","state","setState","componentDidMount","_b","props","mask","maskEl","createMask","zIndex","close","_a","el","parentElement","insertBefore","initial","componentDidUpdate","prevProps","prevState","snapshot","direction","componentWillUnmount","removeChild","getDuration","time","_d","width","height","style","offsetWidth","offsetHeight","show","onBeforeShow","onBeforeClose","Component"],"mappings":"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"}