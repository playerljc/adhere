var __extends=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();import React from"react";import{createMask}from"./slidelayout";var SlideLayout=function(o){function t(){var t=null!==o&&o.apply(this,arguments)||this;return t.positionConfig={},t}return __extends(t,o),t.prototype.componentWillReceiveProps=function(t,o){t.collapse!==this.state.collapse&&this.setState({collapse:t.collapse})},t.prototype.componentDidMount=function(){var t,o=this;this.props.mask&&(this.maskEl=createMask(this.props.zIndex,function(){o.close()}),null!==(t=null===(t=this.el)||void 0===t?void 0:t.parentElement)&&void 0!==t&&t.insertBefore(this.maskEl,this.el)),this.initial()},t.prototype.componentDidUpdate=function(t,o,i){o.collapse!==this.state.collapse&&(this.state.collapse?this.positionConfig.show:this.positionConfig.close)[this.props.direction]()},t.prototype.componentWillUnmount=function(){this.maskEl&&this.maskEl.parentElement.removeChild(this.maskEl)},t.prototype.getDuration=function(t){return null!=t?t:this.props.time},t.prototype.initial=function(){var t=this.el,o=this.props,i=o.direction,e=o.width,o=o.height;"left"===i||"right"===i?(null!=t&&(t.style.height="100%"),e?null!=t&&(t.style.width=e):null!=t&&(t.style.width=.9*(null===(e=null==t?void 0:t.parentElement)||void 0===e?void 0:e.offsetWidth)+"px")):(null!=t&&(t.style.width="100%"),o?null!=t&&(t.style.height=o):null!=t&&(t.style.height=.3*(null===(t=null==t?void 0:t.parentElement)||void 0===t?void 0:t.offsetHeight)+"px")),this.positionConfig.init[this.props.direction](),this.state.collapse&&this.positionConfig.show[this.props.direction](0)},t.prototype.show=function(){var t=this,o=this.props.onBeforeShow;o&&o();var i=this.props.direction;this.setState({collapse:!0},function(){t.positionConfig.show[i]()})},t.prototype.close=function(){var t=this,o=this.props.onBeforeClose;o&&o();var i=this.props.direction;this.setState({collapse:!1},function(){t.positionConfig.close[i]()})},t}(React.Component);export default SlideLayout;
//# sourceMappingURL=slide.js.map
