{"version":3,"file":"slide.js","sources":["slide.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport React from 'react';\r\nimport { createMask } from './slidelayout';\r\n/**\r\n * SlideLayout\r\n * @class SlideLayout\r\n * @classdesc SlideLayout\r\n */\r\nvar SlideLayout = /** @class */ (function (_super) {\r\n    __extends(SlideLayout, _super);\r\n    function SlideLayout() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        // @ts-ignore\r\n        _this.positionConfig = {};\r\n        return _this;\r\n    }\r\n    SlideLayout.prototype.componentWillReceiveProps = function (nextProps, nextContext) {\r\n        if (nextProps.collapse !== this.state.collapse) {\r\n            this.setState({\r\n                collapse: nextProps.collapse,\r\n            });\r\n        }\r\n    };\r\n    SlideLayout.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        var _a, _b;\r\n        if (this.props.mask) {\r\n            this.maskEl = createMask(this.props.zIndex, function () {\r\n                _this.close();\r\n            });\r\n            (_b = (_a = this.el) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.insertBefore(this.maskEl, this.el);\r\n        }\r\n        this.initial();\r\n    };\r\n    // @ts-ignore\r\n    SlideLayout.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\r\n        if (prevState.collapse !== this.state.collapse) {\r\n            if (this.state.collapse) {\r\n                // @ts-ignore\r\n                this.positionConfig['show'][this.props.direction]();\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                this.positionConfig['close'][this.props.direction]();\r\n            }\r\n        }\r\n    };\r\n    SlideLayout.prototype.componentWillUnmount = function () {\r\n        if (this.maskEl) {\r\n            // @ts-ignore\r\n            this.maskEl.parentElement.removeChild(this.maskEl);\r\n        }\r\n    };\r\n    /**\r\n     * getDuration\r\n     * @param time\r\n     */\r\n    SlideLayout.prototype.getDuration = function (time) {\r\n        return time !== undefined && time !== null ? time : this.props.time;\r\n    };\r\n    /**\r\n     * initial\r\n     */\r\n    SlideLayout.prototype.initial = function () {\r\n        var _a, _b;\r\n        var _c = this, el = _c.el, _d = _c.props, \r\n        // @ts-ignore\r\n        direction = _d.direction, \r\n        // @ts-ignore\r\n        width = _d.width, \r\n        // @ts-ignore\r\n        height = _d.height;\r\n        if (direction === 'left' || direction === 'right') {\r\n            // 赋值宽度\r\n            // @ts-ignore\r\n            el === null || el === void 0 ? void 0 : el.style.height = '100%';\r\n            width\r\n                ? // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.width = width)\r\n                : // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.width = ((_a = el === null || el === void 0 ? void 0 : el.parentElement) === null || _a === void 0 ? void 0 : _a.offsetWidth) * 0.9 + \"px\");\r\n        }\r\n        else {\r\n            // 赋值高度\r\n            // @ts-ignore\r\n            el === null || el === void 0 ? void 0 : el.style.width = '100%';\r\n            height\r\n                ? // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.height = height)\r\n                : // @ts-ignore\r\n                    (el === null || el === void 0 ? void 0 : el.style.height = ((_b = el === null || el === void 0 ? void 0 : el.parentElement) === null || _b === void 0 ? void 0 : _b.offsetHeight) * 0.3 + \"px\");\r\n        }\r\n        // 赋值默认位置\r\n        // @ts-ignore\r\n        this.positionConfig['init'][this.props.direction]();\r\n        if (this.state.collapse) {\r\n            // @ts-ignore\r\n            this.positionConfig['show'][this.props.direction](0);\r\n        }\r\n    };\r\n    /**\r\n     * show\r\n     */\r\n    SlideLayout.prototype.show = function () {\r\n        var _this = this;\r\n        var onBeforeShow = this.props.onBeforeShow;\r\n        if (onBeforeShow) {\r\n            onBeforeShow();\r\n        }\r\n        var direction = this.props.direction;\r\n        this.setState({\r\n            collapse: true,\r\n        }, function () {\r\n            // @ts-ignore\r\n            _this.positionConfig['show'][direction]();\r\n        });\r\n    };\r\n    /**\r\n     * close\r\n     */\r\n    SlideLayout.prototype.close = function () {\r\n        var _this = this;\r\n        var onBeforeClose = this.props.onBeforeClose;\r\n        if (onBeforeClose) {\r\n            onBeforeClose();\r\n        }\r\n        var direction = this.props.direction;\r\n        this.setState({\r\n            collapse: false,\r\n        }, function () {\r\n            // @ts-ignore\r\n            _this.positionConfig['close'][direction]();\r\n        });\r\n    };\r\n    return SlideLayout;\r\n}(React.Component));\r\nexport default SlideLayout;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","React","createMask","SlideLayout","_super","_this","apply","arguments","positionConfig","componentWillReceiveProps","nextProps","nextContext","collapse","state","setState","componentDidMount","_b","props","mask","maskEl","zIndex","close","_a","el","parentElement","insertBefore","initial","componentDidUpdate","prevProps","prevState","snapshot","direction","componentWillUnmount","removeChild","getDuration","time","_d","width","height","style","offsetWidth","offsetHeight","show","onBeforeShow","onBeforeClose","Component"],"mappings":"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"}