import{useEffect,useLayoutEffect,useRef,useState}from"react";import{createMask}from"./slidelayout";export default function(e,r,n){var t=e.time,l=void 0===t?300:t,t=e.mask,u=void 0===t||t,t=e.zIndex,c=void 0===t?9999:t,t=e.direction,o=void 0===t?"left":t,t=e.width,i=void 0===t?"80%":t,t=e.height,a=void 0===t?"40%":t,f=e.onBeforeClose,t=useState(e.collapse),s=t[0],d=t[1],h=useRef();return useEffect(function(){d(e.collapse)},[e.collapse]),useLayoutEffect(function(){var e,t;return u&&(h.current=createMask(c,function(){f&&f(),d(!1)}),(null==(e=r.current)?void 0:e.parentElement).insertBefore(h.current,r.current)),"left"===o||"right"===o?(r.current.style.height="100%",r.current.style.width="string"==typeof i?i:"".concat(.9*(null==(t=r.current)?void 0:t.parentElement).offsetWidth,"px")):(r.current.style.width="100%",r.current.style.height="string"==typeof a?a:"".concat(.3*(null==(t=r.current)?void 0:t.parentElement).offsetHeight,"px")),null!=(e=(t=n.current.init)[o])&&e.call(t),s&&null!=(t=(e=n.current.show)[o])&&t.call(e,0),function(){var e,t;if(h.current){try{null!=(t=null==(e=h.current)?void 0:e.parentElement)&&t.removeChild(null==h?void 0:h.current)}catch(e){}h.current=null}}},[]),useLayoutEffect(function(){var e,t;s?null!=(e=(t=n.current.show)[o])&&e.call(t):null!=(t=(e=n.current.close)[o])&&t.call(e)},[s]),{getDuration:function(e){return null!=e?e:l},maskEl:h}}
//# sourceMappingURL=useSlide.js.map
