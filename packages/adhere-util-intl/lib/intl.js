var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,n){var e={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&n.indexOf(i)<0&&(e[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)n.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(e[i[r]]=t[i[r]]);return e},__spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var r=Array(t),i=0,n=0;n<e;n++)for(var o=arguments[n],a=0,l=o.length;a<l;a++,i++)r[i]=o[a];return r};import intl from"react-intl-universal";var isInit=!1,intlMap={},intlKey={},localKeys=new Map;function initIntlMap(n){Object.getOwnPropertyNames(n).forEach(function(t){intlMap[n[t]]=intl.get(t),intlKey[n[t]]=t})}function getLocal(t){for(var n=__spreadArrays(Array.from(new Set(t))),e={},r=0;r<n.length;r++){var i="local"+(r+1);localKeys.get(i)||(localKeys.set(i,i),0),e[i]=n[r]}return e}export default{init:function(t){var n=t.currentLocale,e=void 0===n?"zh_CN":n,n=t.locales,r=void 0===n?{}:n,t=__rest(t,["currentLocale","locales"]);if(isInit)return new Promise(function(t,n){n()});var i,o={en_US:require("./locales/en_US").default,zh_CN:require("./locales/zh_CN").default,pt_PT:require("./locales/pt_PT").default};for(i in r)i in o&&(o[i]=Object.assign(o[i],r[i]));return intl.init(__assign({currentLocale:e,locales:o},t)).then(function(){initIntlMap(o.zh_CN),isInit=!0})},v:function(t,n){return isInit?n?intl.get(intlKey[t],n):intlMap[t]:""},vHtml:function(t,n){return isInit?n?intl.getHTML(intlKey[t],n):intlMap[t]:""},get:function(t,n){return intl.get(t,n)},getHTML:function(t,n){return intl.getHTML(t,n)},getInitOptions:function(){return intl.getInitOptions()},formatMessage:function(t,n){return intl.formatMessage(t,n)},formatHTMLMessage:function(t,n){return intl.formatHTMLMessage(t,n)},load:function(t){intl.load(t)},getLocal:function(t){return getLocal(t)}};export{getLocal as getLocal};
//# sourceMappingURL=intl.js.map
