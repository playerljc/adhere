var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(t,e){var n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n},__spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var a=arguments[e],l=0,o=a.length;l<o;l++,i++)r[i]=a[l];return r};import intl from"react-intl-universal";var isInit=!1,intlMap={},intlKey={},localKeys=new Map,mainLocales={};function initIntlMap(e){Object.getOwnPropertyNames(e).forEach(function(t){intlMap[e[t]]=intl.get(t),intlKey[e[t]]=t})}function getLocal(t,e){void 0===t&&(t="local");for(var n=__spreadArrays(Array.from(new Set(e))),r={},i=0;i<n.length;i++){var a=""+(t||"local")+(i+1);localKeys.get(a)||(localKeys.set(a,a),0),r[a]=n[i]}return r}function getLocales(){return __assign({},mainLocales)}export default{init:function(t){var e=t.prefix,n=void 0===e?"local":e,r=t.currentLocale,i=void 0===r?"zh_CN":r,a=t.locales,l=void 0===a?{}:a,e=__rest(t,["prefix","currentLocale","locales"]);if(isInit)return new Promise(function(t,e){e()});var o,s,c,r={en_US:require("./locales/en_US").default,zh_CN:require("./locales/zh_CN").default,pt_PT:require("./locales/pt_PT").default},a=Object.keys(r),t=Object.keys(l);for(c in a.length>t.length?(o=r,s=l):a.length<=t.length&&(o=l,s=r),o)mainLocales[c]=getLocal.apply(void 0,__spreadArrays([n],new Set(__spreadArrays(o[c],s[c]||[]))));return intl.init(__assign({currentLocale:i,locales:mainLocales},e)).then(function(){initIntlMap(mainLocales.zh_CN),isInit=!0})},v:function(t,e){return isInit?e?intl.get(intlKey[t],e):intlMap[t]:""},vHtml:function(t,e){return isInit?e?intl.getHTML(intlKey[t],e):intlMap[t]:""},get:function(t,e){return intl.get(t,e)},getHTML:function(t,e){return intl.getHTML(t,e)},getInitOptions:function(){return intl.getInitOptions()},formatMessage:function(t,e){return intl.formatMessage(t,e)},formatHTMLMessage:function(t,e){return intl.formatHTMLMessage(t,e)},load:function(t){intl.load(t)},getLocal:function(t,e){return getLocal(t=void 0===t?"local":t,e)}};export{getLocal as getLocal,getLocales as getLocales};
//# sourceMappingURL=intl.js.map
