import tinyColor from"tinycolor2";import Util from"@baifendian/adhere-util";var defaultThemeMap=new Map([["adhere-color-primary",{value:"#2480ff"}],["adhere-box-shadow-primary",{value:"rgba(0, 0, 0, 0.15) 0 0 10px"}],["adhere-color-text-base",{value:"#000",mapToken:new Map([["adhere-color-text",{alpha:"0.88"}],["adhere-color-text-secondary",{alpha:"0.65"}],["adhere-color-text-tertiary",{alpha:"0.45"}],["adhere-color-text-quaternary",{alpha:"0.25"}]])}],["adhere-color-bg-base",{value:"#fff"}],["adhere-color-border-base",{value:"#d9d9d9"}],["adhere-color-split-base",{value:"#f0f0f0"}],["adhere-font-size-base",{value:"14px",mapToken:new Map([["adhere-font-size-lg",{calc:"+ 2px"}],["adhere-font-size-sm",{calc:"- 2px"}],["adhere-font-size-xl",{calc:"+ 6px"}]])}],["adhere-z-index-max-base",{value:"1999"}],["adhere-border-radius-base",{value:"6px"}],["adhere-line-width",{value:"1px"}],["adhere-line-type",{value:"solid"}],["adhere-device-pixel-ratio",{value:window.devicePixelRatio}]]);function getValue(e,t){return null!=t&&t.isUseMedia&&"string"==typeof e&&e.endsWith("px")?e.split(/\s+/gim).map(function(e){var a;return e.endsWith("px")?(a=parseFloat(e.replace("px","")),Util.pxToRem(a,null!=(a=t.designWidth)?a:192,t)):e}).join(" "):e}var init=function(e,n,c){void 0===n&&(n=document.documentElement);var i=document.documentElement,o={},d={},u=null!=e?e:{};Array.from(defaultThemeMap.keys()).forEach(function(t){var e,a=Util.toCamelCase(t,"-"),l=Util.toCamelCase(t,"-",!0),r=defaultThemeMap.get(t);Object.defineProperty(o,a,{set:function(e){var a,l=getValue(e,c),o=(n.style.setProperty("--".concat(t),"".concat(l)),i.style.getPropertyValue("--".concat(t))||i.style.setProperty("--".concat(t),"".concat(l)),tinyColor(l));o.isValid()&&(e=o.toRgb(),n.style.setProperty("--".concat(t,"-rgb"),"".concat([e.r,e.g,e.b].join(","))),i.style.getPropertyValue("--".concat(t,"-rgb"))||i.style.setProperty("--".concat(t,"-rgb"),"".concat([e.r,e.g,e.b].join(",")))),null!=r&&r.mapToken&&null!=(e=null==(a=Array.from(null==(a=null==(e=null==r?void 0:r.mapToken)?void 0:e.keys)?void 0:a.call(e)))?void 0:a.forEach)&&e.call(a,function(e){var a,t=null==(t=null==(a=null==r?void 0:r.mapToken)?void 0:a.get)?void 0:t.call(a,e);null!=t&&t.alpha&&(o.setAlpha(Number.parseFloat(null==t?void 0:t.alpha)),n.style.setProperty("--".concat(e),o.toPercentageRgbString()),i.style.getPropertyValue("--".concat(e))||i.style.setProperty("--".concat(e),o.toPercentageRgbString())),t.calc&&(a=getValue(t.calc,c),n.style.setProperty("--".concat(e),"calc(".concat(l," ").concat(a,")")),i.style.getPropertyValue("--".concat(e))||i.style.setProperty("--".concat(e),"calc(".concat(l," ").concat(a,")")))})}}),d["set".concat(l)]=function(e){o[a]=e},d["get".concat(l)]=function(){return n.style.getPropertyValue("--".concat(t))},null!=(e=null==d?void 0:d["set".concat(l)])&&e.call(d,null!=(e=u[Util.lowercaseInitial(l.substring(l.indexOf("Adhere")+"Adhere".length))])?e:null==(l=defaultThemeMap.get(t))?void 0:l.value)})};export default init;
//# sourceMappingURL=index.js.map
