{"version":3,"file":"index.js","sources":["index.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tinycolor2_1 = __importDefault(require(\"tinycolor2\"));\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\nvar defaultThemeMap = new Map([\n    // 品牌颜色\n    [\n        'adhere-color-primary',\n        {\n            value: '#2480ff',\n        },\n    ],\n    // 主文字颜色\n    [\n        'adhere-color-text-base',\n        {\n            value: '#000',\n            mapToken: new Map([\n                // 最深的文本色\n                ['adhere-color-text', { alpha: '0.88' }],\n                // 第二级文本\n                ['adhere-color-text-secondary', { alpha: '0.65' }],\n                // 第三级文本\n                ['adhere-color-text-tertiary', { alpha: '0.45' }],\n                // 第四级\n                ['adhere-color-text-quaternary', { alpha: '0.25' }],\n            ]),\n        },\n    ],\n    // 主背景颜色\n    [\n        'adhere-color-bg-base',\n        {\n            value: '#fff',\n        },\n    ],\n    // 主边框颜色\n    [\n        'adhere-color-border-base',\n        {\n            value: '#d9d9d9',\n        },\n    ],\n    // 主分割线颜色\n    [\n        'adhere-color-split-base',\n        {\n            value: '#f0f0f0',\n        },\n    ],\n    // 主字体大小\n    [\n        'adhere-font-size-base',\n        {\n            value: '14px',\n            mapToken: new Map([\n                [\n                    'adhere-font-size-lg',\n                    {\n                        calc: ' + 2px',\n                    },\n                ],\n                [\n                    'adhere-font-size-sm',\n                    {\n                        calc: '- 2px',\n                    },\n                ],\n                [\n                    'adhere-font-size-xl',\n                    {\n                        calc: '+ 6px',\n                    },\n                ],\n            ]),\n        },\n    ],\n    // 主层级最大值\n    [\n        'adhere-z-index-max-base',\n        {\n            value: '1999',\n        },\n    ],\n    // 主圆角大小\n    [\n        'adhere-border-radius-base',\n        {\n            value: '6px',\n        },\n    ],\n    // 用于控制组件边框、分割线等的宽度\n    [\n        'adhere-line-width',\n        {\n            value: '1px',\n        },\n    ],\n    // 用于控制组件边框、分割线等的样式，默认是实线\n    [\n        'adhere-line-type',\n        {\n            value: 'solid',\n        },\n    ],\n]);\n// 当前变量\nvar cssVars = {};\nvar exportObj = {};\n(function () {\n    var keys = Array.from(defaultThemeMap.keys());\n    keys.forEach(function (varName) {\n        // 小写的驼峰\n        // 例子: adhereColorPrimary\n        var varCamelCaseName = adhere_util_1.default.toCamelCase(varName, '-');\n        // 大写的驼峰\n        // 例子: AdhereColorPrimary\n        var varUpperCamelCaseName = adhere_util_1.default.toCamelCase(varName, '-', true);\n        var entryValue = defaultThemeMap.get(varName);\n        // cssVars定义驼峰变量\n        Object.defineProperty(cssVars, varCamelCaseName, {\n            set: function (value) {\n                var _a, _b, _c, _d;\n                // --------------定义css变量 -------------\n                document.documentElement.style.setProperty(\"--\".concat(varName), value);\n                // 是颜色需要在定义一个-rgb的变量\n                var color = (0, tinycolor2_1.default)(value);\n                if (color.isValid()) {\n                    var rgb = color.toRgb();\n                    document.documentElement.style.setProperty(\"--\".concat(varName, \"-rgb\"), \"\".concat([rgb.r, rgb.g, rgb.b].join(',')));\n                }\n                // 处理mapToken\n                if (!(entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken))\n                    return;\n                (_d = (_c = Array.from((_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.keys) === null || _b === void 0 ? void 0 : _b.call(_a))) === null || _c === void 0 ? void 0 : _c.forEach) === null || _d === void 0 ? void 0 : _d.call(_c, function (mapTokenVarName) {\n                    var _a, _b;\n                    var mapTokenVEntryValue = (_b = (_a = entryValue === null || entryValue === void 0 ? void 0 : entryValue.mapToken) === null || _a === void 0 ? void 0 : _a.get) === null || _b === void 0 ? void 0 : _b.call(_a, mapTokenVarName);\n                    if (mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha) {\n                        color.setAlpha(Number.parseFloat(mapTokenVEntryValue === null || mapTokenVEntryValue === void 0 ? void 0 : mapTokenVEntryValue.alpha));\n                        document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), color.toPercentageRgbString());\n                    }\n                    if (mapTokenVEntryValue.calc) {\n                        document.documentElement.style.setProperty(\"--\".concat(mapTokenVarName), \"calc(\".concat(value, \" \").concat(mapTokenVEntryValue.calc, \")\"));\n                    }\n                });\n            },\n        });\n        // 定义导出变量\n        exportObj[\"set\".concat(varUpperCamelCaseName)] = function (value) {\n            cssVars[varCamelCaseName] = value;\n        };\n        // 定义导出变量\n        exportObj[\"get\".concat(varUpperCamelCaseName)] = function () {\n            return document.documentElement.style.getPropertyValue(\"--\".concat(varName));\n        };\n    });\n})();\n/**\n * theme\n * {\n *   colorPrimary\n * }\n * @param theme\n */\nexports.default = (function (theme) {\n    // primaryColor\n    // setAdherePrimaryColor(theme?.primaryColor ?? defaultTheme.primaryColor);\n    // setAdhereNormalColor(theme?.normalColor ?? defaultTheme.normalColor);\n    // setAdhereBlackColor(theme?.backColor ?? defaultTheme.blackColor);\n    // setAdhereBaseFontSize(theme?.baseFontSize ?? defaultTheme.baseFontSize);\n    // setAdhereSmallFontSize(theme?.smallFontSize ?? defaultTheme.smallFontSize);\n    // setAdhereCommonMaxZIndex(theme?.commonMaxZIndex ?? defaultTheme.commonMaxZIndex);\n    var curTheme = theme !== null && theme !== void 0 ? theme : {};\n    Array.from(defaultThemeMap.keys()).forEach(function (varName) {\n        // varName === adhere-color-primary\n        var _a, _b, _c;\n        // AdhereColorPrimary\n        var varCamelCaseName = adhere_util_1.default.toCamelCase(varName, '-', true);\n        // ColorPrimary\n        var inputName = adhere_util_1.default.lowercaseInitial(varCamelCaseName.substring(varCamelCaseName.indexOf('Adhere') + 'Adhere'.length));\n        (_a = exportObj === null || exportObj === void 0 ? void 0 : exportObj[\"set\".concat(varCamelCaseName)]) === null || _a === void 0 ? void 0 : _a.call(exportObj, (_b = curTheme[inputName]) !== null && _b !== void 0 ? _b : (_c = defaultThemeMap.get(varName)) === null || _c === void 0 ? void 0 : _c.value);\n    });\n});\n// export default exportObj;\n/* 全局的css Vars*/\n// const cssVars = {\n//   /**\n//    * 品牌主颜色\n//    * @param value\n//    */\n//   set adherePrimaryColor(value) {\n//     const _tinyColor = tinyColor(value);\n//     const rgb = _tinyColor.toRgb();\n//\n//     document.documentElement.style.setProperty('--adhere-primary-color', value);\n//     document.documentElement.style.setProperty(\n//       '--adhere-primary-color-rgb',\n//       `${[rgb.r, rgb.g, rgb.b].join(',')}`,\n//     );\n//   },\n//   /**\n//    * 缺省的颜色\n//    * @param value\n//    */\n//   set adhereNormalColor(value) {\n//     const _tinyColor = tinyColor(value);\n//     const rgb = _tinyColor.toRgb();\n//\n//     document.documentElement.style.setProperty('--adhere-normal-color', value);\n//     document.documentElement.style.setProperty(\n//       '--adhere-normal-color-rgb',\n//       `${[rgb.r, rgb.g, rgb.b].join(',')}`,\n//     );\n//   },\n//   /**\n//    * 黑色\n//    * @param value\n//    */\n//   set adhereBlackColor(value) {\n//     const _tinyColor = tinyColor(value);\n//     const rgb = _tinyColor.toRgb();\n//\n//     document.documentElement.style.setProperty('--adhere-black-color', value);\n//     document.documentElement.style.setProperty(\n//       '--adhere-black-color-rgb',\n//       `${[rgb.r, rgb.g, rgb.b].join(',')}`,\n//     );\n//\n//     /* 不可用颜色 */\n//     _tinyColor.setAlpha(0.25);\n//     document.documentElement.style.setProperty(\n//       '--adhere-disabled-color',\n//       _tinyColor.toPercentageRgbString(),\n//     );\n//\n//     /* 边框 */\n//     _tinyColor.setAlpha(0.1);\n//     document.documentElement.style.setProperty(\n//       '--adhere-border-color',\n//       _tinyColor.toPercentageRgbString(),\n//     );\n//   },\n//   /**\n//    * 缺省的文字大小\n//    * @param value\n//    */\n//   set adhereBaseFontSize(value) {\n//     /* 缺省的文字大小 */\n//     document.documentElement.style.setProperty('--adhere-base-font-size', value);\n//     /* 大文字 */\n//     document.documentElement.style.setProperty('--adhere-large-font-size', `calc(${value} + 2px)`);\n//   },\n//   /**\n//    * 小文字\n//    * @param value\n//    */\n//   set adhereSmallFontSize(value) {\n//     /* 小文字 */\n//     document.documentElement.style.setProperty('--adhere-small-font-size', value);\n//   },\n//   /**\n//    * 最大层级\n//    * @param value\n//    */\n//   set adhereCommonMaxZIndex(value) {\n//     /* 最大层级 */\n//     document.documentElement.style.setProperty('--adhere-common-max-zindex', value);\n//   },\n//   get adherePrimaryColor() {\n//     return document.documentElement.style.getPropertyValue('--adhere-primary-color');\n//   },\n//   get adhereNormalColor() {\n//     return document.documentElement.style.getPropertyValue('--adhere-normal-color');\n//   },\n//   get adhereBlackColor() {\n//     return document.documentElement.style.getPropertyValue('--adhere-black-color');\n//   },\n//   get adhereBaseFontSize() {\n//     return document.documentElement.style.getPropertyValue('--adhere-base-font-size');\n//   },\n//   get adhereSmallFontSize() {\n//     return document.documentElement.style.getPropertyValue('--adhere-small-font-size');\n//   },\n//   get adhereCommonMaxZIndex() {\n//     return document.documentElement.style.getPropertyValue('--adhere-common-max-zindex');\n//   },\n//   get adhereDisabledColor() {\n//     return document.documentElement.style.getPropertyValue('--adhere-disabled-color');\n//   },\n//   get adhereBorderColor() {\n//     return document.documentElement.style.getPropertyValue('--adhere-border-color');\n//   },\n//   get adhereLargeFontSize() {\n//     return document.documentElement.style.getPropertyValue('--adhere-large-font-size');\n//   },\n// };\n// export function setAdherePrimaryColor(color) {\n//   cssVars.adherePrimaryColor = color;\n// }\n// export function setAdhereNormalColor(color) {\n//   cssVars.adhereNormalColor = color;\n// }\n// export function setAdhereBlackColor(color) {\n//   cssVars.adhereBlackColor = color;\n// }\n// export function setAdhereBaseFontSize(color) {\n//   cssVars.adhereBaseFontSize = color;\n// }\n// export function setAdhereSmallFontSize(color) {\n//   cssVars.adhereSmallFontSize = color;\n// }\n// export function setAdhereCommonMaxZIndex(color) {\n//   cssVars.adhereCommonMaxZIndex = color;\n// }\n//\n// export function getAdherePrimaryColor() {\n//   return cssVars.adherePrimaryColor;\n// }\n// export function getAdhereNormalColor() {\n//   return cssVars.adhereNormalColor;\n// }\n// export function getAdhereBlackColor() {\n//   return cssVars.adhereBlackColor;\n// }\n// export function getAdhereBaseFontSize() {\n//   return cssVars.adhereBaseFontSize;\n// }\n// export function getAdhereSmallFontSize() {\n//   return cssVars.adhereSmallFontSize;\n// }\n// export function getAdhereCommonMaxZIndex() {\n//   return cssVars.adhereCommonMaxZIndex;\n// }\n// export function getAdhereDisabledColor() {\n//   return cssVars.adhereDisabledColor;\n// }\n// export function getAdhereBorderColor() {\n//   return cssVars.adhereBorderColor;\n// }\n// export function getAdhereLargeFontSize() {\n//   return cssVars.adhereLargeFontSize;\n// }\n//\n// export const init: (theme?: {\n//   primaryColor?: string;\n//   normalColor?: string;\n//   backColor?: string;\n//   baseColor?: string;\n//   baseFontSize?: string;\n//   smallFontSize?: string;\n//   commonMaxZIndex?: string;\n// }) => void = (theme) => {\n//   setAdherePrimaryColor(theme?.primaryColor ?? defaultTheme.primaryColor);\n//   setAdhereNormalColor(theme?.normalColor ?? defaultTheme.normalColor);\n//   setAdhereBlackColor(theme?.backColor ?? defaultTheme.blackColor);\n//   setAdhereBaseFontSize(theme?.baseFontSize ?? defaultTheme.baseFontSize);\n//   setAdhereSmallFontSize(theme?.smallFontSize ?? defaultTheme.smallFontSize);\n//   setAdhereCommonMaxZIndex(theme?.commonMaxZIndex ?? defaultTheme.commonMaxZIndex);\n// };\n"],"names":["__importDefault","this","mod","__esModule","default","tinycolor2_1","Object","defineProperty","exports","value","require","adhere_util_1","defaultThemeMap","Map","mapToken","alpha","calc","cssVars","exportObj","Array","from","keys","forEach","varName","varCamelCaseName","toCamelCase","varUpperCamelCaseName","entryValue","get","set","document","documentElement","style","setProperty","concat","_c","rgb","color","isValid","toRgb","r","g","b","join","_d","_b","_a","call","mapTokenVarName","mapTokenVEntryValue","setAlpha","Number","parseFloat","toPercentageRgbString","getPropertyValue","theme","curTheme","inputName","lowercaseInitial","substring","indexOf","length"],"mappings":"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"}