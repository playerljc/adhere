{"version":3,"file":"geometry.js","sources":["geometry.js"],"sourcesContent":["/**\r\n * 集合图形绘制\r\n */\r\nexport default {\r\n    /**\r\n     * drawStart - 绘制星\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     * @return IPoint []\r\n     */\r\n    drawStart: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var startCount = config.startCount;\r\n        var spend = 360 / startCount;\r\n        var min = 90 - spend;\r\n        var max = spend - min;\r\n        var center = config.center, outRadius = config.outRadius, innerRadius = config.innerRadius;\r\n        for (var i = 0; i < startCount; i++) {\r\n            ctx.lineTo(Math.cos(((min + i * spend) / 180) * Math.PI) * outRadius + center.x, -Math.sin(((min + i * spend) / 180) * Math.PI) * outRadius + center.y);\r\n            ctx.lineTo(Math.cos(((max + i * spend) / 180) * Math.PI) * innerRadius + center.x, -Math.sin(((max + i * spend) / 180) * Math.PI) * innerRadius + center.y);\r\n        }\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawSector - 扇形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawSector: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var center = config.center, radius = config.radius, angle1 = config.angle1, angle2 = config.angle2;\r\n        ctx.moveTo(center.x, center.y);\r\n        ctx.arc(center.x, center.y, radius, (angle1 * Math.PI) / 180, (angle2 * Math.PI) / 180, false);\r\n        ctx.closePath();\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawLeaf - n叶草\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawLeaf: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var n = config.n, center = config.center, size = config.size, length = config.length;\r\n        ctx.moveTo(center.x, center.y + size);\r\n        var degree = (2 * Math.PI) / n;\r\n        for (var i = 1; i < n + 1; i++) {\r\n            var cx1 = Math.sin((i - 1) * degree) * length + center.x;\r\n            var cy1 = Math.cos((i - 1) * degree) * length + center.y;\r\n            var cx2 = Math.sin(i * degree) * length + center.x;\r\n            var cy2 = Math.cos(i * degree) * length + center.y;\r\n            var x = Math.sin(i * degree) * size + center.x;\r\n            var y = Math.cos(i * degree) * size + center.y;\r\n            ctx.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\r\n            ctx.closePath();\r\n            onDraw(ctx);\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /**\r\n     * drawRegularPolygon - 正多边形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawRegularPolygon: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var n = config.n, center = config.center, size = config.size;\r\n        var degree = (2 * Math.PI) / n;\r\n        for (var i = 0; i < n; i++) {\r\n            var x = Math.cos(i * degree);\r\n            var y = Math.sin(i * degree);\r\n            ctx.lineTo(x * size + center.x, y * size + center.y);\r\n        }\r\n        ctx.closePath();\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawRadiusRect - 圆角矩形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawRadiusRect: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var leftTop = config.leftTop, width = config.width, height = config.height, radius = config.radius;\r\n        var prePoint;\r\n        // 圆角1\r\n        ctx.moveTo(leftTop.x, leftTop.y + radius);\r\n        ctx.arcTo(leftTop.x, leftTop.y, leftTop.x + radius, leftTop.y, radius);\r\n        // 直线1\r\n        ctx.lineTo(leftTop.x + width - radius, leftTop.y);\r\n        prePoint = { x: leftTop.x + width - radius, y: leftTop.y };\r\n        // 圆角2\r\n        ctx.arcTo(prePoint.x + radius, leftTop.y, prePoint.x + radius, leftTop.y + radius, radius);\r\n        prePoint = { x: prePoint.x + radius, y: leftTop.y + radius };\r\n        // 直线2\r\n        ctx.lineTo(prePoint.x, prePoint.y + (height - 2 * radius));\r\n        prePoint = { x: prePoint.x, y: prePoint.y + (height - 2 * radius) };\r\n        // 圆角3\r\n        ctx.arcTo(prePoint.x, prePoint.y + radius, prePoint.x - radius, prePoint.y + radius, radius);\r\n        prePoint = { x: prePoint.x - radius, y: prePoint.y + radius };\r\n        // 直线3\r\n        ctx.lineTo(prePoint.x - (width - 2 * radius), prePoint.y);\r\n        prePoint = { x: prePoint.x - (width - 2 * radius), y: prePoint.y };\r\n        // 圆角4\r\n        ctx.arcTo(prePoint.x - radius, prePoint.y, prePoint.x - radius, prePoint.y - radius, radius);\r\n        prePoint = { x: prePoint.x - radius, y: prePoint.y - radius };\r\n        // 直线4\r\n        ctx.lineTo(prePoint.x, prePoint.y - (height - radius * 2));\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n};\r\n"],"names":["drawStart","ctx","config","onDraw","save","beginPath","startCount","spend","min","max","center","outRadius","innerRadius","i","lineTo","Math","cos","PI","x","sin","y","restore","drawSector","radius","angle1","angle2","moveTo","arc","closePath","drawLeaf","n","size","length","degree","cx1","cy1","cx2","cy2","bezierCurveTo","drawRegularPolygon","drawRadiusRect","leftTop","width","height","arcTo","prePoint"],"mappings":"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"}