{"version":3,"file":"dom.js","sources":["dom.js"],"sourcesContent":["import ClientDetectionUtil from './clientDetection';\nvar eventListenerHandlers = new Map();\nexport default {\n    /**--------------------------dom-start-------------------------**/\n    /**\n     * isTextNode - 是否是文本节点\n     * @param el - Node\n     * @return {boolean}\n     */\n    isTextNode: function (el) {\n        return el.nodeType === Node.TEXT_NODE;\n    },\n    /**\n     * isCommentNode - 是否是注释节点\n     * @param el\n     * @return {boolean}\n     */\n    isCommentNode: function (el) {\n        return el.nodeType === Node.COMMENT_NODE;\n    },\n    /**\n     * isElementNode - 是否是元素节点\n     * @param el - Element\n     * @return {boolean}\n     */\n    isElementNode: function (el) {\n        return el.nodeType === Node.ELEMENT_NODE;\n    },\n    /**\n     * createElement - 根据html字符串创建dom\n     * @param htmlStr - string\n     * @return {Element}\n     */\n    createElement: function (htmlStr) {\n        var el = document.createElement('div');\n        el.innerHTML = htmlStr;\n        return el.firstElementChild;\n    },\n    /**\n     * getTopDom - 已target为开始向上查找元素\n     * @param {HtmlElement} target\n     * @param {string} selector\n     * @return {HtmlElement}\n     */\n    getTopDom: function (target, selector) {\n        if (!target || !selector)\n            return null;\n        if (target.className.indexOf(selector) !== -1) {\n            return target;\n        }\n        var parentDom = target;\n        while ((parentDom = parentDom.parentNode)) {\n            if (parentDom.className.indexOf(selector) !== -1) {\n                break;\n            }\n            else if (parentDom === document.body)\n                break;\n        }\n        if (parentDom) {\n            if (parentDom === document.body) {\n                return null;\n            }\n            else {\n                return parentDom;\n            }\n        }\n        else {\n            return null;\n        }\n    },\n    /**\n     * on - 注册事件\n     * @param el\n     * @param tag\n     * @param type\n     * @param handler\n     * @param capture\n     */\n    on: function (el, tag, type, handler, capture) {\n        var _a, _b, _c;\n        if (capture === void 0) { capture = false; }\n        var value = eventListenerHandlers.get(el);\n        if (!value) {\n            value = (_a = {},\n                _a[tag] = (_b = {},\n                    _b[type] = [],\n                    _b),\n                _a);\n            eventListenerHandlers.set(el, value);\n        }\n        var evtObj = value[tag];\n        if (!evtObj) {\n            evtObj = (_c = {},\n                _c[type] = [],\n                _c);\n            value[tag] = evtObj;\n        }\n        var handlers = evtObj[type];\n        if (!handlers) {\n            handlers = [];\n            evtObj[type] = handlers;\n        }\n        handlers.push(handler);\n        el.addEventListener(type, handler, capture);\n    },\n    /**\n     * off\n     * @param el\n     * @param tag\n     * @param type\n     * @param handler\n     */\n    off: function (el, tag, type, handler) {\n        if (tag && type && handler) {\n            var value = eventListenerHandlers.get(el);\n            if (value && value[tag] && value[tag][type]) {\n                var index = value[tag][type].indexOf(handler);\n                if (index !== -1) {\n                    value[tag][type].splice(index, 1);\n                }\n                // @ts-ignore\n                el.removeEventListener(type, handler);\n            }\n        }\n        else if (tag && type && !handler) {\n            var value = eventListenerHandlers.get(el);\n            if (value && value[tag] && value[tag][type]) {\n                value[tag][type].forEach(function (h) {\n                    el.removeEventListener(type, h);\n                });\n                value[tag][type] = [];\n            }\n        }\n        else if (tag && !type && !handler) {\n            var value = eventListenerHandlers.get(el);\n            if (value && value[tag]) {\n                var _loop_1 = function (t) {\n                    var h = value[tag][t];\n                    h.forEach(function (ih) {\n                        el.removeEventListener(t, ih);\n                    });\n                    value[tag][t] = [];\n                };\n                for (var t in value[tag]) {\n                    _loop_1(t);\n                }\n            }\n        }\n    },\n    /**\n     * addClass\n     * @param {HTMLElement} el\n     * @param {String} classes\n     */\n    addClass: function (el, classes) {\n        if (classes === void 0) { classes = ''; }\n        var classNames = classes.split(' ');\n        for (var i = 0; i < classNames.length; i++) {\n            el.classList.add(classNames[i]);\n        }\n    },\n    /**\n     * removeClass\n     * @param {HTMLElement} el\n     * @param {String} classes\n     */\n    removeClass: function (el, classes) {\n        if (classes === void 0) { classes = ''; }\n        var classNames = classes.split(' ');\n        for (var i = 0; i < classNames.length; i++) {\n            el.classList.remove(classNames[i]);\n        }\n    },\n    /**\n     * hasClass\n     * @param {HTMLElement} el\n     * @param {String} className\n     * @return {Boolean}\n     */\n    hasClass: function (el, className) {\n        return el.classList.contains(className);\n    },\n    /**\n     * DOM没有提供insertAfter()方法\n     * @param {HtmlElement} newElement\n     * @param {HtmlElement} targetElement\n     */\n    insertAfter: function (newElement, targetElement) {\n        var parent = targetElement.parentNode;\n        if (parent.lastChild === targetElement) {\n            // 如果最后的节点是目标元素，则直接添加。因为默认是最后\n            parent.appendChild(newElement);\n        }\n        else {\n            parent.insertBefore(newElement, targetElement.nextSibling);\n            // 如果不是，则插入在目标元素的下一个兄弟节点 的前面。也就是目标元素的后面\n        }\n    },\n    /**\n     * prepend\n     * @param el\n     * @param children\n     */\n    prepend: function (el, children) {\n        var childrenEl;\n        if (children instanceof String) {\n            childrenEl = this.createElement(children);\n        }\n        else {\n            childrenEl = children;\n        }\n        var firstEl = el.firstChild;\n        el.insertBefore(childrenEl, firstEl);\n    },\n    /**\n     * remove\n     * @param el\n     */\n    remove: function (el) {\n        el.parentNode.removeChild(el);\n    },\n    /**\n     * getParentElementByTag\n     * @param {HtmlElement} el\n     * @param {string} tag\n     * @return {HtmlElement}\n     */\n    getParentElementByTag: function (el, tag) {\n        if (!tag)\n            return null;\n        var element;\n        var parent = el;\n        var popup = function () {\n            parent = parent.parentElement;\n            if (!parent)\n                return null;\n            var tagParent = parent.tagName.toLocaleLowerCase();\n            if (tagParent === tag) {\n                element = parent;\n            }\n            else if (tagParent === 'body') {\n                element = null;\n            }\n            else {\n                popup();\n            }\n        };\n        popup();\n        return element;\n    },\n    /**\n     * children\n     * @param {HTMLElement} el\n     * @param {string} selector\n     */\n    children: function (el, selector) {\n        var elements = Array.prototype.filter.call(el.children, function (t) {\n            return t.nodeType === 1;\n        });\n        return elements.filter(function (t) {\n            return t.classList.contains(selector);\n        });\n    },\n    /**\n     * isTouch\n     * @return {boolean}\n     */\n    isTouch: function () {\n        return 'ontouchend' in document;\n    },\n    /**\n     * objectToDataSet\n     * @param obj\n     * @param dom\n     */\n    objectToDataSet: function (obj, dom) {\n        for (var p in obj) {\n            dom.dataset[p] = obj[p];\n        }\n    },\n    /**\n     * dataSetToObj\n     * @returns {Object}\n     * @param dom\n     */\n    dataSetToObject: function (dom) {\n        var obj = {};\n        for (var p in dom.dataset) {\n            obj[p] = dom.dataset[p];\n        }\n        return obj;\n    },\n    /**\n     * getPageLeft - 获取指定元素距离视口的left\n     * @return {SelectOptions}\n     * @param el\n     */\n    getPageLeft: function (el) {\n        var left = el.offsetLeft;\n        var offsetParent = el.offsetParent;\n        do {\n            left += offsetParent.offsetLeft;\n        } while (!!(offsetParent = offsetParent.offsetParent));\n        return left;\n    },\n    /**\n     * getPageTop - 获取指定元素距离视口的top\n     * @return {SelectOptions}\n     * @param el\n     */\n    getPageTop: function (el) {\n        var top = el.offsetTop;\n        var offsetParent = el.offsetParent;\n        do {\n            top += offsetParent.offsetTop;\n        } while (!!(offsetParent = offsetParent.offsetParent));\n        return top;\n    },\n    /**\n     * getPageRect - 获取元素距离视口的Rect\n     * @return {{top: number, left: number}}\n     * @param el\n     */\n    getPageRect: function (el) {\n        var top = el.offsetTop;\n        var left = el.offsetLeft;\n        var offsetParent = el.offsetParent;\n        do {\n            top += offsetParent.offsetTop;\n            left += offsetParent.offsetLeft;\n        } while (!!(offsetParent = offsetParent.offsetParent));\n        return {\n            top: top,\n            bottom: top + el.offsetHeight,\n            left: left,\n            right: left + el.offsetWidth,\n        };\n    },\n    /**\n     * getLeftUntil\n     * @description - 获取left直到untilEl\n     * @param el\n     * @param untilEl\n     */\n    getLeftUntil: function (_a) {\n        var el = _a.el, untilEl = _a.untilEl;\n        var left = el.offsetLeft;\n        var offsetParent = el.offsetParent;\n        while (untilEl !== offsetParent) {\n            left += offsetParent.offsetLeft;\n            offsetParent = offsetParent.offsetParent;\n        }\n        return left;\n    },\n    /**\n     * getTopUntil\n     * @description - 获取top直到untilEl\n     * @param el\n     * @param untilEl\n     */\n    getTopUntil: function (_a) {\n        var el = _a.el, untilEl = _a.untilEl;\n        var top = el.offsetTop;\n        var offsetParent = el.offsetParent;\n        while (untilEl !== offsetParent) {\n            top += offsetParent.offsetTop;\n            offsetParent = offsetParent.offsetParent;\n        }\n        return top;\n    },\n    /**\n     * getRectUntil\n     * @description - 获取Rect直到untilEl\n     * @param el\n     * @param untilEl\n     */\n    getRectUntil: function (_a) {\n        var el = _a.el, untilEl = _a.untilEl;\n        var top = el.offsetTop;\n        var left = el.offsetLeft;\n        var offsetParent = el.offsetParent;\n        while (untilEl !== offsetParent) {\n            top += offsetParent.offsetTop;\n            left += offsetParent.offsetLeft;\n            offsetParent = offsetParent.offsetParent;\n        }\n        return {\n            top: top,\n            bottom: top + el.offsetHeight,\n            left: left,\n            right: left + el.offsetWidth,\n        };\n    },\n    /**\n     * isIframeEmbed - 是否是iframe嵌入\n     * @return {boolean}\n     */\n    isIframeEmbed: function () {\n        return typeof window === 'undefined' ? false : window.top && window.top !== window;\n    },\n    /**\n     * addClickListener - 支持PC和移动端的点击事件\n     * @param el\n     * @param handler\n     * @param capture\n     */\n    addClickListener: (function () {\n        return function (el, handler, capture) {\n            var isStart = false;\n            var isMove = false;\n            var startTime = 0;\n            var endTime = 0;\n            var handlers = Array();\n            // 如果是移动端浏览器\n            if (ClientDetectionUtil.isTouch()) {\n                var touchStartHandler = function () {\n                    isStart = true;\n                    startTime = new Date().getTime();\n                };\n                var touchMoveHandler = function () {\n                    isMove = true;\n                };\n                var touchEndHandler = function (e) {\n                    endTime = new Date().getTime();\n                    var step = endTime - startTime;\n                    if ((isStart && !isMove) || (isStart && isMove && step <= 200) /*事件少于200ms*/) {\n                        // 命中\n                        handler(e);\n                    }\n                };\n                handlers.push({\n                    type: 'touchstart',\n                    handler: touchStartHandler,\n                });\n                handlers.push({\n                    type: 'touchmove',\n                    handler: touchMoveHandler,\n                });\n                handlers.push({\n                    type: 'touchend',\n                    handler: touchEndHandler,\n                });\n                el.addEventListener('touchstart', touchStartHandler, capture || false);\n                el.addEventListener('touchmove', touchMoveHandler, capture || false);\n                el.addEventListener('touchend', touchEndHandler, capture || false);\n            }\n            // 是PC端浏览器\n            else {\n                var clickHandler = function (e) {\n                    handler(e);\n                };\n                handlers.push({\n                    type: 'click',\n                    handler: clickHandler,\n                });\n                el.addEventListener('click', clickHandler, capture || false);\n            }\n            return function () {\n                handlers.forEach(function (_a) {\n                    var type = _a.type, handler = _a.handler;\n                    // @ts-ignore\n                    el.removeEventListener(type, handler);\n                });\n            };\n        };\n    })(),\n    /**\n     * clickInRange\n     * @description 再点击区域内执行点击操作，超出的区域执行bodyClickHandler的操作\n     * @param params\n     * @return Function\n     */\n    clickInRange: function (params) {\n        function onRootClick(e) {\n            e.stopPropagation();\n        }\n        function onBodyClickHandler() {\n            if (params.bodyClickHandler) {\n                params.bodyClickHandler();\n            }\n        }\n        params.rootEl.addEventListener('click', onRootClick);\n        document.body.addEventListener('click', onBodyClickHandler);\n        return function () {\n            params.rootEl.removeEventListener('click', onRootClick);\n            document.body.removeEventListener('click', onBodyClickHandler);\n        };\n    },\n    /**\n     * includeHTML\n     * @description 使用ajax方式引入html\n     */\n    includeHTML: function () {\n        var _self = this;\n        /* Loop through a collection of all HTML elements: */\n        var allEls = document.getElementsByTagName('*');\n        var _loop_2 = function (i) {\n            var el = allEls[i];\n            /*search for elements with a certain atrribute:*/\n            var file = el.getAttribute('w3-include-html');\n            if (file) {\n                /* Make an HTTP request using the attribute value as the file name: */\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState == 4) {\n                        if (this.status == 200) {\n                            el.innerHTML = this.responseText;\n                        }\n                        if (this.status == 404) {\n                            el.innerHTML = 'Page not found.';\n                        }\n                        /* Remove the attribute, and call this function once more: */\n                        el.removeAttribute('w3-include-html');\n                        _self.includeHTML();\n                    }\n                };\n                xhr.open('GET', file, true);\n                xhr.send();\n                return { value: void 0 };\n            }\n        };\n        for (var i = 0; i < allEls.length; i++) {\n            var state_1 = _loop_2(i);\n            if (typeof state_1 === \"object\")\n                return state_1.value;\n        }\n    },\n    /**--------------------------dom-end-------------------------**/\n};\n"],"names":["ClientDetectionUtil","eventListenerHandlers","Map","isTextNode","el","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","isElementNode","ELEMENT_NODE","createElement","htmlStr","document","innerHTML","firstElementChild","getTopDom","target","selector","className","indexOf","parentDom","parentNode","body","on","tag","type","handler","capture","value","get","evtObj","_a","_b","set","handlers","_c","push","addEventListener","off","index","splice","removeEventListener","forEach","h","t","_loop_1","ih","addClass","classes","classNames","split","i","length","classList","add","removeClass","remove","hasClass","contains","insertAfter","newElement","targetElement","parent","lastChild","appendChild","insertBefore","nextSibling","prepend","children","childrenEl","String","this","firstEl","firstChild","removeChild","getParentElementByTag","element","popup","parentElement","tagParent","tagName","toLocaleLowerCase","Array","prototype","filter","call","isTouch","objectToDataSet","obj","dom","p","dataset","dataSetToObject","getPageLeft","left","offsetLeft","offsetParent","getPageTop","top","offsetTop","getPageRect","bottom","offsetHeight","right","offsetWidth","getLeftUntil","untilEl","getTopUntil","getRectUntil","isIframeEmbed","window","addClickListener","endTime","touchMoveHandler","touchEndHandler","clickHandler","isStart","isMove","startTime","e","Date","getTime","touchStartHandler","clickInRange","params","onRootClick","stopPropagation","onBodyClickHandler","bodyClickHandler","rootEl","includeHTML","_self","allEls","getElementsByTagName","state_1","xhr","file","getAttribute","XMLHttpRequest","onreadystatechange","readyState","status","responseText","removeAttribute","open","send"],"mappings":"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"}