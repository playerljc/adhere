var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var t,n=1,e=arguments.length;n<e;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}).apply(this,arguments)},__rest=this&&this.__rest||function(r,t){var n={};for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(n[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,i=Object.getOwnPropertySymbols(r);e<i.length;e++)t.indexOf(i[e])<0&&Object.prototype.propertyIsEnumerable.call(r,i[e])&&(n[i[e]]=r[i[e]]);return n},__spreadArrays=this&&this.__spreadArrays||function(){for(var r=0,t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;for(var e=Array(r),i=0,t=0;t<n;t++)for(var a=arguments[t],o=0,f=a.length;o<f;o++,i++)e[i]=a[o];return e};export default{treeToArray:function(r,t){var f=t.parentIdAttr,t=t.rootParentId,s=[];return function r(t,n,e){for(var i,a=0;a<n.length;a++){var o=n[a];s.push(__assign(__assign({},o.properties),((i={})[f]=e,i))),o.children&&Array.isArray(o.children)&&o.children.length&&r(t,o.children,o.key)}}(s,r,t),s},arrayToAntdTree:function(n,r){var e=r.keyAttr,i=r.titleAttr,t=r.rootParentId,a=r.parentIdAttr;function o(r,t){return r.filter(function(r){return r[a]==t}).map(function(r){return __assign(__assign({},r),{title:r[i],key:r[e],children:[],properties:__assign({},r),isLeaf:!0})})}t=o(n,t);return t.forEach(function(r){!function t(r){r.children=o(n,r.properties[e]),r.isLeaf=!r.children.length,r.isLeaf&&delete r.children,(r.children||[]).forEach(function(r){t(r)})}(r)}),t},arrayToAntdTreeSelect:function(n,r){var e=r.keyAttr,i=r.titleAttr,t=r.rootParentId,a=r.parentIdAttr;function o(r,t){return r.filter(function(r){return r[a]==t}).map(function(r){return __assign(__assign({},r),{title:r[i],key:r[e],value:r[e],children:[],properties:__assign({},r),isLeaf:!0})})}t=o(n,t);return t.forEach(function(r){!function t(r){r.children=o(n,r.properties[e]),r.isLeaf=!r.children.length,r.isLeaf&&delete r.children,(r.children||[]).forEach(function(r){t(r)})}(r)}),t},getAncestor:function(r,t,n){for(var e=[],i=t;i&&i[n.parentIdAttr]!=n.rootParentId;){var a=r.find(function(r){return r[n.keyAttr]===i[n.parentIdAttr]});a&&e.push(a),i=a}return e},getDescendants:function(r,t,e){var i=[];return function t(n){r.filter(function(r){return r[e.parentIdAttr]===n[e.keyAttr]}).forEach(function(r){i.push(r),t(r)})}(t),i},filterTree:function(n,t,e){var i=this,r=(e.filterAttr,__rest(e,["filterAttr"]));if(t){var a=new Set,o=n.filter(function(r){return-1!==r[e.filterAttr].indexOf(t)});return o.forEach(function(r){r=i.getAncestor(n,r,e),r=__spreadArrays(r||[]).map(function(r){return r[e.keyAttr]});a=new Set(__spreadArrays(Array.from(a),r))}),a=new Set(__spreadArrays(Array.from(a),o.map(function(r){return r[e.keyAttr]}))),this.arrayToAntdTree(__spreadArrays(Array.from(a)).map(function(t){return n.find(function(r){return r[e.keyAttr]===t})}),r)}return this.arrayToAntdTree(n,r)},findNodeByKey:function(r,i,a){return function r(t){for(var n,e=0;e<t.length;e++){if(t[e][a.keyAttr]===i){n=t[e];break}if("children"in t[e]&&Array.isArray(t[e].children)&&t[e].children.length&&(n=r(t[e].children)))break}return n}(r)},transformTreeData:function(r,i){return function(r){for(var t=[],n=0;n<r.length;n++){var e=r[n];t.push(i(e))}return t}(r)}};
//# sourceMappingURL=tree.js.map
