import ClientDetectionUtil from"./clientDetection";var eventListenerHandlers=new Map;export default{isTextNode:function(e){return e.nodeType===Node.TEXT_NODE},isCommentNode:function(e){return e.nodeType===Node.COMMENT_NODE},isElementNode:function(e){return e.nodeType===Node.ELEMENT_NODE},createElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},getTopDom:function(e,t){if(!e||!t)return null;if(-1!==e.className.indexOf(t))return e;for(var n=e;(n=n.parentNode)&&-1===n.className.indexOf(t)&&n!==document.body;);return!n||n===document.body?null:n},on:function(e,t,n,o,r){void 0===r&&(r=!1);var i=eventListenerHandlers.get(e),f=(i||((a={})[t]=((f={})[n]=[],f),i=a,eventListenerHandlers.set(e,i)),i[t]),a=(f||((a={})[n]=[],f=a,i[t]=f),f[n]);a||(f[n]=a=[]),a.push(o),e.addEventListener(n,o,r)},off:function(n,e,t,o){var r,i;if(e&&t&&o)(i=eventListenerHandlers.get(n))&&i[e]&&i[e][t]&&(-1!==(r=i[e][t].indexOf(o))&&i[e][t].splice(r,1),n.removeEventListener(t,o));else if(e&&t&&!o)(i=eventListenerHandlers.get(n))&&i[e]&&i[e][t]&&(i[e][t].forEach(function(e){n.removeEventListener(t,e)}),i[e][t]=[]);else if(e&&!t&&!o)if((i=eventListenerHandlers.get(n))&&i[e])for(var f in i[e])!function(t){i[e][t].forEach(function(e){n.removeEventListener(t,e)}),i[e][t]=[]}(f)},addClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),o=0;o<n.length;o++)e.classList.add(n[o])},removeClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),o=0;o<n.length;o++)e.classList.remove(n[o])},hasClass:function(e,t){return e.classList.contains(t)},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},prepend:function(e,t){var t=t instanceof String?this.createElement(t):t,n=e.firstChild;e.insertBefore(t,n)},remove:function(e){e.parentNode.removeChild(e)},getParentElementByTag:function(e,t){var n,o,r;return t?(o=e,(r=function(){if(!(o=o.parentElement))return null;var e=o.tagName.toLocaleLowerCase();e===t?n=o:"body"===e?n=null:r()})(),n):null},children:function(e,t){return Array.prototype.filter.call(e.children,function(e){return 1===e.nodeType}).filter(function(e){return e.classList.contains(t)})},isTouch:function(){return"ontouchend"in document},objectToDataSet:function(e,t){for(var n in e)t.dataset[n]=e[n]},dataSetToObject:function(e){var t,n={};for(t in e.dataset)n[t]=e.dataset[t];return n},getPageLeft:function(e){for(var t=e.offsetLeft,n=e.offsetParent;t+=n.offsetLeft,n=n.offsetParent;);return t},getPageTop:function(e){for(var t=e.offsetTop,n=e.offsetParent;t+=n.offsetTop,n=n.offsetParent;);return t},getPageRect:function(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetParent;t+=o.offsetTop,n+=o.offsetLeft,o=o.offsetParent;);return{top:t,bottom:t+e.offsetHeight,left:n,right:n+e.offsetWidth}},getLeftUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetLeft,r=t.offsetParent;n!==r;)o+=r.offsetLeft,r=r.offsetParent;return o},getTopUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetTop,r=t.offsetParent;n!==r;)o+=r.offsetTop,r=r.offsetParent;return o},getRectUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetTop,r=t.offsetLeft,i=t.offsetParent;n!==i;)o+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent;return{top:o,bottom:o+t.offsetHeight,left:r,right:r+t.offsetWidth}},isIframeEmbed:function(){return"undefined"!=typeof window&&window.top&&window.top!==window},addClickListener:function(n,t,e){var o,r,i,f,a=!1,s=!1,u=0,c=Array();return ClientDetectionUtil.isTouch()?(r=function(){s=!0},i=function(e){o=(new Date).getTime(),(a&&!s||a&&s&&o-u<=200)&&t(e)},c.push({type:"touchstart",handler:f=function(){a=!0,u=(new Date).getTime()}}),c.push({type:"touchmove",handler:r}),c.push({type:"touchend",handler:i}),n.addEventListener("touchstart",f,e||!1),n.addEventListener("touchmove",r,e||!1),n.addEventListener("touchend",i,e||!1)):(c.push({type:"click",handler:f=function(e){t(e)}}),n.addEventListener("click",f,e||!1)),function(){c.forEach(function(e){var t=e.type,e=e.handler;n.removeEventListener(t,e)})}},clickInRange:function(e){function t(e){e.stopPropagation()}function n(){e.bodyClickHandler&&e.bodyClickHandler()}return e.rootEl.addEventListener("click",t),document.body.addEventListener("click",n),function(){e.rootEl.removeEventListener("click",t),document.body.removeEventListener("click",n)}},includeHTML:function(){for(var o=this,r=document.getElementsByTagName("*"),e=0;e<r.length;e++){var t=function(e){var t,n=r[e],e=n.getAttribute("w3-include-html");if(e)return(t=new XMLHttpRequest).onreadystatechange=function(){4==this.readyState&&(200==this.status&&(n.innerHTML=this.responseText),404==this.status&&(n.innerHTML="Page not found."),n.removeAttribute("w3-include-html"),o.includeHTML())},t.open("GET",e,!0),t.send(),{value:void 0}}(e);if("object"==typeof t)return t.value}}};
//# sourceMappingURL=dom.js.map
