{"version":3,"file":"base.js","sources":["base.js"],"sourcesContent":["// 特殊符号\r\nvar SPECIAL_SYMBOL = '__';\r\n// 记录对象路径的变量\r\nvar PATH_SYMBOLS = [\r\n    SPECIAL_SYMBOL + \"parentName\" + SPECIAL_SYMBOL,\r\n    SPECIAL_SYMBOL + \"parent\" + SPECIAL_SYMBOL,\r\n];\r\nexport default {\r\n    /**----------------------------基本---------------------------**/\r\n    /**\r\n     * isEmpty - 对象是否为空\r\n     * @param value\r\n     */\r\n    isEmpty: function (value) {\r\n        return value === null || value === '' || value === undefined;\r\n    },\r\n    /**\r\n     * isNumber - 判断是否是number\r\n     * @param val\r\n     * @return {boolean}\r\n     */\r\n    isNumber: function (val) {\r\n        return (!this.isObject(val) && !this.isArray(val) && !this.isFunction(val) && typeof val === 'number');\r\n    },\r\n    /**\r\n     * isBoolean - 判断是否是boolean\r\n     * @param val\r\n     * @return {boolean}\r\n     */\r\n    isBoolean: function (val) {\r\n        return (typeof val).toLowerCase() === 'boolean';\r\n    },\r\n    /**\r\n     * isString - 判断是否是string\r\n     * @param val\r\n     * @return {boolean}\r\n     */\r\n    isString: function (val) {\r\n        return (typeof val).toLowerCase() === 'string';\r\n    },\r\n    /**\r\n     * isSymbol - 是否是符号类型\r\n     * @param val\r\n     * @return boolean\r\n     */\r\n    isSymbol: function (val) {\r\n        return (typeof val).toLowerCase() === 'symbol';\r\n    },\r\n    /**\r\n     * isPrimitive - 是否是基本类型\r\n     * @param val\r\n     */\r\n    isPrimitive: function (val) {\r\n        return this.isBoolean(val) || this.isNumber(val) || this.isString(val) || this.isSymbol(val);\r\n    },\r\n    /**\r\n     * isArray - 判断数组\r\n     * @param obj\r\n     * @return {boolean}\r\n     */\r\n    isArray: function (obj) {\r\n        return Array.isArray(obj);\r\n    },\r\n    /**\r\n     * isFunction - 判断函数\r\n     * @param obj\r\n     * @return {boolean}\r\n     */\r\n    isFunction: function (obj) {\r\n        return obj instanceof Function;\r\n    },\r\n    /**\r\n     * isObject - 是否是对象\r\n     * @param obj\r\n     * @return {boolean}\r\n     */\r\n    isObject: function (obj) {\r\n        return obj instanceof Object && !Array.isArray(obj) && !(obj instanceof Function);\r\n    },\r\n    /**\r\n     * isRef - 是否是引用类型\r\n     * @param obj\r\n     */\r\n    isRef: function (obj) {\r\n        return this.isArray(obj) || this.isObject(obj);\r\n    },\r\n    /**\r\n     * chainCallAssignment - 对象的链式赋值\r\n     * obj.a.b.c.d.x.x.x = value\r\n     * @param obj Object - 赋值的对象\r\n     * @param chainStr string - 属性链式表达式 a.b.c\r\n     * @param value any - 要复值的值\r\n     */\r\n    chainCallAssignment: function (_a) {\r\n        var obj = _a.obj, chainStr = _a.chainStr, value = _a.value;\r\n        if (!this.isObject(obj) ||\r\n            !this.isString(chainStr) ||\r\n            this.isEmpty(chainStr) ||\r\n            this.isEmpty(obj))\r\n            return false;\r\n        var chain = chainStr.split('.');\r\n        // const obj = {};\r\n        // a.b.c\r\n        // const item = obj['a']\r\n        var target = obj;\r\n        for (var i = 0; i < chain.length; i++) {\r\n            var property = chain[i];\r\n            if (i < chain.length - 1) {\r\n                target = target[property];\r\n            }\r\n            else {\r\n                target[property] = value;\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * getObjectByChainStr - 通过chainStr获取对象\r\n     * obj.a.b.c.d.x.x.x = value\r\n     * @param obj Object - 赋值的对象\r\n     * @param chainStr string - 属性链式表达式 a.b.c\r\n     * @return Object\r\n     */\r\n    getObjectByChainStr: function (_a) {\r\n        var obj = _a.obj, chainStr = _a.chainStr;\r\n        if (!this.isObject(obj) ||\r\n            !this.isString(chainStr) ||\r\n            this.isEmpty(chainStr) ||\r\n            this.isEmpty(obj))\r\n            return obj;\r\n        var chain = chainStr.split('.');\r\n        // const obj = {};\r\n        // a.b.c\r\n        // const item = obj['a']\r\n        var target = obj;\r\n        for (var i = 0; i < chain.length; i++) {\r\n            target = target[chain[i]];\r\n        }\r\n        return target;\r\n    },\r\n    /**\r\n     * toCamelCase - 用连接符链接的字符串转换成驼峰写法\r\n     * 例：abc-def AbcDef\r\n     * @param str - string 用连接符节点的字符串\r\n     * @param toUpperCase - boolean 是否转换成大写\r\n     * @return {String}\r\n     */\r\n    toCamelCase: function (str, toUpperCase) {\r\n        if (toUpperCase === void 0) { toUpperCase = false; }\r\n        var result = str\r\n            .split('-')\r\n            .map(function (item) { return item.charAt(0).toUpperCase() + item.substring(1); })\r\n            .join('');\r\n        return !toUpperCase ? \"\" + result.charAt(0).toLowerCase() + result.substring(1) : result;\r\n    },\r\n    /**\r\n     * isKebabCase - 是否是烤肉串形式的名字\r\n     * @param name - string 名称\r\n     * @return boolean\r\n     */\r\n    isKebabCase: function (name) {\r\n        return /^([a-z][a-z0-9]*)(-[a-z0-9]+)*$/.test(name);\r\n    },\r\n    /**\r\n     * isPascalCase - 是否是驼峰形式的名字\r\n     * @param name - string 名称\r\n     * @return boolean\r\n     */\r\n    isPascalCase: function (name) {\r\n        return /^[A-Z][a-z]+(?:[A-Z][a-z]+)*$/.test(name);\r\n    },\r\n    /**\r\n     * pascalCaseToKebabCase 驼峰转xxx-xxx-xxx\r\n     * @param name - string pascalCase的字符串\r\n     * @return {string}\r\n     */\r\n    pascalCaseToKebabCase: function (name) {\r\n        var result = name.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g, '$1-$2');\r\n        return (result.startsWith('-') ? result.substring(1) : result).toLowerCase();\r\n    },\r\n    /**\r\n     * execExpression - 执行表达式\r\n     * @param context - {Object} 执行的上下文\r\n     * @param expressionStr - {String} 表达式\r\n     * @param data\r\n     * @return {any}\r\n     */\r\n    execExpression: function (context, expressionStr, data) {\r\n        // 实参列表，调用函数传递的参数\r\n        var argv = [data];\r\n        // 形参列表，函数声明的参数列表\r\n        var parameters = ['context'];\r\n        // 迭代context\r\n        for (var p in context) {\r\n            // 拼凑其他实参\r\n            argv.push(context[p]);\r\n            // 拼凑其他形参\r\n            parameters.push(p);\r\n        }\r\n        // 创建函数并调用\r\n        return eval(\"\\n    const fun = new Function(\\n      `\" + parameters.join(',') + \"`,\\n      `return eval(\\\"with(context){\" + expressionStr + \"}\\\")`,\\n    );\\n  \\n    fun.apply(window, argv);\\n  \");\r\n    },\r\n    /**\r\n     * getCookie\r\n     * @return {string}\r\n     * @param name\r\n     */\r\n    getCookie: function (name) {\r\n        if (name === void 0) { name = 'lang'; }\r\n        var strCookie = typeof document !== 'undefined' ? document.cookie : ''; // 获取cookie字符串\r\n        var arrCookie = strCookie.split(';'); // 分割\r\n        // 遍历匹配\r\n        var value = '';\r\n        for (var i = 0; i < arrCookie.length; i++) {\r\n            var arr = arrCookie[i].split('=');\r\n            if (arr[0].trim() === name) {\r\n                value = arr[1];\r\n                break;\r\n            }\r\n        }\r\n        return value;\r\n    },\r\n    /**\r\n     * noop - 返回一个空实现的函数\r\n     * @return Function\r\n     */\r\n    noop: function () {\r\n        return function () { };\r\n    },\r\n    /**\r\n     * generatorRandom - 生成随机数\r\n     * @param lowerValue - 最小值\r\n     * @param upperValue - 最大值\r\n     */\r\n    generatorRandom: function (lowerValue, upperValue) {\r\n        var choices = upperValue - lowerValue + 1;\r\n        return Math.floor(Math.random() * choices + lowerValue);\r\n    },\r\n    /**\r\n     * uuid - 获取uuid\r\n     * @return string\r\n     */\r\n    uuid: function () {\r\n        var s = [];\r\n        var hexDigits = '0123456789abcdef';\r\n        for (var i = 0; i < 36; i++) {\r\n            // @ts-ignore\r\n            s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n        }\r\n        // @ts-ignore\r\n        s[14] = '4'; // bits 12-15 of the time_hi_and_version field to 0010\r\n        // @ts-ignore\r\n        s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1); // bits 6-7 of the clock_seq_hi_and_reserved to 01\r\n        // @ts-ignore\r\n        s[8] = s[13] = s[18] = s[23] = '-';\r\n        return s.join('');\r\n    },\r\n    /**\r\n     * getPropertyVisitPathStr - 获取属性访问的完整字符串路径 a.b.c.d.e.f\r\n     * @param target Proxy中set的target参数\r\n     * @param key Proxy中set的key参数\r\n     * @return {string}\r\n     */\r\n    getPropertyVisitPathStr: function (target, key) {\r\n        // 最终的访问路径 - 先将最后一个key放入\r\n        var visitPath = this.isArray(target) /* && key !== 'length' */ ? [] : [key];\r\n        if (target[PATH_SYMBOLS[0]]) {\r\n            visitPath.push(target[PATH_SYMBOLS[0]]);\r\n        }\r\n        var parent = target[PATH_SYMBOLS[1]];\r\n        while (parent) {\r\n            if (parent[PATH_SYMBOLS[0]]) {\r\n                visitPath.push(parent[PATH_SYMBOLS[0]]);\r\n            }\r\n            parent = parent[PATH_SYMBOLS[1]];\r\n        }\r\n        // [0] c b a\r\n        // a b c [0]\r\n        // a [0]\r\n        visitPath.reverse();\r\n        var result = [];\r\n        for (var i = 0; i < visitPath.length; i++) {\r\n            var item = visitPath[i];\r\n            if (item.startsWith('[') && item.endsWith(']')) {\r\n                // @ts-ignore\r\n                result[result.length - 1] = \"\" + result[result.length - 1] + item;\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                result.push(item);\r\n            }\r\n        }\r\n        return result.join('.');\r\n    },\r\n    /**\r\n     * convertBase64UrlToBlob - 转换base64位blob对象\r\n     * @return Blob\r\n     * @param data\r\n     */\r\n    convertBase64UrlToBlob: function (data) {\r\n        if (typeof window === 'undefined')\r\n            return null;\r\n        var bytes = window.atob(data.split(',')[1]); // 去掉url的头，并转换为byte\r\n        // 处理异常,将ascii码小于0的转换为大于0\r\n        var ab = new ArrayBuffer(bytes.length);\r\n        var ia = new Uint8Array(ab);\r\n        for (var i = 0; i < bytes.length; i++) {\r\n            ia[i] = bytes.charCodeAt(i);\r\n        }\r\n        return new Blob([ab], { type: 'image/png' });\r\n    },\r\n    /**\r\n     * omitObject\r\n     * @description - 对象排除空值\r\n     * @param obj\r\n     * @return object\r\n     */\r\n    omitObject: function (obj) {\r\n        obj = obj || {};\r\n        var res = {};\r\n        var keys = Object.keys(obj);\r\n        keys.forEach(function (key) {\r\n            var value = obj[key];\r\n            if (![null, undefined, '', 'undefined'].includes(value)) {\r\n                if (typeof value === 'string') {\r\n                    value = value.trim();\r\n                }\r\n                res[key] = value;\r\n            }\r\n        });\r\n        return res;\r\n    },\r\n};\r\n"],"names":["SPECIAL_SYMBOL","PATH_SYMBOLS","isEmpty","value","undefined","isNumber","val","this","isObject","isArray","isFunction","isBoolean","toLowerCase","isString","isSymbol","isPrimitive","obj","Array","Function","Object","isRef","chainCallAssignment","_a","chainStr","chain","split","target","i","length","property","getObjectByChainStr","toCamelCase","str","toUpperCase","result","map","item","charAt","substring","join","isKebabCase","name","test","isPascalCase","pascalCaseToKebabCase","replace","startsWith","execExpression","context","expressionStr","data","argv","parameters","p","push","eval","getCookie","arrCookie","document","cookie","arr","trim","noop","generatorRandom","lowerValue","upperValue","choices","Math","floor","random","uuid","s","hexDigits","substr","getPropertyVisitPathStr","key","visitPath","parent","reverse","endsWith","convertBase64UrlToBlob","window","bytes","atob","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","Blob","type","omitObject","res","keys","forEach","includes"],"mappings":"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"}