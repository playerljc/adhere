{"version":3,"file":"geometry.js","sources":["geometry.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * 集合图形绘制\r\n */\r\nexports.default = {\r\n    /**\r\n     * drawStart - 绘制星\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     * @return IPoint []\r\n     */\r\n    drawStart: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var startCount = config.startCount;\r\n        var spend = 360 / startCount;\r\n        var min = 90 - spend;\r\n        var max = spend - min;\r\n        var center = config.center, outRadius = config.outRadius, innerRadius = config.innerRadius;\r\n        for (var i = 0; i < startCount; i++) {\r\n            ctx.lineTo(Math.cos(((min + i * spend) / 180) * Math.PI) * outRadius + center.x, -Math.sin(((min + i * spend) / 180) * Math.PI) * outRadius + center.y);\r\n            ctx.lineTo(Math.cos(((max + i * spend) / 180) * Math.PI) * innerRadius + center.x, -Math.sin(((max + i * spend) / 180) * Math.PI) * innerRadius + center.y);\r\n        }\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawSector - 扇形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawSector: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var center = config.center, radius = config.radius, angle1 = config.angle1, angle2 = config.angle2;\r\n        ctx.moveTo(center.x, center.y);\r\n        ctx.arc(center.x, center.y, radius, (angle1 * Math.PI) / 180, (angle2 * Math.PI) / 180, false);\r\n        ctx.closePath();\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawLeaf - n叶草\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawLeaf: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var n = config.n, center = config.center, size = config.size, length = config.length;\r\n        ctx.moveTo(center.x, center.y + size);\r\n        var degree = (2 * Math.PI) / n;\r\n        for (var i = 1; i < n + 1; i++) {\r\n            var cx1 = Math.sin((i - 1) * degree) * length + center.x;\r\n            var cy1 = Math.cos((i - 1) * degree) * length + center.y;\r\n            var cx2 = Math.sin(i * degree) * length + center.x;\r\n            var cy2 = Math.cos(i * degree) * length + center.y;\r\n            var x = Math.sin(i * degree) * size + center.x;\r\n            var y = Math.cos(i * degree) * size + center.y;\r\n            ctx.bezierCurveTo(cx1, cy1, cx2, cy2, x, y);\r\n            ctx.closePath();\r\n            onDraw(ctx);\r\n            ctx.restore();\r\n        }\r\n    },\r\n    /**\r\n     * drawRegularPolygon - 正多边形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawRegularPolygon: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var n = config.n, center = config.center, size = config.size;\r\n        var degree = (2 * Math.PI) / n;\r\n        for (var i = 0; i < n; i++) {\r\n            var x = Math.cos(i * degree);\r\n            var y = Math.sin(i * degree);\r\n            ctx.lineTo(x * size + center.x, y * size + center.y);\r\n        }\r\n        ctx.closePath();\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n    /**\r\n     * drawRadiusRect - 圆角矩形\r\n     * @param ctx\r\n     * @param config\r\n     * @param onDraw\r\n     */\r\n    drawRadiusRect: function (ctx, config, onDraw) {\r\n        ctx.save();\r\n        ctx.beginPath();\r\n        var leftTop = config.leftTop, width = config.width, height = config.height, radius = config.radius;\r\n        var prePoint;\r\n        // 圆角1\r\n        ctx.moveTo(leftTop.x, leftTop.y + radius);\r\n        ctx.arcTo(leftTop.x, leftTop.y, leftTop.x + radius, leftTop.y, radius);\r\n        // 直线1\r\n        ctx.lineTo(leftTop.x + width - radius, leftTop.y);\r\n        prePoint = { x: leftTop.x + width - radius, y: leftTop.y };\r\n        // 圆角2\r\n        ctx.arcTo(prePoint.x + radius, leftTop.y, prePoint.x + radius, leftTop.y + radius, radius);\r\n        prePoint = { x: prePoint.x + radius, y: leftTop.y + radius };\r\n        // 直线2\r\n        ctx.lineTo(prePoint.x, prePoint.y + (height - 2 * radius));\r\n        prePoint = { x: prePoint.x, y: prePoint.y + (height - 2 * radius) };\r\n        // 圆角3\r\n        ctx.arcTo(prePoint.x, prePoint.y + radius, prePoint.x - radius, prePoint.y + radius, radius);\r\n        prePoint = { x: prePoint.x - radius, y: prePoint.y + radius };\r\n        // 直线3\r\n        ctx.lineTo(prePoint.x - (width - 2 * radius), prePoint.y);\r\n        prePoint = { x: prePoint.x - (width - 2 * radius), y: prePoint.y };\r\n        // 圆角4\r\n        ctx.arcTo(prePoint.x - radius, prePoint.y, prePoint.x - radius, prePoint.y - radius, radius);\r\n        prePoint = { x: prePoint.x - radius, y: prePoint.y - radius };\r\n        // 直线4\r\n        ctx.lineTo(prePoint.x, prePoint.y - (height - radius * 2));\r\n        onDraw(ctx);\r\n        ctx.restore();\r\n    },\r\n};\r\n"],"names":["Object","defineProperty","exports","value","default","drawStart","ctx","config","onDraw","save","beginPath","startCount","spend","min","max","center","outRadius","innerRadius","i","lineTo","Math","cos","PI","x","sin","y","restore","drawSector","radius","angle1","angle2","moveTo","arc","closePath","drawLeaf","n","size","length","degree","cx1","cy1","cx2","cy2","bezierCurveTo","drawRegularPolygon","drawRadiusRect","prePoint","leftTop","width","height","arcTo"],"mappings":"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"}