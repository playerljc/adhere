"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i]);return r}).apply(this,arguments)},__rest=this&&this.__rest||function(r,t){var e={};for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.indexOf(i)<0&&(e[i]=r[i]);if(null!=r&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(e[i[n]]=r[i[n]]);return e},__spreadArrays=this&&this.__spreadArrays||function(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var a=arguments[t],o=0,f=a.length;o<f;o++,i++)n[i]=a[o];return n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={treeToArray:function(r,t){var f=t.parentIdAttr,t=t.rootParentId,s=[];return function r(t,e,n){for(var i,a=0;a<e.length;a++){var o=e[a];s.push(__assign(__assign({},o.properties),((i={})[f]=n,i))),o.children&&Array.isArray(o.children)&&o.children.length&&r(t,o.children,o.key)}}(s,r,t),s},arrayToAntdTree:function(e,r){var n=r.keyAttr,i=r.titleAttr,t=r.rootParentId,a=r.parentIdAttr;function o(r,t){return r.filter(function(r){return r[a]==t}).map(function(r){return __assign(__assign({},r),{title:r[i],key:r[n],children:[],properties:__assign({},r),isLeaf:!0})})}t=o(e,t);return t.forEach(function(r){!function t(r){r.children=o(e,r.properties[n]),r.isLeaf=!r.children.length,r.isLeaf&&delete r.children,(r.children||[]).forEach(function(r){t(r)})}(r)}),t},arrayToAntdTreeSelect:function(e,r){var n=r.keyAttr,i=r.titleAttr,t=r.rootParentId,a=r.parentIdAttr;function o(r,t){return r.filter(function(r){return r[a]==t}).map(function(r){return __assign(__assign({},r),{title:r[i],key:r[n],value:r[n],children:[],properties:__assign({},r),isLeaf:!0})})}t=o(e,t);return t.forEach(function(r){!function t(r){r.children=o(e,r.properties[n]),r.isLeaf=!r.children.length,r.isLeaf&&delete r.children,(r.children||[]).forEach(function(r){t(r)})}(r)}),t},getAncestor:function(r,t,e){for(var n=[],i=t;i&&i[e.parentIdAttr]!=e.rootParentId;){var a=r.find(function(r){return r[e.keyAttr]===i[e.parentIdAttr]});a&&n.push(a),i=a}return n},getDescendants:function(r,t,n){var i=[];return function t(e){r.filter(function(r){return r[n.parentIdAttr]===e[n.keyAttr]}).forEach(function(r){i.push(r),t(r)})}(t),i},filterTree:function(e,t,n){var i=this,r=(n.filterAttr,__rest(n,["filterAttr"]));if(t){var a=new Set,o=e.filter(function(r){return-1!==r[n.filterAttr].indexOf(t)});return o.forEach(function(r){r=i.getAncestor(e,r,n),r=__spreadArrays(r||[]).map(function(r){return r[n.keyAttr]});a=new Set(__spreadArrays(Array.from(a),r))}),a=new Set(__spreadArrays(Array.from(a),o.map(function(r){return r[n.keyAttr]}))),this.arrayToAntdTree(__spreadArrays(Array.from(a)).map(function(t){return e.find(function(r){return r[n.keyAttr]===t})}),r)}return this.arrayToAntdTree(e,r)},findNodeByKey:function(r,i,a){return function r(t){for(var e,n=0;n<t.length;n++){if(t[n][a.keyAttr]===i){e=t[n];break}if("children"in t[n]&&Array.isArray(t[n].children)&&t[n].children.length&&(e=r(t[n].children)))break}return e}(r)},transformTreeData:function(r,i){return function(r){for(var t=[],e=0;e<r.length;e++){var n=r[e];t.push(i(n))}return t}(r)}};
//# sourceMappingURL=tree.js.map
