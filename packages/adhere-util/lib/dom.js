"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},clientDetection_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("./clientDetection"))),eventListenerHandlers=new Map;exports.default={isTextNode:function(e){return e.nodeType===Node.TEXT_NODE},isCommentNode:function(e){return e.nodeType===Node.COMMENT_NODE},isElementNode:function(e){return e.nodeType===Node.ELEMENT_NODE},createElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},getTopDom:function(e,t){if(!e||!t)return null;if(-1!==e.className.indexOf(t))return e;for(var n=e;(n=n.parentNode)&&-1===n.className.indexOf(t)&&n!==document.body;);return!n||n===document.body?null:n},on:function(e,t,n,o,r){void 0===r&&(r=!1);var f=eventListenerHandlers.get(e),i=(f||((s={})[t]=((i={})[n]=[],i),f=s,eventListenerHandlers.set(e,f)),f[t]),s=(i||((s={})[n]=[],i=s,f[t]=i),i[n]);s||(i[n]=s=[]),s.push(o),e.addEventListener(n,o,r)},off:function(n,e,t,o){var r,f;if(e&&t&&o)(f=eventListenerHandlers.get(n))&&f[e]&&f[e][t]&&(-1!==(r=f[e][t].indexOf(o))&&f[e][t].splice(r,1),n.removeEventListener(t,o));else if(e&&t&&!o)(f=eventListenerHandlers.get(n))&&f[e]&&f[e][t]&&(f[e][t].forEach(function(e){n.removeEventListener(t,e)}),f[e][t]=[]);else if(e&&!t&&!o)if((f=eventListenerHandlers.get(n))&&f[e])for(var i in f[e])!function(t){f[e][t].forEach(function(e){n.removeEventListener(t,e)}),f[e][t]=[]}(i)},addClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),o=0;o<n.length;o++)e.classList.add(n[o])},removeClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),o=0;o<n.length;o++)e.classList.remove(n[o])},hasClass:function(e,t){return e.classList.contains(t)},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},prepend:function(e,t){var t=t instanceof String?this.createElement(t):t,n=e.firstChild;e.insertBefore(t,n)},remove:function(e){e.parentNode.removeChild(e)},getParentElementByTag:function(e,t){var n,o,r;return t?(o=e,(r=function(){if(!(o=o.parentElement))return null;var e=o.tagName.toLocaleLowerCase();e===t?n=o:"body"===e?n=null:r()})(),n):null},children:function(e,t){return Array.prototype.filter.call(e.children,function(e){return 1===e.nodeType}).filter(function(e){return e.classList.contains(t)})},isTouch:function(){return"ontouchend"in document},objectToDataSet:function(e,t){for(var n in e)t.dataset[n]=e[n]},dataSetToObject:function(e){var t,n={};for(t in e.dataset)n[t]=e.dataset[t];return n},getPageLeft:function(e){for(var t=e.offsetLeft,n=e.offsetParent;t+=n.offsetLeft,n=n.offsetParent;);return t},getPageTop:function(e){for(var t=e.offsetTop,n=e.offsetParent;t+=n.offsetTop,n=n.offsetParent;);return t},getPageRect:function(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetParent;t+=o.offsetTop,n+=o.offsetLeft,o=o.offsetParent;);return{top:t,bottom:t+e.offsetHeight,left:n,right:n+e.offsetWidth}},getLeftUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetLeft,r=t.offsetParent;n!==r;)o+=r.offsetLeft,r=r.offsetParent;return o},getTopUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetTop,r=t.offsetParent;n!==r;)o+=r.offsetTop,r=r.offsetParent;return o},getRectUntil:function(e){for(var t=e.el,n=e.untilEl,o=t.offsetTop,r=t.offsetLeft,f=t.offsetParent;n!==f;)o+=f.offsetTop,r+=f.offsetLeft,f=f.offsetParent;return{top:o,bottom:o+t.offsetHeight,left:r,right:r+t.offsetWidth}},isIframeEmbed:function(){return"undefined"!=typeof window&&(window.top&&window.top!==window)},addClickListener:function(n,t,e){var o,r,f,i,s=!1,a=!1,u=0,c=Array();return clientDetection_1.default.isTouch()?(r=function(){a=!0},f=function(e){o=(new Date).getTime(),(s&&!a||s&&a&&o-u<=200)&&t(e)},c.push({type:"touchstart",handler:i=function(){s=!0,u=(new Date).getTime()}}),c.push({type:"touchmove",handler:r}),c.push({type:"touchend",handler:f}),n.addEventListener("touchstart",i,e||!1),n.addEventListener("touchmove",r,e||!1),n.addEventListener("touchend",f,e||!1)):(c.push({type:"click",handler:i=function(e){t(e)}}),n.addEventListener("click",i,e||!1)),function(){c.forEach(function(e){var t=e.type,e=e.handler;n.removeEventListener(t,e)})}}};
//# sourceMappingURL=dom.js.map
