"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var clientDetection_1=__importDefault(require("./clientDetection")),eventListenerHandlers=new Map;exports.default={isTextNode:function(e){return e.nodeType===Node.TEXT_NODE},isCommentNode:function(e){return e.nodeType===Node.COMMENT_NODE},isElementNode:function(e){return e.nodeType===Node.ELEMENT_NODE},createElement:function(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild},getTopDom:function(e,t){if(!e||!t)return null;if(-1!==e.className.indexOf(t))return e;for(var n=e;(n=n.parentNode)&&-1===n.className.indexOf(t)&&n!==document.body;);return!n||n===document.body?null:n},on:function(e,t,n,r,o){var i;void 0===o&&(o=!1);var f=eventListenerHandlers.get(e);f||((i={})[t]=((a={})[n]=[],a),f=i,eventListenerHandlers.set(e,f));var a=f[t];a||((i={})[n]=[],a=i,f[t]=a);t=a[n];t||(a[n]=t=[]),t.push(r),e.addEventListener(n,r,o)},off:function(n,e,t,r){var o,i;if(e&&t&&r)(i=eventListenerHandlers.get(n))&&i[e]&&i[e][t]&&(-1!==(o=i[e][t].indexOf(r))&&i[e][t].splice(o,1),n.removeEventListener(t,r));else if(e&&t&&!r)(i=eventListenerHandlers.get(n))&&i[e]&&i[e][t]&&(i[e][t].forEach(function(e){n.removeEventListener(t,e)}),i[e][t]=[]);else if(e&&!t&&!r)if((i=eventListenerHandlers.get(n))&&i[e])for(var f in i[e])!function(t){i[e][t].forEach(function(e){n.removeEventListener(t,e)}),i[e][t]=[]}(f)},addClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),r=0;r<n.length;r++)e.classList.add(n[r])},removeClass:function(e,t){for(var n=(t=void 0===t?"":t).split(" "),r=0;r<n.length;r++)e.classList.remove(n[r])},hasClass:function(e,t){return e.classList.contains(t)},insertAfter:function(e,t){var n=t.parentNode;n.lastChild===t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},prepend:function(e,t){var n=t instanceof String?this.createElement(t):t,t=e.firstChild;e.insertBefore(n,t)},remove:function(e){e.parentNode.removeChild(e)},getParentElementByTag:function(e,t){if(!t)return null;function n(){var e;(o=o.parentElement)&&((e=o.tagName.toLocaleLowerCase())===t?r=o:"body"===e?r=null:n())}var r,o=e;return n(),r},children:function(e,t){return Array.prototype.filter.call(e.children,function(e){return 1===e.nodeType}).filter(function(e){return e.classList.contains(t)})},isTouch:function(){return"ontouchend"in document},objectToDataSet:function(e,t){for(var n in e)t.dataset[n]=e[n]},dataSetToObject:function(e){var t,n={};for(t in e.dataset)n[t]=e.dataset[t];return n},getPageLeft:function(e){for(var t=e.offsetLeft,n=e.offsetParent;t+=n.offsetLeft,n=n.offsetParent;);return t},getPageTop:function(e){for(var t=e.offsetTop,n=e.offsetParent;t+=n.offsetTop,n=n.offsetParent;);return t},getPageRect:function(e){for(var t=e.offsetTop,n=e.offsetLeft,r=e.offsetParent;t+=r.offsetTop,n+=r.offsetLeft,r=r.offsetParent;);return{top:t,bottom:t+e.offsetHeight,left:n,right:n+e.offsetWidth}},isIframeEmbed:function(){return window.top&&window.top!==window},addClickListener:function(n,t,e){var r,o,i,f,a=!1,s=!1,u=0,c=Array();return clientDetection_1.default.isTouch()?(i=function(){s=!0},f=function(e){r=(new Date).getTime(),(a&&!s||a&&s&&r-u<=200)&&t(e)},c.push({type:"touchstart",handler:o=function(){a=!0,u=(new Date).getTime()}}),c.push({type:"touchmove",handler:i}),c.push({type:"touchend",handler:f}),n.addEventListener("touchstart",o,e||!1),n.addEventListener("touchmove",i,e||!1),n.addEventListener("touchend",f,e||!1)):(c.push({type:"click",handler:f=function(e){t(e)}}),n.addEventListener("click",f,e||!1)),function(){c.forEach(function(e){var t=e.type,e=e.handler;n.removeEventListener(t,e)})}}};
//# sourceMappingURL=dom.js.map
