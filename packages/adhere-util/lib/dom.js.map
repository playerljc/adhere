{"version":3,"file":"dom.js","sources":["dom.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar clientDetection_1 = __importDefault(require(\"./clientDetection\"));\r\nvar eventListenerHandlers = new Map();\r\nexports.default = {\r\n    /**--------------------------dom-start-------------------------**/\r\n    /**\r\n     * isTextNode - 是否是文本节点\r\n     * @param el - Node\r\n     * @return {boolean}\r\n     */\r\n    isTextNode: function (el) {\r\n        return el.nodeType === Node.TEXT_NODE;\r\n    },\r\n    /**\r\n     * isCommentNode - 是否是注释节点\r\n     * @param el\r\n     * @return {boolean}\r\n     */\r\n    isCommentNode: function (el) {\r\n        return el.nodeType === Node.COMMENT_NODE;\r\n    },\r\n    /**\r\n     * isElementNode - 是否是元素节点\r\n     * @param el - Element\r\n     * @return {boolean}\r\n     */\r\n    isElementNode: function (el) {\r\n        return el.nodeType === Node.ELEMENT_NODE;\r\n    },\r\n    /**\r\n     * createElement - 根据html字符串创建dom\r\n     * @param htmlStr - string\r\n     * @return {Element}\r\n     */\r\n    createElement: function (htmlStr) {\r\n        var el = document.createElement('div');\r\n        el.innerHTML = htmlStr;\r\n        return el.firstElementChild;\r\n    },\r\n    /**\r\n     * getTopDom - 已target为开始向上查找元素\r\n     * @param {HtmlElement} target\r\n     * @param {string} selector\r\n     * @return {HtmlElement}\r\n     */\r\n    getTopDom: function (target, selector) {\r\n        if (!target || !selector)\r\n            return null;\r\n        if (target.className.indexOf(selector) !== -1) {\r\n            return target;\r\n        }\r\n        var parentDom = target;\r\n        while ((parentDom = parentDom.parentNode)) {\r\n            if (parentDom.className.indexOf(selector) !== -1) {\r\n                break;\r\n            }\r\n            else if (parentDom === document.body)\r\n                break;\r\n        }\r\n        if (parentDom) {\r\n            if (parentDom === document.body) {\r\n                return null;\r\n            }\r\n            else {\r\n                return parentDom;\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    },\r\n    /**\r\n     * on - 注册事件\r\n     * @param el\r\n     * @param tag\r\n     * @param type\r\n     * @param handler\r\n     * @param capture\r\n     */\r\n    on: function (el, tag, type, handler, capture) {\r\n        var _a, _b, _c;\r\n        if (capture === void 0) { capture = false; }\r\n        var value = eventListenerHandlers.get(el);\r\n        if (!value) {\r\n            value = (_a = {},\r\n                _a[tag] = (_b = {},\r\n                    _b[type] = [],\r\n                    _b),\r\n                _a);\r\n            eventListenerHandlers.set(el, value);\r\n        }\r\n        var evtObj = value[tag];\r\n        if (!evtObj) {\r\n            evtObj = (_c = {},\r\n                _c[type] = [],\r\n                _c);\r\n            value[tag] = evtObj;\r\n        }\r\n        var handlers = evtObj[type];\r\n        if (!handlers) {\r\n            handlers = [];\r\n            evtObj[type] = handlers;\r\n        }\r\n        handlers.push(handler);\r\n        el.addEventListener(type, handler, capture);\r\n    },\r\n    /**\r\n     * off\r\n     * @param el\r\n     * @param tag\r\n     * @param type\r\n     * @param handler\r\n     */\r\n    off: function (el, tag, type, handler) {\r\n        if (tag && type && handler) {\r\n            var value = eventListenerHandlers.get(el);\r\n            if (value && value[tag] && value[tag][type]) {\r\n                var index = value[tag][type].indexOf(handler);\r\n                if (index !== -1) {\r\n                    value[tag][type].splice(index, 1);\r\n                }\r\n                // @ts-ignore\r\n                el.removeEventListener(type, handler);\r\n            }\r\n        }\r\n        else if (tag && type && !handler) {\r\n            var value = eventListenerHandlers.get(el);\r\n            if (value && value[tag] && value[tag][type]) {\r\n                value[tag][type].forEach(function (h) {\r\n                    el.removeEventListener(type, h);\r\n                });\r\n                value[tag][type] = [];\r\n            }\r\n        }\r\n        else if (tag && !type && !handler) {\r\n            var value = eventListenerHandlers.get(el);\r\n            if (value && value[tag]) {\r\n                var _loop_1 = function (t) {\r\n                    var h = value[tag][t];\r\n                    h.forEach(function (ih) {\r\n                        el.removeEventListener(t, ih);\r\n                    });\r\n                    value[tag][t] = [];\r\n                };\r\n                for (var t in value[tag]) {\r\n                    _loop_1(t);\r\n                }\r\n            }\r\n        }\r\n    },\r\n    /**\r\n     * addClass\r\n     * @param {HTMLElement} el\r\n     * @param {String} classes\r\n     */\r\n    addClass: function (el, classes) {\r\n        if (classes === void 0) { classes = ''; }\r\n        var classNames = classes.split(' ');\r\n        for (var i = 0; i < classNames.length; i++) {\r\n            el.classList.add(classNames[i]);\r\n        }\r\n    },\r\n    /**\r\n     * removeClass\r\n     * @param {HTMLElement} el\r\n     * @param {String} classes\r\n     */\r\n    removeClass: function (el, classes) {\r\n        if (classes === void 0) { classes = ''; }\r\n        var classNames = classes.split(' ');\r\n        for (var i = 0; i < classNames.length; i++) {\r\n            el.classList.remove(classNames[i]);\r\n        }\r\n    },\r\n    /**\r\n     * hasClass\r\n     * @param {HTMLElement} el\r\n     * @param {String} className\r\n     * @return {Boolean}\r\n     */\r\n    hasClass: function (el, className) {\r\n        return el.classList.contains(className);\r\n    },\r\n    /**\r\n     * DOM没有提供insertAfter()方法\r\n     * @param {HtmlElement} newElement\r\n     * @param {HtmlElement} targetElement\r\n     */\r\n    insertAfter: function (newElement, targetElement) {\r\n        var parent = targetElement.parentNode;\r\n        if (parent.lastChild === targetElement) {\r\n            // 如果最后的节点是目标元素，则直接添加。因为默认是最后\r\n            parent.appendChild(newElement);\r\n        }\r\n        else {\r\n            parent.insertBefore(newElement, targetElement.nextSibling);\r\n            // 如果不是，则插入在目标元素的下一个兄弟节点 的前面。也就是目标元素的后面\r\n        }\r\n    },\r\n    /**\r\n     * prepend\r\n     * @param el\r\n     * @param children\r\n     */\r\n    prepend: function (el, children) {\r\n        var childrenEl;\r\n        if (children instanceof String) {\r\n            childrenEl = this.createElement(children);\r\n        }\r\n        else {\r\n            childrenEl = children;\r\n        }\r\n        var firstEl = el.firstChild;\r\n        el.insertBefore(childrenEl, firstEl);\r\n    },\r\n    /**\r\n     * remove\r\n     * @param el\r\n     */\r\n    remove: function (el) {\r\n        el.parentNode.removeChild(el);\r\n    },\r\n    /**\r\n     * getParentElementByTag\r\n     * @param {HtmlElement} el\r\n     * @param {string} tag\r\n     * @return {HtmlElement}\r\n     */\r\n    getParentElementByTag: function (el, tag) {\r\n        if (!tag)\r\n            return null;\r\n        var element;\r\n        var parent = el;\r\n        var popup = function () {\r\n            parent = parent.parentElement;\r\n            if (!parent)\r\n                return null;\r\n            var tagParent = parent.tagName.toLocaleLowerCase();\r\n            if (tagParent === tag) {\r\n                element = parent;\r\n            }\r\n            else if (tagParent === 'body') {\r\n                element = null;\r\n            }\r\n            else {\r\n                popup();\r\n            }\r\n        };\r\n        popup();\r\n        return element;\r\n    },\r\n    /**\r\n     * children\r\n     * @param {HTMLElement} el\r\n     * @param {string} selector\r\n     */\r\n    children: function (el, selector) {\r\n        var elements = Array.prototype.filter.call(el.children, function (t) {\r\n            return t.nodeType === 1;\r\n        });\r\n        return elements.filter(function (t) {\r\n            return t.classList.contains(selector);\r\n        });\r\n    },\r\n    /**\r\n     * isTouch\r\n     * @return {boolean}\r\n     */\r\n    isTouch: function () {\r\n        return 'ontouchend' in document;\r\n    },\r\n    /**\r\n     * objectToDataSet\r\n     * @param obj\r\n     * @param dom\r\n     */\r\n    objectToDataSet: function (obj, dom) {\r\n        for (var p in obj) {\r\n            dom.dataset[p] = obj[p];\r\n        }\r\n    },\r\n    /**\r\n     * dataSetToObj\r\n     * @returns {Object}\r\n     * @param dom\r\n     */\r\n    dataSetToObject: function (dom) {\r\n        var obj = {};\r\n        for (var p in dom.dataset) {\r\n            obj[p] = dom.dataset[p];\r\n        }\r\n        return obj;\r\n    },\r\n    /**\r\n     * getPageLeft - 获取指定元素距离视口的left\r\n     * @return {SelectOptions}\r\n     * @param el\r\n     */\r\n    getPageLeft: function (el) {\r\n        var left = el.offsetLeft;\r\n        var offsetParent = el.offsetParent;\r\n        do {\r\n            left += offsetParent.offsetLeft;\r\n        } while (!!(offsetParent = offsetParent.offsetParent));\r\n        return left;\r\n    },\r\n    /**\r\n     * getPageTop - 获取指定元素距离视口的top\r\n     * @return {SelectOptions}\r\n     * @param el\r\n     */\r\n    getPageTop: function (el) {\r\n        var top = el.offsetTop;\r\n        var offsetParent = el.offsetParent;\r\n        do {\r\n            top += offsetParent.offsetTop;\r\n        } while (!!(offsetParent = offsetParent.offsetParent));\r\n        return top;\r\n    },\r\n    /**\r\n     * getPageRect - 获取元素距离视口的Rect\r\n     * @return {{top: number, left: number}}\r\n     * @param el\r\n     */\r\n    getPageRect: function (el) {\r\n        var top = el.offsetTop;\r\n        var left = el.offsetLeft;\r\n        var offsetParent = el.offsetParent;\r\n        do {\r\n            top += offsetParent.offsetTop;\r\n            left += offsetParent.offsetLeft;\r\n        } while (!!(offsetParent = offsetParent.offsetParent));\r\n        return {\r\n            top: top,\r\n            bottom: top + el.offsetHeight,\r\n            left: left,\r\n            right: left + el.offsetWidth,\r\n        };\r\n    },\r\n    /**\r\n     * getLeftUntil\r\n     * @description - 获取left直到untilEl\r\n     * @param el\r\n     * @param untilEl\r\n     */\r\n    getLeftUntil: function (_a) {\r\n        var el = _a.el, untilEl = _a.untilEl;\r\n        var left = el.offsetLeft;\r\n        var offsetParent = el.offsetParent;\r\n        while (untilEl !== offsetParent) {\r\n            left += offsetParent.offsetLeft;\r\n            offsetParent = offsetParent.offsetParent;\r\n        }\r\n        return left;\r\n    },\r\n    /**\r\n     * getTopUntil\r\n     * @description - 获取top直到untilEl\r\n     * @param el\r\n     * @param untilEl\r\n     */\r\n    getTopUntil: function (_a) {\r\n        var el = _a.el, untilEl = _a.untilEl;\r\n        var top = el.offsetTop;\r\n        var offsetParent = el.offsetParent;\r\n        while (untilEl !== offsetParent) {\r\n            top += offsetParent.offsetTop;\r\n            offsetParent = offsetParent.offsetParent;\r\n        }\r\n        return top;\r\n    },\r\n    /**\r\n     * getRectUntil\r\n     * @description - 获取Rect直到untilEl\r\n     * @param el\r\n     * @param untilEl\r\n     */\r\n    getRectUntil: function (_a) {\r\n        var el = _a.el, untilEl = _a.untilEl;\r\n        var top = el.offsetTop;\r\n        var left = el.offsetLeft;\r\n        var offsetParent = el.offsetParent;\r\n        while (untilEl !== offsetParent) {\r\n            top += offsetParent.offsetTop;\r\n            left += offsetParent.offsetLeft;\r\n            offsetParent = offsetParent.offsetParent;\r\n        }\r\n        return {\r\n            top: top,\r\n            bottom: top + el.offsetHeight,\r\n            left: left,\r\n            right: left + el.offsetWidth,\r\n        };\r\n    },\r\n    /**\r\n     * isIframeEmbed - 是否是iframe嵌入\r\n     * @return {boolean}\r\n     */\r\n    isIframeEmbed: function () {\r\n        return typeof window === 'undefined' ? false : window.top && window.top !== window;\r\n    },\r\n    /**\r\n     * addClickListener - 支持PC和移动端的点击事件\r\n     * @param el\r\n     * @param handler\r\n     * @param capture\r\n     */\r\n    addClickListener: (function () {\r\n        return function (el, handler, capture) {\r\n            var isStart = false;\r\n            var isMove = false;\r\n            var startTime = 0;\r\n            var endTime = 0;\r\n            var handlers = Array();\r\n            // 如果是移动端浏览器\r\n            if (clientDetection_1.default.isTouch()) {\r\n                var touchStartHandler = function () {\r\n                    isStart = true;\r\n                    startTime = new Date().getTime();\r\n                };\r\n                var touchMoveHandler = function () {\r\n                    isMove = true;\r\n                };\r\n                var touchEndHandler = function (e) {\r\n                    endTime = new Date().getTime();\r\n                    var step = endTime - startTime;\r\n                    if ((isStart && !isMove) || (isStart && isMove && step <= 200) /*事件少于200ms*/) {\r\n                        // 命中\r\n                        handler(e);\r\n                    }\r\n                };\r\n                handlers.push({\r\n                    type: 'touchstart',\r\n                    handler: touchStartHandler,\r\n                });\r\n                handlers.push({\r\n                    type: 'touchmove',\r\n                    handler: touchMoveHandler,\r\n                });\r\n                handlers.push({\r\n                    type: 'touchend',\r\n                    handler: touchEndHandler,\r\n                });\r\n                el.addEventListener('touchstart', touchStartHandler, capture || false);\r\n                el.addEventListener('touchmove', touchMoveHandler, capture || false);\r\n                el.addEventListener('touchend', touchEndHandler, capture || false);\r\n            }\r\n            // 是PC端浏览器\r\n            else {\r\n                var clickHandler = function (e) {\r\n                    handler(e);\r\n                };\r\n                handlers.push({\r\n                    type: 'click',\r\n                    handler: clickHandler,\r\n                });\r\n                el.addEventListener('click', clickHandler, capture || false);\r\n            }\r\n            return function () {\r\n                handlers.forEach(function (_a) {\r\n                    var type = _a.type, handler = _a.handler;\r\n                    // @ts-ignore\r\n                    el.removeEventListener(type, handler);\r\n                });\r\n            };\r\n        };\r\n    })(),\r\n    /**\r\n     * clickInRange\r\n     * @description 再点击区域内执行点击操作，超出的区域执行bodyClickHandler的操作\r\n     * @param params\r\n     * @return Function\r\n     */\r\n    clickInRange: function (params) {\r\n        function onRootClick(e) {\r\n            e.stopPropagation();\r\n        }\r\n        function onBodyClickHandler() {\r\n            if (params.bodyClickHandler) {\r\n                params.bodyClickHandler();\r\n            }\r\n        }\r\n        params.rootEl.addEventListener('click', onRootClick);\r\n        document.body.addEventListener('click', onBodyClickHandler);\r\n        return function () {\r\n            params.rootEl.removeEventListener('click', onRootClick);\r\n            document.body.removeEventListener('click', onBodyClickHandler);\r\n        };\r\n    },\r\n    /**--------------------------dom-end-------------------------**/\r\n};\r\n"],"names":["__importDefault","this","mod","__esModule","default","clientDetection_1","Object","defineProperty","exports","value","require","eventListenerHandlers","Map","isTextNode","el","nodeType","Node","TEXT_NODE","isCommentNode","COMMENT_NODE","isElementNode","ELEMENT_NODE","createElement","htmlStr","document","innerHTML","firstElementChild","getTopDom","target","selector","className","indexOf","parentDom","parentNode","body","on","tag","type","handler","capture","get","evtObj","_a","_b","set","handlers","_c","push","addEventListener","off","index","splice","removeEventListener","forEach","h","t","_loop_1","ih","addClass","classes","classNames","split","i","length","classList","add","removeClass","remove","hasClass","contains","insertAfter","newElement","targetElement","parent","lastChild","appendChild","insertBefore","nextSibling","prepend","children","childrenEl","String","firstEl","firstChild","removeChild","getParentElementByTag","element","popup","parentElement","tagParent","tagName","toLocaleLowerCase","Array","prototype","filter","call","isTouch","objectToDataSet","obj","dom","p","dataset","dataSetToObject","getPageLeft","left","offsetLeft","offsetParent","getPageTop","top","offsetTop","getPageRect","bottom","offsetHeight","right","offsetWidth","getLeftUntil","untilEl","getTopUntil","getRectUntil","isIframeEmbed","window","addClickListener","endTime","touchMoveHandler","touchEndHandler","clickHandler","isStart","isMove","startTime","e","Date","getTime","touchStartHandler","clickInRange","params","onRootClick","stopPropagation","onBodyClickHandler","bodyClickHandler","rootEl"],"mappings":"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"}