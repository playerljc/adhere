{"version":3,"file":"systemmanager.js","sources":["systemmanager.js"],"sourcesContent":["import Preferences from '@baifendian/adhere-util-preferences';\nimport Base from './base';\nexport default {\n    /**\n     * getLang\n     * @return {String}\n     */\n    getLang: function (defaultLocal) {\n        var language = Base.getCookie('lang') || Preferences.getStringByLocal('language');\n        if (!language) {\n            Preferences.putStringByLocal('language', defaultLocal !== null && defaultLocal !== void 0 ? defaultLocal : 'zh_CN');\n            language = defaultLocal !== null && defaultLocal !== void 0 ? defaultLocal : 'zh_CN';\n        }\n        return language;\n    },\n    /**\n     * setLang\n     * @param lang\n     */\n    setLang: function (lang) {\n        if (lang === void 0) { lang = 'zh_CN'; }\n        Preferences.putStringByLocal('language', lang);\n    },\n    /**\n     * getDatePickerFormat\n     * @return {string}\n     */\n    getDatePickerFormat: function () {\n        var lang = this.getLang();\n        if (lang === 'zh_CN') {\n            return 'YYYY-MM-DD';\n        }\n        else {\n            return 'DD-MM-YYYY';\n        }\n    },\n    /**\n     * 401 casUrl\n     * @param baseUrl\n     * @param enterUrl\n     * @param defaultLocal\n     * @return {string}\n     */\n    casUrl: function (_a) {\n        var baseUrl = _a.baseUrl, enterUrl = _a.enterUrl, defaultLocal = _a.defaultLocal;\n        var language = this.getLang(defaultLocal);\n        var languageParam = language ? \"&locale=\".concat(language) : '';\n        return \"\".concat(baseUrl, \"/gotoLogin?backUrl=\").concat(enterUrl).concat(languageParam);\n    },\n    /**\n     * casLogoutUrl\n     * @param {String} - baseUrl\n     * @param {String} - enterUrl\n     * @param {String} - params\n     * @return {string}\n     */\n    casLogoutUrl: function (_a) {\n        var baseUrl = _a.baseUrl, enterUrl = _a.enterUrl, _b = _a.params, params = _b === void 0 ? '' : _b;\n        return \"\".concat(baseUrl, \"/logout?service=\").concat(enterUrl).concat(params);\n    },\n};\n"],"names":["Preferences","Base","getLang","defaultLocal","language","getCookie","getStringByLocal","putStringByLocal","setLang","lang","getDatePickerFormat","this","casUrl","_a","baseUrl","enterUrl","languageParam","concat","casLogoutUrl","_b","params"],"mappings":"OAAOA,gBAAiB,6CACjBC,SAAU,uBACF,CAKXC,QAAS,SAAUC,GACf,IAAIC,EAAWH,KAAKI,UAAU,MAAM,GAAKL,YAAYM,iBAAiB,UAAU,EAKhF,OAJKF,IACDJ,YAAYO,iBAAiB,WAAYJ,MAAAA,EAAmDA,EAAe,OAAO,EAClHC,EAAWD,MAAAA,EAAmDA,EAAe,SAE1EC,CACX,EAKAI,QAAS,SAAUC,GAEfT,YAAYO,iBAAiB,WADNE,EAAV,KAAA,IAATA,EAA0B,QACWA,CAAI,CACjD,EAKAC,oBAAqB,WAEjB,MAAa,UADFC,KAAKT,QAAQ,EAEb,aAGA,YAEf,EAQAU,OAAQ,SAAUC,GACd,IAAIC,EAAUD,EAAGC,QAASC,EAAWF,EAAGE,SAAUZ,EAAeU,EAAGV,aAChEC,EAAWO,KAAKT,QAAQC,CAAY,EACpCa,EAAgBZ,EAAW,WAAWa,OAAOb,CAAQ,EAAI,GAC7D,MAAO,GAAGa,OAAOH,EAAS,qBAAqB,EAAEG,OAAOF,CAAQ,EAAEE,OAAOD,CAAa,CAC1F,EAQAE,aAAc,SAAUL,GACpB,IAAIC,EAAUD,EAAGC,QAASC,EAAWF,EAAGE,SAAUI,EAAKN,EAAGO,OAAQA,EAAgB,KAAA,IAAPD,EAAgB,GAAKA,EAChG,MAAO,GAAGF,OAAOH,EAAS,kBAAkB,EAAEG,OAAOF,CAAQ,EAAEE,OAAOG,CAAM,CAChF,CACJ"}