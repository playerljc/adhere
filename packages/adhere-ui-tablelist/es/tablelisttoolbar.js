import _SettingOutlined from"@ant-design/icons/es/icons/SettingOutlined";import _Popover from"antd/es/popover";import _ReloadOutlined from"@ant-design/icons/es/icons/ReloadOutlined";import _Checkbox from"antd/es/checkbox";import _Tooltip from"antd/es/tooltip";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};import React from"react";import{SortableContainer,SortableElement}from"react-sortable-hoc";import Intl from"@baifendian/adhere-util-intl";import{selectorPrefix}from"./tablelist";var ToolbarSelectAll=function(e){var t=e.selectAll,n=e.rowSelection,l=e.rowKey,o=e.dataSource,r=e.setSelectAll;return n?React.createElement(_Tooltip,__assign({title:Intl.v("全选"),placement:"top"},t),React.createElement(_Checkbox,{indeterminate:t.total&&n.selectAll?null==(e=null==(e=n.selectAll)?void 0:e.exceptKeys)?void 0:e.length:n.selectedRowKeys.length&&n.selectedRowKeys.length!==(null==o?void 0:o.length),checked:t.total&&n.selectAll?!(null!=(e=null==(e=n.selectAll)?void 0:e.exceptKeys)&&e.length):n.selectedRowKeys.length===(null==o?void 0:o.length),onChange:function(e){e.target.checked?n.onChange(o.map(function(e){return e[l]}),o):n.onChange([],[]),t.total&&r&&r(e.target.checked)}},t.title||Intl.v("全选"))):null},ToolbarReload=function(e){var t=e.reload,n=e.onSearch;return React.createElement(_Tooltip,__assign({title:Intl.v("刷新"),placement:"top"},t),t.render||React.createElement(_ReloadOutlined,{onClick:function(){return n()}}))},ToolbarSetting=function(e){var t=e.setting,n=e.tableColumns,l=e.onSettingChange,o=e.onSettingSortEnd,e=e.selectedColumnKeys,r=SortableElement(function(e){return React.createElement(_Checkbox,__assign({},e))}),a=SortableContainer(function(e){return React.createElement(_Checkbox.Group,__assign({},e))});return React.createElement(_Popover,__assign({title:React.createElement(function(e){var t=e.columns,n=void 0===t?[]:t,t=e.selectedColumnKeys,t=void 0===t?[]:t,l=e.onChange;return React.createElement(React.Fragment,null,React.createElement(_Checkbox,{indeterminate:0!==(null==t?void 0:t.length)&&(null==t?void 0:t.length)!==(null==n?void 0:n.length),checked:(null==t?void 0:t.length)===(null==n?void 0:n.length),onChange:function(e){return l(e.target.checked?n.map(function(e){return e.key}):[])}},Intl.v("列展示")))},{columns:n,onChange:l,selectedColumnKeys:e}),content:React.createElement(function(e){var t=e.columns,t=void 0===t?[]:t,n=e.selectedColumnKeys,n=void 0===n?[]:n,l=e.onChange,e=e.onSortEnd;return React.createElement(a,{helperClass:"".concat(selectorPrefix,"-set-dragging"),value:n,onChange:l,onSortEnd:e,distance:2},t.map(function(e,t){return React.createElement(r,{value:e.key,index:t,key:e.key},e.title)}))},{columns:n,onChange:l,onSortEnd:o,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:"".concat(selectorPrefix,"-settingOverlay")},t.Popover),React.createElement(_Tooltip,__assign({title:Intl.v("设置"),placement:"top"},t),t.render||React.createElement(_SettingOutlined,{type:"setting"})))};export{ToolbarSelectAll,ToolbarReload,ToolbarSetting};
//# sourceMappingURL=tablelisttoolbar.js.map
