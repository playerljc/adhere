import _Popover from"antd/es/popover";import _Checkbox from"antd/es/checkbox";import _Tooltip from"antd/es/tooltip";import"core-js/modules/es.array.map.js";import{__assign}from"tslib";import React from"react";import{ReloadOutlined,SettingOutlined}from"@ant-design/icons";import{SortableContainer,SortableElement}from"react-sortable-hoc";import intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-ui-tablelist",ToolbarSelectAll=function(e){var t,n=e.selectAll,l=e.rowSelection,o=e.rowKey,a=e.dataSource,r=e.setSelectAll;return l?React.createElement(_Tooltip,__assign({title:intl.v("全选"),placement:"top"},n),React.createElement(_Checkbox,{indeterminate:n.total&&l.selectAll?null===(t=null===(t=l.selectAll)||void 0===t?void 0:t.exceptKeys)||void 0===t?void 0:t.length:l.selectedRowKeys.length&&l.selectedRowKeys.length!==(null==a?void 0:a.length),checked:n.total&&l.selectAll?!(null!==(t=null===(t=l.selectAll)||void 0===t?void 0:t.exceptKeys)&&void 0!==t&&t.length):l.selectedRowKeys.length===(null==a?void 0:a.length),onChange:function(e){e.target.checked?l.onChange(a.map(function(e){return e[o]}),a):l.onChange([],[]),n.total&&r&&r(e.target.checked)}},n.title||intl.v("全选"))):null},ToolbarReload=function(e){var t=e.reload,n=e.onSearch;return React.createElement(_Tooltip,__assign({title:intl.v("刷新"),placement:"top"},t),t.render||React.createElement(ReloadOutlined,{onClick:function(){return n()}}))},ToolbarSetting=function(e){function t(e){var t=void 0===(n=e.columns)?[]:n,n=void 0===(n=e.selectedColumnKeys)?[]:n,l=e.onChange;return React.createElement(React.Fragment,null,React.createElement(_Checkbox,{indeterminate:0!==(null==n?void 0:n.length)&&(null==n?void 0:n.length)!==(null==t?void 0:t.length),checked:(null==n?void 0:n.length)===(null==t?void 0:t.length),onChange:function(e){return l(e.target.checked?t.map(function(e){return e.key}):[])}},intl.v("列展示")))}function n(e){var t=void 0===(n=e.columns)?[]:n,n=void 0===(l=e.selectedColumnKeys)?[]:l,l=e.onChange,e=e.onSortEnd;return React.createElement(i,{helperClass:"set-dragging",value:n,onChange:l,onSortEnd:e,distance:2},t.map(function(e,t){return React.createElement(c,{value:e.key,index:t,key:e.key},e.title)}))}var l=e.setting,o=e.tableColumns,a=e.onSettingChange,r=e.onSettingSortEnd,e=e.selectedColumnKeys,c=SortableElement(function(e){return React.createElement(_Checkbox,__assign({},e))}),i=SortableContainer(function(e){return React.createElement(_Checkbox.Group,__assign({},e))});return React.createElement(_Popover,__assign({title:React.createElement(t,{columns:o,onChange:a,selectedColumnKeys:e}),content:React.createElement(n,{columns:o,onChange:a,onSortEnd:r,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:"".concat(selectorPrefix,"-settingOverlay")},l.Popover),React.createElement(_Tooltip,__assign({title:intl.v("设置"),placement:"top"},l),l.render||React.createElement(SettingOutlined,{type:"setting"})))};export{ToolbarSelectAll,ToolbarReload,ToolbarSetting};
//# sourceMappingURL=tablelisttoolbar.js.map
