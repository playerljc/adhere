{"version":3,"file":"tablelist.js","sources":["tablelist.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport { Button, Checkbox, Form, List, Skeleton, Table } from 'antd';\r\nimport classNames from 'classnames';\r\nimport { cloneDeep } from 'lodash';\r\nimport React from 'react';\r\nimport FormItemCreator from '@baifendian/adhere-ui-formitemcreator';\r\nimport intl from '@baifendian/adhere-util-intl';\r\nimport SortableTable from './sortabletable';\r\nimport { ToolbarReload, ToolbarSelectAll, ToolbarSetting } from './tablelisttoolbar';\r\nimport Util from './util';\r\nexport var selectorPrefix = 'adhere-ui-tablelist';\r\nvar defaultRowKey = 'id';\r\n/**\r\n * Template\r\n * @class Template\r\n * @classdesc Template\r\n */\r\nvar TableList = /** @class */ (function (_super) {\r\n    __extends(TableList, _super);\r\n    function TableList(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /**\r\n         * toolbar: 标题，全选----刷新，搜索，设置\r\n         */\r\n        _this.renderToolbar = function () {\r\n            if (!_this.props.toolbar)\r\n                return;\r\n            var _a = _this.getModeProps(), dataSource = _a.dataSource, rowKey = _a.rowKey, pagination = _a.pagination;\r\n            var _b = _this.props.toolbar, className = _b.className, title = _b.title, total = _b.total, selectAll = _b.selectAll, search = _b.search, reload = _b.reload, setting = _b.setting, toolbarOptionRender = _b.toolbarOptionRender;\r\n            var _c = _this.state, selectedColumnKeys = _c.selectedColumnKeys, tableColumns = _c.tableColumns;\r\n            var rowSelection = _this.getRowSelection();\r\n            return (React.createElement(\"div\", { className: classNames(className, \"\".concat(selectorPrefix, \"-toolbar\")) },\r\n                React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-toolbar-left\") },\r\n                    title ? React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-toolbar-left-title\") }, title) : null,\r\n                    total ? (React.createElement(\"span\", { className: \"\".concat(selectorPrefix, \"-toolbar-left-total\") }, total === true\r\n                        ? intl.vHtml('共 <em>{n}</em> 条', { n: pagination && pagination.total })\r\n                        : total)) : null,\r\n                    // selectAll { total: 是否是选中全部数据，默认是当前页数据 }\r\n                    selectAll ? (React.createElement(ToolbarSelectAll, { selectAll: selectAll, dataSource: dataSource, rowSelection: rowSelection, rowKey: rowKey, setSelectAll: function (v) { return _this.setState({ selectAll: v }); } })) : null),\r\n                React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-toolbar-right\") },\r\n                    toolbarOptionRender,\r\n                    search ? (React.createElement(FormItemCreator, { columns: _this.getFormColumns(search || [], 'default', true) })) : null,\r\n                    reload ? React.createElement(ToolbarReload, { reload: reload, onSearch: _this.onSearch }) : null,\r\n                    setting ? (React.createElement(ToolbarSetting, { setting: setting, tableColumns: tableColumns, onSettingChange: _this.onSettingChange, onSettingSortEnd: _this.onSettingSortEnd, selectedColumnKeys: selectedColumnKeys })) : null)));\r\n        };\r\n        /**\r\n         * 渲染列表\r\n         */\r\n        _this.renderList = function () {\r\n            if (!_this.props.list)\r\n                return;\r\n            var _a = _this.getModeProps(), rowKey = _a.rowKey, pagination = _a.pagination, loading = _a.loading, renderItem = _a.renderItem, others = __rest(_a, [\"rowKey\", \"pagination\", \"loading\", \"renderItem\"]);\r\n            var rowSelection = _this.getRowSelection();\r\n            return (React.createElement(List, __assign({ rowKey: rowKey, pagination: _this.getPagination(pagination), loading: _this.getLoading(loading), renderItem: function (item, index) {\r\n                    var key = typeof rowKey === 'function' ? rowKey(item) : rowKey;\r\n                    return (React.createElement(List.Item, null,\r\n                        React.createElement(React.Fragment, null,\r\n                            rowSelection ? (React.createElement(Checkbox, { checked: rowSelection.selectedRowKeys.includes(item[key]), onChange: function (e) {\r\n                                    if (e.target.checked) {\r\n                                        rowSelection.selectedRowKeys.push(item[key]);\r\n                                        rowSelection.selectedRows.push(item);\r\n                                        rowSelection.onChange(rowSelection.selectedRowKeys, rowSelection.selectedRows);\r\n                                    }\r\n                                    else {\r\n                                        rowSelection.onChange(rowSelection.selectedRowKeys.filter(function (v) { return v !== item[key]; }), rowSelection.selectedRows.filter(function (v) { return v[key] !== item[key]; }));\r\n                                    }\r\n                                } })) : null,\r\n                            renderItem && renderItem(item, index))));\r\n                } }, others)));\r\n        };\r\n        /**\r\n         * 渲染表格\r\n         */\r\n        _this.renderTable = function () {\r\n            if (!_this.props.table)\r\n                return;\r\n            var _a = _this.state, selectedColumnKeys = _a.selectedColumnKeys, tableColumns = _a.tableColumns;\r\n            var _b = _this.getModeProps(), sortable = _b.sortable, pagination = _b.pagination, loading = _b.loading, dataSource = _b.dataSource, columns = _b.columns, rowKey = _b.rowKey, rowSelection = _b.rowSelection, others = __rest(_b, [\"sortable\", \"pagination\", \"loading\", \"dataSource\", \"columns\", \"rowKey\", \"rowSelection\"]);\r\n            var tableProps = __assign({ pagination: _this.getPagination(pagination), loading: _this.getLoading(loading), rowSelection: _this.getRowSelection(), columns: tableColumns.filter(function (v) { return selectedColumnKeys.includes(v.key); }), dataSource: dataSource, onChange: _this.onTableChange }, others);\r\n            return sortable ? (React.createElement(SortableTable, __assign({ ref: function (c) {\r\n                    _this.SortableTableRef = c;\r\n                }, rowKey: rowKey }, tableProps, { sortable: sortable }))) : (React.createElement(Table, __assign({ rowKey: rowKey }, tableProps)));\r\n        };\r\n        var util = new Util(_this);\r\n        _this.getModeProps = util.getModeProps;\r\n        _this.getDefaultSelectedColumnKeys = util.getDefaultSelectedColumnKeys;\r\n        _this.getFormColumns = util.getFormColumns;\r\n        _this.getSortDataSource = util.getSortDataSource;\r\n        _this.getParams = util.getParams;\r\n        _this.getRowSelection = util.getRowSelection;\r\n        _this.getPagination = util.getPagination;\r\n        _this.getLoading = util.getLoading;\r\n        _this.getTableColumns = util.getTableColumns;\r\n        _this.fetchList = util.fetchList;\r\n        _this.onSearch = util.onSearch;\r\n        _this.onResetSearch = util.onResetSearch;\r\n        _this.onSettingChange = util.onSettingChange;\r\n        _this.onSettingSortEnd = util.onSettingSortEnd;\r\n        _this.onTableChange = util.onTableChange;\r\n        _this.searchFormRef = React.createRef();\r\n        var modeProps = _this.getModeProps();\r\n        _this.state = {\r\n            firstLoading: true,\r\n            loading: false,\r\n            selectedColumnKeys: _this.props.table\r\n                ? _this.getDefaultSelectedColumnKeys(_this.props.table.columns)\r\n                : [],\r\n            tableColumns: [],\r\n            params: {\r\n                page: 1,\r\n                limit: (modeProps && modeProps.pagination && modeProps.pagination.defaultPageSize) || 10,\r\n            },\r\n        };\r\n        return _this;\r\n    }\r\n    TableList.getDerivedStateFromProps = function (nextProps, prevState) {\r\n        var dataSource = (nextProps[nextProps.mode || 'table'] || {}).dataSource;\r\n        if (!nextProps.request && (prevState === null || prevState === void 0 ? void 0 : prevState.firstLoading) && dataSource) {\r\n            return {\r\n                firstLoading: false,\r\n            };\r\n        }\r\n        else if (nextProps.request &&\r\n            (prevState === null || prevState === void 0 ? void 0 : prevState.firstLoading) &&\r\n            (prevState === null || prevState === void 0 ? void 0 : prevState.firstRequest) &&\r\n            dataSource) {\r\n            return {\r\n                firstLoading: false,\r\n            };\r\n        }\r\n        return null;\r\n    };\r\n    TableList.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        var modeProps = this.getModeProps();\r\n        if (this.props.request) {\r\n            this.setState({ firstRequest: true }, function () { return _this.fetchList(); });\r\n        }\r\n        else if (modeProps.dataSource) {\r\n            this.setState({ firstLoading: false });\r\n        }\r\n        this.setState({ tableColumns: this.getTableColumns() });\r\n    };\r\n    TableList.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        var nextModeProps = nextProps[nextProps.mode || 'table'] || {};\r\n        var modeProps = this.getModeProps();\r\n        if (nextState.selectAll &&\r\n            JSON.stringify(nextModeProps.dataSource) !== JSON.stringify(modeProps.dataSource)) {\r\n            var dataSource = nextModeProps.dataSource, _a = nextModeProps.rowKey, rowKey_1 = _a === void 0 ? defaultRowKey : _a;\r\n            var allKeys = (dataSource || []).map(\r\n            // @ts-ignore\r\n            function (v) { return v[typeof rowKey_1 === 'function' ? rowKey_1(v) : rowKey_1]; });\r\n            // 得到没有被全选排除的keys\r\n            var selectedRowKeys = allKeys.filter(function (v) { var _a, _b; return !((_b = (_a = nextState.selectAll) === null || _a === void 0 ? void 0 : _a.exceptKeys) === null || _b === void 0 ? void 0 : _b.includes(v)); });\r\n            if (nextProps.mode === 'table' &&\r\n                nextProps.table &&\r\n                nextProps.table.rowSelection &&\r\n                nextProps.table.rowSelection.onChange) {\r\n                // @ts-ignore\r\n                nextProps.table.rowSelection.onChange(selectedRowKeys, cloneDeep(dataSource));\r\n                return false;\r\n            }\r\n            this.setState({\r\n                selectedRowKeys: selectedRowKeys,\r\n                selectedRows: dataSource,\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * 渲染搜索\r\n     */\r\n    TableList.prototype.renderSearch = function () {\r\n        var _a;\r\n        var _this = this;\r\n        var search = this.props.search;\r\n        if (!search)\r\n            return;\r\n        var className = search.className, beforeContent = search.beforeContent, afterContent = search.afterContent, optionRender = search.optionRender, columns = search.columns, searchText = search.searchText, resetText = search.resetText, _b = search.size, size = _b === void 0 ? 'middle' : _b;\r\n        return search ? (React.createElement(\"div\", { className: classNames(className, \"\".concat(selectorPrefix, \"-search\")) },\r\n            beforeContent,\r\n            React.createElement(Form, { layout: \"inline\", ref: this.searchFormRef, className: classNames(\"\".concat(selectorPrefix, \"-search-form\"), (_a = {},\r\n                    _a[\"\".concat(selectorPrefix, \"-search-form-havebefore\")] = beforeContent,\r\n                    _a[\"\".concat(selectorPrefix, \"-search-form-haveafter\")] = afterContent,\r\n                    _a)) },\r\n                React.createElement(\"div\", { className: \"ant-form-search\" },\r\n                    React.createElement(FormItemCreator, { columns: this.getFormColumns(columns || [], size, search.hasOwnProperty('optionRender') && !optionRender) })),\r\n                search.hasOwnProperty('optionRender') ? (optionRender) : (React.createElement(\"div\", { className: \"ant-form-btngroup\" },\r\n                    React.createElement(Button, { onClick: function () { return _this.onResetSearch(); }, size: size }, resetText || intl.v('重置')),\r\n                    React.createElement(Button, { type: \"primary\", onClick: function () { return _this.onSearch(); }, size: size }, searchText || intl.v('搜索'))))),\r\n            afterContent)) : null;\r\n    };\r\n    /**\r\n     * 渲染内容\r\n     */\r\n    TableList.prototype.renderContent = function () {\r\n        var mode = this.props.mode;\r\n        return (React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-content\") },\r\n            this.renderToolbar(),\r\n            this.state.firstLoading\r\n                ? this.renderLoading()\r\n                : mode === 'list'\r\n                    ? this.renderList()\r\n                    : this.renderTable()));\r\n    };\r\n    /**\r\n     * 加载效果\r\n     */\r\n    TableList.prototype.renderLoading = function () {\r\n        return React.createElement(Skeleton, { paragraph: { rows: 10 }, title: false });\r\n    };\r\n    TableList.prototype.render = function () {\r\n        var _this = this;\r\n        var className = this.props.className;\r\n        return (React.createElement(\"div\", { className: classNames(selectorPrefix, className), ref: function (c) {\r\n                _this.TableListRef = c;\r\n            } },\r\n            this.renderSearch(),\r\n            this.renderContent()));\r\n    };\r\n    return TableList;\r\n}(React.PureComponent));\r\nTableList.defaultProps = {\r\n    mode: 'table',\r\n};\r\nexport default TableList;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","Button","Checkbox","Form","List","Skeleton","Table","classNames","cloneDeep","React","FormItemCreator","intl","SortableTable","ToolbarReload","ToolbarSelectAll","ToolbarSetting","Util","selectorPrefix","defaultRowKey","TableList","_super","props","_this","util","renderToolbar","dataSource","rowKey","pagination","className","title","total","selectAll","search","reload","setting","toolbarOptionRender","selectedColumnKeys","tableColumns","rowSelection","toolbar","_a","getModeProps","_b","_c","state","getRowSelection","createElement","concat","vHtml","setSelectAll","v","setState","columns","getFormColumns","onSearch","onSettingChange","onSettingSortEnd","renderList","loading","renderItem","others","list","getPagination","getLoading","item","index","key","Item","Fragment","checked","selectedRowKeys","includes","onChange","target","push","selectedRows","filter","renderTable","sortable","tableProps","table","onTableChange","ref","c","SortableTableRef","modeProps","getDefaultSelectedColumnKeys","getSortDataSource","getParams","getTableColumns","fetchList","onResetSearch","searchFormRef","createRef","firstLoading","params","page","limit","defaultPageSize","getDerivedStateFromProps","nextProps","prevState","mode","request","firstRequest","componentDidMount","shouldComponentUpdate","nextState","rowKey_1","nextModeProps","JSON","stringify","map","exceptKeys","renderSearch","beforeContent","afterContent","optionRender","searchText","resetText","size","layout","onClick","type","renderContent","renderLoading","paragraph","rows","render","TableListRef","PureComponent","defaultProps"],"mappings":"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"}