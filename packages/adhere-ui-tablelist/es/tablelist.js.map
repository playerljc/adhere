{"version":3,"file":"TableList.js","sources":["TableList.js"],"sourcesContent":["import _Skeleton from \"antd/es/skeleton\";\nimport _Button from \"antd/es/button\";\nimport _Form from \"antd/es/form\";\nimport _Table from \"antd/es/table\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport _List from \"antd/es/list\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport classNames from 'classnames';\nimport { cloneDeep } from 'lodash';\nimport React from 'react';\nimport FormItemCreator from '@baifendian/adhere-ui-formitemcreator';\nimport intl from '@baifendian/adhere-util-intl';\nimport SortableTable from './SortableTable';\nimport { ToolbarReload, ToolbarSelectAll, ToolbarSetting } from './TableListToolBar';\nimport Util from './Util';\nexport var selectorPrefix = 'adhere-ui-table-list';\nvar defaultRowKey = 'id';\n/**\n * Template\n * @class Template\n * @classdesc Template\n */\nvar TableList = /** @class */function (_super) {\n  __extends(TableList, _super);\n  function TableList(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * toolbar: 标题，全选----刷新，搜索，设置\n     */\n    _this.renderToolbar = function () {\n      if (!_this.props.toolbar) return;\n      var _a = _this.getModeProps(),\n        dataSource = _a.dataSource,\n        rowKey = _a.rowKey,\n        pagination = _a.pagination;\n      var _b = _this.props.toolbar,\n        className = _b.className,\n        title = _b.title,\n        total = _b.total,\n        selectAll = _b.selectAll,\n        search = _b.search,\n        reload = _b.reload,\n        setting = _b.setting,\n        toolbarOptionRender = _b.toolbarOptionRender;\n      var _c = _this.state,\n        selectedColumnKeys = _c.selectedColumnKeys,\n        tableColumns = _c.tableColumns;\n      var rowSelection = _this.getRowSelection();\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classNames(className, \"\".concat(selectorPrefix, \"-toolbar\"))\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(selectorPrefix, \"-toolbar-left\")\n      }, title ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(selectorPrefix, \"-toolbar-left-title\")\n      }, title) : null, total ? ( /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(selectorPrefix, \"-toolbar-left-total\")\n      }, total === true ? intl.vHtml('共 <em>{n}</em> 条', {\n        n: pagination && pagination.total\n      }) : total)) : null,\n      // selectAll { total: 是否是选中全部数据，默认是当前页数据 }\n      selectAll ? ( /*#__PURE__*/React.createElement(ToolbarSelectAll, {\n        selectAll: selectAll,\n        dataSource: dataSource,\n        rowSelection: rowSelection,\n        rowKey: rowKey,\n        setSelectAll: function (v) {\n          return _this.setState({\n            selectAll: v\n          });\n        }\n      })) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(selectorPrefix, \"-toolbar-right\")\n      }, toolbarOptionRender, search ? ( /*#__PURE__*/React.createElement(FormItemCreator, {\n        columns: _this.getFormColumns(search || [], 'default', true)\n      })) : null, reload ? /*#__PURE__*/React.createElement(ToolbarReload, {\n        reload: reload,\n        onSearch: _this.onSearch\n      }) : null, setting ? ( /*#__PURE__*/React.createElement(ToolbarSetting, {\n        setting: setting,\n        tableColumns: tableColumns,\n        onSettingChange: _this.onSettingChange,\n        onSettingSortEnd: _this.onSettingSortEnd,\n        selectedColumnKeys: selectedColumnKeys\n      })) : null));\n    };\n    /**\n     * 渲染列表\n     */\n    _this.renderList = function () {\n      if (!_this.props.list) return;\n      var _a = _this.getModeProps(),\n        rowKey = _a.rowKey,\n        pagination = _a.pagination,\n        loading = _a.loading,\n        renderItem = _a.renderItem,\n        rest = __rest(_a, [\"rowKey\", \"pagination\", \"loading\", \"renderItem\"]);\n      var rowSelection = _this.getRowSelection();\n      return /*#__PURE__*/React.createElement(_List, __assign({\n        rowKey: rowKey,\n        pagination: _this.getPagination(pagination),\n        loading: _this.getLoading(loading),\n        renderItem: function (item, index) {\n          var key = typeof rowKey === 'function' ? rowKey(item) : rowKey;\n          return /*#__PURE__*/React.createElement(_List.Item, null, /*#__PURE__*/React.createElement(React.Fragment, null, rowSelection ? ( /*#__PURE__*/React.createElement(_Checkbox, {\n            checked: rowSelection.selectedRowKeys.includes(item[key]),\n            onChange: function (e) {\n              if (e.target.checked) {\n                rowSelection.selectedRowKeys.push(item[key]);\n                rowSelection.selectedRows.push(item);\n                rowSelection.onChange(rowSelection.selectedRowKeys, rowSelection.selectedRows);\n              } else {\n                rowSelection.onChange(rowSelection.selectedRowKeys.filter(function (v) {\n                  return v !== item[key];\n                }), rowSelection.selectedRows.filter(function (v) {\n                  return v[key] !== item[key];\n                }));\n              }\n            }\n          })) : null, renderItem && renderItem(item, index)));\n        }\n      }, rest));\n    };\n    /**\n     * 渲染表格\n     */\n    _this.renderTable = function () {\n      if (!_this.props.table) return;\n      var _a = _this.state,\n        selectedColumnKeys = _a.selectedColumnKeys,\n        tableColumns = _a.tableColumns;\n      var _b = _this.getModeProps(),\n        sortable = _b.sortable,\n        pagination = _b.pagination,\n        loading = _b.loading,\n        dataSource = _b.dataSource,\n        columns = _b.columns,\n        rowKey = _b.rowKey,\n        rowSelection = _b.rowSelection,\n        rest = __rest(_b, [\"sortable\", \"pagination\", \"loading\", \"dataSource\", \"columns\", \"rowKey\", \"rowSelection\"]);\n      var tableProps = __assign({\n        pagination: _this.getPagination(pagination),\n        loading: _this.getLoading(loading),\n        rowSelection: _this.getRowSelection(),\n        columns: tableColumns.filter(function (v) {\n          return selectedColumnKeys.includes(v.key);\n        }),\n        dataSource: dataSource,\n        onChange: _this.onTableChange\n      }, rest);\n      return sortable ? ( /*#__PURE__*/React.createElement(SortableTable, __assign({\n        ref: function (c) {\n          _this.SortableTableRef = c;\n        },\n        rowKey: rowKey\n      }, tableProps, {\n        sortable: sortable\n      }))) : ( /*#__PURE__*/React.createElement(_Table, __assign({\n        rowKey: rowKey\n      }, tableProps)));\n    };\n    var util = new Util(_this);\n    _this.getModeProps = util.getModeProps;\n    _this.getDefaultSelectedColumnKeys = util.getDefaultSelectedColumnKeys;\n    _this.getFormColumns = util.getFormColumns;\n    _this.getSortDataSource = util.getSortDataSource;\n    _this.getParams = util.getParams;\n    _this.getRowSelection = util.getRowSelection;\n    _this.getPagination = util.getPagination;\n    _this.getLoading = util.getLoading;\n    _this.getTableColumns = util.getTableColumns;\n    _this.fetchList = util.fetchList;\n    _this.onSearch = util.onSearch;\n    _this.onResetSearch = util.onResetSearch;\n    _this.onSettingChange = util.onSettingChange;\n    _this.onSettingSortEnd = util.onSettingSortEnd;\n    _this.onTableChange = util.onTableChange;\n    _this.searchFormRef = /*#__PURE__*/React.createRef();\n    var modeProps = _this.getModeProps();\n    _this.state = {\n      firstLoading: true,\n      loading: false,\n      selectedColumnKeys: _this.props.table ? _this.getDefaultSelectedColumnKeys(_this.props.table.columns) : [],\n      tableColumns: [],\n      params: {\n        page: 1,\n        limit: modeProps && modeProps.pagination && modeProps.pagination.defaultPageSize || 10\n      }\n    };\n    return _this;\n  }\n  TableList.getDerivedStateFromProps = function (nextProps, prevState) {\n    var _a;\n    var dataSource = ((_a = nextProps[nextProps.mode || 'table']) !== null && _a !== void 0 ? _a : {}).dataSource;\n    if (!nextProps.request && (prevState === null || prevState === void 0 ? void 0 : prevState.firstLoading) && dataSource) {\n      return {\n        firstLoading: false\n      };\n    } else if (nextProps.request && (prevState === null || prevState === void 0 ? void 0 : prevState.firstLoading) && (prevState === null || prevState === void 0 ? void 0 : prevState.firstRequest) && dataSource) {\n      return {\n        firstLoading: false\n      };\n    }\n    return null;\n  };\n  TableList.prototype.componentDidMount = function () {\n    var _this = this;\n    var modeProps = this.getModeProps();\n    if (this.props.request) {\n      this.setState({\n        firstRequest: true\n      }, function () {\n        return _this.fetchList();\n      });\n    } else if (modeProps.dataSource) {\n      this.setState({\n        firstLoading: false\n      });\n    }\n    this.setState({\n      tableColumns: this.getTableColumns()\n    });\n  };\n  TableList.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    var _a;\n    var nextModeProps = (_a = nextProps[nextProps.mode || 'table']) !== null && _a !== void 0 ? _a : {};\n    var modeProps = this.getModeProps();\n    if (nextState.selectAll && JSON.stringify(nextModeProps.dataSource) !== JSON.stringify(modeProps.dataSource)) {\n      var dataSource = nextModeProps.dataSource,\n        _b = nextModeProps.rowKey,\n        rowKey_1 = _b === void 0 ? defaultRowKey : _b;\n      var allKeys = (dataSource || []).map(\n      // @ts-ignore\n      function (v) {\n        return v[typeof rowKey_1 === 'function' ? rowKey_1(v) : rowKey_1];\n      });\n      // 得到没有被全选排除的keys\n      var selectedRowKeys = allKeys.filter(function (v) {\n        var _a, _b;\n        return !((_b = (_a = nextState.selectAll) === null || _a === void 0 ? void 0 : _a.exceptKeys) === null || _b === void 0 ? void 0 : _b.includes(v));\n      });\n      if (nextProps.mode === 'table' && nextProps.table && nextProps.table.rowSelection && nextProps.table.rowSelection.onChange) {\n        // @ts-ignore\n        nextProps.table.rowSelection.onChange(selectedRowKeys, cloneDeep(dataSource));\n        return false;\n      }\n      this.setState({\n        selectedRowKeys: selectedRowKeys,\n        selectedRows: dataSource\n      });\n      return false;\n    }\n    return true;\n  };\n  /**\n   * 渲染搜索\n   */\n  TableList.prototype.renderSearch = function () {\n    var _a;\n    var _this = this;\n    var search = this.props.search;\n    if (!search) return;\n    var className = search.className,\n      beforeContent = search.beforeContent,\n      afterContent = search.afterContent,\n      optionRender = search.optionRender,\n      columns = search.columns,\n      searchText = search.searchText,\n      resetText = search.resetText,\n      _b = search.size,\n      size = _b === void 0 ? 'middle' : _b;\n    return search ? ( /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(className, \"\".concat(selectorPrefix, \"-search\"))\n    }, beforeContent, /*#__PURE__*/React.createElement(_Form, {\n      layout: \"inline\",\n      ref: this.searchFormRef,\n      className: classNames(\"\".concat(selectorPrefix, \"-search-form\"), (_a = {}, _a[\"\".concat(selectorPrefix, \"-search-form-have-before\")] = beforeContent, _a[\"\".concat(selectorPrefix, \"-search-form-have-after\")] = afterContent, _a))\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-form-search\"\n    }, /*#__PURE__*/React.createElement(FormItemCreator, {\n      columns: this.getFormColumns(columns || [], size, search.hasOwnProperty('optionRender') && !optionRender)\n    })), search.hasOwnProperty('optionRender') ? optionRender : ( /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ant-form-btn-group\"\n    }, /*#__PURE__*/React.createElement(_Button, {\n      onClick: function () {\n        return _this.onResetSearch();\n      },\n      size: size\n    }, resetText || intl.v('重置')), /*#__PURE__*/React.createElement(_Button, {\n      type: \"primary\",\n      onClick: function () {\n        return _this.onSearch();\n      },\n      size: size\n    }, searchText || intl.v('搜索'))))), afterContent)) : null;\n  };\n  /**\n   * 渲染内容\n   */\n  TableList.prototype.renderContent = function () {\n    var mode = this.props.mode;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-content\")\n    }, this.renderToolbar(), this.state.firstLoading ? this.renderLoading() : mode === 'list' ? this.renderList() : this.renderTable());\n  };\n  /**\n   * 加载效果\n   */\n  TableList.prototype.renderLoading = function () {\n    return /*#__PURE__*/React.createElement(_Skeleton, {\n      paragraph: {\n        rows: 10\n      },\n      title: false\n    });\n  };\n  TableList.prototype.render = function () {\n    var _this = this;\n    var className = this.props.className;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classNames(selectorPrefix, className),\n      ref: function (c) {\n        _this.TableListRef = c;\n      }\n    }, this.renderSearch(), this.renderContent());\n  };\n  TableList.displayName = 'TableList';\n  return TableList;\n}(React.PureComponent);\nTableList.defaultProps = {\n  mode: 'table'\n};\nexport default TableList;"],"names":["_Skeleton","_Button","_Form","_Table","_Checkbox","_List","__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","classNames","cloneDeep","React","FormItemCreator","intl","SortableTable","ToolbarReload","ToolbarSelectAll","ToolbarSetting","Util","selectorPrefix","defaultRowKey","TableList","_super","props","_this","util","renderToolbar","dataSource","rowKey","pagination","className","title","total","selectAll","search","reload","setting","toolbarOptionRender","selectedColumnKeys","tableColumns","rowSelection","toolbar","_a","getModeProps","_b","_c","state","getRowSelection","createElement","concat","vHtml","setSelectAll","v","setState","columns","getFormColumns","onSearch","onSettingChange","onSettingSortEnd","renderList","loading","renderItem","rest","list","getPagination","getLoading","item","index","key","Item","Fragment","checked","selectedRowKeys","includes","onChange","target","push","selectedRows","filter","renderTable","sortable","tableProps","table","onTableChange","ref","c","SortableTableRef","modeProps","getDefaultSelectedColumnKeys","getSortDataSource","getParams","getTableColumns","fetchList","onResetSearch","searchFormRef","createRef","firstLoading","params","page","limit","defaultPageSize","getDerivedStateFromProps","nextProps","prevState","mode","request","firstRequest","componentDidMount","shouldComponentUpdate","nextState","rowKey_1","nextModeProps","JSON","stringify","map","exceptKeys","renderSearch","beforeContent","afterContent","optionRender","searchText","resetText","size","layout","onClick","type","renderContent","renderLoading","paragraph","rows","render","TableListRef","displayName","PureComponent","defaultProps"],"mappings":"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"}