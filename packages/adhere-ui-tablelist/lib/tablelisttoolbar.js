var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,n=1,l=arguments.length;n<l;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};import React from"react";import{Tooltip,Checkbox,Popover}from"antd";import{ReloadOutlined,SettingOutlined}from"@ant-design/icons";import{SortableContainer,SortableElement}from"react-sortable-hoc";import intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-ui-tablelist",ToolbarSelectAll=function(e){var t,n=e.selectAll,l=e.rowSelection,o=e.rowKey,a=e.dataSource,r=e.setSelectAll;return l?React.createElement(Tooltip,__assign({title:intl.v("全选"),placement:"top"},n),React.createElement(Checkbox,{indeterminate:n.total&&l.selectAll?null===(t=null===(t=l.selectAll)||void 0===t?void 0:t.exceptKeys)||void 0===t?void 0:t.length:l.selectedRowKeys.length&&l.selectedRowKeys.length!==(null==a?void 0:a.length),checked:n.total&&l.selectAll?!(null!==(t=null===(t=l.selectAll)||void 0===t?void 0:t.exceptKeys)&&void 0!==t&&t.length):l.selectedRowKeys.length===(null==a?void 0:a.length),onChange:function(e){e.target.checked?l.onChange(a.map(function(e){return e[o]}),a):l.onChange([],[]),n.total&&r&&r(e.target.checked)}},n.title||intl.v("全选"))):null},ToolbarReload=function(e){var t=e.reload,n=e.onSearch;return React.createElement(Tooltip,__assign({title:intl.v("刷新"),placement:"top"},t),t.render||React.createElement(ReloadOutlined,{onClick:function(){return n()}}))},ToolbarSetting=function(e){var t=e.setting,n=e.tableColumns,l=e.onSettingChange,o=e.onSettingSortEnd,e=e.selectedColumnKeys,a=SortableElement(function(e){return React.createElement(Checkbox,__assign({},e))}),r=SortableContainer(function(e){return React.createElement(Checkbox.Group,__assign({},e))});return React.createElement(Popover,__assign({title:React.createElement(function(e){var t=e.columns,n=void 0===t?[]:t,t=e.selectedColumnKeys,t=void 0===t?[]:t,l=e.onChange;return React.createElement(React.Fragment,null,React.createElement(Checkbox,{indeterminate:0!==(null==t?void 0:t.length)&&(null==t?void 0:t.length)!==(null==n?void 0:n.length),checked:(null==t?void 0:t.length)===(null==n?void 0:n.length),onChange:function(e){return l(e.target.checked?n.map(function(e){return e.key}):[])}},intl.v("列展示")))},{columns:n,onChange:l,selectedColumnKeys:e}),content:React.createElement(function(e){var t=e.columns,n=void 0===t?[]:t,l=e.selectedColumnKeys,t=void 0===l?[]:l,l=e.onChange,e=e.onSortEnd;return React.createElement(r,{helperClass:"set-dragging",value:t,onChange:l,onSortEnd:e,distance:2},n.map(function(e,t){return React.createElement(a,{value:e.key,index:t,key:e.key},e.title)}))},{columns:n,onChange:l,onSortEnd:o,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:selectorPrefix+"-settingOverlay"},t.Popover),React.createElement(Tooltip,__assign({title:intl.v("设置"),placement:"top"},t),t.render||React.createElement(SettingOutlined,{type:"setting"})))};export{ToolbarSelectAll,ToolbarReload,ToolbarSetting};
//# sourceMappingURL=tablelisttoolbar.js.map
