"use strict";require("core-js/modules/es.object.define-property.js");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarSetting=exports.ToolbarSelectAll=exports.ToolbarReload=void 0;var _popover=_interopRequireDefault(require("antd/lib/popover")),_checkbox=_interopRequireDefault(require("antd/lib/checkbox")),_tooltip=_interopRequireDefault(require("antd/lib/tooltip"));require("core-js/modules/es.array.map.js");var _tslib=require("tslib"),_react=_interopRequireDefault(require("react")),_icons=require("@ant-design/icons"),_reactSortableHoc=require("react-sortable-hoc"),_adhereUtilIntl=_interopRequireDefault(require("@baifendian/adhere-util-intl")),selectorPrefix="adhere-ui-tablelist",ToolbarSelectAll=function(e){var t,l=e.selectAll,r=e.rowSelection,n=e.rowKey,a=e.dataSource,o=e.setSelectAll;return r?_react.default.createElement(_tooltip.default,(0,_tslib.__assign)({title:_adhereUtilIntl.default.v("全选"),placement:"top"},l),_react.default.createElement(_checkbox.default,{indeterminate:l.total&&r.selectAll?null===(t=null===(t=r.selectAll)||void 0===t?void 0:t.exceptKeys)||void 0===t?void 0:t.length:r.selectedRowKeys.length&&r.selectedRowKeys.length!==(null==a?void 0:a.length),checked:l.total&&r.selectAll?!(null!==(t=null===(t=r.selectAll)||void 0===t?void 0:t.exceptKeys)&&void 0!==t&&t.length):r.selectedRowKeys.length===(null==a?void 0:a.length),onChange:function(e){e.target.checked?r.onChange(a.map(function(e){return e[n]}),a):r.onChange([],[]),l.total&&o&&o(e.target.checked)}},l.title||_adhereUtilIntl.default.v("全选"))):null};exports.ToolbarSelectAll=ToolbarSelectAll;var ToolbarReload=function(e){var t=e.reload,l=e.onSearch;return _react.default.createElement(_tooltip.default,(0,_tslib.__assign)({title:_adhereUtilIntl.default.v("刷新"),placement:"top"},t),t.render||_react.default.createElement(_icons.ReloadOutlined,{onClick:function(){return l()}}))};exports.ToolbarReload=ToolbarReload;var ToolbarSetting=function(e){var t=e.setting,l=e.tableColumns,r=e.onSettingChange,n=e.onSettingSortEnd,e=e.selectedColumnKeys,a=(0,_reactSortableHoc.SortableElement)(function(e){return _react.default.createElement(_checkbox.default,(0,_tslib.__assign)({},e))}),o=(0,_reactSortableHoc.SortableContainer)(function(e){return _react.default.createElement(_checkbox.default.Group,(0,_tslib.__assign)({},e))});return _react.default.createElement(_popover.default,(0,_tslib.__assign)({title:_react.default.createElement(function(e){var t=e.columns,l=void 0===t?[]:t,t=e.selectedColumnKeys,t=void 0===t?[]:t,r=e.onChange;return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement(_checkbox.default,{indeterminate:0!==(null==t?void 0:t.length)&&(null==t?void 0:t.length)!==(null==l?void 0:l.length),checked:(null==t?void 0:t.length)===(null==l?void 0:l.length),onChange:function(e){return r(e.target.checked?l.map(function(e){return e.key}):[])}},_adhereUtilIntl.default.v("列展示")))},{columns:l,onChange:r,selectedColumnKeys:e}),content:_react.default.createElement(function(e){var t=e.columns,l=void 0===t?[]:t,r=e.selectedColumnKeys,t=e.onChange,e=e.onSortEnd;return _react.default.createElement(o,{helperClass:"set-dragging",value:void 0===r?[]:r,onChange:t,onSortEnd:e,distance:2},l.map(function(e,t){return _react.default.createElement(a,{value:e.key,index:t,key:e.key},e.title)}))},{columns:l,onChange:r,onSortEnd:n,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:"".concat(selectorPrefix,"-settingOverlay")},t.Popover),_react.default.createElement(_tooltip.default,(0,_tslib.__assign)({title:_adhereUtilIntl.default.v("设置"),placement:"top"},t),t.render||_react.default.createElement(_icons.SettingOutlined,{type:"setting"})))};exports.ToolbarSetting=ToolbarSetting;
//# sourceMappingURL=tablelisttoolbar.js.map
