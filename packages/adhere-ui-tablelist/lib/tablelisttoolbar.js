"use strict";require("core-js/modules/es.object.define-property.js"),require("core-js/modules/es.array.map.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToolbarSetting=exports.ToolbarReload=exports.ToolbarSelectAll=void 0;var tslib_1=require("tslib"),antd_1=require("antd"),react_1=tslib_1.__importDefault(require("react")),react_sortable_hoc_1=require("react-sortable-hoc"),icons_1=require("@ant-design/icons"),adhere_util_intl_1=tslib_1.__importDefault(require("@baifendian/adhere-util-intl")),tablelist_1=require("./tablelist"),ToolbarSelectAll=function(e){var t=e.selectAll,l=e.rowSelection,n=e.rowKey,a=e.dataSource,r=e.setSelectAll;return l?react_1.default.createElement(antd_1.Tooltip,tslib_1.__assign({title:adhere_util_intl_1.default.v("全选"),placement:"top"},t),react_1.default.createElement(antd_1.Checkbox,{indeterminate:t.total&&l.selectAll?null==(e=null==(e=l.selectAll)?void 0:e.exceptKeys)?void 0:e.length:l.selectedRowKeys.length&&l.selectedRowKeys.length!==(null==a?void 0:a.length),checked:t.total&&l.selectAll?!(null!=(e=null==(e=l.selectAll)?void 0:e.exceptKeys)&&e.length):l.selectedRowKeys.length===(null==a?void 0:a.length),onChange:function(e){e.target.checked?l.onChange(a.map(function(e){return e[n]}),a):l.onChange([],[]),t.total&&r&&r(e.target.checked)}},t.title||adhere_util_intl_1.default.v("全选"))):null},ToolbarReload=(exports.ToolbarSelectAll=ToolbarSelectAll,function(e){var t=e.reload,l=e.onSearch;return react_1.default.createElement(antd_1.Tooltip,tslib_1.__assign({title:adhere_util_intl_1.default.v("刷新"),placement:"top"},t),t.render||react_1.default.createElement(icons_1.ReloadOutlined,{onClick:function(){return l()}}))}),ToolbarSetting=(exports.ToolbarReload=ToolbarReload,function(e){var t=e.setting,l=e.tableColumns,n=e.onSettingChange,a=e.onSettingSortEnd,e=e.selectedColumnKeys,r=(0,react_sortable_hoc_1.SortableElement)(function(e){return react_1.default.createElement(antd_1.Checkbox,tslib_1.__assign({},e))}),o=(0,react_sortable_hoc_1.SortableContainer)(function(e){return react_1.default.createElement(antd_1.Checkbox.Group,tslib_1.__assign({},e))});return react_1.default.createElement(antd_1.Popover,tslib_1.__assign({title:react_1.default.createElement(function(e){var t=e.columns,l=void 0===t?[]:t,t=e.selectedColumnKeys,t=void 0===t?[]:t,n=e.onChange;return react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement(antd_1.Checkbox,{indeterminate:0!==(null==t?void 0:t.length)&&(null==t?void 0:t.length)!==(null==l?void 0:l.length),checked:(null==t?void 0:t.length)===(null==l?void 0:l.length),onChange:function(e){return n(e.target.checked?l.map(function(e){return e.key}):[])}},adhere_util_intl_1.default.v("列展示")))},{columns:l,onChange:n,selectedColumnKeys:e}),content:react_1.default.createElement(function(e){var t=e.columns,t=void 0===t?[]:t,l=e.selectedColumnKeys,l=void 0===l?[]:l,n=e.onChange,e=e.onSortEnd;return react_1.default.createElement(o,{helperClass:"".concat(tablelist_1.selectorPrefix,"-set-dragging"),value:l,onChange:n,onSortEnd:e,distance:2},t.map(function(e,t){return react_1.default.createElement(r,{value:e.key,index:t,key:e.key},e.title)}))},{columns:l,onChange:n,onSortEnd:a,selectedColumnKeys:e}),trigger:"click",placement:"bottomRight",overlayClassName:"".concat(tablelist_1.selectorPrefix,"-settingOverlay")},t.Popover),react_1.default.createElement(antd_1.Tooltip,tslib_1.__assign({title:adhere_util_intl_1.default.v("设置"),placement:"top"},t),t.render||react_1.default.createElement(icons_1.SettingOutlined,{type:"setting"})))});exports.ToolbarSetting=ToolbarSetting;
//# sourceMappingURL=tablelisttoolbar.js.map
