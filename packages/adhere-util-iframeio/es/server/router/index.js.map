{"version":3,"file":"index.js","sources":["server/router/index.js"],"sourcesContent":["/**\n * Router\n * @class Router\n * @classdesc 路由\n */\nvar Router = /** @class */ (function () {\n    function Router() {\n        this.controllers = new Map();\n    }\n    /**\n     * controller\n     * @description 添加控制器\n     * @param path\n     * @param middleWare\n     */\n    Router.prototype.controller = function (path, middleWare) {\n        this.controllers.set(path, function (ctx, next) {\n            if (path === ctx.getRequest().getPathname()) {\n                middleWare(ctx, next);\n                return;\n            }\n            next && next();\n        });\n        return this;\n    };\n    /**\n     * routers\n     * @description 获取所有的中间件\n     */\n    Router.prototype.routers = function () {\n        return Array.from(this.controllers.values());\n    };\n    return Router;\n}());\nexport default Router;\n"],"names":["Router","this","controllers","Map","prototype","controller","path","middleWare","set","ctx","next","getRequest","getPathname","routers","Array","from","values"],"mappings":"AAKA,IAAIA,OAAwB,WACxB,SAASA,IACLC,KAAKC,YAAc,IAAIC,GAC3B,CAwBA,OAjBAH,EAAOI,UAAUC,WAAa,SAAUC,EAAMC,GAQ1C,OAPAN,KAAKC,YAAYM,IAAIF,EAAM,SAAUG,EAAKC,GAClCJ,IAASG,EAAIE,WAAW,EAAEC,YAAY,EACtCL,EAAWE,EAAKC,CAAI,EAGxBA,GAAQA,EAAK,CACjB,CAAC,EACMT,IACX,EAKAD,EAAOI,UAAUS,QAAU,WACvB,OAAOC,MAAMC,KAAKd,KAAKC,YAAYc,OAAO,CAAC,CAC/C,EACOhB,CACX,EAAG,iBACYA"}