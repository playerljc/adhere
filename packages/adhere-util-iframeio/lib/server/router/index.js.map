{"version":3,"file":"index.js","sources":["server/router/index.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * Router\r\n * @class Router\r\n * @classdesc 路由\r\n */\r\nvar Router = /** @class */ (function () {\r\n    function Router() {\r\n        this.controllers = new Map();\r\n    }\r\n    /**\r\n     * controller\r\n     * @description 添加控制器\r\n     * @param path\r\n     * @param middleWare\r\n     */\r\n    Router.prototype.controller = function (path, middleWare) {\r\n        this.controllers.set(path, function (ctx, next) {\r\n            if (path === ctx.getRequest().getPathname()) {\r\n                middleWare(ctx, next);\r\n                return;\r\n            }\r\n            next && next();\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * routers\r\n     * @description 获取所有的中间件\r\n     */\r\n    Router.prototype.routers = function () {\r\n        return Array.from(this.controllers.values());\r\n    };\r\n    return Router;\r\n}());\r\nexports.default = Router;\r\n"],"names":["Object","defineProperty","exports","value","Router","this","controllers","Map","prototype","controller","path","middleWare","set","ctx","next","getRequest","getPathname","routers","Array","from","values","default"],"mappings":"aACAA,OAAOC,eAAeC,QAAS,aAAc,CAAEC,OAAO,IAMtD,IAAIC,OAAwB,WACxB,SAASA,IACLC,KAAKC,YAAc,IAAIC,IAyB3B,OAjBAH,EAAOI,UAAUC,WAAa,SAAUC,EAAMC,GAQ1C,OAPAN,KAAKC,YAAYM,IAAIF,EAAM,SAAUG,EAAKC,GAClCJ,IAASG,EAAIE,aAAaC,cAI9BF,GAAQA,IAHJH,EAAWE,EAAKC,KAKjBT,MAMXD,EAAOI,UAAUS,QAAU,WACvB,OAAOC,MAAMC,KAAKd,KAAKC,YAAYc,WAEhChB,EA3BgB,GA6B3BF,QAAQmB,QAAUjB"}