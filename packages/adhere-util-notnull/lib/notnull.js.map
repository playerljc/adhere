{"version":3,"file":"notnull.js","sources":["notnull.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\n/**\n * createProxy\n * @param target\n * @return Object\n */\nfunction createProxy(target) {\n    if (adhere_util_1.default.isEmpty(target)) {\n        target = {};\n    }\n    // 只有对象和数组才能进行代理\n    if (!adhere_util_1.default.isObject(target) && !adhere_util_1.default.isArray(target))\n        return target;\n    // 创建代理\n    var proxy = new Proxy(target, {\n        get: function (target, p, receiver) {\n            var value = target[p];\n            if (adhere_util_1.default.isEmpty(value)) {\n                value = {};\n                target[p] = createProxy(value);\n            }\n            return Reflect.get(target, p, receiver);\n        },\n        set: function (target, key, value, receiver) {\n            if (adhere_util_1.default.isEmpty(value)) {\n                value = {};\n            }\n            // 是数组\n            if (adhere_util_1.default.isArray(target)) {\n                // 数组的原始长度\n                var srcLength = target.length;\n                var result = Reflect.set(target, key, value, receiver);\n                // 数组的当前长度\n                var targetLength = target.length;\n                // 数组是删除\n                if (targetLength < srcLength) {\n                    // console.log('删除', `key:${key}`, `value:${value}`);\n                }\n                // 数组是添加\n                else if (targetLength > srcLength) {\n                    // console.log('添加', `key:${key}`, `value:${value}`);\n                    // 如果可以则会给value继续创建代理\n                    if (adhere_util_1.default.isObject(value) || adhere_util_1.default.isArray(value)) {\n                        value = createProxy(value);\n                        result = Reflect.set(target, key, value, receiver);\n                    }\n                }\n                // 数组修改\n                else {\n                    // console.log('修改', `key:${key}`, `value:${value}`);\n                    // 如果可以则会给value继续创建代理\n                    if (adhere_util_1.default.isObject(value) || adhere_util_1.default.isArray(value)) {\n                        value = createProxy(value);\n                        result = Reflect.set(target, key, value, receiver);\n                    }\n                }\n            }\n            // 是对象\n            if (adhere_util_1.default.isObject(target)) {\n                value = createProxy(value);\n            }\n            return Reflect.set(target, key, value, receiver);\n        },\n    });\n    // 继续进行迭代，迭代target的所有属性，为srcObj的所有属性都进行代理\n    for (var p in target) {\n        var objItem = target[p];\n        if (adhere_util_1.default.isObject(objItem) || adhere_util_1.default.isArray(objItem)) {\n            target[p] = createProxy(objItem);\n        }\n    }\n    return proxy;\n}\nexports.default = (function (target) {\n    return createProxy(target);\n});\n"],"names":["__importDefault","this","mod","__esModule","default","adhere_util_1","Object","defineProperty","exports","value","require","createProxy","target","isEmpty","isObject","isArray","p","proxy","Proxy","get","receiver","Reflect","set","key","srcLength","length","objItem"],"mappings":"AAAA,aACA,IAAIA,gBAAmBC,MAAQA,KAAKD,iBAAoB,SAAUE,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAEE,QAAWF,CAAI,CAC5D,EAEIG,eADJC,OAAOC,eAAeC,QAAS,aAAc,CAAEC,MAAO,CAAA,CAAK,CAAC,EACxCT,gBAAgBU,QAAQ,yBAAyB,CAAC,GAMtE,SAASC,YAAYC,GAKjB,GAJIP,cAAcD,QAAQS,QAAQD,CAAM,IACpCA,EAAS,IAGT,CAACP,cAAcD,QAAQU,SAASF,CAAM,GAAK,CAACP,cAAcD,QAAQW,QAAQH,CAAM,EAChF,OAAOA,EAEX,IAmDSI,EAnDLC,EAAQ,IAAIC,MAAMN,EAAQ,CAC1BO,IAAK,SAAUP,EAAQI,EAAGI,GACtB,IAAIX,EAAQG,EAAOI,GAKnB,OAJIX,cAAcD,QAAQS,QAAQJ,CAAK,IAEnCG,EAAOI,GAAKL,YADJ,EACqB,GAE1BU,QAAQF,IAAIP,EAAQI,EAAGI,CAAQ,CAC1C,EACAE,IAAK,SAAUV,EAAQW,EAAKd,EAAOW,GAK/B,IAEQI,EA+BR,OArCInB,cAAcD,QAAQS,QAAQJ,CAAK,IACnCA,EAAQ,IAGRJ,cAAcD,QAAQW,QAAQH,CAAM,IAEhCY,EAAYZ,EAAOa,OACVJ,QAAQC,IAAIV,EAAQW,EAAKd,EAAOW,CAAQ,EAElCR,EAAOa,OAEPD,IAOXnB,cAAcD,QAAQU,SAASL,CAAK,GAAKJ,cAAcD,QAAQW,QAAQN,CAAK,KAC5EA,EAAQE,YAAYF,CAAK,EAChBY,QAAQC,IAAIV,EAAQW,EAAKd,EAAOW,CAAQ,IAczDf,cAAcD,QAAQU,SAASF,CAAM,IACrCH,EAAQE,YAAYF,CAAK,GAEtBY,QAAQC,IAAIV,EAAQW,EAAKd,EAAOW,CAAQ,CACnD,CACJ,CAAC,EAED,IAASJ,KAAKJ,EAAQ,CAClB,IAAIc,EAAUd,EAAOI,IACjBX,cAAcD,QAAQU,SAASY,CAAO,GAAKrB,cAAcD,QAAQW,QAAQW,CAAO,KAChFd,EAAOI,GAAKL,YAAYe,CAAO,EAEvC,CACA,OAAOT,CACX,CACAT,QAAQJ,QAAU,SAAWQ,GACzB,OAAOD,YAAYC,CAAM,CAC5B"}