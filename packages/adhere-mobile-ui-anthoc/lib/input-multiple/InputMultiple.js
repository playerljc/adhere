"use strict";var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__createBinding=Object.create?function(e,t,r,a){void 0===a&&(a=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&("get"in l?t.__esModule:!l.writable&&!l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,l)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__spreadArray=function(e,t,r){if(r||2===arguments.length)for(var a,l=0,n=t.length;l<n;l++)!a&&l in t||((a=a||Array.prototype.slice.call(t,0,l))[l]=t[l]);return e.concat(a||Array.prototype.slice.call(t))},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},antd_mobile_icons_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("antd-mobile-icons")),classnames_1=__importDefault(require("classnames")),react_1=__importStar(require("react")),adhere_ui_flexlayout_1=__importDefault(require("@baifendian/adhere-ui-flexlayout")),adhere_ui_hooks_1=__importDefault(require("@baifendian/adhere-ui-hooks")),adhere_ui_space_1=__importDefault(require("@baifendian/adhere-ui-space")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),input_1=__importDefault(require("../input")),selector_1=__importDefault(require("../selector")),selectorPrefix="adhere-mobile-ui-anthoc-input-multiple",usePropToState=adhere_ui_hooks_1.default.usePropToState,InputMultiple=function(e){var t=e.className,r=e.style,a=e.selectorWrapperClassName,l=e.selectorWrapperStyle,n=e.inputProps,u=e.selectorProps,i=e.renderAdd,o=e.renderClear,c=e.isCheckAll,_=e.isFilter,s=e.options,f=e.value,d=e.onChange,e=(0,react_1.useState)(""),p=e[0],m=e[1],e=usePropToState(s),h=e[0],b=e[1],s=usePropToState(f),e=s[0],v=s[1],f=(0,react_1.useMemo)(function(){return null!=u?u:{}},[u]),y=(0,react_1.useMemo)(function(){return!!c},[c]),g=(0,react_1.useMemo)(function(){return!!_},[_]),s=(0,react_1.useMemo)(function(){return(null!=h?h:[]).map(function(e){return __assign(__assign({},e),{description:e.label})})},[h]),P=(0,react_1.useMemo)(function(){return g?y?selector_1.default.FilterCheckAllSelector:selector_1.default.FilterSelector:y?selector_1.default.CheckAllSelector:selector_1.default},[g,y]);return react_1.default.createElement("div",{className:(0,classnames_1.default)(selectorPrefix,t),style:null!=r?r:{}},react_1.default.createElement(adhere_ui_flexlayout_1.default,{direction:"horizontal"},react_1.default.createElement(adhere_ui_space_1.default.Group,{direction:"horizontal",size:10},react_1.default.createElement(adhere_ui_flexlayout_1.default.Auto,null,react_1.default.createElement(input_1.default,__assign({placeholder:adhere_util_intl_1.default.v("请输入关键字")},null!=n?n:{},{value:p,onChange:function(e){m(e)}}))),react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed,{fit:!0},react_1.default.createElement("div",{onClick:function(){var t=p.trim();t&&!(null!=h?h:[]).find(function(e){return e.value===t})&&b(function(e){return __spreadArray(__spreadArray([],null!=e?e:[],!0),[{label:p,value:p}],!1)})},className:"".concat(selectorPrefix,"-btn-wrapper")},null!=(t=null==i?void 0:i())?t:react_1.default.createElement(antd_mobile_icons_1.AddOutline,{className:"".concat(selectorPrefix,"-btn")}))),react_1.default.createElement(adhere_ui_flexlayout_1.default.Fixed,{fit:!0},react_1.default.createElement("div",{onClick:function(){b([]),m(""),v([]),null!=d&&d([])},className:"".concat(selectorPrefix,"-btn-wrapper")},null!=(r=null==o?void 0:o())?r:react_1.default.createElement(antd_mobile_icons_1.CloseOutline,{className:"".concat(selectorPrefix,"-btn")}))))),react_1.default.createElement("div",{className:(0,classnames_1.default)("".concat(selectorPrefix,"-tag-wrapper"),null!=a?a:""),style:null!=l?l:{}},react_1.default.createElement(P,__assign({multiple:!0},f,{options:null!=s?s:[],value:e,onChange:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];v(e[0]),null!=d&&d.apply(void 0,e)}}))))};exports.default=InputMultiple;
//# sourceMappingURL=InputMultiple.js.map
