"use strict";var __createBinding=Object.create?function(e,t,r,a){void 0===a&&(a=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&("get"in l?t.__esModule:!l.writable&&!l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,l)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]},__setModuleDefault=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__importDefault=function(e){return e&&e.__esModule?e:{default:e}},ahooks_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("ahooks")),react_1=__importStar(require("react")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),selectorPrefix="adhere-mobile-ui-ant-hoc-date-timer-popover";function useDateTimePopover(e){var t=e.popoverTriggerClassName,r=e.popoverTriggerStyle,a=e.placeholder,l=e.value,n=e.okLabel,u=e.cancelLabel,o=e.clearLabel,i=e.allowClearValue,c=void 0===i||i,f=e.formatValue,i=(0,react_1.useState)("".concat(Date.now())),e=i[0],_=i[1],s=(0,react_1.useRef)(l);function d(e){s.current=e}var v=(0,react_1.useMemo)(function(){var e=react_1.default.createElement("div",{className:"".concat(selectorPrefix,"-placeholder")},null!=a?a:adhere_util_intl_1.default.v("请选择"));return react_1.default.createElement(react_1.default.Fragment,null,!!l&&(f||e),!l&&e)},[l,a,f]),i=(0,react_1.useMemo)(function(){return[{key:"submit",text:null!=n?n:adhere_util_intl_1.default.v("确定"),primary:!0,onClick:function(){var e;return Promise.resolve(null!=(e=s.current)?e:new Date)}},c&&{key:"clear",text:null!=o?o:adhere_util_intl_1.default.v("清除"),onClick:function(){return _("".concat(Date.now())),Promise.resolve(void 0)}},{key:"close",text:null!=u?u:adhere_util_intl_1.default.v("关闭"),onClick:function(){return Promise.resolve(l)}}].filter(function(e){return!!e})},[c,o,n,u,l,s.current]);return(0,ahooks_1.useUpdateEffect)(function(){d(l)},[l]),{key:e,actions:i,popoverTriggerProps:{className:null!=t?t:"",style:null!=r?r:{},renderTrigger:function(){return react_1.default.createElement("div",{className:"".concat(selectorPrefix,"-trigger")},v)}},setInternalValue:d}}exports.default=useDateTimePopover;
//# sourceMappingURL=useDateTimePopover.js.map
