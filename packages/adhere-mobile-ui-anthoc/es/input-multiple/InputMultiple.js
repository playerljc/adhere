import _CloseOutline from"antd-mobile-icons/es/CloseOutline";import _AddOutline from"antd-mobile-icons/es/AddOutline";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,l=arguments.length;r<l;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var l,n=0,a=t.length;n<a;n++)!l&&n in t||((l=l||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(l||Array.prototype.slice.call(t))};import classNames from"classnames";import React,{useMemo,useState}from"react";import FlexLayout from"@baifendian/adhere-ui-flexlayout";import Hooks from"@baifendian/adhere-ui-hooks";import Space from"@baifendian/adhere-ui-space";import Intl from"@baifendian/adhere-util-intl";import Input from"../input";import Selector from"../selector";var selectorPrefix="adhere-mobile-ui-anthoc-input-multiple",usePropToState=Hooks.usePropToState,InputMultiple=function(e){var t=e.className,r=e.style,l=e.selectorWrapperClassName,n=e.selectorWrapperStyle,a=e.inputProps,o=e.selectorProps,i=e.renderAdd,c=e.renderClear,s=e.isCheckAll,u=e.isFilter,p=e.options,m=e.value,f=e.onChange,e=useState(""),d=e[0],h=e[1],e=usePropToState(p),_=e[0],y=e[1],p=usePropToState(m),e=p[0],v=p[1],m=useMemo(function(){return null!=o?o:{}},[o]),S=useMemo(function(){return!!s},[s]),g=useMemo(function(){return!!u},[u]),p=useMemo(function(){return(null!=_?_:[]).map(function(e){return __assign(__assign({},e),{description:e.label})})},[_]),x=useMemo(function(){return g?S?Selector.FilterCheckAllSelector:Selector.FilterSelector:S?Selector.CheckAllSelector:Selector},[g,S]);return React.createElement("div",{className:classNames(selectorPrefix,t),style:null!=r?r:{}},React.createElement(FlexLayout,{direction:"horizontal"},React.createElement(Space.Group,{direction:"horizontal",size:10},React.createElement(FlexLayout.Auto,null,React.createElement(Input,__assign({placeholder:Intl.v("请输入关键字")},null!=a?a:{},{value:d,onChange:function(e){h(e)}}))),React.createElement(FlexLayout.Fixed,{fit:!0},React.createElement("div",{onClick:function(){var t=d.trim();t&&!(null!=_?_:[]).find(function(e){return e.value===t})&&y(function(e){return __spreadArray(__spreadArray([],null!=e?e:[],!0),[{label:d,value:d}],!1)})},className:"".concat(selectorPrefix,"-btn-wrapper")},null!=(t=null==i?void 0:i())?t:React.createElement(_AddOutline,{className:"".concat(selectorPrefix,"-btn")}))),React.createElement(FlexLayout.Fixed,{fit:!0},React.createElement("div",{onClick:function(){y([]),h(""),v([]),null!=f&&f([])},className:"".concat(selectorPrefix,"-btn-wrapper")},null!=(r=null==c?void 0:c())?r:React.createElement(_CloseOutline,{className:"".concat(selectorPrefix,"-btn")}))))),React.createElement("div",{className:classNames("".concat(selectorPrefix,"-tag-wrapper"),null!=l?l:""),style:null!=n?n:{}},React.createElement(x,__assign({multiple:!0},m,{options:null!=p?p:[],value:e,onChange:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];v(e[0]),null!=f&&f.apply(void 0,e)}}))))};export default InputMultiple;
//# sourceMappingURL=InputMultiple.js.map
