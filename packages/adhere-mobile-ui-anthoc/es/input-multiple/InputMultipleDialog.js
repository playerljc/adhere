var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,t=1,o=arguments.length;t<o;t++)for(var n in r=arguments[t])Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,r){var t={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t},__spreadArray=this&&this.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,n=0,a=r.length;n<a;n++)!o&&n in r||((o=o||Array.prototype.slice.call(r,0,n))[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))};import React,{useMemo}from"react";import Hooks from"@baifendian/adhere-ui-hooks";import Intl from"@baifendian/adhere-util-intl";import Dialog from"../dialog";import Tag from"../tag";import InputMultipleHOC from"./InputMultipleHOC";var selectorPrefix="adhere-mobile-ui-anthoc-input-multiple",usePropToState=Hooks.usePropToState,InputMultipleDialog=function(e){var r=e.triggerProps,t=__rest(e,["triggerProps"]),e=usePropToState(t.value),o=e[0],e=e[1],n=useMemo(function(){return null!=r?r:{}},[r]),a=useMemo(function(){var e;return Array.from(new Set(__spreadArray(__spreadArray([],null!=(e=t.options)?e:[],!0),null!=(e=t.value)?e:[],!0))).map(function(e){return{label:e,value:e}})},[t.options,t.value]);return React.createElement(Dialog.TriggerPrompt,__assign({submitAction:{key:"submit",primary:!0,onClick:function(){var e;return null!=(e=null==t?void 0:t.onChange)&&e.call(t,o),Promise.resolve(o)}},popoverTriggerProps:{renderTrigger:function(e){return e&&e.length?React.createElement("ul",{className:"".concat(selectorPrefix,"-render-trigger")},null==e?void 0:e.map(function(e){return React.createElement("li",{key:e},React.createElement(Tag,{round:!0,color:"primary"},e))})):React.createElement("div",{className:"".concat(selectorPrefix,"-placeholder")},Intl.v("请输入关键字"))}}},n,{value:t.value}),React.createElement(InputMultipleHOC,__assign({},t,{options:a,onChange:e})))};export default InputMultipleDialog;
//# sourceMappingURL=InputMultipleDialog.js.map
