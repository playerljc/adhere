{"version":3,"file":"Form.js","sources":["form/Form.js"],"sourcesContent":["import _Form from \"antd-mobile/es/components/form\";\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport Validator from '@baifendian/adhere-util-validator';\nimport { createFactory } from '../util';\nimport CustomWrapperFormItem from './CustomWrapperFormItem';\nimport FormItem from './FormItem';\nimport NestingFormItem from './NestingFormItem';\nvar FormHOC = createFactory(_Form, {});\n// entityInValue\n// dataSourceProp 数据源属性\nvar ValidatorRules;\n(function () {\n  var excludes = ['default', 'version', 'toDate', 'toFloat', 'toInt', 'toBoolean', 'equals', 'contains', 'matches', 'ltrim', 'rtrim', 'trim', 'escape', 'unescape', 'stripLow', 'whitelist', 'blacklist', 'isWhitelisted', 'normalizeEmail', 'toString'];\n  /**\n   * 设置Rules\n   * Rules根据@baifendian/adhere-util-validator库来生成\n   */\n  ValidatorRules = Array.from(Object.keys(Validator)).filter(function (_key) {\n    return !excludes.includes(_key);\n  }).reduce(function (result, _key) {\n    result[_key] = function (argv) {\n      return {\n        /**\n         * validator\n         * @description 主要是实现validator方法\n         * @param _\n         * @param value\n         */\n        validator: function (_, value) {\n          var self = this;\n          function validate() {\n            var _a;\n            // 调用Validator的指定方法进行校验\n            if (!Validator[_key].apply(self, __spreadArray([value], (argv === null || argv === void 0 ? void 0 : argv.params) || [], true))) {\n              return Promise.reject((_a = argv === null || argv === void 0 ? void 0 : argv.invalidMessage) !== null && _a !== void 0 ? _a : '');\n            }\n            return Promise.resolve();\n          }\n          if (_ === null || _ === void 0 ? void 0 : _.required) {\n            if (!value) {\n              return Promise.reject(_ === null || _ === void 0 ? void 0 : _.message);\n            } else {\n              return validate();\n            }\n          } else {\n            if (!value) {\n              return Promise.resolve();\n            } else {\n              return validate();\n            }\n          }\n        }\n      };\n    };\n    return result;\n  }, {});\n})();\nFormHOC.ValidatorRules = ValidatorRules;\nFormHOC.Item = FormItem;\nFormHOC.NestingFormItem = NestingFormItem;\nFormHOC.CustomWrapperFormItem = CustomWrapperFormItem;\nFormHOC.displayName = 'Form';\nexport default FormHOC;"],"names":["_Form","__spreadArray","this","to","from","pack","arguments","length","ar","i","l","Array","prototype","slice","call","concat","Validator","createFactory","CustomWrapperFormItem","FormItem","NestingFormItem","ValidatorRules","FormHOC","excludes","Object","keys","filter","_key","includes","reduce","result","argv","validator","_","value","self","validate","_a","apply","params","Promise","resolve","reject","invalidMessage","required","message","Item","displayName"],"mappings":"OAAOA,UAAW,iCAClB,IAAIC,cAAgBC,MAAQA,KAAKD,eAAiB,SAAUE,EAAIC,EAAMC,GACpE,GAAIA,GAA6B,IAArBC,UAAUC,OAAc,IAAK,IAA4BC,EAAxBC,EAAI,EAAGC,EAAIN,EAAKG,OAAYE,EAAIC,EAAGD,CAAC,GAC3ED,CAAAA,GAAQC,KAAKL,KACVI,EAAAA,GAASG,MAAMC,UAAUC,MAAMC,KAAKV,EAAM,EAAGK,CAAC,GAChDA,GAAKL,EAAKK,IAGjB,OAAON,EAAGY,OAAOP,GAAMG,MAAMC,UAAUC,MAAMC,KAAKV,CAAI,CAAC,CACzD,SACOY,cAAe,2CACbC,aAA8B,KAAT,iBACvBC,0BAA2B,iCAC3BC,aAAc,oBACdC,oBAAqB,oBAC5B,IAGIC,eAHAC,QAAUL,cAAcjB,MAAO,EAAE,EAIrC,CAAA,WACE,IAAIuB,EAAW,CAAC,UAAW,UAAW,SAAU,UAAW,QAAS,YAAa,SAAU,WAAY,UAAW,QAAS,QAAS,OAAQ,SAAU,WAAY,WAAY,YAAa,YAAa,gBAAiB,iBAAkB,YAK3OF,eAAiBV,MAAMP,KAAKoB,OAAOC,KAAKT,SAAS,CAAC,EAAEU,OAAO,SAAUC,GACnE,MAAO,CAACJ,EAASK,SAASD,CAAI,CAChC,CAAC,EAAEE,OAAO,SAAUC,EAAQH,GAmC1B,OAlCAG,EAAOH,GAAQ,SAAUI,GACvB,MAAO,CAOLC,UAAW,SAAUC,EAAGC,GACtB,IAAIC,EAAOjC,KACX,SAASkC,IACP,IAAIC,EAEJ,OAAKrB,UAAUW,GAAMW,MAAMH,EAAMlC,cAAc,CAACiC,IAASH,MAAAA,EAAmC,KAAA,EAASA,EAAKQ,SAAW,GAAI,CAAA,CAAI,CAAC,EAGvHC,QAAQC,QAAQ,EAFdD,QAAQE,OAAO,OAACL,EAAKN,MAAAA,EAAmC,KAAA,EAASA,EAAKY,gBAA4CN,EAAK,EAAE,CAGpI,CACA,OAAIJ,MAAAA,GAAsCA,EAAEW,SACrCV,EAGIE,EAAS,EAFTI,QAAQE,OAAOT,MAAAA,EAA6B,KAAA,EAASA,EAAEY,OAAO,EAKlEX,EAGIE,EAAS,EAFTI,QAAQC,QAAQ,CAK7B,CACF,CACF,EACOX,CACT,EAAG,EAAE,CACN,EAAE,EACHR,QAAQD,eAAiBA,eACzBC,QAAQwB,KAAO3B,SACfG,QAAQF,gBAAkBA,gBAC1BE,QAAQJ,sBAAwBA,sBAChCI,QAAQyB,YAAc,sBACPzB"}