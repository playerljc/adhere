var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,o=1,a=arguments.length;o<a;o++)for(var t in r=arguments[o])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,r){var o={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(o[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};import{useConfig}from"antd-mobile/es/components/config-provider/config-provider";import classNames from"classnames";import dayjs from"dayjs";import React,{useMemo}from"react";import TimePickerView from"@baifendian/adhere-mobile-ui-time-picker-view";import useDateTimePopover from"./useDateTimePopover";var selectorPrefix="adhere-mobile-ui-ant-hoc-time-popover";function useTimePopover(e){var r=e.popoverTriggerClassName,o=e.popoverTriggerStyle,a=e.placeholder,t=e.value,l=e.okLabel,i=e.cancelLabel,s=e.renderDisplay,n=e.locale,p=__rest(e,["popoverTriggerClassName","popoverTriggerStyle","placeholder","value","okLabel","cancelLabel","renderDisplay","locale"]),c=useConfig(),e=useMemo(function(){var e;return t?(e=null!=(e=null!=n?n:c.locale.locale)?e:"zh",s?s(t,e):p.format?dayjs(t.getTime()).format(p.format):t.toLocaleTimeString(e)):""},[t]),r=useDateTimePopover({popoverTriggerClassName:classNames(null!=r?r:"",selectorPrefix),popoverTriggerStyle:o,placeholder:a,value:t,okLabel:l,cancelLabel:i,defaultValue:null==p?void 0:p.defaultValue,formatValue:e}),o=r.actions,a=r.popoverTriggerProps,m=r.setTargetValue;return{actions:o,popoverTriggerProps:a,children:React.createElement(TimePickerView,__assign({defaultValue:new Date},p,{className:classNames(null!=(l=null==p?void 0:p.className)?l:"","".concat(selectorPrefix,"-time-picker-view")),onChange:function(e){m(e)}}))}}export default useTimePopover;
//# sourceMappingURL=useTimePopover.js.map
