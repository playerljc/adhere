var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,o=1,a=arguments.length;o<a;o++)for(var l in r=arguments[o])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,r){var o={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&r.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)r.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(o[l[a]]=e[l[a]]);return o};import{useConfig}from"antd-mobile/es/components/config-provider/config-provider";import classNames from"classnames";import dayjs from"dayjs";import React,{useMemo}from"react";import TimePickerView from"@baifendian/adhere-mobile-ui-time-picker-view";import useDateTimePopover from"./useDateTimePopover";var selectorPrefix="adhere-mobile-ui-ant-hoc-time-popover";function useTimePopover(e){var r=e.popoverTriggerClassName,o=e.popoverTriggerStyle,a=e.placeholder,l=e.value,t=e.okLabel,i=e.cancelLabel,n=e.renderDisplay,s=e.locale,p=__rest(e,["popoverTriggerClassName","popoverTriggerStyle","placeholder","value","okLabel","cancelLabel","renderDisplay","locale"]),c=useConfig(),e=useMemo(function(){var e;return l?(e=null!=(e=null!=s?s:c.locale.locale)?e:"zh",n?n(l,e):p.format?dayjs(l.getTime()).format(p.format):l.toLocaleTimeString(e)):""},[l]),r=useDateTimePopover({popoverTriggerClassName:classNames(null!=r?r:"",selectorPrefix),popoverTriggerStyle:o,placeholder:a,value:l,okLabel:t,cancelLabel:i,defaultValue:null==p?void 0:p.defaultValue,formatValue:e}),o=r.key,a=r.actions,t=r.popoverTriggerProps,u=r.setInternalValue;return{actions:a,popoverTriggerProps:t,children:React.createElement(TimePickerView,__assign({key:o},p,{defaultValue:null!=(i=null!=l?l:null==p?void 0:p.defaultValue)?i:new Date,className:classNames(null!=(e=null==p?void 0:p.className)?e:"","".concat(selectorPrefix,"-time-picker-view")),onChange:function(e){u(e)}}))}}export default useTimePopover;
//# sourceMappingURL=useTimePopover.js.map
