var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,n){var t={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]]);return t};import dayjs from"dayjs";import{cloneElement,useMemo}from"react";var ValueHOC=function(e){var n=e.defaultValue,t=e.value,r=e.onChange,o=e.type,a=void 0===o?"milliseconds":o,l=e.children,u=__rest(e,["defaultValue","value","onChange","type","children"]);function s(e){return null==e?e:("seconds"===a?dayjs.unix(e):dayjs(e)).toDate()}function i(e){var n;e?null!=r&&r((n=e.getTime(),"seconds"===a?Math.round(n/1e3):n)):null!=r&&r(e)}var c=useMemo(function(){return s(t)},[t]),f=useMemo(function(){return s(n)},[n]);return useMemo(function(){return cloneElement(l,__assign(__assign({},u),{defaultValue:f,value:c,onChange:i}),l.props.children)},[u,f,c,l])};export default ValueHOC;
//# sourceMappingURL=ValueHOC.js.map
