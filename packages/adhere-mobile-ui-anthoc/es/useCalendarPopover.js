var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var r,o=1,a=arguments.length;o<a;o++)for(var l in r=arguments[o])Object.prototype.hasOwnProperty.call(r,l)&&(e[l]=r[l]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,r){var o={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&r.indexOf(l)<0&&(o[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)r.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(o[l[a]]=e[l[a]]);return o};import{CalendarPickerView}from"antd-mobile";import{useConfig}from"antd-mobile/es/components/config-provider/config-provider";import classNames from"classnames";import React,{useMemo}from"react";import useDateTimePopover from"./useDateTimePopover";var selectorPrefix="adhere-mobile-ui-ant-hoc-calendar-popover";function useCalendarPopover(e){var r=e.popoverTriggerClassName,o=e.popoverTriggerStyle,a=e.placeholder,l=e.value,t=e.okLabel,n=e.cancelLabel,i=e.renderDisplay,s=e.locale,c=__rest(e,["popoverTriggerClassName","popoverTriggerStyle","placeholder","value","okLabel","cancelLabel","renderDisplay","locale"]),p=useConfig(),e=useMemo(function(){var e;return!l||Array.isArray(l)&&l.length<=1?"":(e=null!=(e=null!=s?s:p.locale.locale)?e:"zh",i?i(l,e):"single"!==(null==c?void 0:c.selectionMode)&&null!=c&&c.selectionMode?"range"!==(null==c?void 0:c.selectionMode)||!l||!Array.isArray(l)||Array.isArray(l)&&l.length<=1?"":[l[0].toLocaleDateString(e),l[1].toLocaleDateString(e)].join("~"):l.toLocaleDateString(e))},[l]),r=useDateTimePopover({popoverTriggerClassName:classNames(null!=r?r:"",selectorPrefix),popoverTriggerStyle:o,placeholder:a,value:l,okLabel:t,cancelLabel:n,defaultValue:null==c?void 0:c.defaultValue,formatValue:e}),o=r.key,a=r.actions,t=r.popoverTriggerProps,u=r.setInternalValue;return{actions:a,popoverTriggerProps:t,children:React.createElement(CalendarPickerView,__assign({key:o},c,{onChange:function(e){u(e)}}))}}export default useCalendarPopover;
//# sourceMappingURL=useCalendarPopover.js.map
