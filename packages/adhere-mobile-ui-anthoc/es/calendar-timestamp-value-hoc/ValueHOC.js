var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++)for(var t in n=arguments[r])Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}).apply(this,arguments)},__rest=this&&this.__rest||function(e,n){var r={};for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,t=Object.getOwnPropertySymbols(e);s<t.length;s++)n.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(e,t[s])&&(r[t[s]]=e[t[s]]);return r};import dayjs from"dayjs";import quarterOfYear from"dayjs/plugin/quarterOfYear";import weekOfYear from"dayjs/plugin/weekOfYear";import{cloneElement,useMemo}from"react";dayjs.extend(weekOfYear),dayjs.extend(quarterOfYear);var DEFAULT_TYPE=["milliseconds","milliseconds"],ValueHOC=function(e){var n=e.defaultValue,r=e.value,s=e.onChange,t=e.type,i=void 0===t?DEFAULT_TYPE:t,o=e.children,a=__rest(e,["defaultValue","value","onChange","type","children"]);function u(e){if(null==e)return e;if(Array.isArray(e)){if(!Array.isArray(e))return null;if(!e.length)return[];for(var n=Array.isArray(null!=i?i:DEFAULT_TYPE)?(null!=i?i:DEFAULT_TYPE).slice(0,2):DEFAULT_TYPE,r=0;r<2;r++)["seconds","milliseconds"].includes(n[r])||(n[r]="milliseconds");return(n.join()===["seconds","seconds"].join()||n.join()===["seconds","seconds"].join()?[dayjs.unix(e[0]),dayjs.unix(e[1])]:n.join()===["seconds","milliseconds"].join()?[dayjs.unix(e[0]),dayjs(e[1])]:n.join()===["milliseconds","seconds"].join()?[dayjs(e[0]),dayjs.unix(e[1])]:[dayjs(e[0]),dayjs(e[1])]).map(function(e){return e.toDate()})}return("seconds"===i?dayjs.unix(e):dayjs(e)).toDate()}function l(e){return Math.round(e/1e3)}function d(e){if(Array.isArray(e)){if(!i||!Array.isArray(i)||i.length<2)return e;if("milliseconds"===i[0]&&"seconds"===i[1])return[e[0],l(e[1])];if("seconds"===i[0]&&"milliseconds"===i[1])return[l(e[0]),e[1]];if("seconds"===i[0]&&"seconds"===i[1])return[l(e[0]),l(e[1])]}return"seconds"===i?l(e):e}function c(e){var n;e?(n=void 0,n=Array.isArray(e)?d([e[0].getTime(),e[1].getTime()]):d(e.getTime()),null!=s&&s(n)):null!=s&&s(e)}var f=useMemo(function(){return u(r)},[r]),y=useMemo(function(){return u(n)},[n]);return useMemo(function(){return cloneElement(o,__assign(__assign({},a),{defaultValue:y,value:f,onChange:c}),o.props.children)},[a,y,f,o])};export default ValueHOC;
//# sourceMappingURL=ValueHOC.js.map
