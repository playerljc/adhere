import{useUpdateEffect}from"ahooks";import React,{useMemo,useRef}from"react";import Intl from"@baifendian/adhere-util-intl";var selectorPrefix="adhere-mobile-ui-ant-hoc-date-timer-popover";function useDateTimePopover(e){var r=e.popoverTriggerClassName,t=e.popoverTriggerStyle,l=e.placeholder,o=e.value,n=e.okLabel,a=e.cancelLabel,u=e.defaultValue,c=e.formatValue,i=useRef(null!=(e=null!=o?o:u)?e:new Date),u=useMemo(function(){return[{key:"submit",text:null!=n?n:Intl.v("确定"),primary:!0,onClick:function(){return Promise.resolve(i.current)}},{key:"close",text:null!=a?a:Intl.v("关闭"),onClick:function(){return Promise.resolve(o)}}]},[n,a,i.current]);return useUpdateEffect(function(){i.current=o},[o]),{actions:u,popoverTriggerProps:{className:null!=r?r:"",style:null!=t?t:{},renderTrigger:function(){return React.createElement("div",{className:"".concat(selectorPrefix,"-trigger")},!!o&&c,!o&&React.createElement("div",{className:"".concat(selectorPrefix,"-placeholder")},null!=l?l:Intl.v("请选择")))}},setTargetValue:function(e){i.current=e}}}export default useDateTimePopover;
//# sourceMappingURL=useDateTimePopover.js.map
