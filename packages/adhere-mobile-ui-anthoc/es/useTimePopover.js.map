{"version":3,"file":"useTimePopover.js","sources":["useTimePopover.js"],"sourcesContent":["var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { useConfig } from 'antd-mobile/es/components/config-provider/config-provider';\nimport classNames from 'classnames';\nimport dayjs from 'dayjs';\nimport React, { useMemo } from 'react';\nimport TimePickerView from '@baifendian/adhere-mobile-ui-time-picker-view';\nimport useDateTimePopover from './useDateTimePopover';\nvar selectorPrefix = 'adhere-mobile-ui-ant-hoc-time-popover';\nfunction useTimePopover(_a) {\n  var _b;\n  var popoverTriggerClassName = _a.popoverTriggerClassName,\n    popoverTriggerStyle = _a.popoverTriggerStyle,\n    placeholder = _a.placeholder,\n    value = _a.value,\n    okLabel = _a.okLabel,\n    cancelLabel = _a.cancelLabel,\n    renderDisplay = _a.renderDisplay,\n    locale = _a.locale,\n    timePickerViewProps = __rest(_a, [\"popoverTriggerClassName\", \"popoverTriggerStyle\", \"placeholder\", \"value\", \"okLabel\", \"cancelLabel\", \"renderDisplay\", \"locale\"]);\n  var config = useConfig();\n  var formatValue = useMemo(function () {\n    var _a;\n    if (!value) return '';\n    var targetLocale = (_a = locale !== null && locale !== void 0 ? locale : config.locale.locale) !== null && _a !== void 0 ? _a : 'zh';\n    if (renderDisplay) {\n      return renderDisplay(value, targetLocale);\n    }\n    if (timePickerViewProps.format) {\n      return dayjs(value.getTime()).format(timePickerViewProps.format);\n    }\n    return value.toLocaleTimeString(targetLocale);\n  }, [value]);\n  var _c = useDateTimePopover({\n      popoverTriggerClassName: classNames(popoverTriggerClassName !== null && popoverTriggerClassName !== void 0 ? popoverTriggerClassName : '', selectorPrefix),\n      popoverTriggerStyle: popoverTriggerStyle,\n      placeholder: placeholder,\n      value: value,\n      okLabel: okLabel,\n      cancelLabel: cancelLabel,\n      defaultValue: timePickerViewProps === null || timePickerViewProps === void 0 ? void 0 : timePickerViewProps.defaultValue,\n      formatValue: formatValue\n    }),\n    actions = _c.actions,\n    popoverTriggerProps = _c.popoverTriggerProps,\n    setTargetValue = _c.setTargetValue;\n  return {\n    actions: actions,\n    popoverTriggerProps: popoverTriggerProps,\n    children: /*#__PURE__*/React.createElement(TimePickerView, __assign({\n      defaultValue: new Date()\n    }, timePickerViewProps, {\n      className: classNames((_b = timePickerViewProps === null || timePickerViewProps === void 0 ? void 0 : timePickerViewProps.className) !== null && _b !== void 0 ? _b : '', \"\".concat(selectorPrefix, \"-time-picker-view\")),\n      onChange: function onChange(_value) {\n        setTargetValue(_value);\n      }\n    }))\n  };\n}\nexport default useTimePopover;"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","useConfig","classNames","dayjs","React","useMemo","TimePickerView","useDateTimePopover","selectorPrefix","useTimePopover","_a","popoverTriggerClassName","popoverTriggerStyle","placeholder","value","okLabel","cancelLabel","renderDisplay","locale","timePickerViewProps","config","formatValue","targetLocale","format","getTime","toLocaleTimeString","_c","defaultValue","actions","popoverTriggerProps","setTargetValue","children","createElement","Date","className","_b","concat","onChange","_value"],"mappings":"AAAA,IAAIA,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,EACIO,OAASd,MAAQA,KAAKc,QAAU,SAAUV,EAAGW,GAC/C,IAAIZ,EAAI,GACR,IAASM,KAAKL,EAAOH,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,GAAKM,EAAEC,QAAQP,CAAC,EAAI,IAAGN,EAAEM,GAAKL,EAAEK,IAC9F,GAAS,MAALL,GAAqD,YAAxC,OAAOH,OAAOgB,sBAAsC,IAAK,IAAIZ,EAAI,EAAGI,EAAIR,OAAOgB,sBAAsBb,CAAC,EAAGC,EAAII,EAAED,OAAQH,CAAC,GACnIU,EAAEC,QAAQP,EAAEJ,EAAE,EAAI,GAAKJ,OAAOS,UAAUQ,qBAAqBN,KAAKR,EAAGK,EAAEJ,EAAE,IAAGF,EAAEM,EAAEJ,IAAMD,EAAEK,EAAEJ,KAEhG,OAAOF,CACT,SACSgB,SAA4E,KAA3D,mEACnBC,eAAgB,oBAChBC,UAAW,eACXC,OAASC,OAAsB,KAAP,eACxBC,mBAAoB,uDACpBC,uBAAwB,uBAC/B,IAAIC,eAAiB,wCACrB,SAASC,eAAeC,GACtB,IACIC,EAA0BD,EAAGC,wBAC/BC,EAAsBF,EAAGE,oBACzBC,EAAcH,EAAGG,YACjBC,EAAQJ,EAAGI,MACXC,EAAUL,EAAGK,QACbC,EAAcN,EAAGM,YACjBC,EAAgBP,EAAGO,cACnBC,EAASR,EAAGQ,OACZC,EAAsBvB,OAAOc,EAAI,CAAC,0BAA2B,sBAAuB,cAAe,QAAS,UAAW,cAAe,gBAAiB,SAAS,EAC9JU,EAASnB,UAAU,EACnBoB,EAAchB,QAAQ,WACxB,IAEIiB,EADJ,OAAKR,GACDQ,EAAe,OAACZ,EAAKQ,MAAAA,EAAuCA,EAASE,EAAOF,OAAOA,QAAoCR,EAAK,KAC5HO,EACKA,EAAcH,EAAOQ,CAAY,EAEtCH,EAAoBI,OACfpB,MAAMW,EAAMU,QAAQ,CAAC,EAAED,OAAOJ,EAAoBI,MAAM,EAE1DT,EAAMW,mBAAmBH,CAAY,GARzB,EASrB,EAAG,CAACR,EAAM,EACNY,EAAKnB,mBAAmB,CACxBI,wBAAyBT,WAAWS,MAAAA,EAAyEA,EAA0B,GAAIH,cAAc,EACzJI,oBAAqBA,EACrBC,YAAaA,EACbC,MAAOA,EACPC,QAASA,EACTC,YAAaA,EACbW,aAAcR,MAAAA,EAAiE,KAAA,EAASA,EAAoBQ,aAC5GN,YAAaA,CACf,CAAC,EACDO,EAAUF,EAAGE,QACbC,EAAsBH,EAAGG,oBACzBC,EAAiBJ,EAAGI,eACtB,MAAO,CACLF,QAASA,EACTC,oBAAqBA,EACrBE,SAAuB3B,MAAM4B,cAAc1B,eAAgBzB,SAAS,CAClE8C,aAAc,IAAIM,IACpB,EAAGd,EAAqB,CACtBe,UAAWhC,WAAW,OAACiC,EAAKhB,MAAAA,EAAiE,KAAA,EAASA,EAAoBe,WAAuCC,EAAK,GAAI,GAAGC,OAAO5B,eAAgB,mBAAmB,CAAC,EACxN6B,SAAU,SAAkBC,GAC1BR,EAAeQ,CAAM,CACvB,CACF,CAAC,CAAC,CACJ,CACF,gBACe7B"}