{"version":3,"file":"Spin.js","sources":["Spin.js"],"sourcesContent":["import { useMount, useUpdateLayoutEffect } from 'ahooks';\nimport React, { memo, useRef } from 'react';\nimport { Spinner } from 'spin.js';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport Resource from '@baifendian/adhere-util-resource';\nvar selectorPrefix = 'adhere-ui-spin';\nvar Spin = memo(function (props) {\n    var _a = props.spinning, spinning = _a === void 0 ? false : _a, _b = props.text, text = _b === void 0 ? '' : _b, _c = props.zIndex, zIndex = _c === void 0 ? Resource.Dict.value.ResourceNormalMaxZIndex.value : _c, _d = props.size, size = _d === void 0 ? 'default' : _d;\n    var spinRef = useRef(null);\n    var dotRef = useRef(null);\n    var createSpin = function () {\n        var _a, _b;\n        if (spinRef.current) {\n            (_b = (_a = spinRef.current) === null || _a === void 0 ? void 0 : _a.stop) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n        var scaleMap = new Map([\n            ['small', 0.1],\n            ['default', 0.2],\n            ['large', 0.3],\n        ]);\n        var scale = scaleMap.get(size);\n        var color = document.documentElement.style.getPropertyValue(\"--adhere-color-primary\");\n        spinRef.current = new Spinner({\n            lines: 4, // The number of lines to draw\n            length: 0, // The length of each line\n            width: 52, // The line thickness\n            radius: 29, // The radius of the inner circle\n            scale: scale, // Scales overall size of the spinner\n            corners: 1, // Corner roundness (0..1)\n            speed: 2.1, // Rounds per second\n            rotate: 19, // The rotation offset\n            animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\n            direction: 1, // 1: clockwise, -1: counterclockwise\n            color: color, // CSS color or array of colors\n            fadeColor: 'transparent', // CSS color or array of colors\n            top: '46%', // Top position relative to parent\n            left: '50%', // Left position relative to parent\n            shadow: '0 0 1px transparent', // Box-shadow for the lines\n            zIndex: zIndex, // The z-index (defaults to 2e9)\n            className: \"\".concat(selectorPrefix, \"-spinner\"), // The CSS class to assign to the spinner\n            position: 'absolute', // Element positioning\n        }).spin(dotRef.current);\n    };\n    useMount(function () {\n        if (spinning) {\n            createSpin();\n        }\n    });\n    useUpdateLayoutEffect(function () {\n        if (spinning) {\n            createSpin();\n        }\n    }, [size, spinning]);\n    return (React.createElement(ConditionalRender, { conditional: spinning }, function () { return (React.createElement(\"div\", { className: selectorPrefix, style: { zIndex: zIndex } },\n        React.createElement(\"span\", { ref: dotRef, className: \"\".concat(selectorPrefix, \"-dot\") }),\n        text && React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-text\") }, text))); }));\n});\nSpin.displayName = 'Spin';\nexport default Spin;\n"],"names":["useMount","useUpdateLayoutEffect","React","memo","useRef","Spinner","ConditionalRender","Resource","selectorPrefix","Spin","props","createSpin","spinRef","current","_b","_a","stop","call","scale","Map","get","size","color","document","documentElement","style","getPropertyValue","lines","length","width","radius","corners","speed","rotate","animation","direction","fadeColor","top","left","shadow","zIndex","className","concat","position","spin","dotRef","spinning","text","_c","Dict","value","ResourceNormalMaxZIndex","_d","createElement","conditional","ref","displayName"],"mappings":"OAASA,SAAUC,qBAAqC,KAAR,gBACzCC,OAASC,KAAMC,MAAqB,KAAP,eAC3BC,OAAwB,KAAT,iBACjBC,sBAAuB,iDACvBC,aAAc,mCACrB,IAAIC,eAAiB,iBACjBC,KAAON,KAAK,SAAUO,GAIL,SAAbC,IAEIC,EAAQC,SACR,OAACC,EAAK,OAACC,EAAKH,EAAQC,SAAqC,KAAA,EAASE,EAAGC,OAA2CF,EAAGG,KAAKF,CAAE,EAF9H,IASIG,EALW,IAAIC,IAAI,CACnB,CAAC,QAAS,IACV,CAAC,UAAW,IACZ,CAAC,QAAS,IACb,EACoBC,IAAIC,CAAI,EACzBC,EAAQC,SAASC,gBAAgBC,MAAMC,iBAAiB,wBAAwB,EACpFd,EAAQC,QAAU,IAAIR,QAAQ,CAC1BsB,MAAO,EACPC,OAAQ,EACRC,MAAO,GACPC,OAAQ,GACRZ,MAAOA,EACPa,QAAS,EACTC,MAAO,IACPC,OAAQ,GACRC,UAAW,0BACXC,UAAW,EACXb,MAAOA,EACPc,UAAW,cACXC,IAAK,MACLC,KAAM,MACNC,OAAQ,sBACRC,OAAQA,EACRC,UAAW,GAAGC,OAAOlC,eAAgB,UAAU,EAC/CmC,SAAU,UACd,CAAC,EAAEC,KAAKC,EAAOhC,OAAO,CAC1B,CAnCA,IAAIE,EAAKL,EAAMoC,SAAUA,EAAkB,KAAA,IAAP/B,GAAwBA,EAAID,EAAKJ,EAAMqC,KAAMA,EAAc,KAAA,IAAPjC,EAAgB,GAAKA,EAAIkC,EAAKtC,EAAM8B,OAAQA,EAAgB,KAAA,IAAPQ,EAAgBzC,SAAS0C,KAAKC,MAAMC,wBAAwBD,MAAQF,EAAII,EAAK1C,EAAMW,KAAMA,EAAc,KAAA,IAAP+B,EAAgB,UAAYA,EACrQxC,EAAUR,OAAO,IAAI,EACrByC,EAASzC,OAAO,IAAI,EA4CxB,OAVAJ,SAAS,WACD8C,GACAnC,EAAW,CAEnB,CAAC,EACDV,sBAAsB,WACd6C,GACAnC,EAAW,CAEnB,EAAG,CAACU,EAAMyB,EAAS,EACX5C,MAAMmD,cAAc/C,kBAAmB,CAAEgD,YAAaR,CAAS,EAAG,WAAc,OAAQ5C,MAAMmD,cAAc,MAAO,CAAEZ,UAAWjC,eAAgBiB,MAAO,CAAEe,OAAQA,CAAO,CAAE,EAC9KtC,MAAMmD,cAAc,OAAQ,CAAEE,IAAKV,EAAQJ,UAAW,GAAGC,OAAOlC,eAAgB,MAAM,CAAE,CAAC,EACzFuC,GAAQ7C,MAAMmD,cAAc,MAAO,CAAEZ,UAAW,GAAGC,OAAOlC,eAAgB,OAAO,CAAE,EAAGuC,CAAI,CAAE,CAAG,CAAE,CACzG,CAAC,EACDtC,KAAK+C,YAAc,sBACJ/C"}