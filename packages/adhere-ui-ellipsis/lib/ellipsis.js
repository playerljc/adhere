"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var l=Object.getOwnPropertyDescriptor(t,r);l&&("get"in l?t.__esModule:!l.writable&&!l.configurable)||(l={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,l)}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,l=0,a=t.length;l<a;l++)!n&&l in t||((n=n||Array.prototype.slice.call(t,0,l))[l]=t[l]);return e.concat(n||Array.prototype.slice.call(t))},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},classnames_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importDefault(require("classnames"))),react_1=__importStar(require("react")),adhere_ui_conditionalrender_1=__importDefault(require("@baifendian/adhere-ui-conditionalrender")),adhere_util_intl_1=__importDefault(require("@baifendian/adhere-util-intl")),core_1=require("@popperjs/core"),selectorPrefix="adhere-ui-ellipsis",Ellipsis=(0,react_1.memo)(function(t){function e(e){return react_1.default.createElement("div",{onClick:function(){P(!w)}},e.children)}var r=t.className,n=t.style,l=t.wrap,a=void 0!==l&&l,l=t.wrapLines,i=void 0===l?2:l,o=t.tooltip,l=t.tooltipMaxLength,c=void 0===l?1024:l,l=t.isUseNativeTooltip,u=void 0===l||l,l=(t.trigger,t.tooltipClassName),l=void 0===l?"":l,s=t.tooltipStyle,s=void 0===s?{}:s,_=t.tooltipArrowClassName,_=void 0===_?"":_,d=t.tooltipArrowStyle,d=void 0===d?{}:d,f=t.tooltipClose,p=t.tooltipMore,m=t.customTooltipOptions,v=void 0===m?{}:m,h=t.dangerouslySetInnerHTML,b=t.children,y=(0,react_1.useRef)(),g=(0,react_1.useRef)(),E=(0,react_1.useRef)(null),m=(0,react_1.useState)(!1),w=m[0],P=m[1],L=(0,react_1.useMemo)(function(){var e;return o||b||(null!=h&&h.__html?((e=document.createElement("div")).innerHTML=h.__html,e.innerText):"")},[o,b,h]),x=(0,react_1.useCallback)(function(){return L.length>c},[o,b,h,c]),m=(0,react_1.useMemo)(function(){var e={};return x()?!w&&"wrapLines"in t&&2<=i?e.WebkitLineClamp=i:e.WebkitLineClamp="unset":"wrapLines"in t&&2<=i?e.WebkitLineClamp=i:e.WebkitLineClamp="unset",e},[w,i,o,b,h,c]),M=(0,react_1.useCallback)(function(){return!x()&&"isUseNativeTooltip"in t&&!u},[o,b,h,c,u]),O=(0,react_1.useCallback)(function(){return!x()&&(!("isUseNativeTooltip"in t)||u)},[o,b,h,c,u]),C=(0,react_1.useCallback)(function(){return x()?!(w||"warp"in t&&a):!("warp"in t&&a)},[w,a,o,b,h,c]),N=(0,react_1.useCallback)(function(){return x()?!w&&"wrap"in t&&a:"wrap"in t&&a},[w,a,o,b,h,c]),A=(0,react_1.useCallback)(function(){return!!x()&&w},[i,w,o,b,h,c]),C=((0,react_1.useEffect)(function(){var e,t,r=["mouseenter","focus"],n=["mouseleave","blur"];function l(){var e,t;null!=(t=null==(e=E.current)?void 0:e.setAttribute)&&t.call(e,"data-show",""),null!=(e=null==(t=g.current)?void 0:t.setOptions)&&e.call(t,function(e){return __assign(__assign({},e),{modifiers:__spreadArray(__spreadArray([],null!=(e=e.modifiers)?e:[],!0),[{name:"eventListeners",enabled:!0}],!1)})}),null!=(t=null==(e=g.current)?void 0:e.update)&&t.call(e)}function a(){var e,t;null!=(e=null==(t=E.current)?void 0:t.removeAttribute)&&e.call(t,"data-show"),null!=(t=null==(e=g.current)?void 0:e.setOptions)&&t.call(e,function(e){return __assign(__assign({},e),{modifiers:__spreadArray(__spreadArray([],null!=(e=e.modifiers)?e:[],!0),[{name:"eventListeners",enabled:!1}],!1)})})}return M()&&(g.current&&null!=(t=null==(e=g.current)?void 0:e.destroy)&&t.call(e),g.current=(0,core_1.createPopper)(y.current,E.current,null!=v?v:{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),r.forEach(function(e){var t,r;null!=(r=null==(t=y.current)?void 0:t.addEventListener)&&r.call(t,e,l)}),n.forEach(function(e){var t,r;null!=(r=null==(t=y.current)?void 0:t.addEventListener)&&r.call(t,e,a)})),function(){r.forEach(function(e){var t,r;null!=(r=null==(t=y.current)?void 0:t.removeEventListener)&&r.call(t,e,l)}),n.forEach(function(e){var t,r;null!=(r=null==(t=y.current)?void 0:t.removeEventListener)&&r.call(t,e,a)})}},[o,b,h,c,u,v]),{className:(0,classnames_1.default)("".concat(selectorPrefix,"-inner"),null!=r?r:"",((r={})["".concat(selectorPrefix,"-line-ellipsis")]=C(),r["".concat(selectorPrefix,"-multi-line-ellipsis")]=N(),r["".concat(selectorPrefix,"-wrap")]=A(),r)),style:__assign(__assign({},m),null!=n?n:{})});return h&&h.__html&&(C.dangerouslySetInnerHTML=h),O()&&(C.title=L),react_1.default.createElement(react_1.default.Fragment,null,react_1.default.createElement("div",{className:"".concat(selectorPrefix)},react_1.default.createElement("div",__assign({ref:y},C),b),x()&&react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:w,noMatch:function(){return react_1.default.createElement(e,null,null!=p?p:react_1.default.createElement("div",{className:"".concat(selectorPrefix,"-show-more")},adhere_util_intl_1.default.v("展开")))}},function(){return react_1.default.createElement(e,null,null!=f?f:react_1.default.createElement("div",{className:"".concat(selectorPrefix,"-hide-more")},adhere_util_intl_1.default.v("收起")))})),M()&&react_1.default.createElement("div",{ref:E,className:(0,classnames_1.default)("".concat(selectorPrefix,"-custom-tool-tip"),null!=l?l:""),style:null!=s?s:{}},react_1.default.createElement("div",{className:(0,classnames_1.default)("".concat(selectorPrefix,"-custom-tool-tip-inner"))},L),react_1.default.createElement("div",{className:(0,classnames_1.default)("".concat(selectorPrefix,"-custom-tool-tip-arrow"),null!=_?_:""),style:null!=d?d:{},"data-popper-arrow":!0})))});Ellipsis.displayName="Ellipsis",exports.default=Ellipsis;
//# sourceMappingURL=Ellipsis.js.map
