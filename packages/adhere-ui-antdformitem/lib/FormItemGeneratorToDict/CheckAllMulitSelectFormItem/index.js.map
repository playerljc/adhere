{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React, { useEffect, useState } from 'react';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport { Checkbox, Divider } from '../../AntFormItemNormalize';\r\nimport MulitSelectFormItem from '../MulitSelectFormItem';\r\nvar selectorPrefix = 'adhere-ui-antdformitem';\r\n/**\r\n * CheckAllMulitSelectFormItem\r\n * @param props\r\n * @constructor\r\n */\r\nvar CheckAllMulitSelectFormItem = function (props) {\r\n    var _a;\r\n    var _b = useState(false), checked = _b[0], setChecked = _b[1];\r\n    function onCheckAllChange(e) {\r\n        setChecked(e.target.checked);\r\n        if (props.onCheckAllChange) {\r\n            props.onCheckAllChange(e.target.checked);\r\n        }\r\n    }\r\n    function onChange(value) {\r\n        var _a, _b;\r\n        setChecked(value.length === (props.dataSource || []).map(function (t) { return t.value; }).length);\r\n        (_b = (_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value);\r\n    }\r\n    function renderDropdownRender(menu) {\r\n        return (React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-wrap\") },\r\n            React.createElement(\"div\", { className: \"\".concat(selectorPrefix, \"-wrap-checkallwrap\") },\r\n                React.createElement(Checkbox, { checked: checked, onChange: onCheckAllChange }, Intl.v('全选'))),\r\n            React.createElement(Divider, { style: { margin: '4px 0' } }),\r\n            menu));\r\n    }\r\n    useEffect(function () {\r\n        var _a;\r\n        setChecked(JSON.stringify(JSON.parse(JSON.stringify(((_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value) || [])).sort()) ===\r\n            JSON.stringify((props.dataSource || []).map(function (t) { return t.value; }).sort()));\r\n    }, [(_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value, props.dataSource]);\r\n    return (React.createElement(MulitSelectFormItem, { selectProps: __assign(__assign({}, props.selectProps), { dropdownRender: renderDropdownRender, onChange: onChange }), dataSource: props.dataSource }));\r\n};\r\nexport default CheckAllMulitSelectFormItem;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","Intl","Checkbox","Divider","MulitSelectFormItem","selectorPrefix","CheckAllMulitSelectFormItem","props","_b","checked","setChecked","onCheckAllChange","e","target","_a","JSON","stringify","parse","selectProps","value","sort","dataSource","map","createElement","dropdownRender","menu","className","concat","onChange","v","style","margin"],"mappings":"AAAA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,SACOO,OAASC,UAAWC,QAAuB,KAAP,eACpCC,SAAU,sCACRC,SAAUC,OAA2C,KAA5B,oCAC3BC,wBAAyB,yBAChC,IAAIC,eAAiB,yBAMjBC,4BAA8B,SAAUC,GACxC,IACIC,EAAKR,SAAS,CAAA,CAAK,EAAGS,EAAUD,EAAG,GAAIE,EAAaF,EAAG,GAC3D,SAASG,EAAiBC,GACtBF,EAAWE,EAAEC,OAAOJ,OAAO,EACvBF,EAAMI,kBACNJ,EAAMI,iBAAiBC,EAAEC,OAAOJ,OAAO,CAE/C,CAkBA,OALAV,UAAU,WACN,IAAIe,EACJJ,EAAWK,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,WAAW,OAACF,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,QAAU,EAAE,CAAC,EAAEC,KAAK,CAAC,IACrLL,KAAKC,WAAWT,EAAMc,YAAc,IAAIC,IAAI,SAAUnC,GAAK,OAAOA,EAAEgC,KAAO,CAAC,EAAEC,KAAK,CAAC,CAAC,CAC7F,EAAG,CAAC,OAACN,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,MAAOZ,EAAMc,WAAW,EACnIvB,MAAMyB,cAAcnB,oBAAqB,CAAEc,YAAanC,SAASA,SAAS,GAAIwB,EAAMW,WAAW,EAAG,CAAEM,eAZ5G,SAA8BC,GAC1B,OAAQ3B,MAAMyB,cAAc,MAAO,CAAEG,UAAW,GAAGC,OAAOtB,eAAgB,OAAO,CAAE,EAC/EP,MAAMyB,cAAc,MAAO,CAAEG,UAAW,GAAGC,OAAOtB,eAAgB,oBAAoB,CAAE,EACpFP,MAAMyB,cAAcrB,SAAU,CAAEO,QAASA,EAASmB,SAAUjB,CAAiB,EAAGV,KAAK4B,EAAE,IAAI,CAAC,CAAC,EACjG/B,MAAMyB,cAAcpB,QAAS,CAAE2B,MAAO,CAAEC,OAAQ,OAAQ,CAAE,CAAC,EAC3DN,CAAK,CACb,EAMkJG,SAjBlJ,SAAkBT,GACd,IAAIL,EAAIN,EACRE,EAAWS,EAAM3B,UAAYe,EAAMc,YAAc,IAAIC,IAAI,SAAUnC,GAAK,OAAOA,EAAEgC,KAAO,CAAC,EAAE3B,MAAM,EACjG,OAACgB,EAAK,OAACM,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGc,WAA+CpB,EAAGZ,KAAKkB,EAAIK,CAAK,CACzL,CAaqK,CAAC,EAAGE,WAAYd,EAAMc,UAAW,CAAE,CAC5M,iBACef"}