{"version":3,"file":"Table.js","sources":["FormItemGeneratorToDict/Fields/Table.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.index-of.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.string.ends-with.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.string.starts-with.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.map.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/esnext.map.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.map.every.js\");\n\nrequire(\"core-js/modules/esnext.map.filter.js\");\n\nrequire(\"core-js/modules/esnext.map.find.js\");\n\nrequire(\"core-js/modules/esnext.map.find-key.js\");\n\nrequire(\"core-js/modules/esnext.map.includes.js\");\n\nrequire(\"core-js/modules/esnext.map.key-of.js\");\n\nrequire(\"core-js/modules/esnext.map.map-keys.js\");\n\nrequire(\"core-js/modules/esnext.map.map-values.js\");\n\nrequire(\"core-js/modules/esnext.map.merge.js\");\n\nrequire(\"core-js/modules/esnext.map.reduce.js\");\n\nrequire(\"core-js/modules/esnext.map.some.js\");\n\nrequire(\"core-js/modules/esnext.map.update.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/***\n  静态的数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n\n  动态的数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n\n  动态的分页数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n***/\n\nvar antd_1 = require(\"antd\");\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar adhere_util_dict_1 = __importDefault(require(\"@baifendian/adhere-util-dict\"));\n\nvar MulitSelectFormItem_1 = __importDefault(require(\"../MulitSelectFormItem\"));\n\nvar SelectFormItem_1 = __importDefault(require(\"../SelectFormItem\"));\n\nvar FormItemComponents = {};\n/**\n * initTable\n * @description 初始化Table\n */\n\nexports.default = function () {\n  // 名称以Table结尾的字典\n  var tableDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('Table');\n  }); // 名称以DynamicTable结尾的字典\n\n  var tableDynamicDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicTable');\n  }); // 名称以TablePagination结尾的字典(肯定是动态数据)\n\n  var tablePaginationDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('TablePagination');\n  });\n  /**\n   * TableFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   rowKey\n   * }\n   * @return {JSX.Element}\n   */\n\n  FormItemComponents[\"TableFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    return react_1.default.createElement(antd_1.Table, __assign({\n      dataSource: dataSource,\n      pagination: false,\n      rowKey: props.rowKey || 'id'\n    }, props));\n  };\n  /**\n   * SelectFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   rowKey\n   *   labelKey\n   * }\n   * @return {JSX.Element}\n   */\n\n\n  FormItemComponents[\"TableSelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    var Component = FormItemComponents[\"TableFormItem\"]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    var _b = (0, react_1.useState)(''),\n        inputValue = _b[0],\n        setInputValue = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _c = (0, react_1.useState)(props.value ? [props.value] : []),\n        selectedRowKeys = _c[0],\n        setSelectedRowKeys = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _d = (0, react_1.useState)(props.value ? dataSource.find(function (t) {\n      return t[props.rowKey || 'id'] === props.value;\n    }) : []),\n        selectedRows = _d[0],\n        setSelectedRows = _d[1];\n    /**\n     * renderDropdownRender\n     * @return {JSX.Element}\n     */\n\n\n    function renderDropdownRender() {\n      var data = inputValue ? dataSource.filter(function (t) {\n        return t[props.labelKey || 'name'].startsWith(inputValue);\n      }) : dataSource;\n      return react_1.default.createElement(Component, __assign({\n        rowSelection: {\n          type: 'radio',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onChange: function onChange(selectedRowKeys, selectedRows) {\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows);\n            props.onChange(selectedRowKeys.length ? selectedRowKeys[0] : '');\n          }\n        }\n      }, props, {\n        dataSource: data\n      }));\n    } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    (0, react_1.useEffect)(function () {\n      if (props.value) {\n        setSelectedRowKeys([props.value]);\n        setSelectedRows([dataSource.find(function (t) {\n          return t[props.rowKey || 'id'] === props.value;\n        })]);\n      } else {\n        setSelectedRowKeys([]);\n        setSelectedRows([]);\n      }\n    }, [props.value]);\n    return react_1.default.createElement(SelectFormItem_1.default, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(value) {\n          props.onChange(value);\n        },\n        filterOption: function filterOption(inputValue) {\n          setInputValue(inputValue);\n          return false;\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onClear: function onClear() {\n          setInputValue('');\n        }\n      }, props.selectProps || {}),\n      dataSource: dataSource.map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  };\n  /**\n   * MulitSelectFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   labelKey\n   *   rowKey\n   * }\n   * @return {JSX.Element}\n   */\n\n\n  FormItemComponents[\"TableMulitSelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    var Component = FormItemComponents[\"TableFormItem\"]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    var _b = (0, react_1.useState)(''),\n        inputValue = _b[0],\n        setInputValue = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _c = (0, react_1.useState)(props.value ? props.value : []),\n        selectedRowKeys = _c[0],\n        setSelectedRowKeys = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _d = (0, react_1.useState)(props.value ? props.value.map(function (t) {\n      return dataSource.find(function (_item) {\n        return _item[props.rowKey || 'id'] === t;\n      });\n    }) : []),\n        selectedRows = _d[0],\n        setSelectedRows = _d[1];\n\n    function renderDropdownRender() {\n      var data = inputValue ? dataSource.filter(function (t) {\n        return t[props.labelKey || 'name'].startsWith(inputValue);\n      }) : dataSource;\n      return react_1.default.createElement(Component, __assign({\n        rowSelection: {\n          type: 'checkbox',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onChange: function onChange(selectedRowKeys, selectedRows) {\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows);\n            props.onChange(selectedRowKeys.length ? selectedRowKeys : []);\n          }\n        }\n      }, props, {\n        dataSource: data\n      }));\n    } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    (0, react_1.useEffect)(function () {\n      if (props.value) {\n        setSelectedRowKeys([props.value]);\n        setSelectedRows(props.value.map(function (t) {\n          return dataSource.find(function (_item) {\n            return _item[props.rowKey || 'id'] === t;\n          });\n        }));\n      } else {\n        setSelectedRowKeys([]);\n        setSelectedRows([]);\n      }\n    }, [props.value]);\n    return react_1.default.createElement(MulitSelectFormItem_1.default, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(values) {\n          props.onChange(values);\n        },\n        filterOption: function filterOption(inputValue) {\n          setInputValue(inputValue);\n          return false;\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onClear: function onClear() {\n          setInputValue('');\n        }\n      }, props.selectProps || {}),\n      dataSource: dataSource.map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  }; // 静态的Table\n\n\n  tableDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n    /**\n     * SelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     *   labelKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableSelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n    /**\n     * MulitSelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableMulitSelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n  }); // 动态的Table\n\n  tableDynamicDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n    /**\n     * SelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableSelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n    /**\n     * MulitSelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableMulitSelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n  }); // 动态的分页Table\n\n  tablePaginationDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     *   dataKey\n     *   totalKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = (0, react_1.useState)(false),\n          loading = _a[0],\n          setLoading = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _c = (0, react_1.useState)({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _c[0],\n          setPagin = _c[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      /**\n       * getPagination\n       * @description 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setData(res[props.dataKey || 'records']);\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      (0, react_1.useEffect)(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]);\n      return react_1.default.createElement(antd_1.Table, __assign({\n        dataSource: data,\n        loading: loading,\n        pagination: getPagination(),\n        rowKey: props.rowKey || 'id'\n      }, props));\n    };\n    /**\n     * SelectFormItem\n     * @param props {\n     *    rowKey\n     *    labelKey\n     * }\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = (0, react_1.useState)(''),\n          inputValue = _a[0],\n          setInputValue = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)(false),\n          loading = _b[0],\n          setLoading = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _c = (0, react_1.useState)([]),\n          data = _c[0],\n          setData = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _d = (0, react_1.useState)({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _d[0],\n          setPagin = _d[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _e = (0, react_1.useState)(props.value ? [props.value] : []),\n          selectedRowKeys = _e[0],\n          setSelectedRowKeys = _e[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _f = (0, react_1.useState)(props.value ? data.find(function (t) {\n        return t[props.rowKey || 'id'] === props.value;\n      }) : []),\n          selectedRows = _f[0],\n          setSelectedRows = _f[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      /**\n       * getPagination\n       * @description 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setData(res[props.dataKey || 'records']);\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      }\n      /**\n       * renderDropdownRender\n       */\n\n\n      function renderDropdownRender() {\n        var dataSource = inputValue ? data.filter(function (t) {\n          return t[props.labelKey || 'name'].startsWith(inputValue);\n        }) : data;\n        return react_1.default.createElement(antd_1.Table, __assign({\n          dataSource: dataSource,\n          loading: loading,\n          pagination: getPagination(),\n          rowKey: props.rowKey || 'id',\n          rowSelection: {\n            type: 'radio',\n            selectedRowKeys: selectedRowKeys,\n            selectedRows: selectedRows,\n            onChange: function onChange(selectedRowKeys, selectedRows) {\n              setSelectedRowKeys(selectedRowKeys);\n              setSelectedRows(selectedRows);\n              props.onChange(selectedRowKeys.length ? selectedRowKeys[0] : '');\n            }\n          }\n        }, props));\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      (0, react_1.useEffect)(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      (0, react_1.useEffect)(function () {\n        if (props.value) {\n          setSelectedRowKeys([props.value]);\n          setSelectedRows([data.find(function (t) {\n            return t[props.rowKey || 'id'] === props.value;\n          })]);\n        } else {\n          setSelectedRowKeys([]);\n          setSelectedRows([]);\n        }\n      }, [props.value]);\n      return react_1.default.createElement(SelectFormItem_1.default, {\n        selectProps: __assign({\n          value: props.value,\n          dropdownRender: renderDropdownRender,\n          onChange: function onChange(value) {\n            props.onChange(value);\n          },\n          filterOption: function filterOption(inputValue) {\n            setInputValue(inputValue);\n            return false;\n          },\n          onBlur: function onBlur() {\n            setInputValue('');\n          },\n          onClear: function onClear() {\n            setInputValue('');\n          }\n        }, props.selectProps || {}),\n        dataSource: data.map(function (t) {\n          return {\n            label: t[props.labelKey || 'name'],\n            value: t[props.rowKey || 'id']\n          };\n        })\n      });\n    };\n    /**\n     * MulitSelectFormItem\n     * @param props {\n     *    rowKey\n     *    labelKey\n     * }\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = (0, react_1.useState)(''),\n          inputValue = _a[0],\n          setInputValue = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = (0, react_1.useState)(false),\n          loading = _b[0],\n          setLoading = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var data = (0, react_1.useRef)(new Map()); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      var _c = (0, react_1.useState)({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _c[0],\n          setPagin = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _d = (0, react_1.useState)(props.value ? props.value : []),\n          selectedRowKeys = _d[0],\n          setSelectedRowKeys = _d[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _e = (0, react_1.useState)(props.value ? props.value.map(function (t) {\n        return getDataSource().find(function (_item) {\n          return _item[props.rowKey || 'id'] === t;\n        });\n      }) : []),\n          selectedRows = _e[0],\n          setSelectedRows = _e[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[dictName].value;\n      /**\n       * getPagination - 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * getDataSource\n       * @return {V|*[]}\n       */\n\n\n      function getDataSource() {\n        return data.current.get(pagin.current) || [];\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          data.current.set(pagin.current, res[props.dataKey || 'records']);\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      }\n      /**\n       * filter\n       * @param selected\n       * @param records\n       */\n\n\n      function filter(selected, records) {\n        var rowKey = props.rowKey || 'id';\n\n        var _selectedRowKeys;\n\n        var _selectedRows;\n\n        if (selected) {\n          // add\n          _selectedRowKeys = __spreadArray(__spreadArray([], selectedRowKeys, true), records.map(function (r) {\n            return r[rowKey];\n          }), true);\n          _selectedRows = __spreadArray(__spreadArray([], selectedRows, true), records, true);\n        } else {\n          // remove\n          _selectedRowKeys = selectedRowKeys.filter(function (key) {\n            return !records.find(function (r) {\n              return r[rowKey] === key;\n            });\n          });\n          _selectedRows = selectedRows.filter(function (row) {\n            return !records.find(function (r) {\n              return r[rowKey] === row[rowKey];\n            });\n          });\n        }\n\n        setSelectedRowKeys(_selectedRowKeys);\n        setSelectedRows(_selectedRows);\n        props.onChange(_selectedRowKeys);\n      }\n      /**\n       * renderDropdownRender\n       */\n\n\n      function renderDropdownRender() {\n        var dataSource = inputValue ? getDataSource().filter(function (t) {\n          return t[props.labelKey || 'name'].startsWith(inputValue);\n        }) : getDataSource();\n        return react_1.default.createElement(antd_1.Table, __assign({\n          dataSource: dataSource,\n          loading: loading,\n          pagination: getPagination(),\n          rowKey: props.rowKey || 'id',\n          rowSelection: {\n            type: 'checkbox',\n            selectedRowKeys: selectedRowKeys,\n            selectedRows: selectedRows,\n            onSelect: function onSelect(record, selected) {\n              filter(selected, [record]);\n            },\n            onSelectAll: function onSelectAll(selected, selectedRows, changeRows) {\n              filter(selected, changeRows);\n            }\n          }\n        }, props));\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      (0, react_1.useEffect)(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]);\n      return react_1.default.createElement(MulitSelectFormItem_1.default, {\n        selectProps: __assign({\n          value: props.value,\n          dropdownRender: renderDropdownRender,\n          onChange: function onChange(value) {\n            props.onChange(value);\n            setSelectedRowKeys(value);\n            setSelectedRows(value.map(function (t) {\n              return Array.from(data.values()).find(function (_item) {\n                return _item[props.rowKey || 'id'] === t;\n              });\n            }));\n          },\n          onClear: function onClear() {\n            setSelectedRowKeys([]);\n            setSelectedRows([]);\n            setInputValue('');\n            props.onChange([]);\n          },\n          onBlur: function onBlur() {\n            setInputValue('');\n          },\n          filterOption: function filterOption(inputValue) {\n            setInputValue(inputValue);\n            return false;\n          }\n        }, props.selectProps || {}),\n        dataSource: getDataSource().map(function (t) {\n          return {\n            label: t[props.labelKey || 'name'],\n            value: t[props.rowKey || 'id']\n          };\n        })\n      });\n    };\n  });\n  return FormItemComponents;\n};"],"names":["require","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","__importDefault","default","antd_1","exports","react_1","adhere_util_dict_1","MulitSelectFormItem_1","SelectFormItem_1","FormItemComponents","tableDictNames","keys","handlers","filter","dictName","endsWith","tableDynamicDictNames","tablePaginationDictNames","_a","dataSource","props","createElement","Table","pagination","rowKey","Component","_b","useState","inputValue","setInputValue","_c","selectedRowKeys","setSelectedRowKeys","_d","find","selectedRows","setSelectedRows","useEffect","selectProps","dropdownRender","data","labelKey","startsWith","rowSelection","type","onChange","filterOption","onBlur","onClear","map","label","_item","values","forEach","cascadeParams","handler","Function","setData","then","res","loading","setLoading","current","pageSize","total","pagin","setPagin","totalKey","dataKey","catch","onShowSizeChange","showQuickJumper","_e","_f","useRef","Map","getDataSource","selected","records","_selectedRowKeys","_selectedRows","r","key","row","set","onSelect","record","onSelectAll","changeRows"],"mappings":"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"}