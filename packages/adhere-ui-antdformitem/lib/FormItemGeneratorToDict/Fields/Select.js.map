{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.object.assign.js\");\n\nrequire(\"core-js/modules/es.object.get-own-property-descriptor.js\");\n\nrequire(\"core-js/modules/es.object.define-property.js\");\n\nrequire(\"core-js/modules/es.array.index-of.js\");\n\nrequire(\"core-js/modules/es.symbol.js\");\n\nrequire(\"core-js/modules/es.array.slice.js\");\n\nrequire(\"core-js/modules/es.array.concat.js\");\n\nrequire(\"core-js/modules/es.array.filter.js\");\n\nrequire(\"core-js/modules/es.object.to-string.js\");\n\nrequire(\"core-js/modules/es.object.keys.js\");\n\nrequire(\"core-js/modules/es.string.ends-with.js\");\n\nrequire(\"core-js/modules/es.array.map.js\");\n\nrequire(\"core-js/modules/web.dom-collections.for-each.js\");\n\nrequire(\"core-js/modules/es.array.find.js\");\n\nrequire(\"core-js/modules/es.array.from.js\");\n\nrequire(\"core-js/modules/es.string.iterator.js\");\n\nrequire(\"core-js/modules/es.array.iterator.js\");\n\nrequire(\"core-js/modules/es.set.js\");\n\nrequire(\"core-js/modules/esnext.set.add-all.js\");\n\nrequire(\"core-js/modules/esnext.set.delete-all.js\");\n\nrequire(\"core-js/modules/esnext.set.difference.js\");\n\nrequire(\"core-js/modules/esnext.set.every.js\");\n\nrequire(\"core-js/modules/esnext.set.filter.js\");\n\nrequire(\"core-js/modules/esnext.set.find.js\");\n\nrequire(\"core-js/modules/esnext.set.intersection.js\");\n\nrequire(\"core-js/modules/esnext.set.is-disjoint-from.js\");\n\nrequire(\"core-js/modules/esnext.set.is-subset-of.js\");\n\nrequire(\"core-js/modules/esnext.set.is-superset-of.js\");\n\nrequire(\"core-js/modules/esnext.set.join.js\");\n\nrequire(\"core-js/modules/esnext.set.map.js\");\n\nrequire(\"core-js/modules/esnext.set.reduce.js\");\n\nrequire(\"core-js/modules/esnext.set.some.js\");\n\nrequire(\"core-js/modules/esnext.set.symmetric-difference.js\");\n\nrequire(\"core-js/modules/esnext.set.union.js\");\n\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function get() {\n        return m[k];\n      }\n    };\n  }\n\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = void 0 && (void 0).__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = void 0 && (void 0).__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar debounce_1 = __importDefault(require(\"lodash/debounce\"));\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar adhere_ui_hooks_1 = __importDefault(require(\"@baifendian/adhere-ui-hooks\"));\n\nvar adhere_util_dict_1 = __importDefault(require(\"@baifendian/adhere-util-dict\"));\n\nvar adhere_util_watchmemoized_1 = __importDefault(require(\"@baifendian/adhere-util-watchmemoized\"));\n\nvar AntFormItemNormalize_1 = require(\"../../AntFormItemNormalize\");\n\nvar CheckAllMulitSelectFormItem_1 = __importDefault(require(\"../CheckAllMulitSelectFormItem\"));\n\nvar MulitSelectFormItem_1 = __importDefault(require(\"../MulitSelectFormItem\"));\n\nvar SelectFormItem_1 = __importDefault(require(\"../SelectFormItem\"));\n\nvar FormItemComponents = {};\nvar memoized = adhere_util_watchmemoized_1.default.memoized;\nvar useForceUpdate = adhere_ui_hooks_1.default.useForceUpdate;\n/**\n * initSelect\n * @description 初始化Select\n */\n\nexports.default = function () {\n  // 名称以Select结尾的字典\n  var selectDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('Select');\n  }); // 名称以DynamicSelect结尾的字典\n\n  var selectDynamicDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicSelect');\n  }); // 名称以AutoComplete结尾的字典\n\n  var selectAutoCompleteDictNames = Object.keys(adhere_util_dict_1.default.handlers).filter(function (dictName) {\n    return dictName.endsWith('AutoCompleteSelect');\n  }); // SelectFormItem\n\n  FormItemComponents[\"SelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]); // @ts-ignore\n\n\n    return react_1.default.createElement(SelectFormItem_1.default, {\n      selectProps: __assign({}, props),\n      dataSource: dataSource\n    });\n  }; // MulitSelectFormItem\n\n\n  FormItemComponents[\"SelectMulitFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]); // @ts-ignore\n\n\n    return react_1.default.createElement(MulitSelectFormItem_1.default, {\n      selectProps: __assign({}, props),\n      dataSource: dataSource\n    });\n  }; // CheckAllMulitSelectFormItem\n\n\n  FormItemComponents[\"SelectCheckAllMulitFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        onCheckAllChange = _a.onCheckAllChange,\n        props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n\n    return react_1.default.createElement(CheckAllMulitSelectFormItem_1.default // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({}, props),\n      dataSource: dataSource,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        props.onChange(checkAll ? dataSource.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  }; // 静态的Select\n\n\n  selectDictNames.forEach(function (selectDictName) {\n    // 创建三个FormItem\n    // SelectFormItem\n    // MulitSelectFormItem\n    // CheckAllMulitSelectFormItem\n    // SelectFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    }; // MulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectMulitFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    }; // CheckAllMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectCheckAllMulitFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n  }); // 动态的Select\n\n  selectDynamicDictNames.forEach(function (selectDictName) {\n    // 创建三个FormItem\n    // SelectFormItem\n    // MulitSelectFormItem\n    // CheckAllMulitSelectFormItem\n    // SelectFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    }; // MulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectMulitFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    }; // CheckAllMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = (0, react_1.useState)([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      (0, react_1.useEffect)(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      (0, react_1.useEffect)(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectCheckAllMulitFormItem\"];\n      return react_1.default.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n  }); // 自动补全的Select\n\n  selectAutoCompleteDictNames.forEach(function (selectDictName) {\n    // AutoCompleteFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var _b = _a.debounceTimeout,\n          debounceTimeout = _b === void 0 ? 300 : _b,\n          props = __rest(_a, [\"debounceTimeout\"]);\n\n      var forceUpdate = useForceUpdate();\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      var fetchRef = (0, react_1.useRef)(0);\n\n      var _c = (0, react_1.useState)(false),\n          fetching = _c[0],\n          setFetching = _c[1];\n\n      var _d = (0, react_1.useState)([]),\n          options = _d[0],\n          setOptions = _d[1];\n\n      var debounceFetcher = (0, react_1.useRef)();\n      (0, react_1.useEffect)(function () {\n        debounceFetcher.current = (0, debounce_1.default)(memoized.createMemoFun(function (value) {\n          fetchRef.current += 1;\n          var fetchId = fetchRef.current;\n\n          if (!value || Array.isArray(value) && !value.length) {\n            setOptions(function (_opts) {\n              return _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              });\n            });\n            setFetching(false);\n            return;\n          }\n\n          handler(value).then(function (newOptions) {\n            if (fetchId !== fetchRef.current) {\n              // for fetch callback order\n              return;\n            } // @ts-ignore\n\n\n            setOptions(function (_opts) {\n              var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              }), true);\n\n              return __spreadArray([], Array.from(new Set(data.map(function (t) {\n                return t.value;\n              }))), true).map(function (val) {\n                return data.find(function (item) {\n                  return item.value === val;\n                });\n              });\n            });\n            setFetching(false);\n          });\n        }), debounceTimeout || 300);\n        forceUpdate();\n      }, [debounceTimeout, props.value]);\n      return react_1.default.createElement(SelectFormItem_1.default // @ts-ignore\n      , {\n        // @ts-ignore\n        selectProps: __assign({\n          notFoundContent: fetching ? react_1.default.createElement(AntFormItemNormalize_1.Spin, {\n            size: \"small\"\n          }) : null,\n          filterOption: false,\n          onSearch: debounceFetcher.current,\n          onClear: function onClear() {\n            setOptions([]);\n            setFetching(false);\n          }\n        }, props),\n        dataSource: options\n      });\n    }; // AutoCompleteMulitFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (props) {\n      var Component = FormItemComponents[\"\".concat(selectDictName, \"FormItem\")];\n      return react_1.default.createElement(Component, __assign({\n        mode: \"multiple\"\n      }, props));\n    }; // CheckAllAutoCompleteMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (props) {\n      var forceUpdate = useForceUpdate();\n\n      var onCheckAllChange = props.onCheckAllChange,\n          debounceTimeout = props.debounceTimeout,\n          others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n\n      var handler = adhere_util_dict_1.default.value[selectDictName].value;\n      var fetchRef = (0, react_1.useRef)(0);\n\n      var _a = (0, react_1.useState)(false),\n          fetching = _a[0],\n          setFetching = _a[1];\n\n      var _b = (0, react_1.useState)([]),\n          options = _b[0],\n          setOptions = _b[1];\n\n      var debounceFetcher = (0, react_1.useRef)();\n      (0, react_1.useEffect)(function () {\n        debounceFetcher.current = (0, debounce_1.default)(memoized.createMemoFun(function (value) {\n          fetchRef.current += 1;\n          var fetchId = fetchRef.current;\n\n          if (!value || Array.isArray(value) && !value.length) {\n            setOptions(function (_opts) {\n              return _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              });\n            });\n            setFetching(false);\n            return;\n          }\n\n          handler(value).then(function (newOptions) {\n            if (fetchId !== fetchRef.current) {\n              // for fetch callback order\n              return;\n            } // @ts-ignore\n\n\n            setOptions(function (_opts) {\n              var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              }), true);\n\n              return __spreadArray([], Array.from(new Set(data.map(function (t) {\n                return t.value;\n              }))), true).map(function (val) {\n                return data.find(function (item) {\n                  return item.value === val;\n                });\n              });\n            });\n            setFetching(false);\n          });\n        }), debounceTimeout || 300);\n        forceUpdate();\n      }, [debounceTimeout, props.value]);\n      return (// @ts-ignore\n        react_1.default.createElement(CheckAllMulitSelectFormItem_1.default, {\n          selectProps: __assign({\n            notFoundContent: fetching ? react_1.default.createElement(AntFormItemNormalize_1.Spin, {\n              size: \"small\"\n            }) : null,\n            filterOption: false,\n            onSearch: debounceFetcher.current,\n            onClear: function onClear() {\n              setOptions([]);\n              setFetching(false);\n            }\n          }, others),\n          dataSource: options,\n          onCheckAllChange: function onCheckAllChange(checkAll) {\n            // @ts-ignore\n            others.onChange(checkAll ? options.map(function (t) {\n              return t.value;\n            }) : []);\n          }\n        })\n      );\n    };\n  });\n  return FormItemComponents;\n};"],"names":["require","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","__importDefault","default","debounce_1","exports","react_1","adhere_ui_hooks_1","adhere_util_dict_1","adhere_util_watchmemoized_1","AntFormItemNormalize_1","CheckAllMulitSelectFormItem_1","MulitSelectFormItem_1","SelectFormItem_1","FormItemComponents","memoized","useForceUpdate","selectDictNames","keys","handlers","filter","dictName","endsWith","selectDynamicDictNames","selectAutoCompleteDictNames","_a","dataSource","props","createElement","selectProps","onCheckAllChange","checkAll","onChange","map","forEach","selectDictName","cascadeParams","handler","Function","Component","_b","useState","data","setData","useEffect","then","res","debounceTimeout","forceUpdate","fetchRef","useRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","find","newOptions","Set","val","item","notFoundContent","Spin","size","filterOption","onSearch","onClear","mode","others"],"mappings":"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"}