{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckBoxCheckAllSelectFormItem/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React, { useEffect, useState } from 'react';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport { Checkbox, Space } from '../../AntFormItemNormalize';\r\nimport MulitSelectFormItem from '../MulitSelectFormItem';\r\n/**\r\n * CheckBoxSelectFormItem\r\n * @param props\r\n * @return {JSX.Element}\r\n * @constructor\r\n */\r\nvar CheckBoxSelectFormItem = function (props) {\r\n    var _a = useState(''), inputValue = _a[0], setInputValue = _a[1];\r\n    var _b = useState(props.value.length === props.dataSource.length), checkAll = _b[0], setCheckAll = _b[1];\r\n    /**\r\n     * renderDropdownRender\r\n     * @return {JSX.Element}\r\n     */\r\n    function renderDropdownRender() {\r\n        var data = inputValue\r\n            ? props.dataSource.filter(function (t) { return t.label.indexOf(inputValue) !== -1; })\r\n            : props.dataSource;\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox, { style: { marginLeft: 10 }, checked: checkAll, onChange: function (e) {\r\n                        var _a, _b;\r\n                        if (e.target.checked) {\r\n                            (_a = props === null || props === void 0 ? void 0 : props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, props.dataSource.map(function (t) { return t.value; }));\r\n                            setCheckAll(true);\r\n                        }\r\n                        else {\r\n                            (_b = props === null || props === void 0 ? void 0 : props.onChange) === null || _b === void 0 ? void 0 : _b.call(props, []);\r\n                            setCheckAll(false);\r\n                        }\r\n                    } }, Intl.v('全选'))),\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox.Group, __assign({ style: { padding: 10 } }, props, { onChange: function (values) {\r\n                        var _a;\r\n                        (_a = props === null || props === void 0 ? void 0 : props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, values);\r\n                        setCheckAll(values.length === (props.dataSource || []).length);\r\n                    } }),\r\n                    React.createElement(Space, { direction: \"vertical\" }, data.map(function (t) { return (React.createElement(Checkbox, { key: t.value, value: t.value, disabled: t.disabled }, t.label)); }))))));\r\n    }\r\n    useEffect(function () {\r\n        setCheckAll(props.value.length === props.dataSource.length);\r\n    }, [props.value, props.dataSource]);\r\n    return (React.createElement(MulitSelectFormItem, { selectProps: __assign({ value: props.value, dropdownRender: renderDropdownRender, \r\n            // @ts-ignore\r\n            onChange: function (values) {\r\n                var _a;\r\n                (_a = props === null || props === void 0 ? void 0 : props.onChange) === null || _a === void 0 ? void 0 : _a.call(props, values);\r\n                setCheckAll(values.length === (props.dataSource || []).length);\r\n            }, filterOption: function () {\r\n                return false;\r\n            }, onSearch: function (inputValue) { return setInputValue(inputValue); }, onBlur: function () {\r\n                setInputValue('');\r\n            }, onClear: function () {\r\n                setInputValue('');\r\n            } }, (props.selectProps || {})), dataSource: props.dataSource }));\r\n};\r\nexport default CheckBoxSelectFormItem;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","Intl","Checkbox","Space","MulitSelectFormItem","CheckBoxSelectFormItem","props","_a","inputValue","setInputValue","_b","value","dataSource","checkAll","setCheckAll","createElement","selectProps","dropdownRender","data","filter","label","indexOf","style","marginLeft","checked","onChange","e","target","map","v","Group","padding","values","direction","key","disabled","filterOption","onSearch","onBlur","onClear"],"mappings":"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"}