{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/AutoCompleteFormItem/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport React, { useMemo } from 'react';\r\nimport { AutoComplete } from '../../AntFormItemNormalize';\r\n/**\r\n * AutoCompleteFormItem\r\n * @param props\r\n * @return {JSX.Element}\r\n * @constructor\r\n */\r\nvar AutoCompleteFormItem = function (props) {\r\n    // 选择Select的时候调用\r\n    var onSelect = function (selectValue) {\r\n        if (props === null || props === void 0 ? void 0 : props.onChange) {\r\n            props.onChange({\r\n                inputValue: '',\r\n                selectValue: selectValue,\r\n            });\r\n        }\r\n    };\r\n    // 每次输入的时候调用\r\n    var onSearch = function (searchText) {\r\n        if (props === null || props === void 0 ? void 0 : props.onChange) {\r\n            props.onChange({\r\n                inputValue: searchText.trim(),\r\n                selectValue: undefined,\r\n            });\r\n        }\r\n    };\r\n    var value = useMemo(function () {\r\n        var _a, _b;\r\n        if (props.value.inputValue)\r\n            return props.value.inputValue;\r\n        if (props.value.selectValue)\r\n            return (_b = (_a = props === null || props === void 0 ? void 0 : props.dataSource) === null || _a === void 0 ? void 0 : _a.find(function (t) { return t.value === props.value.selectValue; })) === null || _b === void 0 ? void 0 : _b.label;\r\n    }, [props.value, props.value.inputValue, props.value.selectValue]);\r\n    var options = useMemo(function () {\r\n        var _a, _b;\r\n        if (!props.value.inputValue)\r\n            return props.dataSource || [];\r\n        return ((_b = (_a = props === null || props === void 0 ? void 0 : props.dataSource) === null || _a === void 0 ? void 0 : _a.filter) === null || _b === void 0 ? void 0 : _b.call(_a, function (t) { return t.label.includes(props.value.inputValue); })) || [];\r\n    }, [props.value, props.value.inputValue, props.value.selectValue]);\r\n    return (React.createElement(AutoComplete, __assign({ options: options, filterOption: false, onSelect: onSelect, onSearch: onSearch }, props, { value: value })));\r\n};\r\nexport default AutoCompleteFormItem;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useMemo","AutoComplete","AutoCompleteFormItem","props","value","_b","inputValue","selectValue","_a","dataSource","find","label","options","filter","includes","createElement","filterOption","onSelect","onChange","onSearch","searchText","trim","undefined"],"mappings":"AAAA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,SACOO,OAASC,OAAsB,KAAP,eACtBC,YAAgD,KAA5B,6BAO7B,IAAIC,qBAAuB,SAAUC,GAEjC,IAiBIC,EAAQJ,QAAQ,WAChB,IAAQK,EACR,OAAIF,EAAMC,MAAME,aAEZH,CAAAA,EAAMC,MAAMG,aACL,OAACF,EAAK,OAACG,EAAKL,MAAAA,EAAqC,KAAA,EAASA,EAAMM,YAAwC,KAAA,EAASD,EAAGE,KAAK,SAAUtB,GAAK,OAAOA,EAAEgB,QAAUD,EAAMC,MAAMG,WAAa,CAAC,GADhM,KAAA,EACwOF,EAAGM,MAC/O,EAAG,CAACR,EAAMC,MAAOD,EAAMC,MAAME,WAAYH,EAAMC,MAAMG,YAAY,EAC7DK,EAAUZ,QAAQ,WAClB,IAAIQ,EAAIH,EACR,OAAKF,EAAMC,MAAME,YAET,OAACD,EAAK,OAACG,EAAKL,MAAAA,EAAqC,KAAA,EAASA,EAAMM,YAAwC,KAAA,EAASD,EAAGK,QAAoC,KAAA,EAASR,EAAGR,KAAKW,EAAI,SAAUpB,GAAK,OAAOA,EAAEuB,MAAMG,SAASX,EAAMC,MAAME,UAAU,CAAG,CAAC,IAAM,GADjPH,EAAMM,YAAc,EAEnC,EAAG,CAACN,EAAMC,MAAOD,EAAMC,MAAME,WAAYH,EAAMC,MAAMG,YAAY,EACjE,OAAQR,MAAMgB,cAAcd,aAAcjB,SAAS,CAAE4B,QAASA,EAASI,aAAc,CAAA,EAAOC,SA9B7E,SAAUV,GACjBJ,MAAAA,GAA8CA,EAAMe,UACpDf,EAAMe,SAAS,CACXZ,WAAY,GACZC,YAAaA,CACjB,CAAC,CAET,EAuBgHY,SArBjG,SAAUC,GACjBjB,MAAAA,GAA8CA,EAAMe,UACpDf,EAAMe,SAAS,CACXZ,WAAYc,EAAWC,KAAK,EAC5Bd,YAAae,KAAAA,CACjB,CAAC,CAET,CAcmI,EAAGnB,EAAO,CAAEC,MAAOA,CAAM,CAAC,CAAE,CACnK,iBACeF"}