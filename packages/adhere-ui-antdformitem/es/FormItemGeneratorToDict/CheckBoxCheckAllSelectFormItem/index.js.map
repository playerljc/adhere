{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckBoxCheckAllSelectFormItem/index.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { Checkbox, Space } from 'antd';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Intl from '@baifendian/adhere-util-intl';\r\nimport MulitSelectFormItem from '../MulitSelectFormItem';\r\n/**\r\n * CheckBoxSelectFormItem\r\n * @param props\r\n * @return {JSX.Element}\r\n * @constructor\r\n */\r\nvar CheckBoxSelectFormItem = function (props) {\r\n    var _a = useState(''), inputValue = _a[0], setInputValue = _a[1];\r\n    var _b = useState(props.value.length === props.dataSource.length), checkAll = _b[0], setCheckAll = _b[1];\r\n    /**\r\n     * renderDropdownRender\r\n     * @return {JSX.Element}\r\n     */\r\n    function renderDropdownRender() {\r\n        var data = inputValue\r\n            ? props.dataSource.filter(function (t) { return t.label.startsWith(inputValue); })\r\n            : props.dataSource;\r\n        return (React.createElement(\"div\", null,\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox, { style: { marginLeft: 10 }, checked: checkAll, onChange: function (e) {\r\n                        if (e.target.checked) {\r\n                            props.onChange(props.dataSource.map(function (t) { return t.value; }));\r\n                            setCheckAll(true);\r\n                        }\r\n                        else {\r\n                            props.onChange([]);\r\n                            setCheckAll(false);\r\n                        }\r\n                    } }, Intl.v('全选'))),\r\n            React.createElement(\"div\", null,\r\n                React.createElement(Checkbox.Group, __assign({ style: { padding: 10 } }, props, { onChange: function (values) {\r\n                        props.onChange(values);\r\n                        setCheckAll(values.length === (props.dataSource || []).length);\r\n                    } }),\r\n                    React.createElement(Space, { direction: \"vertical\" }, data.map(function (t) { return (React.createElement(Checkbox, { key: t.value, value: t.value, disabled: t.disabled }, t.label)); }))))));\r\n    }\r\n    useEffect(function () {\r\n        setCheckAll(props.value.length === props.dataSource.length);\r\n    }, [props.value, props.dataSource]);\r\n    return (React.createElement(MulitSelectFormItem, { selectProps: __assign({ value: props.value, dropdownRender: renderDropdownRender, \r\n            // @ts-ignore\r\n            onChange: function (values) {\r\n                props.onChange(values);\r\n                setCheckAll(values.length === (props.dataSource || []).length);\r\n            }, filterOption: function (inputValue) {\r\n                setInputValue(inputValue);\r\n                return false;\r\n            }, onBlur: function () {\r\n                setInputValue('');\r\n            }, onClear: function () {\r\n                setInputValue('');\r\n            } }, (props.selectProps || {})), dataSource: props.dataSource }));\r\n};\r\nexport default CheckBoxSelectFormItem;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","Checkbox","Space","React","useEffect","useState","Intl","MulitSelectFormItem","CheckBoxSelectFormItem","props","_a","inputValue","setInputValue","_b","value","dataSource","checkAll","setCheckAll","createElement","selectProps","dropdownRender","data","filter","label","startsWith","style","marginLeft","checked","onChange","e","target","map","v","Group","padding","values","direction","key","disabled","filterOption","onBlur","onClear"],"mappings":"AAAA,IAAIA,SAAYC,MAAQA,KAAKD,UAAa,WAStC,OARAA,SAAWE,OAAOC,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAC1DN,EAAEM,GAAKL,EAAEK,IAEjB,OAAON,CACX,GACgBU,MAAMb,KAAMO,SAAS,CACzC,SACSO,SAAUC,KAAmB,KAAN,cACzBC,OAASC,UAAWC,QAAuB,KAAP,eACpCC,SAAU,sCACVC,wBAAyB,yBAOhC,IAAIC,uBAAyB,SAAUC,GACnC,IAAIC,EAAKL,SAAS,EAAE,EAAGM,EAAaD,EAAG,GAAIE,EAAgBF,EAAG,GAC1DG,EAAKR,SAASI,EAAMK,MAAMnB,SAAWc,EAAMM,WAAWpB,MAAM,EAAGqB,EAAWH,EAAG,GAAII,EAAcJ,EAAG,GA+BtG,OAHAT,UAAU,WACNa,EAAYR,EAAMK,MAAMnB,SAAWc,EAAMM,WAAWpB,MAAM,CAC9D,EAAG,CAACc,EAAMK,MAAOL,EAAMM,WAAW,EAC1BZ,MAAMe,cAAcX,oBAAqB,CAAEY,YAAajC,SAAS,CAAE4B,MAAOL,EAAMK,MAAOM,eA1B/F,WACI,IAAIC,EAAOV,EACLF,EAAMM,WAAWO,OAAO,SAAUhC,GAAK,OAAOA,EAAEiC,MAAMC,WAAWb,CAAU,CAAG,CAAC,EAC/EF,EAAMM,WACZ,OAAQZ,MAAMe,cAAc,MAAO,KAC/Bf,MAAMe,cAAc,MAAO,KACvBf,MAAMe,cAAcjB,SAAU,CAAEwB,MAAO,CAAEC,WAAY,EAAG,EAAGC,QAASX,EAAUY,SAAU,SAAUC,GACtFA,EAAEC,OAAOH,SACTlB,EAAMmB,SAASnB,EAAMM,WAAWgB,IAAI,SAAUzC,GAAK,OAAOA,EAAEwB,KAAO,CAAC,CAAC,EACrEG,EAAY,CAAA,CAAI,IAGhBR,EAAMmB,SAAS,EAAE,EACjBX,EAAY,CAAA,CAAK,EAEzB,CAAE,EAAGX,KAAK0B,EAAE,IAAI,CAAC,CAAC,EAC1B7B,MAAMe,cAAc,MAAO,KACvBf,MAAMe,cAAcjB,SAASgC,MAAO/C,SAAS,CAAEuC,MAAO,CAAES,QAAS,EAAG,CAAE,EAAGzB,EAAO,CAAEmB,SAAU,SAAUO,GAC9F1B,EAAMmB,SAASO,CAAM,EACrBlB,EAAYkB,EAAOxC,UAAYc,EAAMM,YAAc,IAAIpB,MAAM,CACjE,CAAE,CAAC,EACHQ,MAAMe,cAAchB,MAAO,CAAEkC,UAAW,UAAW,EAAGf,EAAKU,IAAI,SAAUzC,GAAK,OAAQa,MAAMe,cAAcjB,SAAU,CAAEoC,IAAK/C,EAAEwB,MAAOA,MAAOxB,EAAEwB,MAAOwB,SAAUhD,EAAEgD,QAAS,EAAGhD,EAAEiC,KAAM,CAAG,CAAC,CAAC,CAAC,CAAC,CAAE,CAC7M,EAMQK,SAAU,SAAUO,GAChB1B,EAAMmB,SAASO,CAAM,EACrBlB,EAAYkB,EAAOxC,UAAYc,EAAMM,YAAc,IAAIpB,MAAM,CACjE,EAAG4C,aAAc,SAAU5B,GAEvB,OADAC,EAAcD,CAAU,EACjB,CAAA,CACX,EAAG6B,OAAQ,WACP5B,EAAc,EAAE,CACpB,EAAG6B,QAAS,WACR7B,EAAc,EAAE,CACpB,CAAE,EAAIH,EAAMU,aAAe,EAAG,EAAGJ,WAAYN,EAAMM,UAAW,CAAE,CAC5E,iBACeP"}