{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["import _Divider from \"antd/es/divider\";\nimport _Checkbox from \"antd/es/checkbox\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useEffect, useState } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nvar selectorPrefix = 'adhere-ui-antdformitem';\n/**\n * CheckAllMulitSelectFormItem\n * @param props\n * @constructor\n */\n\nvar CheckAllMulitSelectFormItem = function CheckAllMulitSelectFormItem(props) {\n  var _a = useState(false),\n      checked = _a[0],\n      setChecked = _a[1];\n\n  function onCheckAllChange(e) {\n    setChecked(e.target.checked);\n\n    if (props.onCheckAllChange) {\n      props.onCheckAllChange(e.target.checked);\n    }\n  }\n\n  function onChange(value) {\n    var _a, _b;\n\n    setChecked(value.length === (props.dataSource || []).map(function (t) {\n      return t.value;\n    }).length);\n    (_b = (_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  }\n\n  function renderDropdownRender(menu) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap-checkallwrap\")\n    }, /*#__PURE__*/React.createElement(_Checkbox, {\n      checked: checked,\n      onChange: onCheckAllChange\n    }, Intl.v('全选'))), /*#__PURE__*/React.createElement(_Divider, {\n      style: {\n        margin: '4px 0'\n      }\n    }), menu);\n  }\n\n  useEffect(function () {\n    setChecked(JSON.stringify(JSON.parse(JSON.stringify(props.selectProps.value || [])).sort()) === JSON.stringify((props.dataSource || []).map(function (t) {\n      return t.value;\n    }).sort()));\n  }, [props.selectProps.value, props.dataSource]);\n  return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n    selectProps: __assign(__assign({}, props.selectProps), {\n      dropdownRender: renderDropdownRender,\n      onChange: onChange\n    }),\n    dataSource: props.dataSource\n  });\n};\n\nexport default CheckAllMulitSelectFormItem;"],"names":["_Divider","_Checkbox","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","Intl","MulitSelectFormItem","selectorPrefix","CheckAllMulitSelectFormItem","props","_a","checked","setChecked","onCheckAllChange","e","target","JSON","stringify","parse","selectProps","value","sort","dataSource","map","createElement","dropdownRender","menu","className","concat","onChange","v","style","margin","_b"],"mappings":"OAAOA,aAAc,yBACdC,cAAe,yBACf,4CACA,wCACA,mCAEP,IAAIC,SAAWC,MAAQA,KAAKD,UAAY,WAatC,OAZAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAG/C,IAAK,IAAII,KAFTL,EAAIG,UAAUF,GAGRJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAI7D,OAAON,CACT,GAEgBU,MAAMb,KAAMO,SAAS,CACvC,SAEOO,OAASC,UAAWC,QAAuB,KAAP,eACpCC,SAAU,sCACVC,wBAAyB,yBAChC,IAAIC,eAAiB,yBAOjBC,4BAA8B,SAAqCC,GACrE,IAAIC,EAAKN,SAAS,CAAA,CAAK,EACnBO,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAEpB,SAASG,EAAiBC,GACxBF,EAAWE,EAAEC,OAAOJ,OAAO,EAEvBF,EAAMI,kBACRJ,EAAMI,iBAAiBC,EAAEC,OAAOJ,OAAO,CAE3C,CA+BA,OALAR,UAAU,WACRS,EAAWI,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,UAAUR,EAAMU,YAAYC,OAAS,EAAE,CAAC,EAAEC,KAAK,CAAC,IAAML,KAAKC,WAAWR,EAAMa,YAAc,IAAIC,IAAI,SAAUhC,GACpJ,OAAOA,EAAE6B,KACX,CAAC,EAAEC,KAAK,CAAC,CAAC,CACZ,EAAG,CAACZ,EAAMU,YAAYC,MAAOX,EAAMa,WAAW,EAC1BpB,MAAMsB,cAAclB,oBAAqB,CAC3Da,YAAahC,SAASA,SAAS,GAAIsB,EAAMU,WAAW,EAAG,CACrDM,eAtBJ,SAA8BC,GAC5B,OAAoBxB,MAAMsB,cAAc,MAAO,CAC7CG,UAAW,GAAGC,OAAOrB,eAAgB,OAAO,CAC9C,EAAgBL,MAAMsB,cAAc,MAAO,CACzCG,UAAW,GAAGC,OAAOrB,eAAgB,oBAAoB,CAC3D,EAAgBL,MAAMsB,cAActC,UAAW,CAC7CyB,QAASA,EACTkB,SAAUhB,CACZ,EAAGR,KAAKyB,EAAE,IAAI,CAAC,CAAC,EAAgB5B,MAAMsB,cAAcvC,SAAU,CAC5D8C,MAAO,CACLC,OAAQ,OACV,CACF,CAAC,EAAGN,CAAI,CACV,EAUIG,SAhCJ,SAAkBT,GAChB,IAAIV,EAAIuB,EAERrB,EAAWQ,EAAMxB,UAAYa,EAAMa,YAAc,IAAIC,IAAI,SAAUhC,GACjE,OAAOA,EAAE6B,KACX,CAAC,EAAExB,MAAM,EACT,OAACqC,EAAK,OAACvB,EAAKD,MAAAA,EAAqC,KAAA,EAASA,EAAMU,aAAyC,KAAA,EAAST,EAAGmB,WAA+CI,EAAGjC,KAAKU,EAAIU,CAAK,CACvL,CA0BE,CAAC,EACDE,WAAYb,EAAMa,UACpB,CAAC,CACH,iBAEed"}