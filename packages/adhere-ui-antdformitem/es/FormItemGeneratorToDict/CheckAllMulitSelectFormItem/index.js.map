{"version":3,"file":"index.js","sources":["FormItemGeneratorToDict/CheckAllMulitSelectFormItem/index.js"],"sourcesContent":["import \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.sort.js\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { useEffect, useState } from 'react';\nimport Intl from '@baifendian/adhere-util-intl';\nimport { Checkbox, Divider } from '../../AntFormItemNormalize';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nvar selectorPrefix = 'adhere-ui-antdformitem';\n/**\n * CheckAllMulitSelectFormItem\n * @param props\n * @constructor\n */\n\nvar CheckAllMulitSelectFormItem = function CheckAllMulitSelectFormItem(props) {\n  var _a;\n\n  var _b = useState(false),\n      checked = _b[0],\n      setChecked = _b[1];\n\n  function onCheckAllChange(e) {\n    setChecked(e.target.checked);\n\n    if (props.onCheckAllChange) {\n      props.onCheckAllChange(e.target.checked);\n    }\n  }\n\n  function onChange(value) {\n    var _a, _b;\n\n    setChecked(value.length === (props.dataSource || []).map(function (t) {\n      return t.value;\n    }).length);\n    (_b = (_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n  }\n\n  function renderDropdownRender(menu) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(selectorPrefix, \"-wrap-checkallwrap\")\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      checked: checked,\n      onChange: onCheckAllChange\n    }, Intl.v('全选'))), /*#__PURE__*/React.createElement(Divider, {\n      style: {\n        margin: '4px 0'\n      }\n    }), menu);\n  }\n\n  useEffect(function () {\n    var _a;\n\n    setChecked(JSON.stringify(JSON.parse(JSON.stringify(((_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value) || [])).sort()) === JSON.stringify((props.dataSource || []).map(function (t) {\n      return t.value;\n    }).sort()));\n  }, [(_a = props === null || props === void 0 ? void 0 : props.selectProps) === null || _a === void 0 ? void 0 : _a.value, props.dataSource]);\n  return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n    selectProps: __assign(__assign({}, props.selectProps), {\n      dropdownRender: renderDropdownRender,\n      onChange: onChange\n    }),\n    dataSource: props.dataSource\n  });\n};\n\nexport default CheckAllMulitSelectFormItem;"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useEffect","useState","Intl","Checkbox","Divider","MulitSelectFormItem","selectorPrefix","CheckAllMulitSelectFormItem","props","_b","checked","setChecked","onCheckAllChange","e","target","_a","JSON","stringify","parse","selectProps","value","sort","dataSource","map","createElement","dropdownRender","menu","className","concat","onChange","v","style","margin"],"mappings":"MAAO,4CACA,wCACA,mCAEP,IAAIA,SAAWC,MAAQA,KAAKD,UAAY,WAatC,OAZAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAG/C,IAAK,IAAII,KAFTL,EAAIG,UAAUF,GAGRJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAI7D,OAAON,CACT,GAEgBU,MAAMb,KAAMO,SAAS,CACvC,SAEOO,OAASC,UAAWC,QAAuB,KAAP,eACpCC,SAAU,sCACRC,SAAUC,OAA2C,KAA5B,oCAC3BC,wBAAyB,yBAChC,IAAIC,eAAiB,yBAOjBC,4BAA8B,SAAqCC,GACrE,IAEIC,EAAKR,SAAS,CAAA,CAAK,EACnBS,EAAUD,EAAG,GACbE,EAAaF,EAAG,GAEpB,SAASG,EAAiBC,GACxBF,EAAWE,EAAEC,OAAOJ,OAAO,EAEvBF,EAAMI,kBACRJ,EAAMI,iBAAiBC,EAAEC,OAAOJ,OAAO,CAE3C,CAiCA,OAPAV,UAAU,WACR,IAAIe,EAEJJ,EAAWK,KAAKC,UAAUD,KAAKE,MAAMF,KAAKC,WAAW,OAACF,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,QAAU,EAAE,CAAC,EAAEC,KAAK,CAAC,IAAML,KAAKC,WAAWT,EAAMc,YAAc,IAAIC,IAAI,SAAUnC,GACnP,OAAOA,EAAEgC,KACX,CAAC,EAAEC,KAAK,CAAC,CAAC,CACZ,EAAG,CAAC,OAACN,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGK,MAAOZ,EAAMc,WAAW,EACvHvB,MAAMyB,cAAcnB,oBAAqB,CAC3Dc,YAAanC,SAASA,SAAS,GAAIwB,EAAMW,WAAW,EAAG,CACrDM,eAxBJ,SAA8BC,GAC5B,OAAoB3B,MAAMyB,cAAc,MAAO,CAC7CG,UAAW,GAAGC,OAAOtB,eAAgB,OAAO,CAC9C,EAAgBP,MAAMyB,cAAc,MAAO,CACzCG,UAAW,GAAGC,OAAOtB,eAAgB,oBAAoB,CAC3D,EAAgBP,MAAMyB,cAAcrB,SAAU,CAC5CO,QAASA,EACTmB,SAAUjB,CACZ,EAAGV,KAAK4B,EAAE,IAAI,CAAC,CAAC,EAAgB/B,MAAMyB,cAAcpB,QAAS,CAC3D2B,MAAO,CACLC,OAAQ,OACV,CACF,CAAC,EAAGN,CAAI,CACV,EAYIG,SAlCJ,SAAkBT,GAChB,IAAIL,EAAIN,EAERE,EAAWS,EAAM3B,UAAYe,EAAMc,YAAc,IAAIC,IAAI,SAAUnC,GACjE,OAAOA,EAAEgC,KACX,CAAC,EAAE3B,MAAM,EACT,OAACgB,EAAK,OAACM,EAAKP,MAAAA,EAAqC,KAAA,EAASA,EAAMW,aAAyC,KAAA,EAASJ,EAAGc,WAA+CpB,EAAGZ,KAAKkB,EAAIK,CAAK,CACvL,CA4BE,CAAC,EACDE,WAAYd,EAAMc,UACpB,CAAC,CACH,iBAEef"}