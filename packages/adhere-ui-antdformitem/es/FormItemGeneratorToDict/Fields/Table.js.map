{"version":3,"file":"Table.js","sources":["FormItemGeneratorToDict/Fields/Table.js"],"sourcesContent":["import _Table from \"antd/es/table\";\nimport \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.string.starts-with.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.map.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/esnext.map.delete-all.js\";\nimport \"core-js/modules/esnext.map.every.js\";\nimport \"core-js/modules/esnext.map.filter.js\";\nimport \"core-js/modules/esnext.map.find.js\";\nimport \"core-js/modules/esnext.map.find-key.js\";\nimport \"core-js/modules/esnext.map.includes.js\";\nimport \"core-js/modules/esnext.map.key-of.js\";\nimport \"core-js/modules/esnext.map.map-keys.js\";\nimport \"core-js/modules/esnext.map.map-values.js\";\nimport \"core-js/modules/esnext.map.merge.js\";\nimport \"core-js/modules/esnext.map.reduce.js\";\nimport \"core-js/modules/esnext.map.some.js\";\nimport \"core-js/modules/esnext.map.update.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.from.js\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n/***\n  静态的数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n\n  动态的数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n\n  动态的分页数据\n   普通的表格\n   Select单选\n   MulitSelect多选\n***/\n\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport Dict from '@baifendian/adhere-util-dict';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nvar FormItemComponents = {};\n/**\n * initTable\n * @description 初始化Table\n */\n\nexport default (function () {\n  // 名称以Table结尾的字典\n  var tableDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('Table');\n  }); // 名称以DynamicTable结尾的字典\n\n  var tableDynamicDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicTable');\n  }); // 名称以TablePagination结尾的字典(肯定是动态数据)\n\n  var tablePaginationDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('TablePagination');\n  });\n  /**\n   * TableFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   rowKey\n   * }\n   * @return {JSX.Element}\n   */\n\n  FormItemComponents[\"TableFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    return /*#__PURE__*/React.createElement(_Table, __assign({\n      dataSource: dataSource,\n      pagination: false,\n      rowKey: props.rowKey || 'id'\n    }, props));\n  };\n  /**\n   * SelectFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   rowKey\n   *   labelKey\n   * }\n   * @return {JSX.Element}\n   */\n\n\n  FormItemComponents[\"TableSelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    var Component = FormItemComponents[\"TableFormItem\"]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    var _b = useState(''),\n        inputValue = _b[0],\n        setInputValue = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _c = useState(props.value ? [props.value] : []),\n        selectedRowKeys = _c[0],\n        setSelectedRowKeys = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _d = useState(props.value ? dataSource.find(function (t) {\n      return t[props.rowKey || 'id'] === props.value;\n    }) : []),\n        selectedRows = _d[0],\n        setSelectedRows = _d[1];\n    /**\n     * renderDropdownRender\n     * @return {JSX.Element}\n     */\n\n\n    function renderDropdownRender() {\n      var data = inputValue ? dataSource.filter(function (t) {\n        return t[props.labelKey || 'name'].startsWith(inputValue);\n      }) : dataSource;\n      return /*#__PURE__*/React.createElement(Component, __assign({\n        rowSelection: {\n          type: 'radio',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onChange: function onChange(selectedRowKeys, selectedRows) {\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows);\n            props.onChange(selectedRowKeys.length ? selectedRowKeys[0] : '');\n          }\n        }\n      }, props, {\n        dataSource: data\n      }));\n    } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    useEffect(function () {\n      if (props.value) {\n        setSelectedRowKeys([props.value]);\n        setSelectedRows([dataSource.find(function (t) {\n          return t[props.rowKey || 'id'] === props.value;\n        })]);\n      } else {\n        setSelectedRowKeys([]);\n        setSelectedRows([]);\n      }\n    }, [props.value]);\n    return /*#__PURE__*/React.createElement(SelectFormItem, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(value) {\n          props.onChange(value);\n        },\n        filterOption: function filterOption(inputValue) {\n          setInputValue(inputValue);\n          return false;\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onClear: function onClear() {\n          setInputValue('');\n        }\n      }, props.selectProps || {}),\n      dataSource: dataSource.map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  };\n  /**\n   * MulitSelectFormItem\n   * @param dataSource\n   * @param props {\n   *   cascadeParams\n   *   labelKey\n   *   rowKey\n   * }\n   * @return {JSX.Element}\n   */\n\n\n  FormItemComponents[\"TableMulitSelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]);\n\n    var Component = FormItemComponents[\"TableFormItem\"]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n    var _b = useState(''),\n        inputValue = _b[0],\n        setInputValue = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _c = useState(props.value ? props.value : []),\n        selectedRowKeys = _c[0],\n        setSelectedRowKeys = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    var _d = useState(props.value ? props.value.map(function (t) {\n      return dataSource.find(function (_item) {\n        return _item[props.rowKey || 'id'] === t;\n      });\n    }) : []),\n        selectedRows = _d[0],\n        setSelectedRows = _d[1];\n\n    function renderDropdownRender() {\n      var data = inputValue ? dataSource.filter(function (t) {\n        return t[props.labelKey || 'name'].startsWith(inputValue);\n      }) : dataSource;\n      return /*#__PURE__*/React.createElement(Component, __assign({\n        rowSelection: {\n          type: 'checkbox',\n          selectedRowKeys: selectedRowKeys,\n          selectedRows: selectedRows,\n          onChange: function onChange(selectedRowKeys, selectedRows) {\n            setSelectedRowKeys(selectedRowKeys);\n            setSelectedRows(selectedRows);\n            props.onChange(selectedRowKeys.length ? selectedRowKeys : []);\n          }\n        }\n      }, props, {\n        dataSource: data\n      }));\n    } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n    useEffect(function () {\n      if (props.value) {\n        setSelectedRowKeys(props.value);\n        setSelectedRows(props.value.map(function (t) {\n          return dataSource.find(function (_item) {\n            return _item[props.rowKey || 'id'] === t;\n          });\n        }));\n      } else {\n        setSelectedRowKeys([]);\n        setSelectedRows([]);\n      }\n    }, [props.value]);\n    return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n      selectProps: __assign({\n        value: props.value,\n        dropdownRender: renderDropdownRender,\n        onChange: function onChange(values) {\n          props.onChange(values);\n        },\n        filterOption: function filterOption(inputValue) {\n          setInputValue(inputValue);\n          return false;\n        },\n        onBlur: function onBlur() {\n          setInputValue('');\n        },\n        onClear: function onClear() {\n          setInputValue('');\n        }\n      }, props.selectProps || {}),\n      dataSource: dataSource.map(function (t) {\n        return {\n          label: t[props.labelKey || 'name'],\n          value: t[props.rowKey || 'id']\n        };\n      })\n    });\n  }; // 静态的Table\n\n\n  tableDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n    /**\n     * SelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     *   labelKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableSelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n    /**\n     * MulitSelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[dictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"TableMulitSelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n  }); // 动态的Table\n\n  tableDynamicDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n    /**\n     * SelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableSelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n    /**\n     * MulitSelectFormItem\n     * @param cascadeParams\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     * }\n     * @return {JSX.Element}\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"TableMulitSelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n  }); // 动态的分页Table\n\n  tablePaginationDictNames.forEach(function (dictName) {\n    /**\n     * TableFormItem\n     * @param props {\n     *   cascadeParams\n     *   labelKey\n     *   rowKey\n     *   dataKey\n     *   totalKey\n     * }\n     * @return {JSX.Element}\n     */\n    FormItemComponents[\"\".concat(dictName, \"FormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = useState(false),\n          loading = _a[0],\n          setLoading = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _c = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _c[0],\n          setPagin = _c[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value;\n      /**\n       * getPagination\n       * @description 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setData(res[props.dataKey || 'records']);\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      useEffect(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]);\n      return /*#__PURE__*/React.createElement(_Table, __assign({\n        dataSource: data,\n        loading: loading,\n        pagination: getPagination(),\n        rowKey: props.rowKey || 'id'\n      }, props));\n    };\n    /**\n     * SelectFormItem\n     * @param props {\n     *    rowKey\n     *    labelKey\n     * }\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"SelectFormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = useState(''),\n          inputValue = _a[0],\n          setInputValue = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState(false),\n          loading = _b[0],\n          setLoading = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _c = useState([]),\n          data = _c[0],\n          setData = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _d = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _d[0],\n          setPagin = _d[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _e = useState(props.value ? [props.value] : []),\n          selectedRowKeys = _e[0],\n          setSelectedRowKeys = _e[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _f = useState(props.value ? data.find(function (t) {\n        return t[props.rowKey || 'id'] === props.value;\n      }) : []),\n          selectedRows = _f[0],\n          setSelectedRows = _f[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value;\n      /**\n       * getPagination\n       * @description 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setData(res[props.dataKey || 'records']);\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      }\n      /**\n       * renderDropdownRender\n       */\n\n\n      function renderDropdownRender() {\n        var dataSource = inputValue ? data.filter(function (t) {\n          return t[props.labelKey || 'name'].startsWith(inputValue);\n        }) : data;\n        return /*#__PURE__*/React.createElement(_Table, __assign({\n          dataSource: dataSource,\n          loading: loading,\n          pagination: getPagination(),\n          rowKey: props.rowKey || 'id',\n          rowSelection: {\n            type: 'radio',\n            selectedRowKeys: selectedRowKeys,\n            selectedRows: selectedRows,\n            onChange: function onChange(selectedRowKeys, selectedRows) {\n              setSelectedRowKeys(selectedRowKeys);\n              setSelectedRows(selectedRows);\n              props.onChange(selectedRowKeys.length ? selectedRowKeys[0] : '');\n            }\n          }\n        }, props));\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      useEffect(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      useEffect(function () {\n        if (props.value) {\n          setSelectedRowKeys([props.value]);\n          setSelectedRows([data.find(function (t) {\n            return t[props.rowKey || 'id'] === props.value;\n          })]);\n        } else {\n          setSelectedRowKeys([]);\n          setSelectedRows([]);\n        }\n      }, [props.value]);\n      return /*#__PURE__*/React.createElement(SelectFormItem, {\n        selectProps: __assign({\n          value: props.value,\n          dropdownRender: renderDropdownRender,\n          onChange: function onChange(value) {\n            props.onChange(value);\n          },\n          filterOption: function filterOption(inputValue) {\n            setInputValue(inputValue);\n            return false;\n          },\n          onBlur: function onBlur() {\n            setInputValue('');\n          },\n          onClear: function onClear() {\n            setInputValue('');\n          }\n        }, props.selectProps || {}),\n        dataSource: data.map(function (t) {\n          return {\n            label: t[props.labelKey || 'name'],\n            value: t[props.rowKey || 'id']\n          };\n        })\n      });\n    };\n    /**\n     * MulitSelectFormItem\n     * @param props {\n     *    rowKey\n     *    labelKey\n     * }\n     */\n\n\n    FormItemComponents[\"\".concat(dictName, \"MulitSelectFormItem\")] = function (props) {\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      var _a = useState(''),\n          inputValue = _a[0],\n          setInputValue = _a[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _b = useState(false),\n          loading = _b[0],\n          setLoading = _b[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var data = useRef(new Map()); // eslint-disable-next-line react-hooks/rules-of-hooks\n\n      var _c = useState({\n        current: 1,\n        pageSize: 10,\n        total: 0\n      }),\n          pagin = _c[0],\n          setPagin = _c[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _d = useState(props.value ? props.value : []),\n          selectedRowKeys = _d[0],\n          setSelectedRowKeys = _d[1]; // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      var _e = useState(props.value ? props.value.map(function (t) {\n        return getDataSource().find(function (_item) {\n          return _item[props.rowKey || 'id'] === t;\n        });\n      }) : []),\n          selectedRows = _e[0],\n          setSelectedRows = _e[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[dictName].value;\n      /**\n       * getPagination - 获取分页信息\n       */\n\n      function getPagination() {\n        return {\n          onChange: function onChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          onShowSizeChange: function onShowSizeChange(current, pageSize) {\n            setPagin(__assign(__assign({}, pagin), {\n              current: current,\n              pageSize: pageSize\n            }));\n          },\n          total: pagin.total,\n          current: pagin.current,\n          pageSize: pagin.pageSize,\n          showQuickJumper: true\n        };\n      }\n      /**\n       * getDataSource\n       * @return {V|*[]}\n       */\n\n\n      function getDataSource() {\n        return data.current.get(pagin.current) || [];\n      }\n      /**\n       * loadData\n       */\n\n\n      function loadData() {\n        setLoading(true);\n        handler(__assign({}, pagin)).then(function (res) {\n          data.current.set(pagin.current, res[props.dataKey || 'records']);\n          setPagin(__assign(__assign({}, pagin), {\n            total: res[props.totalKey || 'total']\n          }));\n          setLoading(false);\n        }).catch(function () {\n          setLoading(false);\n        });\n      }\n      /**\n       * filter\n       * @param selected\n       * @param records\n       */\n\n\n      function filter(selected, records) {\n        var rowKey = props.rowKey || 'id';\n\n        var _selectedRowKeys;\n\n        var _selectedRows;\n\n        if (selected) {\n          // add\n          _selectedRowKeys = __spreadArray(__spreadArray([], selectedRowKeys, true), records.map(function (r) {\n            return r[rowKey];\n          }), true);\n          _selectedRows = __spreadArray(__spreadArray([], selectedRows, true), records, true);\n        } else {\n          // remove\n          _selectedRowKeys = selectedRowKeys.filter(function (key) {\n            return !records.find(function (r) {\n              return r[rowKey] === key;\n            });\n          });\n          _selectedRows = selectedRows.filter(function (row) {\n            return !records.find(function (r) {\n              return r[rowKey] === row[rowKey];\n            });\n          });\n        }\n\n        setSelectedRowKeys(_selectedRowKeys);\n        setSelectedRows(_selectedRows);\n        props.onChange(_selectedRowKeys);\n      }\n      /**\n       * renderDropdownRender\n       */\n\n\n      function renderDropdownRender() {\n        var dataSource = inputValue ? getDataSource().filter(function (t) {\n          return t[props.labelKey || 'name'].startsWith(inputValue);\n        }) : getDataSource();\n        return /*#__PURE__*/React.createElement(_Table, __assign({\n          dataSource: dataSource,\n          loading: loading,\n          pagination: getPagination(),\n          rowKey: props.rowKey || 'id',\n          rowSelection: {\n            type: 'checkbox',\n            selectedRowKeys: selectedRowKeys,\n            selectedRows: selectedRows,\n            onSelect: function onSelect(record, selected) {\n              filter(selected, [record]);\n            },\n            onSelectAll: function onSelectAll(selected, selectedRows, changeRows) {\n              filter(selected, changeRows);\n            }\n          }\n        }, props));\n      } // eslint-disable-next-line react-hooks/rules-of-hooks\n\n\n      useEffect(function () {\n        loadData();\n      }, [pagin.current, pagin.pageSize]);\n      return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n        selectProps: __assign({\n          value: props.value,\n          dropdownRender: renderDropdownRender,\n          onChange: function onChange(value) {\n            props.onChange(value);\n            setSelectedRowKeys(value);\n            setSelectedRows(value.map(function (t) {\n              return Array.from(data.values()).find(function (_item) {\n                return _item[props.rowKey || 'id'] === t;\n              });\n            }));\n          },\n          onClear: function onClear() {\n            setSelectedRowKeys([]);\n            setSelectedRows([]);\n            setInputValue('');\n            props.onChange([]);\n          },\n          onBlur: function onBlur() {\n            setInputValue('');\n          },\n          filterOption: function filterOption(inputValue) {\n            setInputValue(inputValue);\n            return false;\n          }\n        }, props.selectProps || {}),\n        dataSource: getDataSource().map(function (t) {\n          return {\n            label: t[props.labelKey || 'name'],\n            value: t[props.rowKey || 'id']\n          };\n        })\n      });\n    };\n  });\n  return FormItemComponents;\n});"],"names":["_Table","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","React","useEffect","useRef","useState","Dict","MulitSelectFormItem","SelectFormItem","FormItemComponents","tableDictNames","keys","handlers","filter","dictName","endsWith","tableDynamicDictNames","tablePaginationDictNames","_a","dataSource","props","createElement","pagination","rowKey","Component","_b","inputValue","setInputValue","_c","value","selectedRowKeys","setSelectedRowKeys","_d","find","selectedRows","setSelectedRows","selectProps","dropdownRender","data","labelKey","startsWith","rowSelection","type","onChange","filterOption","onBlur","onClear","map","label","_item","values","forEach","cascadeParams","handler","Function","setData","then","res","loading","setLoading","current","pageSize","total","pagin","setPagin","totalKey","dataKey","catch","onShowSizeChange","showQuickJumper","_e","_f","Map","getDataSource","get","selected","records","_selectedRowKeys","_selectedRows","r","key","row","set","onSelect","record","onSelectAll","changeRows"],"mappings":"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"}