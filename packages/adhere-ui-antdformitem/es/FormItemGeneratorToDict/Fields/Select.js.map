{"version":3,"file":"Select.js","sources":["FormItemGeneratorToDict/Fields/Select.js"],"sourcesContent":["import \"core-js/modules/es.object.assign.js\";\nimport \"core-js/modules/es.array.index-of.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.string.ends-with.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.array.iterator.js\";\nimport \"core-js/modules/es.set.js\";\nimport \"core-js/modules/esnext.set.add-all.js\";\nimport \"core-js/modules/esnext.set.delete-all.js\";\nimport \"core-js/modules/esnext.set.difference.js\";\nimport \"core-js/modules/esnext.set.every.js\";\nimport \"core-js/modules/esnext.set.filter.js\";\nimport \"core-js/modules/esnext.set.find.js\";\nimport \"core-js/modules/esnext.set.intersection.js\";\nimport \"core-js/modules/esnext.set.is-disjoint-from.js\";\nimport \"core-js/modules/esnext.set.is-subset-of.js\";\nimport \"core-js/modules/esnext.set.is-superset-of.js\";\nimport \"core-js/modules/esnext.set.join.js\";\nimport \"core-js/modules/esnext.set.map.js\";\nimport \"core-js/modules/esnext.set.reduce.js\";\nimport \"core-js/modules/esnext.set.some.js\";\nimport \"core-js/modules/esnext.set.symmetric-difference.js\";\nimport \"core-js/modules/esnext.set.union.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport Hooks from '@baifendian/adhere-ui-hooks';\nimport Dict from '@baifendian/adhere-util-dict';\nimport WatchMemoized from '@baifendian/adhere-util-watchmemoized';\nimport { Spin } from '../../AntFormItemNormalize';\nimport CheckAllMulitSelectFormItem from '../CheckAllMulitSelectFormItem';\nimport MulitSelectFormItem from '../MulitSelectFormItem';\nimport SelectFormItem from '../SelectFormItem';\nvar FormItemComponents = {};\nvar memoized = WatchMemoized.memoized;\nvar useForceUpdate = Hooks.useForceUpdate;\n/**\n * initSelect\n * @description 初始化Select\n */\n\nexport default (function () {\n  // 名称以Select结尾的字典\n  var selectDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('Select');\n  }); // 名称以DynamicSelect结尾的字典\n\n  var selectDynamicDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('DynamicSelect');\n  }); // 名称以AutoComplete结尾的字典\n\n  var selectAutoCompleteDictNames = Object.keys(Dict.handlers).filter(function (dictName) {\n    return dictName.endsWith('AutoCompleteSelect');\n  }); // SelectFormItem\n\n  FormItemComponents[\"SelectFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]); // @ts-ignore\n\n\n    return /*#__PURE__*/React.createElement(SelectFormItem, {\n      selectProps: __assign({}, props),\n      dataSource: dataSource\n    });\n  }; // MulitSelectFormItem\n\n\n  FormItemComponents[\"SelectMulitFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        props = __rest(_a, [\"dataSource\"]); // @ts-ignore\n\n\n    return /*#__PURE__*/React.createElement(MulitSelectFormItem, {\n      selectProps: __assign({}, props),\n      dataSource: dataSource\n    });\n  }; // CheckAllMulitSelectFormItem\n\n\n  FormItemComponents[\"SelectCheckAllMulitFormItem\"] = function (_a) {\n    var dataSource = _a.dataSource,\n        onCheckAllChange = _a.onCheckAllChange,\n        props = __rest(_a, [\"dataSource\", \"onCheckAllChange\"]);\n\n    return /*#__PURE__*/React.createElement(CheckAllMulitSelectFormItem // @ts-ignore\n    , {\n      // @ts-ignore\n      selectProps: __assign({}, props),\n      dataSource: dataSource,\n      onCheckAllChange: function onCheckAllChange(checkAll) {\n        props.onChange(checkAll ? dataSource.map(function (t) {\n          return t.value;\n        }) : []);\n      }\n    });\n  }; // 静态的Select\n\n\n  selectDictNames.forEach(function (selectDictName) {\n    // 创建三个FormItem\n    // SelectFormItem\n    // MulitSelectFormItem\n    // CheckAllMulitSelectFormItem\n    // SelectFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    }; // MulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectMulitFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    }; // CheckAllMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var handler = Dict.value[selectDictName].value;\n      var dataSource; // 如果是函数(一般是级联)\n\n      if (handler instanceof Function) {\n        dataSource = handler(cascadeParams);\n      } else {\n        dataSource = handler;\n      }\n\n      var Component = FormItemComponents[\"SelectCheckAllMulitFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: dataSource\n      }));\n    };\n  }); // 动态的Select\n\n  selectDynamicDictNames.forEach(function (selectDictName) {\n    // 创建三个FormItem\n    // SelectFormItem\n    // MulitSelectFormItem\n    // CheckAllMulitSelectFormItem\n    // SelectFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[selectDictName].value;\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    }; // MulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[selectDictName].value;\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectMulitFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    }; // CheckAllMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (_a) {\n      var cascadeParams = _a.cascadeParams,\n          props = __rest(_a, [\"cascadeParams\"]);\n\n      var _b = useState([]),\n          data = _b[0],\n          setData = _b[1]; // 存放字典的返回值(可能是promise也可能是Function)\n\n\n      var handler = Dict.value[selectDictName].value;\n      useEffect(function () {\n        // 如果是Promise直接返回\n        if (handler.then) {\n          handler.then(function (res) {\n            setData(res);\n          });\n        }\n      }, []);\n      useEffect(function () {\n        // 如果是函数(一般是级联)\n        if (handler instanceof Function) {\n          handler(cascadeParams).then(function (res) {\n            setData(res);\n          });\n        }\n      }, [cascadeParams]);\n      var Component = FormItemComponents[\"SelectCheckAllMulitFormItem\"];\n      return /*#__PURE__*/React.createElement(Component, __assign({}, props, {\n        dataSource: data\n      }));\n    };\n  }); // 自动补全的Select\n\n  selectAutoCompleteDictNames.forEach(function (selectDictName) {\n    // AutoCompleteFormItem\n    FormItemComponents[\"\".concat(selectDictName, \"FormItem\")] = function (_a) {\n      var _b = _a.debounceTimeout,\n          debounceTimeout = _b === void 0 ? 300 : _b,\n          props = __rest(_a, [\"debounceTimeout\"]);\n\n      var forceUpdate = useForceUpdate();\n      var handler = Dict.value[selectDictName].value;\n      var fetchRef = useRef(0);\n\n      var _c = useState(false),\n          fetching = _c[0],\n          setFetching = _c[1];\n\n      var _d = useState([]),\n          options = _d[0],\n          setOptions = _d[1];\n\n      var debounceFetcher = useRef();\n      useEffect(function () {\n        debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n          fetchRef.current += 1;\n          var fetchId = fetchRef.current;\n\n          if (!value || Array.isArray(value) && !value.length) {\n            setOptions(function (_opts) {\n              return _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              });\n            });\n            setFetching(false);\n            return;\n          }\n\n          handler(value).then(function (newOptions) {\n            if (fetchId !== fetchRef.current) {\n              // for fetch callback order\n              return;\n            } // @ts-ignore\n\n\n            setOptions(function (_opts) {\n              var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              }), true);\n\n              return __spreadArray([], Array.from(new Set(data.map(function (t) {\n                return t.value;\n              }))), true).map(function (val) {\n                return data.find(function (item) {\n                  return item.value === val;\n                });\n              });\n            });\n            setFetching(false);\n          });\n        }), debounceTimeout || 300);\n        forceUpdate();\n      }, [debounceTimeout, props.value]);\n      return /*#__PURE__*/React.createElement(SelectFormItem // @ts-ignore\n      , {\n        // @ts-ignore\n        selectProps: __assign({\n          notFoundContent: fetching ? /*#__PURE__*/React.createElement(Spin, {\n            size: \"small\"\n          }) : null,\n          filterOption: false,\n          onSearch: debounceFetcher.current,\n          onClear: function onClear() {\n            setOptions([]);\n            setFetching(false);\n          }\n        }, props),\n        dataSource: options\n      });\n    }; // AutoCompleteMulitFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"MulitFormItem\")] = function (props) {\n      var Component = FormItemComponents[\"\".concat(selectDictName, \"FormItem\")];\n      return /*#__PURE__*/React.createElement(Component, __assign({\n        mode: \"multiple\"\n      }, props));\n    }; // CheckAllAutoCompleteMulitSelectFormItem\n\n\n    FormItemComponents[\"\".concat(selectDictName, \"CheckAllMulitFormItem\")] = function (props) {\n      var forceUpdate = useForceUpdate();\n\n      var onCheckAllChange = props.onCheckAllChange,\n          debounceTimeout = props.debounceTimeout,\n          others = __rest(props, [\"onCheckAllChange\", \"debounceTimeout\"]);\n\n      var handler = Dict.value[selectDictName].value;\n      var fetchRef = useRef(0);\n\n      var _a = useState(false),\n          fetching = _a[0],\n          setFetching = _a[1];\n\n      var _b = useState([]),\n          options = _b[0],\n          setOptions = _b[1];\n\n      var debounceFetcher = useRef();\n      useEffect(function () {\n        debounceFetcher.current = debounce(memoized.createMemoFun(function (value) {\n          fetchRef.current += 1;\n          var fetchId = fetchRef.current;\n\n          if (!value || Array.isArray(value) && !value.length) {\n            setOptions(function (_opts) {\n              return _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              });\n            });\n            setFetching(false);\n            return;\n          }\n\n          handler(value).then(function (newOptions) {\n            if (fetchId !== fetchRef.current) {\n              // for fetch callback order\n              return;\n            } // @ts-ignore\n\n\n            setOptions(function (_opts) {\n              var data = __spreadArray(__spreadArray([], newOptions, true), _opts.filter(function (t) {\n                if (Array.isArray(props.value)) {\n                  // @ts-ignore\n                  return !!props.value.find(function (v) {\n                    return v === t.value;\n                  });\n                } else {\n                  // @ts-ignore\n                  return t.value === props.value;\n                }\n              }), true);\n\n              return __spreadArray([], Array.from(new Set(data.map(function (t) {\n                return t.value;\n              }))), true).map(function (val) {\n                return data.find(function (item) {\n                  return item.value === val;\n                });\n              });\n            });\n            setFetching(false);\n          });\n        }), debounceTimeout || 300);\n        forceUpdate();\n      }, [debounceTimeout, props.value]);\n      return (\n        /*#__PURE__*/\n        // @ts-ignore\n        React.createElement(CheckAllMulitSelectFormItem, {\n          selectProps: __assign({\n            notFoundContent: fetching ? /*#__PURE__*/React.createElement(Spin, {\n              size: \"small\"\n            }) : null,\n            filterOption: false,\n            onSearch: debounceFetcher.current,\n            onClear: function onClear() {\n              setOptions([]);\n              setFetching(false);\n            }\n          }, others),\n          dataSource: options,\n          onCheckAllChange: function onCheckAllChange(checkAll) {\n            // @ts-ignore\n            others.onChange(checkAll ? options.map(function (t) {\n              return t.value;\n            }) : []);\n          }\n        })\n      );\n    };\n  });\n  return FormItemComponents;\n});"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArray","to","from","pack","ar","l","Array","slice","concat","debounce","React","useEffect","useRef","useState","Hooks","Dict","WatchMemoized","Spin","CheckAllMulitSelectFormItem","MulitSelectFormItem","SelectFormItem","FormItemComponents","memoized","useForceUpdate","selectDictNames","keys","handlers","filter","dictName","endsWith","selectDynamicDictNames","selectAutoCompleteDictNames","_a","dataSource","props","createElement","selectProps","onCheckAllChange","checkAll","onChange","map","value","forEach","selectDictName","cascadeParams","handler","Function","Component","_b","data","setData","then","res","debounceTimeout","forceUpdate","fetchRef","_c","fetching","setFetching","_d","options","setOptions","debounceFetcher","current","createMemoFun","fetchId","isArray","_opts","find","v","newOptions","Set","val","item","notFoundContent","size","filterOption","onSearch","onClear","mode","others"],"mappings":"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"}