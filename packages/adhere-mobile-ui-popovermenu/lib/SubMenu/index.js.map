{"version":3,"file":"index.js","sources":["SubMenu/index.js"],"sourcesContent":["\"use strict\";\n\nvar __assign = void 0 && (void 0).__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __createBinding = void 0 && (void 0).__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = void 0 && (void 0).__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = void 0 && (void 0).__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar antd_mobile_1 = require(\"antd-mobile\");\nvar antd_mobile_icons_1 = require(\"antd-mobile-icons\");\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar react_1 = __importStar(require(\"react\"));\nvar Context_1 = __importDefault(require(\"../Context\"));\nvar Menu_1 = __importDefault(require(\"../Menu\"));\nvar selectorPrefix = 'adhere-mobile-ui-popovermenu';\nvar subMenuSelectorPrefix = \"\".concat(selectorPrefix, \"-sub-menu\");\nvar SubMenu = function (_a) {\n  var _b;\n  var className = _a.className,\n    style = _a.style,\n    direction = _a.direction,\n    icon = _a.icon,\n    text = _a.text,\n    disabled = _a.disabled,\n    popoverProps = _a.popoverProps,\n    items = _a.items,\n    maxCount = _a.maxCount;\n  var placement = (0, react_1.useMemo)(function () {\n    if (direction === 'horizontal' || !direction) {\n      return 'right';\n    }\n    return 'right';\n  }, [direction]);\n  var content = (0, react_1.useMemo)(function () {\n    return react_1.default.createElement(Menu_1.default, {\n      direction: direction,\n      items: items !== null && items !== void 0 ? items : [],\n      maxCount: maxCount\n    });\n  }, [items]);\n  var popoverRef = (0, react_1.useRef)();\n  var refs = (0, react_1.useContext)(Context_1.default).refs;\n  var trigger = react_1.default.createElement(\"li\", {\n    className: (0, classnames_1.default)(\"\".concat(subMenuSelectorPrefix), className !== null && className !== void 0 ? className : '', (_b = {}, _b[\"\".concat(subMenuSelectorPrefix, \"-disabled\")] = !!disabled, _b)),\n    style: style !== null && style !== void 0 ? style : {}\n  }, icon && react_1.default.createElement(\"div\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-icon\")\n  }, icon), react_1.default.createElement(\"div\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-text\")\n  }, text), react_1.default.createElement(\"span\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-arrow\")\n  }, react_1.default.createElement(antd_mobile_icons_1.DownFill, null)));\n  (0, react_1.useEffect)(function () {\n    refs.push(popoverRef.current);\n  }, []);\n  return react_1.default.createElement(react_1.default.Fragment, null, disabled && trigger, !disabled && react_1.default.createElement(antd_mobile_1.Popover, __assign({\n    ref: popoverRef,\n    className: selectorPrefix,\n    trigger: \"click\",\n    placement: placement,\n    content: content\n  }, popoverProps !== null && popoverProps !== void 0 ? popoverProps : {}), trigger));\n};\nexports.default = SubMenu;"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__createBinding","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","__importDefault","default","antd_mobile_1","exports","require","antd_mobile_icons_1","classnames_1","react_1","Context_1","Menu_1","selectorPrefix","subMenuSelectorPrefix","concat","SubMenu","_a","className","style","direction","icon","text","disabled","popoverProps","items","maxCount","placement","useMemo","content","createElement","popoverRef","useRef","refs","useContext","trigger","_b","DownFill","useEffect","push","current","Fragment","Popover","ref"],"mappings":"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"}