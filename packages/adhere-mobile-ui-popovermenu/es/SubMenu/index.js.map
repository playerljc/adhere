{"version":3,"file":"index.js","sources":["SubMenu/index.js"],"sourcesContent":["import _Popover from \"antd-mobile/es/components/popover\";\nimport _DownFill from \"antd-mobile-icons/es/DownFill\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useMemo, useRef } from 'react';\nimport Context from '../Context';\nimport Menu from '../Menu';\nvar selectorPrefix = 'adhere-mobile-ui-popovermenu';\nvar subMenuSelectorPrefix = \"\".concat(selectorPrefix, \"-sub-menu\");\nvar SubMenu = function (_a) {\n  var _b;\n  var className = _a.className,\n    style = _a.style,\n    direction = _a.direction,\n    icon = _a.icon,\n    text = _a.text,\n    disabled = _a.disabled,\n    popoverProps = _a.popoverProps,\n    items = _a.items,\n    maxCount = _a.maxCount;\n  var placement = useMemo(function () {\n    if (direction === 'horizontal' || !direction) {\n      return 'right';\n    }\n    return 'right';\n  }, [direction]);\n  var content = useMemo(function () {\n    return /*#__PURE__*/React.createElement(Menu, {\n      direction: direction,\n      items: items !== null && items !== void 0 ? items : [],\n      maxCount: maxCount\n    });\n  }, [items]);\n  var popoverRef = useRef();\n  var refs = useContext(Context).refs;\n  var trigger = /*#__PURE__*/React.createElement(\"li\", {\n    className: classNames(\"\".concat(subMenuSelectorPrefix), className !== null && className !== void 0 ? className : '', (_b = {}, _b[\"\".concat(subMenuSelectorPrefix, \"-disabled\")] = !!disabled, _b)),\n    style: style !== null && style !== void 0 ? style : {}\n  }, icon && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-icon\")\n  }, icon), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-text\")\n  }, text), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"\".concat(subMenuSelectorPrefix, \"-arrow\")\n  }, /*#__PURE__*/React.createElement(_DownFill, null)));\n  useEffect(function () {\n    refs.push(popoverRef.current);\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, disabled && trigger, !disabled && ( /*#__PURE__*/React.createElement(_Popover, __assign({\n    ref: popoverRef,\n    className: selectorPrefix,\n    trigger: \"click\",\n    placement: placement,\n    content: content\n  }, popoverProps !== null && popoverProps !== void 0 ? popoverProps : {}), trigger)));\n};\nexport default SubMenu;"],"names":["_Popover","_DownFill","__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","classNames","React","useContext","useEffect","useMemo","useRef","Context","Menu","selectorPrefix","subMenuSelectorPrefix","concat","SubMenu","_a","className","style","direction","icon","text","disabled","popoverProps","items","maxCount","placement","content","createElement","popoverRef","refs","trigger","_b","push","current","Fragment","ref"],"mappings":"OAAOA,aAAc,2CACdC,cAAe,gCACtB,IAAIC,SAAWC,MAAQA,KAAKD,UAAY,WAQtC,OAPAA,SAAWE,OAAOC,QAAU,SAAUC,GACpC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE/C,IAAK,IAAII,KADTL,EAAIG,UAAUF,GACOJ,OAAOS,UAAUC,eAAeC,KAAKR,EAAGK,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,IAE5E,OAAON,CACT,GACgBU,MAAMb,KAAMO,SAAS,CACvC,SACOO,eAAgB,oBAChBC,OAASC,WAAYC,UAAWC,QAASC,MAAqB,KAAP,eACvDC,YAAa,oBACbC,SAAU,UACjB,IAAIC,eAAiB,+BACjBC,sBAAwB,GAAGC,OAAOF,eAAgB,WAAW,EAC7DG,QAAU,SAAUC,GACtB,IACIC,EAAYD,EAAGC,UACjBC,EAAQF,EAAGE,MACXC,EAAYH,EAAGG,UACfC,EAAOJ,EAAGI,KACVC,EAAOL,EAAGK,KACVC,EAAWN,EAAGM,SACdC,EAAeP,EAAGO,aAClBC,EAAQR,EAAGQ,MACXC,EAAWT,EAAGS,SACZC,EAAYlB,QAAQ,WAItB,MAAO,OACT,EAAG,CAACW,EAAU,EACVQ,EAAUnB,QAAQ,WACpB,OAAoBH,MAAMuB,cAAcjB,KAAM,CAC5CQ,UAAWA,EACXK,MAAOA,MAAAA,EAAqCA,EAAQ,GACpDC,SAAUA,CACZ,CAAC,CACH,EAAG,CAACD,EAAM,EACNK,EAAapB,OAAO,EACpBqB,EAAOxB,WAAWI,OAAO,EAAEoB,KAC3BC,EAAuB1B,MAAMuB,cAAc,KAAM,CACnDX,UAAWb,WAAW,GAAGU,OAAOD,qBAAqB,EAAGI,MAAAA,EAA6CA,EAAY,KAAKe,EAAK,IAAO,GAAGlB,OAAOD,sBAAuB,WAAW,GAAK,CAAC,CAACS,EAAUU,EAAG,EAClMd,MAAOA,MAAAA,EAAqCA,EAAQ,EACtD,EAAGE,GAAqBf,MAAMuB,cAAc,MAAO,CACjDX,UAAW,GAAGH,OAAOD,sBAAuB,OAAO,CACrD,EAAGO,CAAI,EAAgBf,MAAMuB,cAAc,MAAO,CAChDX,UAAW,GAAGH,OAAOD,sBAAuB,OAAO,CACrD,EAAGQ,CAAI,EAAgBhB,MAAMuB,cAAc,OAAQ,CACjDX,UAAW,GAAGH,OAAOD,sBAAuB,QAAQ,CACtD,EAAgBR,MAAMuB,cAAcxC,UAAW,IAAI,CAAC,CAAC,EAIrD,OAHAmB,UAAU,WACRuB,EAAKG,KAAKJ,EAAWK,OAAO,CAC9B,EAAG,EAAE,EACe7B,MAAMuB,cAAcvB,MAAM8B,SAAU,KAAMb,GAAYS,EAAS,CAACT,GAA2BjB,MAAMuB,cAAczC,SAAUE,SAAS,CACpJ+C,IAAKP,EACLZ,UAAWL,eACXmB,QAAS,QACTL,UAAWA,EACXC,QAASA,CACX,EAAGJ,MAAAA,EAAmDA,EAAe,EAAE,EAAGQ,CAAQ,CAAC,CACrF,iBACehB"}