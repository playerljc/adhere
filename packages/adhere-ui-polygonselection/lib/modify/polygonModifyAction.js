var __extends=this&&this.__extends||function(){var n=function(t,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)};return function(t,o){function i(){this.constructor=t}n(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();import MathUtil from"@baifendian/adhere-util/lib/math";import{SelectType}from"../types";import ModifyAction from"./modifyAction";var PolygonModifyAction=function(o){function t(t){t=o.call(this,t)||this;return t.startIndex=-1,t}return __extends(t,o),t.prototype.drawAnchors=function(){var t;if(this.context){var o=this.context.getCtx();if(o)for(var i=(null===(t=null===(t=null==this?void 0:this.data)||void 0===t?void 0:t.data)||void 0===t?void 0:t.data)||[],n=0;n<i.length;n++){var r=i[n];o.beginPath(),this.setAnchorStyle(),o.ellipse(r.x,r.y,this.anchorRadius,this.anchorRadius,45*Math.PI/180,0,2*Math.PI),o.stroke(),o.fill()}}},t.prototype.getPointInAnchor=function(t){if(!this.data)return null;for(var o=null,i=-1,n=this.data.data.data,r=0;r<n.length;r++){var a=n[r],e=this.anchorRadius+this.anchorLineWidth;if(MathUtil.isPointInCircle(t,{center:a,radius:e})){o=a,i=r;break}}return o&&-1!==i?{point:o,index:i}:null},t.prototype.draw=function(t){var o=this.context,i=null==o?void 0:o.getCtx();o&&i&&this.data&&this.startPoint&&-1!==this.startIndex&&((i=o.getHistoryDataById(this.data.data.id))&&(i.data[this.startIndex]=t,o.clearDraw(),o.drawHistoryData(),this.drawAnchors()))},t.prototype.getSelectType=function(){return SelectType.Polygon},t}(ModifyAction);export default PolygonModifyAction;
//# sourceMappingURL=polygonModifyAction.js.map
