{"version":3,"file":"FreeDrawAction.js","sources":["draw/FreeDrawAction.js"],"sourcesContent":["\"use strict\";\n\nvar __extends = void 0 && (void 0).__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __importDefault = void 0 && (void 0).__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\nvar types_1 = require(\"../types\");\nvar DrawAction_1 = __importDefault(require(\"./DrawAction\"));\n/**\n * FreeDrawAction\n * @class\n * @classdesc - 自由绘制选取\n * @remark: - 一个start - end的周期中只能绘制一个自由图形\n */\nvar FreeDrawAction = /** @class */function (_super) {\n  __extends(FreeDrawAction, _super);\n  /**\n   * context\n   */\n  function FreeDrawAction() {\n    var _this = _super.call(this) || this;\n    // startPoint\n    _this.startPoint = null;\n    _this.isMove = false;\n    // 除了第一个点的所有点\n    _this.points = [];\n    _this.onCanvasMouseDown = _this.onCanvasMouseDown.bind(_this);\n    _this.onCanvasMouseMove = _this.onCanvasMouseMove.bind(_this);\n    _this.onCanvasMouseUp = _this.onCanvasMouseUp.bind(_this);\n    return _this;\n  }\n  /**\n   * draw\n   * @param e\n   * @param isEnd\n   */\n  FreeDrawAction.prototype.draw = function (e, isEnd) {\n    if (isEnd === void 0) {\n      isEnd = false;\n    }\n    var _a = this,\n      context = _a.context,\n      style = _a.style;\n    var ctx = context === null || context === void 0 ? void 0 : context.getCtx();\n    if (!context || !ctx) return;\n    var canvasEl = context.getCanvasEl();\n    if (!canvasEl) return;\n    var curPoint = adhere_util_1.default.clientToCtxPoint({\n      event: e,\n      rect: canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.getBoundingClientRect()\n    });\n    if (!curPoint) return;\n    this.points.push(curPoint);\n    context.clearDraw();\n    context.drawHistoryData();\n    ctx.beginPath();\n    ctx.lineWidth = style.lineWidth;\n    ctx.lineJoin = style.lineJoin;\n    ctx.lineCap = style.lineCap;\n    style.lineDash && ctx.setLineDash(style.lineDash);\n    ctx.lineDashOffset = style.lineDashOffset;\n    ctx.strokeStyle = style.strokeStyle;\n    ctx.fillStyle = style.fillStyle;\n    ctx.globalAlpha = style.globalAlpha;\n    this.points.forEach(function (point, index) {\n      if (index === 0) {\n        ctx.moveTo(point.x, point.y);\n      } else {\n        ctx.lineTo(point.x, point.y);\n      }\n    });\n    isEnd && ctx.closePath();\n    ctx.stroke();\n    ctx.fill();\n  };\n  /**\n   * onCanvasMouseDown\n   * @param e\n   */\n  FreeDrawAction.prototype.onCanvasMouseDown = function (e) {\n    if (!this.context) return;\n    var canvasEl = this.context.getCanvasEl();\n    if (!canvasEl) return;\n    this.startPoint = adhere_util_1.default.clientToCtxPoint({\n      event: e,\n      rect: canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.getBoundingClientRect()\n    });\n    if (!this.startPoint) return;\n    this.points.push(this.startPoint);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mouseup', this.onCanvasMouseUp);\n  };\n  /**\n   * onCanvasMouseMove\n   * @param e\n   */\n  FreeDrawAction.prototype.onCanvasMouseMove = function (e) {\n    var context = this.context;\n    if (!context) return;\n    this.isMove = true;\n    this.draw(e);\n    this.trigger(types_1.ActionEvents.Drawing, {\n      selectType: types_1.SelectType.Free,\n      actionType: types_1.ActionType.Draw,\n      data: {\n        id: adhere_util_1.default.uuid(),\n        type: types_1.SelectType.Free,\n        data: {\n          points: JSON.parse(JSON.stringify(this.points))\n        },\n        style: this.style\n      }\n    });\n  };\n  /**\n   * onCanvasMouseUp\n   * @param e\n   */\n  FreeDrawAction.prototype.onCanvasMouseUp = function (e) {\n    if (!this.isMove) return;\n    this.end(e);\n    e.stopPropagation();\n  };\n  /**\n   * draw\n   * @description\n   * @param ctx\n   * @param data\n   */\n  FreeDrawAction.draw = function (ctx, data) {\n    if (!ctx || !data) return;\n    this.drawHistoryPath(ctx, data /*data.data as { points: IPoint[] }*/);\n  };\n  /**\n   * drawHistoryPath - 绘制历史数据\n   * @param ctx\n   * @param data\n   */\n  FreeDrawAction.drawHistoryPath = function (ctx, data) {\n    var _a;\n    ctx.beginPath();\n    if (data.style) {\n      // 设置上下文属性\n      ctx.lineWidth = data.style.lineWidth;\n      ctx.lineJoin = data.style.lineJoin;\n      ctx.lineCap = data.style.lineCap;\n      data.style.lineDash && ctx.setLineDash(data.style.lineDash);\n      ctx.lineDashOffset = data.style.lineDashOffset;\n      ctx.strokeStyle = data.style.strokeStyle;\n      ctx.fillStyle = data.style.fillStyle;\n      ctx.globalAlpha = (_a = data.style.globalAlpha) !== null && _a !== void 0 ? _a : 1;\n    }\n    var _b = data.data.points,\n      points = _b === void 0 ? [] : _b;\n    (points || []).forEach(function (point, index) {\n      if (index === 0) {\n        ctx.moveTo(point.x, point.y);\n      } else {\n        ctx.lineTo(point.x, point.y);\n      }\n    });\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fill();\n  };\n  /**\n   * start\n   * @param style\n   */\n  FreeDrawAction.prototype.start = function (style) {\n    var _a;\n    if (!this.context || [types_1.ActionStatus.Running, types_1.ActionStatus.Destroy].includes(this.status)) return;\n    var context = this.context;\n    var canvasEl = (_a = context === null || context === void 0 ? void 0 : context.getCanvasEl) === null || _a === void 0 ? void 0 : _a.call(context);\n    if (!canvasEl) return;\n    _super.prototype.start.call(this, style);\n    style && (this.style = style);\n    // 触发开始之前事件\n    this.trigger(types_1.ActionEvents.DrawBeforeStart, {\n      selectType: types_1.SelectType.Free,\n      actionType: types_1.ActionType.Draw\n    });\n    // 注册事件\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mousedown', this.onCanvasMouseDown);\n    // 修改状态\n    this.status = types_1.ActionStatus.Running;\n    // 触发开始事件\n    this.trigger(types_1.ActionEvents.DrawStart, {\n      selectType: types_1.SelectType.Free,\n      actionType: types_1.ActionType.Draw\n    });\n  };\n  /**\n   * end\n   */\n  FreeDrawAction.prototype.end = function (e) {\n    var context = this.context;\n    if (!context) {\n      _super.prototype.end.call(this, e);\n      return;\n    }\n    var canvasEl = context.getCanvasEl();\n    if (!canvasEl) {\n      _super.prototype.end.call(this, e);\n      return;\n    }\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousedown', this.onCanvasMouseDown);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mouseup', this.onCanvasMouseUp);\n    this.draw(e, true);\n    this.status = types_1.ActionStatus.End;\n    var data = {\n      id: adhere_util_1.default.uuid(),\n      type: types_1.SelectType.Free,\n      data: {\n        points: JSON.parse(JSON.stringify(this.points))\n      },\n      style: this.style\n    };\n    context.addHistoryData(data);\n    this.startPoint = null;\n    this.points = [];\n    this.isMove = false;\n    this.trigger(types_1.ActionEvents.DrawEnd, {\n      selectType: types_1.SelectType.Free,\n      actionType: types_1.ActionType.Draw,\n      data: data\n    });\n    _super.prototype.end.call(this, e);\n  };\n  /**\n   * destroy\n   */\n  FreeDrawAction.prototype.destroy = function () {\n    var context = this.context;\n    if (!context) {\n      _super.prototype.destroy.call(this);\n      return;\n    }\n    var canvasEl = context.getCanvasEl();\n    if (!canvasEl) {\n      _super.prototype.destroy.call(this);\n      return;\n    }\n    // 如果是运行状态则删除之前的绘制\n    if (this.status === types_1.ActionStatus.Running) {\n      context.clearDraw();\n      context.drawHistoryData();\n    }\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousedown', this.onCanvasMouseDown);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mouseup', this.onCanvasMouseUp);\n    this.startPoint = null;\n    this.points = [];\n    this.isMove = false;\n    this.status = types_1.ActionStatus.Destroy;\n    this.trigger(types_1.ActionEvents.Destroy, {\n      selectType: types_1.SelectType.Free,\n      actionType: types_1.ActionType.Draw\n    });\n    _super.prototype.destroy.call(this);\n  };\n  return FreeDrawAction;\n}(DrawAction_1.default);\nexports.default = FreeDrawAction;"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","this","constructor","create","__importDefault","mod","__esModule","default","adhere_util_1","defineProperty","exports","value","require","types_1","DrawAction_1","FreeDrawAction","_super","_this","startPoint","isMove","points","onCanvasMouseDown","bind","onCanvasMouseMove","onCanvasMouseUp","draw","e","isEnd","canvasEl","context","style","ctx","getCtx","getCanvasEl","curPoint","clientToCtxPoint","event","rect","getBoundingClientRect","push","clearDraw","drawHistoryData","beginPath","lineWidth","lineJoin","lineCap","lineDash","setLineDash","lineDashOffset","strokeStyle","fillStyle","globalAlpha","forEach","point","index","moveTo","x","y","lineTo","closePath","stroke","fill","addEventListener","trigger","ActionEvents","Drawing","selectType","SelectType","Free","actionType","ActionType","Draw","data","id","uuid","type","JSON","parse","stringify","end","stopPropagation","drawHistoryPath","_a","_b","start","ActionStatus","Running","Destroy","includes","status","DrawBeforeStart","DrawStart","removeEventListener","End","addHistoryData","DrawEnd","destroy"],"mappings":"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"}