{"version":3,"file":"StartDrawAction.js","sources":["draw/StartDrawAction.js"],"sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport BaseUtil from '@baifendian/adhere-util';\nimport * as turf from '@turf/turf';\nimport { ActionEvents, ActionStatus, ActionType, SelectType } from '../types';\nimport DrawAction from './DrawAction';\n/**\n * StartDrawAction\n * @class\n * @classdesc - 五角星选取\n * @remark: - 一个start - end的周期中只能绘制一个五角星\n */\nvar StartDrawAction = /** @class */function (_super) {\n  __extends(StartDrawAction, _super);\n  /**\n   * context\n   */\n  function StartDrawAction() {\n    var _this = _super.call(this) || this;\n    // 中心点\n    _this.centerPoint = null;\n    // 外圆半径\n    _this.outRadius = 0;\n    // 内圆半径\n    _this.innerRadius = 0;\n    _this.isMove = false;\n    _this.onCanvasMouseDown = _this.onCanvasMouseDown.bind(_this);\n    _this.onCanvasMouseMove = _this.onCanvasMouseMove.bind(_this);\n    _this.onCanvasMouseUp = _this.onCanvasMouseUp.bind(_this);\n    return _this;\n  }\n  /**\n   * booleanPointInData\n   * @description 判断点是否在\n   * @param point\n   * @param data\n   */\n  StartDrawAction.booleanPointInData = function (point, data) {\n    var _a = data.data,\n      // 圆的中心点\n      center = _a.center,\n      // 外半径\n      outRadius = _a.outRadius,\n      // 内半径(外半径的一半)\n      innerRadius = _a.innerRadius;\n    var pt = turf.point([point.x, point.y]);\n    var startCount = 5;\n    var spend = 360 / startCount;\n    var min = 90 - spend;\n    var max = spend - min;\n    var points = [];\n    for (var i = 0; i < startCount; i++) {\n      points.push({\n        x: Math.cos((min + i * spend) / 180 * Math.PI) * outRadius + center.x,\n        y: -Math.sin((min + i * spend) / 180 * Math.PI) * outRadius + center.y\n      });\n      points.push({\n        x: Math.cos((max + i * spend) / 180 * Math.PI) * innerRadius + center.x,\n        y: -Math.sin((max + i * spend) / 180 * Math.PI) * innerRadius + center.y\n      });\n    }\n    var polygon = points.map(function (point) {\n      return [point.x, point.y];\n    });\n    polygon.push(polygon[0]);\n    var poly = turf.polygon([polygon]);\n    return turf.booleanPointInPolygon(pt, poly);\n  };\n  /**\n   * drawStart\n   * @param ctx\n   * @param data\n   */\n  StartDrawAction.drawStart = function (_a) {\n    var _b;\n    var ctx = _a.ctx,\n      data = _a.data;\n    if (!data || !ctx) return;\n    var _c = data.data,\n      center = _c.center,\n      outRadius = _c.outRadius,\n      innerRadius = _c.innerRadius,\n      style = data.style;\n    ctx.beginPath();\n    if (data.style) {\n      // 设置上下文属性\n      ctx.lineWidth = data.style.lineWidth;\n      ctx.lineJoin = data.style.lineJoin;\n      ctx.lineCap = data.style.lineCap;\n      data.style.lineDash && ctx.setLineDash(data.style.lineDash);\n      ctx.lineDashOffset = data.style.lineDashOffset;\n      ctx.strokeStyle = data.style.strokeStyle;\n      ctx.fillStyle = data.style.fillStyle;\n      ctx.globalAlpha = (_b = data.style.globalAlpha) !== null && _b !== void 0 ? _b : 1;\n    }\n    var startCount = 5;\n    var spend = 360 / startCount;\n    var min = 90 - spend;\n    var max = spend - min;\n    for (var i = 0; i < startCount; i++) {\n      if (style) {\n        ctx.lineWidth = style.lineWidth;\n        ctx.lineJoin = style.lineJoin;\n        ctx.lineCap = style.lineCap;\n        style.lineDash && ctx.setLineDash(style.lineDash);\n        ctx.lineDashOffset = style.lineDashOffset;\n        ctx.strokeStyle = style.strokeStyle;\n        ctx.fillStyle = style.fillStyle;\n        ctx.globalAlpha = style.globalAlpha;\n      }\n      ctx.lineTo(Math.cos((min + i * spend) / 180 * Math.PI) * outRadius + center.x, -Math.sin((min + i * spend) / 180 * Math.PI) * outRadius + center.y);\n      ctx.lineTo(Math.cos((max + i * spend) / 180 * Math.PI) * innerRadius + center.x, -Math.sin((max + i * spend) / 180 * Math.PI) * innerRadius + center.y);\n    }\n    ctx.closePath();\n    ctx.stroke();\n    ctx.fill();\n  };\n  /**\n   * draw\n   * @param e\n   */\n  StartDrawAction.prototype.draw = function (e) {\n    var _a = this,\n      context = _a.context,\n      centerPoint = _a.centerPoint;\n    var ctx = context === null || context === void 0 ? void 0 : context.getCtx();\n    if (!context || !centerPoint || !ctx) return;\n    var canvasEl = context.getCanvasEl();\n    if (!canvasEl || !this.centerPoint) return;\n    var targetPoint = BaseUtil.clientToCtxPoint({\n      event: e,\n      rect: canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.getBoundingClientRect()\n    });\n    context.clearDraw();\n    context.drawHistoryData();\n    this.outRadius = BaseUtil.getDistanceByBetweenPoint({\n      p1: centerPoint,\n      p2: targetPoint\n    });\n    this.innerRadius = this.outRadius / 2;\n    StartDrawAction.drawStart({\n      ctx: ctx,\n      data: {\n        data: {\n          center: this.centerPoint,\n          outRadius: this.outRadius,\n          innerRadius: this.innerRadius\n        },\n        style: this.style\n      }\n    });\n  };\n  /**\n   * onCanvasMouseDown\n   * @param e\n   */\n  StartDrawAction.prototype.onCanvasMouseDown = function (e) {\n    if (!this.context) return;\n    var canvasEl = this.context.getCanvasEl();\n    if (!canvasEl) return;\n    this.centerPoint = BaseUtil.clientToCtxPoint({\n      event: e,\n      rect: canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.getBoundingClientRect()\n    });\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mouseup', this.onCanvasMouseUp);\n  };\n  /**\n   * onCanvasMouseMove\n   * @param e\n   */\n  StartDrawAction.prototype.onCanvasMouseMove = function (e) {\n    var context = this.context;\n    if (!context) return;\n    this.isMove = true;\n    this.draw(e);\n    this.trigger(ActionEvents.Drawing, {\n      selectType: SelectType.Start,\n      actionType: ActionType.Draw,\n      data: {\n        id: BaseUtil.uuid(),\n        type: SelectType.Start,\n        data: {\n          center: this.centerPoint,\n          outRadius: this.outRadius,\n          innerRadius: this.innerRadius\n        },\n        style: this.style\n      }\n    });\n  };\n  /**\n   * onCanvasMouseUp\n   * @param e\n   */\n  StartDrawAction.prototype.onCanvasMouseUp = function (e) {\n    if (!this.isMove) return;\n    this.end(e);\n    e.stopPropagation();\n  };\n  /**\n   * draw\n   * @description\n   * @param ctx\n   * @param data\n   */\n  StartDrawAction.draw = function (ctx, data) {\n    if (!ctx || !data) return;\n    this.drawHistoryPath(ctx, data);\n  };\n  /**\n   * drawHistoryPath - 绘制历史数据\n   * @param ctx\n   * @param data\n   */\n  StartDrawAction.drawHistoryPath = function (ctx, data) {\n    if (!data) return;\n    StartDrawAction.drawStart({\n      ctx: ctx,\n      data: data\n      // data: {\n      //   data,\n      // },\n    });\n  };\n  /**\n   * start\n   * @param style\n   */\n  StartDrawAction.prototype.start = function (style) {\n    var _a;\n    if (!this.context || [ActionStatus.Running, ActionStatus.Destroy].includes(this.status)) return;\n    var context = this.context;\n    var canvasEl = (_a = context === null || context === void 0 ? void 0 : context.getCanvasEl) === null || _a === void 0 ? void 0 : _a.call(context);\n    if (!canvasEl) return;\n    _super.prototype.start.call(this, style);\n    style && (this.style = style);\n    // 触发开始之前事件\n    this.trigger(ActionEvents.DrawBeforeStart, {\n      selectType: SelectType.Start,\n      actionType: ActionType.Draw\n    });\n    // 注册事件\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.addEventListener('mousedown', this.onCanvasMouseDown);\n    // 修改状态\n    this.status = ActionStatus.Running;\n    // 触发开始事件\n    this.trigger(ActionEvents.DrawStart, {\n      selectType: SelectType.Start,\n      actionType: ActionType.Draw\n    });\n  };\n  /**\n   * end\n   */\n  StartDrawAction.prototype.end = function (e) {\n    var _a;\n    var context = this.context;\n    if (!context) {\n      _super.prototype.end.call(this, e);\n      return;\n    }\n    var canvasEl = (_a = context === null || context === void 0 ? void 0 : context.getCanvasEl) === null || _a === void 0 ? void 0 : _a.call(context);\n    if (!canvasEl || !this.centerPoint || !this.outRadius || !this.innerRadius) {\n      _super.prototype.end.call(this, e);\n      return;\n    }\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousedown', this.onCanvasMouseDown);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mouseup', this.onCanvasMouseUp);\n    e && this.draw(e);\n    this.status = ActionStatus.End;\n    var data = {\n      id: BaseUtil.uuid(),\n      type: SelectType.Start,\n      data: {\n        center: this.centerPoint,\n        outRadius: this.outRadius,\n        innerRadius: this.innerRadius\n      },\n      style: this.style\n    };\n    context.addHistoryData(data);\n    this.centerPoint = null;\n    this.outRadius = 0;\n    this.innerRadius = 0;\n    this.isMove = false;\n    this.trigger(ActionEvents.DrawEnd, {\n      selectType: SelectType.Start,\n      actionType: ActionType.Draw,\n      data: data\n    });\n    _super.prototype.end.call(this, e);\n  };\n  /**\n   * destroy\n   */\n  StartDrawAction.prototype.destroy = function () {\n    var context = this.context;\n    if (!context) {\n      _super.prototype.destroy.call(this);\n      return;\n    }\n    var canvasEl = context.getCanvasEl();\n    if (!canvasEl) {\n      _super.prototype.destroy.call(this);\n      return;\n    }\n    // 如果是运行状态则删除之前的绘制\n    if (this.status === ActionStatus.Running) {\n      context.clearDraw();\n      context.drawHistoryData();\n    }\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousedown', this.onCanvasMouseDown);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mousemove', this.onCanvasMouseMove);\n    canvasEl === null || canvasEl === void 0 ? void 0 : canvasEl.removeEventListener('mouseup', this.onCanvasMouseUp);\n    this.centerPoint = null;\n    this.outRadius = 0;\n    this.innerRadius = 0;\n    this.isMove = false;\n    this.status = ActionStatus.Destroy;\n    this.trigger(ActionEvents.Destroy, {\n      selectType: SelectType.Start,\n      actionType: ActionType.Draw\n    });\n    _super.prototype.destroy.call(this);\n  };\n  return StartDrawAction;\n}(DrawAction);\nexport default StartDrawAction;"],"names":["__extends","this","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","BaseUtil","turf","ActionEvents","ActionStatus","ActionType","SelectType","DrawAction","StartDrawAction","_super","_this","centerPoint","outRadius","innerRadius","isMove","onCanvasMouseDown","bind","onCanvasMouseMove","onCanvasMouseUp","booleanPointInData","point","data","_a","center","pt","x","y","spend","points","i","push","Math","cos","PI","sin","polygon","map","poly","booleanPointInPolygon","drawStart","ctx","_c","style","beginPath","lineWidth","lineJoin","lineCap","lineDash","setLineDash","lineDashOffset","strokeStyle","fillStyle","globalAlpha","_b","lineTo","closePath","stroke","fill","draw","e","canvasEl","context","getCtx","getCanvasEl","targetPoint","clientToCtxPoint","event","rect","getBoundingClientRect","clearDraw","drawHistoryData","getDistanceByBetweenPoint","p1","p2","addEventListener","trigger","Drawing","selectType","Start","actionType","Draw","id","uuid","type","end","stopPropagation","drawHistoryPath","start","Running","Destroy","includes","status","DrawBeforeStart","DrawStart","removeEventListener","End","addHistoryData","DrawEnd","destroy"],"mappings":"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"}