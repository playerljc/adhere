{"version":3,"file":"datedisplay.js","sources":["datedisplay.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport dayjs from 'dayjs';\nimport 'dayjs/locale/en';\nimport 'dayjs/locale/pt';\nimport 'dayjs/locale/zh-cn';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport React, { memo } from 'react';\nimport ConditionalRender from '@baifendian/adhere-ui-conditionalrender';\nimport Resource from '@baifendian/adhere-util-resource';\ndayjs.extend(LocalizedFormat);\ndayjs.extend(relativeTime);\nvar keys = Object.keys(Resource.Dict.handlers).filter(function (dictName) {\n    return dictName.startsWith('ResourceMomentFormat');\n});\nvar Components = {\n    dayjs: dayjs,\n};\n// 字典的组件\nkeys.forEach(function (key) {\n    var name = key.substring('ResourceMomentFormat'.length);\n    Components[\"DateDisplay\".concat(name)] = memo(function (_a) {\n        var value = _a.value, _b = _a.split1, split1 = _b === void 0 ? '-' : _b, _c = _a.split2, split2 = _c === void 0 ? ':' : _c, _d = _a.errorUI, errorUI = _d === void 0 ? null : _d;\n        var dict = Resource.Dict.value[key].value;\n        return (React.createElement(ConditionalRender, { conditional: !!value, noMatch: function () { return errorUI; } }, function () { return dayjs(value).format(dict instanceof Function ? dict(split1, split2) : dict); }));\n    });\n});\n/**\n * DateDisplayFromNow\n * @constructor\n * @classdesc 返回现在到当前实例的相对时间\n */\nComponents[\"DateDisplayFromNow\"] = memo(function (_a) {\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, _c = _a.now, now = _c === void 0 ? false : _c;\n    return (React.createElement(ConditionalRender, { conditional: !!value }, function () { return dayjs(value).locale(locale).fromNow(now); }));\n});\n/**\n * DateDisplayToNow\n * @constructor\n * @classdesc 返回当前实例到现在的相对时间\n */\nComponents[\"DateDisplayToNow\"] = memo(function (_a) {\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, _c = _a.now, now = _c === void 0 ? false : _c;\n    return (React.createElement(ConditionalRender, { conditional: !!value }, function () { return dayjs(value).locale(locale).toNow(now); }));\n});\n/**\n * DateDisplay\n * @constructor\n */\nComponents[\"DateDisplay\"] = memo(function (_a) {\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, format = _a.format;\n    return (React.createElement(ConditionalRender, { conditional: !!value }, function () { return dayjs(value).locale(locale).format(format); }));\n});\n// 本地\n['LT', 'LTS', 'L', 'LL', 'LLL', 'LLLL', 'l', 'll', 'lll', 'llll'].forEach(function (format) {\n    Components[\"DateDisplay\".concat(format)] = memo(function (props) {\n        var Com = Components['DateDisplay'];\n        return React.createElement(Com, __assign({}, props, { format: format }));\n    });\n});\nexport default Components;\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","dayjs","LocalizedFormat","relativeTime","React","memo","ConditionalRender","Resource","extend","keys","Dict","handlers","filter","dictName","startsWith","Components","forEach","key","name","substring","concat","_a","value","_b","split1","_c","split2","_d","errorUI","dict","createElement","conditional","noMatch","format","Function","locale","now","fromNow","toNow","props","Com"],"mappings":"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"}