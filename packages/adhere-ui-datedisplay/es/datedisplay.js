var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(o){for(var e,a=1,t=arguments.length;a<t;a++)for(var n in e=arguments[a])Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}).apply(this,arguments)};import dayjs from"dayjs";import"dayjs/locale/ar";import"dayjs/locale/en";import"dayjs/locale/pt";import"dayjs/locale/zh";import LocalizedFormat from"dayjs/plugin/localizedFormat";import relativeTime from"dayjs/plugin/relativeTime";import React,{memo}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Resource from"@baifendian/adhere-util-resource";dayjs.extend(LocalizedFormat),dayjs.extend(relativeTime);var customLocaleFormats={zh:{Q:"MM/DD",q:"M/D"},en:{Q:"DD/MM",q:"D/M"},pt:{Q:"DD/MM",q:"D/M"},ar:{Q:"MMMM/D"}},keys=Object.keys(Resource.Dict.handlers).filter(function(o){return o.startsWith("ResourceMomentFormat")}),globalLocal="zh",Components={dayjs:dayjs,setGlobalLocal:function(o){globalLocal=dayjs.locale(o)},setCustomLocaleFormats:function(o){return __assign(__assign({},customLocaleFormats),null!=o?o:{})}};keys.forEach(function(i){var o=i.substring("ResourceMomentFormat".length);Components["DateDisplay".concat(o)]=memo(function(o){var e=o.value,a=o.split1,t=void 0===a?"-":a,a=o.split2,n=void 0===a?":":a,a=o.errorUI,l=void 0===a?null:a,r=Resource.Dict.value[i].value;return React.createElement(ConditionalRender,{conditional:!!e,noMatch:function(){return l}},function(){return dayjs(e).format(r instanceof Function?r(t,n):r)})})}),Components.DateDisplayFromNow=memo(function(o){var e=o.value,a=o.locale,o=o.now,t=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(null!=globalLocal?globalLocal:a).fromNow(t)})}),Components.DateDisplayToNow=memo(function(o){var e=o.value,a=o.locale,o=o.now,t=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(null!=globalLocal?globalLocal:a).toNow(t)})}),Components.DateDisplay=memo(function(o){var e=o.value,a=o.locale,o=o.format,t=null!=a?a:globalLocal,n=null!=(a=null==(a=null==customLocaleFormats?void 0:customLocaleFormats[t])?void 0:a[o])?a:o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(t).format(n)})});export default Components;
//# sourceMappingURL=datedisplay.js.map
