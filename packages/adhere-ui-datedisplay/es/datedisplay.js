import dayjs from"dayjs";import"dayjs/locale/ar";import"dayjs/locale/en";import"dayjs/locale/pt";import"dayjs/locale/zh";import advancedFormat from"dayjs/plugin/advancedFormat";import isoWeek from"dayjs/plugin/isoWeek";import LocalizedFormat from"dayjs/plugin/localizedFormat";import relativeTime from"dayjs/plugin/relativeTime";import timezone from"dayjs/plugin/timezone";import weekOfYear from"dayjs/plugin/weekOfYear";import React,{memo}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Resource from"@baifendian/adhere-util-resource";dayjs.extend(LocalizedFormat),dayjs.extend(relativeTime),dayjs.extend(timezone),dayjs.extend(advancedFormat),dayjs.extend(isoWeek),dayjs.extend(weekOfYear);var globalLocal="zh",Components={dayjs:dayjs,setGlobalLocal:function(o){globalLocal=dayjs.locale(o)}};Object.keys(Resource.Dict.handlers).filter(function(o){return/^ResourceMomentFormat\d+/gim.test(o)}).forEach(function(i){var o=i.substring("ResourceMomentFormat".length);Components["DateDisplay".concat(o)]=memo(function(o){var e=o.value,a=o.split1,l=void 0===a?"-":a,a=o.split2,n=void 0===a?":":a,a=o.errorUI,t=void 0===a?null:a,r=Resource.Dict.value[i].value;return React.createElement(ConditionalRender,{conditional:!!e,noMatch:function(){return t}},function(){return dayjs(e).format(r instanceof Function?r(l,n):r)})}),Components["DateDisplay".concat(o)].toString=function(o){var e=o.value,a=o.split1,a=void 0===a?"-":a,o=o.split2,o=void 0===o?":":o,l=Resource.Dict.value[i].value;return e?dayjs(e).format(l instanceof Function?l(a,o):l):""}}),Components.DateDisplayFromNow=memo(function(o){var a=o.value,l=o.locale,o=o.now,n=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!a},function(){var o,e;return null==(e=null==(o=null==(o=null==(e=dayjs(a))?void 0:e.locale)?void 0:o.call(e,null!=globalLocal?globalLocal:l))?void 0:o.fromNow)?void 0:e.call(o,n)})}),Components.DateDisplayFromNow.toString=function(o){var e=o.value,a=o.locale,o=o.now,o=void 0!==o&&o;return e?dayjs(e).locale(null!=globalLocal?globalLocal:a).fromNow(o):""},Components.DateDisplayToNow=memo(function(o){var e=o.value,a=o.locale,o=o.now,l=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(null!=globalLocal?globalLocal:a).toNow(l)})}),Components.DateDisplayToNow.toString=function(o){var e=o.value,a=o.locale,o=o.now,o=void 0!==o&&o;return e?dayjs(e).locale(null!=globalLocal?globalLocal:a).toNow(o):""},Components.DateDisplay=memo(function(o){var e=o.value,a=o.locale,o=o.format,l=null!=a?a:globalLocal,n=o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(l).format(n)})}),Components.DateDisplay.toString=function(o){var e=o.value,a=o.locale,o=o.format,a=null!=a?a:globalLocal;return e?dayjs(e).locale(a).format(o):""};export default Components;
//# sourceMappingURL=DateDisplay.js.map
