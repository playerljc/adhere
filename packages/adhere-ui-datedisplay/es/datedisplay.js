var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var o,n=1,t=arguments.length;n<t;n++)for(var a in o=arguments[n])Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);return e}).apply(this,arguments)};import React from"react";import dayjs from"dayjs";import Resource from"@baifendian/adhere-util-resource";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import"dayjs/locale/zh-cn";import"dayjs/locale/pt";import"dayjs/locale/en";import relativeTime from"dayjs/plugin/relativeTime";import LocalizedFormat from"dayjs/plugin/localizedFormat";dayjs.extend(LocalizedFormat),dayjs.extend(relativeTime);var keys=Object.keys(Resource.Dict.handlers).filter(function(e){return e.startsWith("ResourceMomentFormat")}),Components={dayjs:dayjs};keys.forEach(function(l){var e=l.substring("ResourceMomentFormat".length);Components["DateDisplay"+e]=function(e){var o=e.value,n=e.split1,t=void 0===n?"-":n,n=e.split2,a=void 0===n?":":n,e=e.errorUI,r=void 0===e?null:e,i=Resource.Dict.value[l].value;return React.createElement(ConditionalRender,{conditional:!!o,noMatch:function(){return r}},function(){return dayjs(o).format(i instanceof Function?i(t,a):i)})}}),Components.DateDisplayFromNow=function(e){var o=e.value,n=e.locale,t=void 0===n?"zh-cn":n,e=e.now,a=void 0!==e&&e;return React.createElement(ConditionalRender,{conditional:!!o},function(){return dayjs(o).locale(t).fromNow(a)})},Components.DateDisplayToNow=function(e){var o=e.value,n=e.locale,t=void 0===n?"zh-cn":n,e=e.now,a=void 0!==e&&e;return React.createElement(ConditionalRender,{conditional:!!o},function(){return dayjs(o).locale(t).toNow(a)})},Components.DateDisplay=function(e){var o=e.value,n=e.locale,t=void 0===n?"zh-cn":n,a=e.format;return React.createElement(ConditionalRender,{conditional:!!o},function(){return dayjs(o).locale(t).format(a)})};var formats=["LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll"];formats.forEach(function(n){Components["DateDisplay"+n]=function(e){var o=Components.DateDisplay;return React.createElement(o,__assign({},e,{format:n}))}});export default Components;
//# sourceMappingURL=datedisplay.js.map
