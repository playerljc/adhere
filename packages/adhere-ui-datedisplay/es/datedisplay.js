var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(o){for(var e,a=1,n=arguments.length;a<n;a++)for(var l in e=arguments[a])Object.prototype.hasOwnProperty.call(e,l)&&(o[l]=e[l]);return o}).apply(this,arguments)};import dayjs from"dayjs";import"dayjs/locale/ar";import"dayjs/locale/en";import"dayjs/locale/pt";import"dayjs/locale/zh";import advancedFormat from"dayjs/plugin/advancedFormat";import isoWeek from"dayjs/plugin/isoWeek";import LocalizedFormat from"dayjs/plugin/localizedFormat";import relativeTime from"dayjs/plugin/relativeTime";import timezone from"dayjs/plugin/timezone";import weekOfYear from"dayjs/plugin/weekOfYear";import React,{memo}from"react";import ConditionalRender from"@baifendian/adhere-ui-conditionalrender";import Resource from"@baifendian/adhere-util-resource";dayjs.extend(LocalizedFormat),dayjs.extend(relativeTime),dayjs.extend(timezone),dayjs.extend(advancedFormat),dayjs.extend(isoWeek),dayjs.extend(weekOfYear);var globalLocal="zh",localization=["LT","LTS","L","LL","LLL","LLLL","l","ll","lll","llll","L LTS","L LT","l LTS","l LT"],Components={dayjs:dayjs,setGlobalLocal:function(o){globalLocal=dayjs.locale(o)}};Object.keys(Resource.Dict.handlers).filter(function(o){return/^ResourceMomentFormat\d+/gim.test(o)}).forEach(function(i){var o=i.substring("ResourceMomentFormat".length);Components["DateDisplay".concat(o)]=memo(function(o){var e=o.value,a=o.split1,n=void 0===a?"-":a,a=o.split2,l=void 0===a?":":a,a=o.errorUI,t=void 0===a?null:a,r=Resource.Dict.value[i].value;return React.createElement(ConditionalRender,{conditional:!!e,noMatch:function(){return t}},function(){return dayjs(e).format(r instanceof Function?r(n,l):r)})}),Components["DateDisplay".concat(o)].toString=function(o){var e=o.value,a=o.split1,a=void 0===a?"-":a,o=o.split2,o=void 0===o?":":o,n=Resource.Dict.value[i].value;return e?dayjs(e).format(n instanceof Function?n(a,o):n):""}}),Components.DateDisplayFromNow=memo(function(o){var a=o.value,n=o.locale,o=o.now,l=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!a},function(){var o,e;return null==(e=null==(o=null==(o=null==(e=dayjs(a))?void 0:e.locale)?void 0:o.call(e,null!=globalLocal?globalLocal:n))?void 0:o.fromNow)?void 0:e.call(o,l)})}),Components.DateDisplayFromNow.toString=function(o){var e=o.value,a=o.locale,o=o.now,o=void 0!==o&&o;return e?dayjs(e).locale(null!=globalLocal?globalLocal:a).fromNow(o):""},Components.DateDisplayToNow=memo(function(o){var e=o.value,a=o.locale,o=o.now,n=void 0!==o&&o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(null!=globalLocal?globalLocal:a).toNow(n)})}),Components.DateDisplayToNow.toString=function(o){var e=o.value,a=o.locale,o=o.now,o=void 0!==o&&o;return e?dayjs(e).locale(null!=globalLocal?globalLocal:a).toNow(o):""},Components.DateDisplay=memo(function(o){var e=o.value,a=o.locale,o=o.format,n=null!=a?a:globalLocal,l=o;return React.createElement(ConditionalRender,{conditional:!!e},function(){return dayjs(e).locale(n).format(l)})}),Components.DateDisplay.toString=function(o){var e=o.value,a=o.locale,o=o.format,a=null!=a?a:globalLocal;return e?dayjs(e).locale(a).format(o):""},localization.reduce(function(o,e){return o["DateDisplay".concat(e.replace(" ",""))]=memo(function(o){return React.createElement(Components.DateDisplay,__assign({},o,{format:e}))}),o},Components);export default Components;
//# sourceMappingURL=DateDisplay.js.map
