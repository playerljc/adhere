{"version":3,"file":"datedisplay.js","sources":["datedisplay.js"],"sourcesContent":["\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar dayjs_1 = __importDefault(require(\"dayjs\"));\r\nrequire(\"dayjs/locale/en\");\r\nrequire(\"dayjs/locale/pt\");\r\nrequire(\"dayjs/locale/zh-cn\");\r\nvar localizedFormat_1 = __importDefault(require(\"dayjs/plugin/localizedFormat\"));\r\nvar relativeTime_1 = __importDefault(require(\"dayjs/plugin/relativeTime\"));\r\nvar react_1 = __importStar(require(\"react\"));\r\nvar adhere_ui_conditionalrender_1 = __importDefault(require(\"@baifendian/adhere-ui-conditionalrender\"));\r\nvar adhere_util_resource_1 = __importDefault(require(\"@baifendian/adhere-util-resource\"));\r\ndayjs_1.default.extend(localizedFormat_1.default);\r\ndayjs_1.default.extend(relativeTime_1.default);\r\nvar keys = Object.keys(adhere_util_resource_1.default.Dict.handlers).filter(function (dictName) {\r\n    return dictName.startsWith('ResourceMomentFormat');\r\n});\r\nvar Components = {\r\n    dayjs: dayjs_1.default,\r\n};\r\n// 字典的组件\r\nkeys.forEach(function (key) {\r\n    var name = key.substring('ResourceMomentFormat'.length);\r\n    Components[\"DateDisplay\" + name] = react_1.memo(function (_a) {\r\n        var value = _a.value, _b = _a.split1, split1 = _b === void 0 ? '-' : _b, _c = _a.split2, split2 = _c === void 0 ? ':' : _c, _d = _a.errorUI, errorUI = _d === void 0 ? null : _d;\r\n        var dict = adhere_util_resource_1.default.Dict.value[key].value;\r\n        return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!value, noMatch: function () { return errorUI; } }, function () { return dayjs_1.default(value).format(dict instanceof Function ? dict(split1, split2) : dict); }));\r\n    });\r\n});\r\n/**\r\n * DateDisplayFromNow\r\n * @constructor\r\n * @classdesc 返回现在到当前实例的相对时间\r\n */\r\nComponents[\"DateDisplayFromNow\"] = react_1.memo(function (_a) {\r\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, _c = _a.now, now = _c === void 0 ? false : _c;\r\n    return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!value }, function () { return dayjs_1.default(value).locale(locale).fromNow(now); }));\r\n});\r\n/**\r\n * DateDisplayToNow\r\n * @constructor\r\n * @classdesc 返回当前实例到现在的相对时间\r\n */\r\nComponents[\"DateDisplayToNow\"] = react_1.memo(function (_a) {\r\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, _c = _a.now, now = _c === void 0 ? false : _c;\r\n    return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!value }, function () { return dayjs_1.default(value).locale(locale).toNow(now); }));\r\n});\r\n/**\r\n * DateDisplay\r\n * @constructor\r\n */\r\nComponents[\"DateDisplay\"] = react_1.memo(function (_a) {\r\n    var value = _a.value, _b = _a.locale, locale = _b === void 0 ? 'zh-cn' : _b, format = _a.format;\r\n    return (react_1.default.createElement(adhere_ui_conditionalrender_1.default, { conditional: !!value }, function () { return dayjs_1.default(value).locale(locale).format(format); }));\r\n});\r\n// 本地\r\n['LT', 'LTS', 'L', 'LL', 'LLL', 'LLLL', 'l', 'll', 'lll', 'llll'].forEach(function (format) {\r\n    Components[\"DateDisplay\" + format] = react_1.memo(function (props) {\r\n        var Com = Components['DateDisplay'];\r\n        return react_1.default.createElement(Com, __assign({}, props, { format: format }));\r\n    });\r\n});\r\nexports.default = Components;\r\n"],"names":["__assign","this","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__importDefault","default","dayjs_1","exports","require","localizedFormat_1","relativeTime_1","react_1","adhere_ui_conditionalrender_1","adhere_util_resource_1","keys","extend","Dict","handlers","filter","dictName","startsWith","Components","dayjs","forEach","key","name","substring","memo","_a","_b","split1","_c","split2","_d","errorUI","dict","createElement","conditional","noMatch","format","Function","locale","now","fromNow","toNow","props","Com"],"mappings":"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"}