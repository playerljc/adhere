{"version":3,"file":"surnames.js","sources":["surnames.js"],"sourcesContent":["import React, { forwardRef, useImperativeHandle, useLayoutEffect, useRef, } from 'react';\r\nimport classNames from 'classnames';\r\nimport Util from '@baifendian/adhere-util';\r\nvar selectorPrefix = 'adhere-ui-surnames';\r\nvar DURATION = 100;\r\n// function isTouch() {\r\n//   return 'ontouchend' in document;\r\n// }\r\n//\r\n// /**\r\n//  * getTopDom\r\n//  * @param target\r\n//  * @param selector\r\n//  * @return HTMLElement\r\n//  */\r\n// function getTopDom(target, selector) {\r\n//   if (!target || !selector) return null;\r\n//\r\n//   if (target.className.indexOf(selector) !== -1) {\r\n//     return target;\r\n//   }\r\n//\r\n//   let parentDom = target;\r\n//   while ((parentDom = parentDom.parentElement)) {\r\n//     if (parentDom.className.indexOf(selector) !== -1 || parentDom === document.body) {\r\n//       break;\r\n//     }\r\n//   }\r\n//\r\n//   if (parentDom) {\r\n//     if (parentDom === document.body) {\r\n//       return null;\r\n//     } else {\r\n//       return parentDom;\r\n//     }\r\n//   } else {\r\n//     return null;\r\n//   }\r\n// }\r\nvar Surnames = function (props, ref) {\r\n    var _a = props.position, position = _a === void 0 ? 'right' : _a, _b = props.className, className = _b === void 0 ? '' : _b, _c = props.style, style = _c === void 0 ? {} : _c, _d = props.indexes, indexes = _d === void 0 ? [] : _d, _e = props.dataSource, dataSource = _e === void 0 ? [] : _e, onScroll = props.onScroll, onBeforeScroll = props.onBeforeScroll;\r\n    var el = useRef(null);\r\n    var highlightedEl = useRef(null);\r\n    var contentEl = useRef(null);\r\n    var indexEl = useRef(null);\r\n    var indexInnerEl = useRef(null);\r\n    var maskEl = useRef();\r\n    var key = useRef(false);\r\n    var isMouseClicked = useRef(false);\r\n    var isMouseMoved = useRef(false);\r\n    var startY = useRef(0);\r\n    var startX = useRef(0);\r\n    var curIndexName = useRef('');\r\n    var indexPositionMap = useRef([]);\r\n    function initEvent() {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        if (Util.isTouch()) {\r\n            (_a = indexInnerEl.current) === null || _a === void 0 ? void 0 : _a.addEventListener('click', onClick);\r\n            // 索引touchmove和mousemove\r\n            (_b = indexInnerEl.current) === null || _b === void 0 ? void 0 : _b.addEventListener('touchmove', onTouchmove);\r\n            (_c = indexInnerEl.current) === null || _c === void 0 ? void 0 : _c.addEventListener('touchend', onTouchend);\r\n        }\r\n        else {\r\n            (_d = indexInnerEl.current) === null || _d === void 0 ? void 0 : _d.addEventListener('mousedown', onMousedown);\r\n            (_e = indexInnerEl.current) === null || _e === void 0 ? void 0 : _e.addEventListener('mousemove', onMousemove);\r\n            (_f = indexInnerEl.current) === null || _f === void 0 ? void 0 : _f.addEventListener('mouseleave', onMouseleave);\r\n            (_g = indexInnerEl.current) === null || _g === void 0 ? void 0 : _g.addEventListener('mouseup', onMouseup);\r\n            typeof window !== 'undefined' && window.addEventListener('resize', onResize);\r\n        }\r\n    }\r\n    function removeEvent() {\r\n        var _a, _b, _c, _d, _e, _f, _g;\r\n        (_a = indexInnerEl.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('click', onClick);\r\n        (_b = indexInnerEl.current) === null || _b === void 0 ? void 0 : _b.removeEventListener('touchmove', onTouchmove);\r\n        (_c = indexInnerEl.current) === null || _c === void 0 ? void 0 : _c.removeEventListener('touchend', onTouchend);\r\n        (_d = indexInnerEl.current) === null || _d === void 0 ? void 0 : _d.removeEventListener('mousedown', onMousedown);\r\n        (_e = indexInnerEl.current) === null || _e === void 0 ? void 0 : _e.removeEventListener('mousemove', onMousemove);\r\n        (_f = indexInnerEl.current) === null || _f === void 0 ? void 0 : _f.removeEventListener('mouseleave', onMouseleave);\r\n        (_g = indexInnerEl.current) === null || _g === void 0 ? void 0 : _g.removeEventListener('mouseup', onMouseup);\r\n        typeof window !== 'undefined' && window.removeEventListener('resize', onResize);\r\n    }\r\n    function createMask() {\r\n        var el = document.createElement('div');\r\n        el.innerHTML = \"<div class='\" + selectorPrefix + \"-mask'></div>\";\r\n        maskEl.current = el.firstElementChild;\r\n        document.body.appendChild(maskEl.current);\r\n    }\r\n    function getDirection() {\r\n        return position === 'left' || position === 'right' ? 'vertical' : 'horizontal';\r\n    }\r\n    function adapterDimension() {\r\n        var direction = getDirection();\r\n        // 'vertical', 'horizontal'\r\n        if (direction === 'vertical') {\r\n            el.current.style.height = indexInnerEl.current.offsetHeight + 50 + \"px\";\r\n            el.current.style.width = '100%';\r\n        }\r\n        else {\r\n            el.current.style.height = '100%';\r\n        }\r\n    }\r\n    function renderContent() {\r\n        return dataSource.map(function (record) {\r\n            var indexConfig = indexes.find(function (index) { return index.index === record.index; });\r\n            return (React.createElement(\"div\", { key: record.index, className: selectorPrefix + \"-group\" },\r\n                React.createElement(\"a\", { className: selectorPrefix + \"-group-title\", \"data-name\": record.index }, (indexConfig === null || indexConfig === void 0 ? void 0 : indexConfig.renderTitle) ? indexConfig.renderTitle(record) : indexConfig === null || indexConfig === void 0 ? void 0 : indexConfig.index),\r\n                React.createElement(\"div\", { className: selectorPrefix + \"-group-inner\" }, (indexConfig === null || indexConfig === void 0 ? void 0 : indexConfig.renderContent) ? indexConfig === null || indexConfig === void 0 ? void 0 : indexConfig.renderContent(record) : null)));\r\n        });\r\n    }\r\n    function renderIndex() {\r\n        return indexes.map(function (index) {\r\n            return (React.createElement(\"a\", { key: index.index, className: selectorPrefix + \"-index-item\", \"data-name\": index.index }, index.renderIndex ? index.renderIndex(index) : index.index));\r\n        });\r\n    }\r\n    function createIndexPosition() {\r\n        var _a;\r\n        var indexItemEls = (_a = indexInnerEl.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".\" + selectorPrefix + \"-index-item\");\r\n        indexPositionMap.current = [];\r\n        // 计算每一项距离视口的top和bottom\r\n        for (var i = 0; i < indexItemEls.length; i++) {\r\n            var indexItemEl = indexItemEls[i];\r\n            var indexName = indexItemEl.dataset.name;\r\n            var rect = indexItemEl.getBoundingClientRect();\r\n            indexPositionMap.current.push({\r\n                name: indexName,\r\n                top: rect.top,\r\n                bottom: rect.bottom,\r\n                left: rect.left,\r\n                right: rect.right,\r\n                offsetTop: indexItemEl.offsetTop,\r\n                offsetLeft: indexItemEl.offsetLeft,\r\n                width: indexItemEl.offsetWidth,\r\n                height: indexItemEl.offsetHeight,\r\n            });\r\n        }\r\n    }\r\n    function findIndex(x, y) {\r\n        var direction = getDirection();\r\n        var val = direction === 'vertical' ? y - startY.current : x - startX.current;\r\n        var curIndex = indexPositionMap.current.find(function (t) { return t.name === curIndexName.current; });\r\n        // console.log('获取增量', val);\r\n        // console.log('移动获取当前索引信息', curIndex);\r\n        var low = 0;\r\n        var high = indexPositionMap.current.length - 1;\r\n        var middle;\r\n        var target;\r\n        while (low <= high &&\r\n            low <= indexPositionMap.current.length - 1 &&\r\n            high <= indexPositionMap.current.length - 1) {\r\n            middle = (high + low) >> 1;\r\n            var targetVal = indexPositionMap.current[middle];\r\n            var t1 = void 0;\r\n            var t2 = void 0;\r\n            var t3 = void 0;\r\n            var t4 = void 0;\r\n            if (direction === 'vertical') {\r\n                t1 = curIndex.top + val;\r\n                t2 = curIndex.bottom + val;\r\n                t3 = targetVal.top;\r\n                t4 = targetVal.bottom;\r\n            }\r\n            else {\r\n                t1 = curIndex.left + val;\r\n                t2 = curIndex.right + val;\r\n                t3 = targetVal.left;\r\n                t4 = targetVal.right;\r\n            }\r\n            // console.log(t1, t2, t3, t4);\r\n            if (t1 >= t3 && t1 <= t4) {\r\n                target = targetVal;\r\n                break;\r\n            }\r\n            else if (t1 < t3) {\r\n                high = middle - 1;\r\n            }\r\n            else {\r\n                low = middle + 1;\r\n            }\r\n        }\r\n        if (target) {\r\n            return target;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n    function clickDetail(e) {\r\n        var target = e.target;\r\n        e.preventDefault();\r\n        if (key.current) {\r\n            return false;\r\n        }\r\n        key.current = true;\r\n        maskEl.current.style.display = 'block';\r\n        scrollToAnimation(target.dataset.name);\r\n    }\r\n    function moveDetail(x, y) {\r\n        var index = findIndex(x, y);\r\n        if (index) {\r\n            highlightedEl.current.innerText = index.name;\r\n            highlightedEl.current.style.display = 'block';\r\n            var direction = getDirection();\r\n            if (direction === 'vertical') {\r\n                var translateY = index.offsetTop + Math.floor(index.height / 2);\r\n                highlightedEl.current.style.transform = \"translate3d(0,\" + translateY + \"px,0)\";\r\n            }\r\n            else {\r\n                var translateX = index.offsetLeft + index.width;\r\n                highlightedEl.current.style.transform = \"translate3d(\" + translateX + \"px,0,0)\";\r\n            }\r\n            scrollTo(index.name);\r\n        }\r\n    }\r\n    function scrollToAnimation(name, duration) {\r\n        var _a, _b;\r\n        if (duration === void 0) { duration = 100; }\r\n        var targetEl = (_a = contentEl.current) === null || _a === void 0 ? void 0 : _a.querySelector(\".\" + selectorPrefix + \"-group-title[data-name='\" + name + \"']\");\r\n        var srcTop = (_b = contentEl.current) === null || _b === void 0 ? void 0 : _b.scrollTop;\r\n        var scrollVal = srcTop;\r\n        var targetTop = targetEl.offsetTop;\r\n        // @ts-ignore\r\n        var updateInterval = screen.updateInterval;\r\n        var step = el.current.scrollHeight /\r\n            ((DURATION | duration) / (updateInterval || 16.7) +\r\n                ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\r\n        /**\r\n         * scrollAnimation\r\n         */\r\n        function scrollAnimation() {\r\n            if (srcTop < targetTop) {\r\n                if (scrollVal + step > targetTop) {\r\n                    scrollVal = targetTop;\r\n                }\r\n                else {\r\n                    scrollVal += step;\r\n                }\r\n            }\r\n            else if (scrollVal - step < targetTop) {\r\n                scrollVal = targetTop;\r\n            }\r\n            else {\r\n                scrollVal -= step;\r\n            }\r\n            contentEl.current.scrollTop = scrollVal;\r\n            if (srcTop < targetTop) {\r\n                if (scrollVal >= targetTop) {\r\n                    clear();\r\n                }\r\n                else {\r\n                    typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n                }\r\n            }\r\n            else if (scrollVal <= targetTop) {\r\n                clear();\r\n            }\r\n            else {\r\n                typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n            }\r\n            function clear() {\r\n                key.current = false;\r\n                isMouseClicked.current = false;\r\n                maskEl.current.style.display = 'none';\r\n                onScroll && onScroll(name);\r\n            }\r\n        }\r\n        onBeforeScroll && onBeforeScroll(name);\r\n        typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n    }\r\n    function scrollTo(name) {\r\n        var _a;\r\n        contentEl.current.scrollTop = ((_a = contentEl.current) === null || _a === void 0 ? void 0 : _a.querySelector(\".\" + selectorPrefix + \"-group-title[data-name='\" + name + \"']\")).offsetTop;\r\n        onScroll && onScroll(name);\r\n    }\r\n    function update() {\r\n        adapterDimension();\r\n        createIndexPosition();\r\n    }\r\n    function onClick(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        clickDetail(e);\r\n    }\r\n    function onTouchmove(e) {\r\n        e.preventDefault();\r\n        var y = e.changedTouches[0].pageY;\r\n        var x = e.changedTouches[0].pageX;\r\n        var target = e.target;\r\n        var indexItemEl = Util.getTopDom(target, selectorPrefix + \"-index-item\");\r\n        curIndexName.current = indexItemEl.dataset.name;\r\n        moveDetail(x, y);\r\n    }\r\n    function onTouchend() {\r\n        highlightedEl.current.style.display = 'none';\r\n        highlightedEl.current.innerText = '';\r\n        highlightedEl.current.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    function onMousedown(e) {\r\n        e.preventDefault();\r\n        startY.current = e.pageY;\r\n        startX.current = e.pageX;\r\n        var target = e.target;\r\n        var indexItemEl = Util.getTopDom(target, selectorPrefix + \"-index-item\");\r\n        // console.log('按下获取索引名称', indexItemEl.dataset.name);\r\n        curIndexName.current = indexItemEl === null || indexItemEl === void 0 ? void 0 : indexItemEl.dataset.name;\r\n        isMouseClicked.current = true;\r\n    }\r\n    function onMousemove(e) {\r\n        if (!isMouseClicked.current)\r\n            return false;\r\n        isMouseMoved.current = true;\r\n        e.preventDefault();\r\n        var y = e.pageY;\r\n        var x = e.pageX;\r\n        moveDetail(x, y);\r\n    }\r\n    function onMouseleave() {\r\n        isMouseClicked.current = false;\r\n        isMouseMoved.current = false;\r\n        highlightedEl.current.style.display = 'none';\r\n        highlightedEl.current.innerText = '';\r\n        highlightedEl.current.style.transform = 'translate3d(0,0,0)';\r\n    }\r\n    function onMouseup(e) {\r\n        if (isMouseMoved.current) {\r\n            isMouseClicked.current = false;\r\n            isMouseMoved.current = false;\r\n            highlightedEl.current.style.display = 'none';\r\n            highlightedEl.current.innerText = '';\r\n            highlightedEl.current.style.transform = 'translate3d(0,0,0)';\r\n            return false;\r\n        }\r\n        e.preventDefault();\r\n        clickDetail(e);\r\n    }\r\n    function onResize() {\r\n        update();\r\n    }\r\n    useImperativeHandle(ref, function () { return ({\r\n        scrollToAnimation: scrollToAnimation,\r\n        scrollTo: scrollTo,\r\n    }); });\r\n    useLayoutEffect(function () {\r\n        createMask();\r\n        adapterDimension();\r\n        createIndexPosition();\r\n        return function () {\r\n            var _a, _b;\r\n            (_b = (_a = maskEl.current) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(maskEl.current);\r\n        };\r\n    }, []);\r\n    useLayoutEffect(function () {\r\n        initEvent();\r\n        adapterDimension();\r\n        createIndexPosition();\r\n        return function () { return removeEvent(); };\r\n    });\r\n    return (React.createElement(\"div\", { className: classNames(selectorPrefix, selectorPrefix + \"-config-position-\" + position, className || ''), style: style || {}, ref: el },\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-highlighted\", ref: highlightedEl }),\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-content\", ref: contentEl }, renderContent()),\r\n        React.createElement(\"div\", { className: selectorPrefix + \"-index\", ref: indexEl },\r\n            React.createElement(\"div\", { className: selectorPrefix + \"-index-inner\", ref: indexInnerEl }, renderIndex()))));\r\n};\r\n// /**\r\n//  * Surnames\r\n//  * @class Surnames\r\n//  * @classdesc Surnames\r\n//  */\r\n// class Surnames extends React.Component<ISurnamesProps> {\r\n//   static defaultProps: any;\r\n//   static propTypes: any;\r\n//\r\n//   private key = false;\r\n//   private isMouseClicked = false;\r\n//   private isMouseMoved = false;\r\n//   private startY: number | undefined;\r\n//   private startX: number | undefined;\r\n//   private curIndexName: string | undefined;\r\n//   private indexPositionMap: Array<IPosition> | undefined;\r\n//\r\n//   private el: HTMLDivElement | null | undefined;\r\n//   private indexEl: HTMLDivElement | null | undefined;\r\n//   private indexInnerEl: HTMLDivElement | null | undefined;\r\n//   private highlightedEl: HTMLDivElement | null | undefined;\r\n//   private maskEl: HTMLElement | null | undefined;\r\n//   private contentEl: HTMLDivElement | null | undefined;\r\n//\r\n//   componentDidMount() {\r\n//     this.initEvent();\r\n//     this.createMask();\r\n//     this.adapterDimension();\r\n//     this.createIndexPosition();\r\n//   }\r\n//\r\n//   componentDidUpdate(prevProps: Readonly<ISurnamesProps>, prevState: Readonly<{}>, snapshot?: any) {\r\n//     this.adapterDimension();\r\n//     this.createIndexPosition();\r\n//   }\r\n//\r\n//   componentWillUnmount() {\r\n//     if (this.maskEl) {\r\n//       // @ts-ignore\r\n//       this.maskEl.parentElement.removeChild(this.maskEl);\r\n//     }\r\n//   }\r\n//\r\n//   private onClick = (e) => {\r\n//     e.preventDefault();\r\n//\r\n//     e.stopPropagation();\r\n//\r\n//     this.clickDetail(e);\r\n//   };\r\n//\r\n//   private onTouchmove = (e) => {\r\n//     e.preventDefault();\r\n//\r\n//     const y = e.changedTouches[0].pageY;\r\n//\r\n//     const x = e.changedTouches[0].pageX;\r\n//\r\n//     const target = e.target;\r\n//\r\n//     const indexItemEl = Util.getTopDom(target, `${selectorPrefix}-index-item`) as HTMLElement;\r\n//\r\n//     this.curIndexName = indexItemEl.dataset.name;\r\n//\r\n//     this.moveDetail(x, y);\r\n//   };\r\n//\r\n//   private onTouchend = () => {\r\n//     // @ts-ignore\r\n//     this.highlightedEl.style.display = 'none';\r\n//     // @ts-ignore\r\n//     this.highlightedEl.innerText = '';\r\n//     // @ts-ignore\r\n//     this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n//   };\r\n//\r\n//   private onMousedown = (e) => {\r\n//     e.preventDefault();\r\n//\r\n//     this.startY = e.pageY;\r\n//\r\n//     this.startX = e.pageX;\r\n//\r\n//     const target = e.target;\r\n//\r\n//     const indexItemEl = Util.getTopDom(target, `${selectorPrefix}-index-item`);\r\n//\r\n//     // @ts-ignore\r\n//     // console.log('按下获取索引名称', indexItemEl.dataset.name);\r\n//\r\n//     // @ts-ignore\r\n//     this.curIndexName = indexItemEl.dataset.name;\r\n//\r\n//     this.isMouseClicked = true;\r\n//   };\r\n//\r\n//   private onMousemove = (e) => {\r\n//     if (!this.isMouseClicked) return false;\r\n//\r\n//     this.isMouseMoved = true;\r\n//\r\n//     e.preventDefault();\r\n//\r\n//     const y = e.pageY;\r\n//\r\n//     const x = e.pageX;\r\n//\r\n//     this.moveDetail(x, y);\r\n//   };\r\n//\r\n//   private onMouseleave = () => {\r\n//     this.isMouseClicked = false;\r\n//     this.isMouseMoved = false;\r\n//     // @ts-ignore\r\n//     this.highlightedEl.style.display = 'none';\r\n//     // @ts-ignore\r\n//     this.highlightedEl.innerText = '';\r\n//     // @ts-ignore\r\n//     this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n//   };\r\n//\r\n//   private onMouseup = (e) => {\r\n//     if (this.isMouseMoved) {\r\n//       this.isMouseClicked = false;\r\n//       this.isMouseMoved = false;\r\n//       // @ts-ignore\r\n//       this.highlightedEl.style.display = 'none';\r\n//       // @ts-ignore\r\n//       this.highlightedEl.innerText = '';\r\n//       // @ts-ignore\r\n//       this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n//       return false;\r\n//     }\r\n//\r\n//     e.preventDefault();\r\n//\r\n//     this.clickDetail(e);\r\n//   };\r\n//\r\n//   private onResize = () => {\r\n//     this.update();\r\n//   };\r\n//\r\n//   private clickDetail(e) {\r\n//     const target = e.target;\r\n//\r\n//     e.preventDefault();\r\n//\r\n//     if (this.key) {\r\n//       return false;\r\n//     }\r\n//\r\n//     this.key = true;\r\n//\r\n//     // @ts-ignore\r\n//     this.maskEl.style.display = 'block';\r\n//\r\n//     this.scrollToAnimation(target.dataset.name);\r\n//   }\r\n//\r\n//   private moveDetail(x, y) {\r\n//     const index = this.findIndex(x, y);\r\n//\r\n//     if (index) {\r\n//       // console.log(index.name);\r\n//       // @ts-ignore\r\n//       this.highlightedEl.innerText = index.name;\r\n//       // @ts-ignore\r\n//       this.highlightedEl.style.display = 'block';\r\n//\r\n//       const direction = this.getDirection();\r\n//\r\n//       if (direction === 'vertical') {\r\n//         const translateY = index.offsetTop + Math.floor(index.height / 2);\r\n//         // @ts-ignore\r\n//         this.highlightedEl.style.transform = `translate3d(0,${translateY}px,0)`;\r\n//       } else {\r\n//         const translateX = index.offsetLeft + index.width;\r\n//         // @ts-ignore\r\n//         this.highlightedEl.style.transform = `translate3d(${translateX}px,0,0)`;\r\n//       }\r\n//\r\n//       this.scrollTo(index.name);\r\n//     }\r\n//   }\r\n//\r\n//   private initEvent() {\r\n//     if (Util.isTouch()) {\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('click', this.onClick);\r\n//\r\n//       // 索引touchmove和mousemove\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('touchmove', this.onTouchmove);\r\n//\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('touchend', this.onTouchend);\r\n//     } else {\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('mousedown', this.onMousedown);\r\n//\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('mousemove', this.onMousemove);\r\n//\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('mouseleave', this.onMouseleave);\r\n//\r\n//       // @ts-ignore\r\n//       this.indexInnerEl.addEventListener('mouseup', this.onMouseup);\r\n//\r\n//       typeof window !== 'undefined' && window.addEventListener('resize', this.onResize);\r\n//     }\r\n//   }\r\n//\r\n//   private adapterDimension() {\r\n//     const direction = this.getDirection();\r\n//\r\n//     // @ts-ignore\r\n//     // 'vertical', 'horizontal'\r\n//\r\n//     if (direction === 'vertical') {\r\n//       // @ts-ignore\r\n//       this.el?.style.height = `${this.indexInnerEl?.offsetHeight + 50}px`;\r\n//       // @ts-ignore\r\n//       this.el?.style.width = '100%';\r\n//     } else {\r\n//       // @ts-ignore\r\n//       // this.el?.style.width = `${this.indexInnerEl?.offsetWidth + 50}px`;\r\n//       // @ts-ignore\r\n//       this.el?.style.height = '100%';\r\n//     }\r\n//   }\r\n//\r\n//   private createIndexPosition() {\r\n//     // @ts-ignore\r\n//     const indexItemEls = this.indexInnerEl.querySelectorAll(`.${selectorPrefix}-index-item`);\r\n//\r\n//     this.indexPositionMap = [];\r\n//\r\n//     // 计算每一项距离视口的top和bottom\r\n//     for (let i = 0; i < indexItemEls.length; i++) {\r\n//       const indexItemEl = indexItemEls[i] as HTMLElement;\r\n//       const indexName = indexItemEl.dataset.name as string;\r\n//\r\n//       const rect = indexItemEl.getBoundingClientRect();\r\n//\r\n//       this.indexPositionMap.push({\r\n//         name: indexName,\r\n//         top: rect.top,\r\n//         bottom: rect.bottom,\r\n//         left: rect.left,\r\n//         right: rect.right,\r\n//         offsetTop: indexItemEl.offsetTop,\r\n//         offsetLeft: indexItemEl.offsetLeft,\r\n//         width: indexItemEl.offsetWidth,\r\n//         height: indexItemEl.offsetHeight,\r\n//       });\r\n//     }\r\n//\r\n//     // console.log(this.indexPositionMap);\r\n//   }\r\n//\r\n//   private createMask() {\r\n//     const el = document.createElement('div');\r\n//\r\n//     el.innerHTML = `<div class='${selectorPrefix}-mask'></div>`;\r\n//\r\n//     this.maskEl = el.firstElementChild as HTMLElement;\r\n//\r\n//     // @ts-ignore\r\n//     document.body.appendChild(this.maskEl);\r\n//   }\r\n//\r\n//   scrollToAnimation(name: string | undefined, duration = 100) {\r\n//     const self = this;\r\n//\r\n//     const { onScroll, onBeforeScroll } = this.props;\r\n//\r\n//     // @ts-ignore\r\n//     const targetEl = self.contentEl.querySelector(\r\n//       `.${selectorPrefix}-group-title[data-name='${name}']`,\r\n//     );\r\n//\r\n//     // @ts-ignore\r\n//     const srcTop = self.contentEl.scrollTop;\r\n//\r\n//     let scrollVal = srcTop;\r\n//\r\n//     // @ts-ignore\r\n//     const targetTop = targetEl.offsetTop;\r\n//\r\n//     // @ts-ignore\r\n//     const { updateInterval } = screen;\r\n//\r\n//     const step =\r\n//       // @ts-ignore\r\n//       self.el.scrollHeight /\r\n//       ((DURATION | duration) / (updateInterval || 16.7) +\r\n//         ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\r\n//\r\n//     /**\r\n//      * scrollAnimation\r\n//      */\r\n//     function scrollAnimation() {\r\n//       if (srcTop < targetTop) {\r\n//         if (scrollVal + step > targetTop) {\r\n//           scrollVal = targetTop;\r\n//         } else {\r\n//           scrollVal += step;\r\n//         }\r\n//       } else if (scrollVal - step < targetTop) {\r\n//         scrollVal = targetTop;\r\n//       } else {\r\n//         scrollVal -= step;\r\n//       }\r\n//\r\n//       // @ts-ignore\r\n//       self.contentEl.scrollTop = scrollVal;\r\n//\r\n//       if (srcTop < targetTop) {\r\n//         if (scrollVal >= targetTop) {\r\n//           clear();\r\n//         } else {\r\n//           typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n//         }\r\n//       } else if (scrollVal <= targetTop) {\r\n//         clear();\r\n//       } else {\r\n//         typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n//       }\r\n//\r\n//       function clear() {\r\n//         self.key = false;\r\n//         self.isMouseClicked = false;\r\n//         // @ts-ignore\r\n//         self.maskEl.style.display = 'none';\r\n//\r\n//         if (onScroll) {\r\n//           onScroll(name);\r\n//         }\r\n//       }\r\n//     }\r\n//\r\n//     if (onBeforeScroll) {\r\n//       onBeforeScroll(name);\r\n//     }\r\n//\r\n//     typeof window !== 'undefined' && window.requestAnimationFrame(scrollAnimation);\r\n//   }\r\n//\r\n//   scrollTo(name: any) {\r\n//     const self = this;\r\n//\r\n//     // @ts-ignore\r\n//     self.contentEl.scrollTop = self.contentEl.querySelector(\r\n//       `.${selectorPrefix}-group-title[data-name='${name}']`,\r\n//       // @ts-ignore\r\n//     ).offsetTop;\r\n//\r\n//     const { onScroll } = this.props;\r\n//\r\n//     if (onScroll) {\r\n//       onScroll(name);\r\n//     }\r\n//   }\r\n//\r\n//   private getDirection() {\r\n//     const { position } = this.props;\r\n//\r\n//     return position === 'left' || position === 'right' ? 'vertical' : 'horizontal';\r\n//   }\r\n//\r\n//   private findIndex(x: number, y: number) {\r\n//     const direction = this.getDirection();\r\n//\r\n//     // @ts-ignore\r\n//     const val = direction === 'vertical' ? y - this.startY : x - this.startX;\r\n//     // @ts-ignore\r\n//     const curIndex = this.indexPositionMap.find((t) => t.name === this.curIndexName);\r\n//\r\n//     // console.log('获取增量', val);\r\n//     // console.log('移动获取当前索引信息', curIndex);\r\n//\r\n//     let low = 0;\r\n//     // @ts-ignore\r\n//     let high = this.indexPositionMap.length - 1;\r\n//     let middle;\r\n//     let target;\r\n//\r\n//     while (\r\n//       low <= high &&\r\n//       // @ts-ignore\r\n//       low <= this.indexPositionMap.length - 1 &&\r\n//       // @ts-ignore\r\n//       high <= this.indexPositionMap.length - 1\r\n//     ) {\r\n//       middle = (high + low) >> 1;\r\n//       // @ts-ignore\r\n//       const targetVal = this.indexPositionMap[middle];\r\n//\r\n//       let t1;\r\n//       let t2;\r\n//       let t3;\r\n//       let t4;\r\n//       if (direction === 'vertical') {\r\n//         // @ts-ignore\r\n//         t1 = curIndex.top + val;\r\n//         // @ts-ignore\r\n//         t2 = curIndex.bottom + val;\r\n//         t3 = targetVal.top;\r\n//         t4 = targetVal.bottom;\r\n//       } else {\r\n//         // @ts-ignore\r\n//         t1 = curIndex.left + val;\r\n//         // @ts-ignore\r\n//         t2 = curIndex.right + val;\r\n//         t3 = targetVal.left;\r\n//         t4 = targetVal.right;\r\n//       }\r\n//\r\n//       // console.log(t1, t2, t3, t4);\r\n//\r\n//       if (t1 >= t3 && t1 <= t4) {\r\n//         target = targetVal;\r\n//         break;\r\n//       } else if (t1 < t3) {\r\n//         high = middle - 1;\r\n//       } else {\r\n//         low = middle + 1;\r\n//       }\r\n//     }\r\n//\r\n//     if (target) {\r\n//       return target;\r\n//     } else {\r\n//       return null;\r\n//     }\r\n//   }\r\n//\r\n//   private update() {\r\n//     this.adapterDimension();\r\n//     this.createIndexPosition();\r\n//   }\r\n//\r\n//   private renderIndex() {\r\n//     const { indexes } = this.props;\r\n//\r\n//     return indexes.map((index) => {\r\n//       return (\r\n//         <a key={index.index} className={`${selectorPrefix}-index-item`} data-name={index.index}>\r\n//           {index.renderIndex ? index.renderIndex(index) : index.index}\r\n//         </a>\r\n//       );\r\n//     });\r\n//   }\r\n//\r\n//   private renderContent() {\r\n//     const { indexes, dataSource } = this.props;\r\n//\r\n//     return dataSource.map((record) => {\r\n//       const indexConfig = indexes.find((index) => index.index === record.index);\r\n//\r\n//       return (\r\n//         <div key={record.index} className={`${selectorPrefix}-group`}>\r\n//           <a className={`${selectorPrefix}-group-title`} data-name={record.index}>\r\n//             {\r\n//               // @ts-ignore\r\n//               indexConfig.renderTitle ? indexConfig.renderTitle(record) : indexConfig.index\r\n//             }\r\n//           </a>\r\n//           <div className={`${selectorPrefix}-group-inner`}>\r\n//             {\r\n//               // @ts-ignore\r\n//               indexConfig.renderContent ? indexConfig.renderContent(record) : null\r\n//             }\r\n//           </div>\r\n//         </div>\r\n//       );\r\n//     });\r\n//   }\r\n//\r\n//   render() {\r\n//     // @ts-ignore\r\n//     const { position, className, style } = this.props;\r\n//\r\n//     return (\r\n//       <div\r\n//         className={classNames(\r\n//           selectorPrefix,\r\n//           `${selectorPrefix}-config-position-${position}`,\r\n//           // @ts-ignore\r\n//           className.split(/\\s+/),\r\n//         )}\r\n//         style={{ ...style }}\r\n//         ref={(el) => (this.el = el)}\r\n//       >\r\n//         <div className={`${selectorPrefix}-highlighted`} ref={(el) => (this.highlightedEl = el)} />\r\n//\r\n//         <div className={`${selectorPrefix}-content`} ref={(el) => (this.contentEl = el)}>\r\n//           {this.renderContent()}\r\n//         </div>\r\n//\r\n//         <div className={`${selectorPrefix}-index`} ref={(el) => (this.indexEl = el)}>\r\n//           <div className={`${selectorPrefix}-index-inner`} ref={(el) => (this.indexInnerEl = el)}>\r\n//             {this.renderIndex()}\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\n//\r\n// Surnames.defaultProps = {\r\n//   className: '',\r\n//   style: {},\r\n//   position: 'right',\r\n//   indexes: [],\r\n//   dataSource: [],\r\n//   onBeforeScroll: () => {},\r\n//   onScroll: () => {},\r\n// };\r\n//\r\n// Surnames.propTypes = {\r\n//   className: PropTypes.string,\r\n//   style: PropTypes.object,\r\n//   position: PropTypes.oneOf(['top', 'right', 'bottom', 'left']),\r\n//   indexes: PropTypes.arrayOf(\r\n//     PropTypes.shape({\r\n//       index: PropTypes.string,\r\n//       renderIndex: PropTypes.func,\r\n//       renderTitle: PropTypes.func,\r\n//       renderContent: PropTypes.func,\r\n//     }),\r\n//   ),\r\n//   dataSource: PropTypes.arrayOf(\r\n//     PropTypes.shape({\r\n//       index: PropTypes.string,\r\n//       data: PropTypes.arrayOf(PropTypes.object),\r\n//     }),\r\n//   ),\r\n//   onBeforeScroll: PropTypes.func,\r\n//   onScroll: PropTypes.func,\r\n// };\r\nexport default forwardRef(Surnames);\r\n"],"names":["React","forwardRef","useImperativeHandle","useLayoutEffect","useRef","classNames","Util","selectorPrefix","DURATION","Surnames","props","ref","_a","position","_b","className","_c","style","_d","indexes","_e","dataSource","onScroll","onBeforeScroll","el","highlightedEl","contentEl","indexEl","indexInnerEl","maskEl","key","isMouseClicked","isMouseMoved","startY","startX","curIndexName","indexPositionMap","getDirection","adapterDimension","current","height","offsetHeight","width","createIndexPosition","indexItemEls","querySelectorAll","i","length","indexItemEl","indexName","dataset","name","rect","getBoundingClientRect","push","top","bottom","left","right","offsetTop","offsetLeft","offsetWidth","clickDetail","e","target","preventDefault","display","scrollToAnimation","moveDetail","x","y","translateX","index","direction","val","curIndex","find","t","low","high","middle","targetVal","t1","t3","t4","findIndex","innerText","translateY","Math","floor","transform","scrollTo","duration","targetEl","querySelector","srcTop","scrollTop","scrollVal","targetTop","updateInterval","screen","step","scrollHeight","window","requestAnimationFrame","scrollAnimation","clear","onClick","stopPropagation","onTouchmove","changedTouches","pageY","pageX","getTopDom","onTouchend","onMousedown","onMousemove","onMouseleave","onMouseup","onResize","document","createElement","innerHTML","firstElementChild","body","appendChild","parentElement","removeChild","_g","isTouch","addEventListener","_f","removeEventListener","map","record","indexConfig","data-name","renderTitle","renderContent","renderIndex"],"mappings":"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"}