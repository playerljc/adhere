{"version":3,"file":"surnames.js","sources":["surnames.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\r\nvar classnames_1 = __importDefault(require(\"classnames\"));\r\nvar adhere_util_1 = __importDefault(require(\"@baifendian/adhere-util\"));\r\nvar selectorPrefix = 'adhere-ui-surnames';\r\nvar DURATION = 100;\r\n// function isTouch() {\r\n//   return 'ontouchend' in document;\r\n// }\r\n//\r\n// /**\r\n//  * getTopDom\r\n//  * @param target\r\n//  * @param selector\r\n//  * @return HTMLElement\r\n//  */\r\n// function getTopDom(target, selector) {\r\n//   if (!target || !selector) return null;\r\n//\r\n//   if (target.className.indexOf(selector) !== -1) {\r\n//     return target;\r\n//   }\r\n//\r\n//   let parentDom = target;\r\n//   while ((parentDom = parentDom.parentElement)) {\r\n//     if (parentDom.className.indexOf(selector) !== -1 || parentDom === document.body) {\r\n//       break;\r\n//     }\r\n//   }\r\n//\r\n//   if (parentDom) {\r\n//     if (parentDom === document.body) {\r\n//       return null;\r\n//     } else {\r\n//       return parentDom;\r\n//     }\r\n//   } else {\r\n//     return null;\r\n//   }\r\n// }\r\n/**\r\n * Surnames\r\n * @class Surnames\r\n * @classdesc Surnames\r\n */\r\nvar Surnames = /** @class */ (function (_super) {\r\n    __extends(Surnames, _super);\r\n    function Surnames() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.key = false;\r\n        _this.isMouseClicked = false;\r\n        _this.isMouseMoved = false;\r\n        _this.onClick = function (e) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            _this.clickDetail(e);\r\n        };\r\n        _this.onTouchmove = function (e) {\r\n            e.preventDefault();\r\n            var y = e.changedTouches[0].pageY;\r\n            var x = e.changedTouches[0].pageX;\r\n            var target = e.target;\r\n            var indexItemEl = adhere_util_1.default.getTopDom(target, selectorPrefix + \"-index-item\");\r\n            _this.curIndexName = indexItemEl.dataset.name;\r\n            _this.moveDetail(x, y);\r\n        };\r\n        _this.onTouchend = function () {\r\n            // @ts-ignore\r\n            _this.highlightedEl.style.display = 'none';\r\n            // @ts-ignore\r\n            _this.highlightedEl.innerText = '';\r\n            // @ts-ignore\r\n            _this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n        };\r\n        _this.onMousedown = function (e) {\r\n            e.preventDefault();\r\n            _this.startY = e.pageY;\r\n            _this.startX = e.pageX;\r\n            var target = e.target;\r\n            var indexItemEl = adhere_util_1.default.getTopDom(target, selectorPrefix + \"-index-item\");\r\n            // @ts-ignore\r\n            console.log('按下获取索引名称', indexItemEl.dataset.name);\r\n            // @ts-ignore\r\n            _this.curIndexName = indexItemEl.dataset.name;\r\n            _this.isMouseClicked = true;\r\n        };\r\n        _this.onMousemove = function (e) {\r\n            if (!_this.isMouseClicked)\r\n                return false;\r\n            _this.isMouseMoved = true;\r\n            e.preventDefault();\r\n            var y = e.pageY;\r\n            var x = e.pageX;\r\n            _this.moveDetail(x, y);\r\n        };\r\n        _this.onMouseleave = function () {\r\n            _this.isMouseClicked = false;\r\n            _this.isMouseMoved = false;\r\n            // @ts-ignore\r\n            _this.highlightedEl.style.display = 'none';\r\n            // @ts-ignore\r\n            _this.highlightedEl.innerText = '';\r\n            // @ts-ignore\r\n            _this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n        };\r\n        _this.onMouseup = function (e) {\r\n            if (_this.isMouseMoved) {\r\n                _this.isMouseClicked = false;\r\n                _this.isMouseMoved = false;\r\n                // @ts-ignore\r\n                _this.highlightedEl.style.display = 'none';\r\n                // @ts-ignore\r\n                _this.highlightedEl.innerText = '';\r\n                // @ts-ignore\r\n                _this.highlightedEl.style.transform = 'translate3d(0,0,0)';\r\n                return false;\r\n            }\r\n            e.preventDefault();\r\n            _this.clickDetail(e);\r\n        };\r\n        _this.onResize = function () {\r\n            _this.update();\r\n        };\r\n        return _this;\r\n    }\r\n    Surnames.prototype.componentDidMount = function () {\r\n        this.initEvent();\r\n        this.createMask();\r\n        this.adapterDimension();\r\n        this.createIndexPosition();\r\n    };\r\n    Surnames.prototype.componentDidUpdate = function (prevProps, prevState, snapshot) {\r\n        this.adapterDimension();\r\n        this.createIndexPosition();\r\n    };\r\n    Surnames.prototype.componentWillUnmount = function () {\r\n        if (this.maskEl) {\r\n            // @ts-ignore\r\n            this.maskEl.parentElement.removeChild(this.maskEl);\r\n        }\r\n    };\r\n    Surnames.prototype.clickDetail = function (e) {\r\n        var target = e.target;\r\n        e.preventDefault();\r\n        if (this.key) {\r\n            return false;\r\n        }\r\n        this.key = true;\r\n        // @ts-ignore\r\n        this.maskEl.style.display = 'block';\r\n        this.scrollToAnimation(target.dataset.name);\r\n    };\r\n    Surnames.prototype.moveDetail = function (x, y) {\r\n        var index = this.findIndex(x, y);\r\n        if (index) {\r\n            console.log(index.name);\r\n            // @ts-ignore\r\n            this.highlightedEl.innerText = index.name;\r\n            // @ts-ignore\r\n            this.highlightedEl.style.display = 'block';\r\n            var direction = this.getDirection();\r\n            if (direction === 'vertical') {\r\n                var translateY = index.offsetTop + Math.floor(index.height / 2);\r\n                // @ts-ignore\r\n                this.highlightedEl.style.transform = \"translate3d(0,\" + translateY + \"px,0)\";\r\n            }\r\n            else {\r\n                var translateX = index.offsetLeft + index.width;\r\n                // @ts-ignore\r\n                this.highlightedEl.style.transform = \"translate3d(\" + translateX + \"px,0,0)\";\r\n            }\r\n            this.scrollTo(index.name);\r\n        }\r\n    };\r\n    Surnames.prototype.initEvent = function () {\r\n        if (adhere_util_1.default.isTouch()) {\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('click', this.onClick);\r\n            // 索引touchmove和mousemove\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('touchmove', this.onTouchmove);\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('touchend', this.onTouchend);\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('mousedown', this.onMousedown);\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('mousemove', this.onMousemove);\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('mouseleave', this.onMouseleave);\r\n            // @ts-ignore\r\n            this.indexInnerEl.addEventListener('mouseup', this.onMouseup);\r\n            window.addEventListener('resize', this.onResize);\r\n        }\r\n    };\r\n    Surnames.prototype.adapterDimension = function () {\r\n        var _a, _b, _c, _d;\r\n        var direction = this.getDirection();\r\n        // @ts-ignore\r\n        // 'vertical', 'horizontal'\r\n        if (direction === 'vertical') {\r\n            // @ts-ignore\r\n            (_a = this.el) === null || _a === void 0 ? void 0 : _a.style.height = ((_b = this.indexInnerEl) === null || _b === void 0 ? void 0 : _b.offsetHeight) + 50 + \"px\";\r\n            // @ts-ignore\r\n            (_c = this.el) === null || _c === void 0 ? void 0 : _c.style.width = '100%';\r\n        }\r\n        else {\r\n            // @ts-ignore\r\n            // this.el?.style.width = `${this.indexInnerEl?.offsetWidth + 50}px`;\r\n            // @ts-ignore\r\n            (_d = this.el) === null || _d === void 0 ? void 0 : _d.style.height = '100%';\r\n        }\r\n    };\r\n    Surnames.prototype.createIndexPosition = function () {\r\n        // @ts-ignore\r\n        var indexItemEls = this.indexInnerEl.querySelectorAll(\".\" + selectorPrefix + \"-index-item\");\r\n        this.indexPositionMap = [];\r\n        // 计算每一项距离视口的top和bottom\r\n        for (var i = 0; i < indexItemEls.length; i++) {\r\n            var indexItemEl = indexItemEls[i];\r\n            var indexName = indexItemEl.dataset.name;\r\n            var rect = indexItemEl.getBoundingClientRect();\r\n            this.indexPositionMap.push({\r\n                name: indexName,\r\n                top: rect.top,\r\n                bottom: rect.bottom,\r\n                left: rect.left,\r\n                right: rect.right,\r\n                offsetTop: indexItemEl.offsetTop,\r\n                offsetLeft: indexItemEl.offsetLeft,\r\n                width: indexItemEl.offsetWidth,\r\n                height: indexItemEl.offsetHeight,\r\n            });\r\n        }\r\n        console.log(this.indexPositionMap);\r\n    };\r\n    Surnames.prototype.createMask = function () {\r\n        var el = document.createElement('div');\r\n        el.innerHTML = \"<div class='\" + selectorPrefix + \"-mask'></div>\";\r\n        this.maskEl = el.firstElementChild;\r\n        // @ts-ignore\r\n        document.body.appendChild(this.maskEl);\r\n    };\r\n    Surnames.prototype.scrollToAnimation = function (name, duration) {\r\n        if (duration === void 0) { duration = 100; }\r\n        var self = this;\r\n        var _a = this.props, onScroll = _a.onScroll, onBeforeScroll = _a.onBeforeScroll;\r\n        // @ts-ignore\r\n        var targetEl = self.contentEl.querySelector(\".\" + selectorPrefix + \"-group-title[data-name='\" + name + \"']\");\r\n        // @ts-ignore\r\n        var srcTop = self.contentEl.scrollTop;\r\n        var scrollVal = srcTop;\r\n        // @ts-ignore\r\n        var targetTop = targetEl.offsetTop;\r\n        // @ts-ignore\r\n        var updateInterval = screen.updateInterval;\r\n        var step = \r\n        // @ts-ignore\r\n        self.el.scrollHeight /\r\n            ((DURATION | duration) / (updateInterval || 16.7) +\r\n                ((DURATION | duration) % (updateInterval || 16.7) !== 0 ? 1 : 0));\r\n        /**\r\n         * scrollAnimation\r\n         */\r\n        function scrollAnimation() {\r\n            if (srcTop < targetTop) {\r\n                if (scrollVal + step > targetTop) {\r\n                    scrollVal = targetTop;\r\n                }\r\n                else {\r\n                    scrollVal += step;\r\n                }\r\n            }\r\n            else if (scrollVal - step < targetTop) {\r\n                scrollVal = targetTop;\r\n            }\r\n            else {\r\n                scrollVal -= step;\r\n            }\r\n            // @ts-ignore\r\n            self.contentEl.scrollTop = scrollVal;\r\n            if (srcTop < targetTop) {\r\n                if (scrollVal >= targetTop) {\r\n                    clear();\r\n                }\r\n                else {\r\n                    window.requestAnimationFrame(scrollAnimation);\r\n                }\r\n            }\r\n            else if (scrollVal <= targetTop) {\r\n                clear();\r\n            }\r\n            else {\r\n                window.requestAnimationFrame(scrollAnimation);\r\n            }\r\n            function clear() {\r\n                self.key = false;\r\n                self.isMouseClicked = false;\r\n                // @ts-ignore\r\n                self.maskEl.style.display = 'none';\r\n                if (onScroll) {\r\n                    onScroll(name);\r\n                }\r\n            }\r\n        }\r\n        if (onBeforeScroll) {\r\n            onBeforeScroll(name);\r\n        }\r\n        window.requestAnimationFrame(scrollAnimation);\r\n    };\r\n    Surnames.prototype.scrollTo = function (name) {\r\n        var self = this;\r\n        // @ts-ignore\r\n        self.contentEl.scrollTop = self.contentEl.querySelector(\".\" + selectorPrefix + \"-group-title[data-name='\" + name + \"']\").offsetTop;\r\n        var onScroll = this.props.onScroll;\r\n        if (onScroll) {\r\n            onScroll(name);\r\n        }\r\n    };\r\n    Surnames.prototype.getDirection = function () {\r\n        var position = this.props.position;\r\n        return position === 'left' || position === 'right' ? 'vertical' : 'horizontal';\r\n    };\r\n    Surnames.prototype.findIndex = function (x, y) {\r\n        var _this = this;\r\n        var direction = this.getDirection();\r\n        // @ts-ignore\r\n        var val = direction === 'vertical' ? y - this.startY : x - this.startX;\r\n        // @ts-ignore\r\n        var curIndex = this.indexPositionMap.find(function (t) { return t.name === _this.curIndexName; });\r\n        console.log('获取增量', val);\r\n        console.log('移动获取当前索引信息', curIndex);\r\n        var low = 0;\r\n        // @ts-ignore\r\n        var high = this.indexPositionMap.length - 1;\r\n        var middle;\r\n        var target;\r\n        while (low <= high &&\r\n            // @ts-ignore\r\n            low <= this.indexPositionMap.length - 1 &&\r\n            // @ts-ignore\r\n            high <= this.indexPositionMap.length - 1) {\r\n            middle = (high + low) >> 1;\r\n            // @ts-ignore\r\n            var targetVal = this.indexPositionMap[middle];\r\n            var t1 = void 0;\r\n            var t2 = void 0;\r\n            var t3 = void 0;\r\n            var t4 = void 0;\r\n            if (direction === 'vertical') {\r\n                // @ts-ignore\r\n                t1 = curIndex.top + val;\r\n                // @ts-ignore\r\n                t2 = curIndex.bottom + val;\r\n                t3 = targetVal.top;\r\n                t4 = targetVal.bottom;\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                t1 = curIndex.left + val;\r\n                // @ts-ignore\r\n                t2 = curIndex.right + val;\r\n                t3 = targetVal.left;\r\n                t4 = targetVal.right;\r\n            }\r\n            console.log(t1, t2, t3, t4);\r\n            if (t1 >= t3 && t1 <= t4) {\r\n                target = targetVal;\r\n                break;\r\n            }\r\n            else if (t1 < t3) {\r\n                high = middle - 1;\r\n            }\r\n            else {\r\n                low = middle + 1;\r\n            }\r\n        }\r\n        if (target) {\r\n            return target;\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    };\r\n    Surnames.prototype.update = function () {\r\n        this.adapterDimension();\r\n        this.createIndexPosition();\r\n    };\r\n    Surnames.prototype.renderIndex = function () {\r\n        var indexes = this.props.indexes;\r\n        return indexes.map(function (index) {\r\n            return (react_1.default.createElement(\"a\", { key: index.index, className: selectorPrefix + \"-index-item\", \"data-name\": index.index }, index.renderIndex ? index.renderIndex(index) : index.index));\r\n        });\r\n    };\r\n    Surnames.prototype.renderContent = function () {\r\n        var _a = this.props, indexes = _a.indexes, dataSource = _a.dataSource;\r\n        return dataSource.map(function (record) {\r\n            var indexConfig = indexes.find(function (index) { return index.index === record.index; });\r\n            return (react_1.default.createElement(\"div\", { key: record.index, className: selectorPrefix + \"-group\" },\r\n                react_1.default.createElement(\"a\", { className: selectorPrefix + \"-group-title\", \"data-name\": record.index }, \r\n                // @ts-ignore\r\n                indexConfig.renderTitle ? indexConfig.renderTitle(record) : indexConfig.index),\r\n                react_1.default.createElement(\"div\", { className: selectorPrefix + \"-group-inner\" }, \r\n                // @ts-ignore\r\n                indexConfig.renderContent ? indexConfig.renderContent(record) : null)));\r\n        });\r\n    };\r\n    Surnames.prototype.render = function () {\r\n        var _this = this;\r\n        // @ts-ignore\r\n        var _a = this.props, position = _a.position, className = _a.className, style = _a.style;\r\n        return (react_1.default.createElement(\"div\", { className: classnames_1.default(selectorPrefix, selectorPrefix + \"-config-position-\" + position, \r\n            // @ts-ignore\r\n            className.split(' ')), style: __assign({}, style), ref: function (el) { return (_this.el = el); } },\r\n            react_1.default.createElement(\"div\", { className: selectorPrefix + \"-highlighted\", ref: function (el) { return (_this.highlightedEl = el); } }),\r\n            react_1.default.createElement(\"div\", { className: selectorPrefix + \"-content\", ref: function (el) { return (_this.contentEl = el); } }, this.renderContent()),\r\n            react_1.default.createElement(\"div\", { className: selectorPrefix + \"-index\", ref: function (el) { return (_this.indexEl = el); } },\r\n                react_1.default.createElement(\"div\", { className: selectorPrefix + \"-index-inner\", ref: function (el) { return (_this.indexInnerEl = el); } }, this.renderIndex()))));\r\n    };\r\n    return Surnames;\r\n}(react_1.default.Component));\r\nSurnames.defaultProps = {\r\n    className: '',\r\n    style: {},\r\n    position: 'right',\r\n    indexes: [],\r\n    dataSource: [],\r\n    onBeforeScroll: function () { },\r\n    onScroll: function () { },\r\n};\r\nSurnames.propTypes = {\r\n    className: prop_types_1.default.string,\r\n    style: prop_types_1.default.object,\r\n    position: prop_types_1.default.oneOf(['top', 'right', 'bottom', 'left']),\r\n    indexes: prop_types_1.default.arrayOf(prop_types_1.default.shape({\r\n        index: prop_types_1.default.string,\r\n        renderIndex: prop_types_1.default.func,\r\n        renderTitle: prop_types_1.default.func,\r\n        renderContent: prop_types_1.default.func,\r\n    })),\r\n    dataSource: prop_types_1.default.arrayOf(prop_types_1.default.shape({\r\n        index: prop_types_1.default.string,\r\n        data: prop_types_1.default.arrayOf(prop_types_1.default.object),\r\n    })),\r\n    onBeforeScroll: prop_types_1.default.func,\r\n    onScroll: prop_types_1.default.func,\r\n};\r\nexports.default = Surnames;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__importDefault","mod","__esModule","default","defineProperty","exports","value","react_1","require","prop_types_1","classnames_1","adhere_util_1","selectorPrefix","DURATION","Surnames","_super","_this","key","isMouseClicked","isMouseMoved","onClick","e","preventDefault","stopPropagation","clickDetail","onTouchmove","y","changedTouches","pageY","x","pageX","target","indexItemEl","getTopDom","curIndexName","dataset","name","moveDetail","onTouchend","highlightedEl","style","display","innerText","transform","onMousedown","startY","startX","console","log","onMousemove","onMouseleave","onMouseup","onResize","update","componentDidMount","initEvent","createMask","adapterDimension","createIndexPosition","componentDidUpdate","prevProps","prevState","snapshot","componentWillUnmount","maskEl","parentElement","removeChild","scrollToAnimation","translateX","index","findIndex","getDirection","translateY","offsetTop","Math","floor","height","offsetLeft","width","scrollTo","isTouch","indexInnerEl","addEventListener","window","_a","_d","el","_b","offsetHeight","_c","indexItemEls","querySelectorAll","indexPositionMap","indexName","rect","getBoundingClientRect","push","top","bottom","left","right","offsetWidth","document","createElement","innerHTML","firstElementChild","body","appendChild","duration","self","props","onScroll","onBeforeScroll","targetEl","contentEl","querySelector","srcTop","scrollTop","scrollVal","targetTop","updateInterval","screen","step","scrollHeight","requestAnimationFrame","scrollAnimation","clear","position","direction","val","curIndex","find","low","high","middle","targetVal","t1","t2","t3","t4","renderIndex","indexes","map","className","data-name","renderContent","dataSource","record","indexConfig","renderTitle","render","split","ref","indexEl","Component","defaultProps","propTypes","string","object","oneOf","arrayOf","shape","func","data"],"mappings":"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"}