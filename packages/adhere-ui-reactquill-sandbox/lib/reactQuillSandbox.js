"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var l in t=arguments[r])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){e[n=void 0===n?r:n]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__rest=this&&this.__rest||function(e,t){var r={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(r[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(r[l[n]]=e[l[n]]);return r},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ahooks_1=(Object.defineProperty(exports,"__esModule",{value:!0}),require("ahooks")),classnames_1=__importDefault(require("classnames")),react_1=__importStar(require("react")),react_dom_production_min_1=__importDefault(require("./lib/react-dom.production.min")),react_quill_1=__importDefault(require("./lib/react-quill")),react_production_min_1=__importDefault(require("./lib/react.production.min")),quill_bubble_css_1=__importDefault(require("./lib/quill.bubble.css")),quill_snow_css_1=__importDefault(require("./lib/quill.snow.css")),THEME_MAP=new Map([["snow",quill_snow_css_1.default],["bubble",quill_bubble_css_1.default]]),selectorPrefix="adhere-ui-reactquillsandbox",ReactQuillSandbox=function(t,e){var r=t.wrapStyle,n=t.wrapClassName,u=t.quillStyle,i=__rest(t,["wrapStyle","wrapClassName","quillStyle"]),a=react_1.useRef(null),o=react_1.useRef();function c(){return new Promise(function(e){var t,r=null==(t=null==a?void 0:a.current)?void 0:t.contentDocument,n=null==(t=null==a?void 0:a.current)?void 0:t.contentWindow,l=r.getElementById("quillWrap");n.ReactDOM.render(react_1.default.createElement(n.ReactQuill,__assign({ref:o},i)),l,function(){return e({document:r,window:n,wrap:l})})})}return react_1.useImperativeHandle(e,function(){return{focus:function(){var e;null!=(e=o.current)&&e.focus()},blur:function(){var e;null!=(e=o.current)&&e.blur()},getEditor:function(){var e;return null==(e=o.current)?void 0:e.getEditor()},getQuill:function(){var e;return null==(e=null==(e=null==(e=null==a?void 0:a.current)?void 0:e.contentWindow)?void 0:e.ReactQuill)?void 0:e.Quill}}}),react_1.useLayoutEffect(function(){var e;function t(){c().then(function(){})}null!=(e=null==a?void 0:a.current)&&e.addEventListener("load",t);var r=URL.createObjectURL(new Blob([react_production_min_1.default],{type:"text/javascript"})),n=URL.createObjectURL(new Blob([react_dom_production_min_1.default],{type:"text/javascript"})),l=URL.createObjectURL(new Blob([react_quill_1.default],{type:"text/javascript"})),i=URL.createObjectURL(new Blob(['\n        <!DOCTYPE html>\n        <head>\n          <meta charset="UTF-8" />\n          <title></title>\n          <style>\n            html,body {\n              width: 100%;\n              height: 100%;\n              margin: 0;      \n              padding: 0;\n            }\n            \n            '+THEME_MAP.get("snow")+'\n          </style>\n          <script src="'+r+'"><\/script>\n          <script src="'+n+'"><\/script>\n          <script src="'+l+'"><\/script>\n        </head>\n        <html lang="en">\n        <body>\n          <div id="quillWrap" style="width: 100%;height: 100%;'+(u||"")+'"></div>\n        </body>\n        </html>\n        '],{type:"text/html"}));return a.current.src=i,function(){var e;null!=(e=null==a?void 0:a.current)&&e.removeEventListener("load",t),URL.revokeObjectURL(i),URL.revokeObjectURL(r),URL.revokeObjectURL(n),URL.revokeObjectURL(l)}},[]),ahooks_1.useUpdateEffect(function(){c().then(function(e){e.wrap.style.cssText="width: 100%;height: 100%;"+(t.quillStyle||"")})},Array.from(Object.values(i))),react_1.default.createElement("div",{className:classnames_1.default(""+selectorPrefix,n||""),style:r||{}},react_1.default.createElement("iframe",{ref:a,className:selectorPrefix+"-frame"}))};exports.default=react_1.memo(react_1.forwardRef(ReactQuillSandbox));
//# sourceMappingURL=reactQuillSandbox.js.map
