{"version":3,"file":"reactQuill.js","sources":["reactQuill.js"],"sourcesContent":["\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/*\r\nReact-Quill\r\nhttps://github.com/zenoamaro/react-quill\r\n*/\r\nvar isEqual_1 = __importDefault(require(\"lodash/isEqual\"));\r\nvar quill_1 = __importDefault(require(\"quill\"));\r\nvar react_1 = __importDefault(require(\"react\"));\r\nvar react_dom_1 = __importDefault(require(\"react-dom\"));\r\ndebugger;\r\nvar ReactQuill = /** @class */ (function (_super) {\r\n    __extends(ReactQuill, _super);\r\n    function ReactQuill(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /*\r\n          Changing one of these props should cause a full re-render and a\r\n          re-instantiation of the Quill editor.\r\n          */\r\n        _this.dirtyProps = ['modules', 'formats', 'bounds', 'theme', 'children'];\r\n        /*\r\n          Changing one of these props should cause a regular update. These are mostly\r\n          props that act on the container, rather than the quillized editing area.\r\n          */\r\n        _this.cleanProps = [\r\n            'id',\r\n            'className',\r\n            'style',\r\n            'placeholder',\r\n            'tabIndex',\r\n            'onChange',\r\n            'onChangeSelection',\r\n            'onFocus',\r\n            'onBlur',\r\n            'onKeyPress',\r\n            'onKeyDown',\r\n            'onKeyUp',\r\n        ];\r\n        _this.state = {\r\n            generation: 0,\r\n        };\r\n        /*\r\n          Tracks the internal selection of the Quill editor\r\n          */\r\n        _this.selection = null;\r\n        _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\r\n            var _a, _b;\r\n            if (eventName === 'text-change') {\r\n                (_a = _this.onEditorChangeText) === null || _a === void 0 ? void 0 : _a.call(_this, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\r\n            }\r\n            else if (eventName === 'selection-change') {\r\n                (_b = _this.onEditorChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_this, rangeOrDelta, source, _this.unprivilegedEditor);\r\n            }\r\n        };\r\n        var value = _this.isControlled() ? props.value : props.defaultValue;\r\n        _this.value = value !== null && value !== void 0 ? value : '';\r\n        return _this;\r\n    }\r\n    ReactQuill.prototype.validateProps = function (props) {\r\n        if (react_1.default.Children.count(props.children) > 1)\r\n            throw new Error('The Quill editing area can only be composed of a single React element.');\r\n        if (react_1.default.Children.count(props.children)) {\r\n            var child = react_1.default.Children.only(props.children);\r\n            if ((child === null || child === void 0 ? void 0 : child.type) === 'textarea')\r\n                throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\r\n        }\r\n        if (this.lastDeltaChangeSet && props.value === this.lastDeltaChangeSet)\r\n            throw new Error('You are passing the `delta` object from the `onChange` event back ' +\r\n                'as `value`. You most probably want `editor.getContents()` instead. ' +\r\n                'See: https://github.com/zenoamaro/react-quill#using-deltas');\r\n    };\r\n    ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        var _this = this;\r\n        var _a;\r\n        debugger;\r\n        this.validateProps(nextProps);\r\n        // If the editor hasn't been instantiated yet, or the component has been\r\n        // regenerated, we already know we should update.\r\n        if (!this.editor || this.state.generation !== nextState.generation) {\r\n            return true;\r\n        }\r\n        // Handle value changes in-place\r\n        if ('value' in nextProps) {\r\n            var prevContents = this.getEditorContents();\r\n            var nextContents = (_a = nextProps.value) !== null && _a !== void 0 ? _a : '';\r\n            // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\r\n            //       settle for a hybrid between controlled and uncontrolled mode. We\r\n            //       can't prevent the change, but we'll still override content\r\n            //       whenever `value` differs from current state.\r\n            // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\r\n            //       change, regardless of whether they represent the same document.\r\n            if (!this.isEqualValue(nextContents, prevContents)) {\r\n                this.setEditorContents(this.editor, nextContents);\r\n            }\r\n        }\r\n        // Handle read-only changes in-place\r\n        if (nextProps.readOnly !== this.props.readOnly) {\r\n            this.setEditorReadOnly(this.editor, nextProps.readOnly);\r\n        }\r\n        // Clean and Dirty props require a render\r\n        return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\r\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\r\n        });\r\n    };\r\n    ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\r\n        var _this = this;\r\n        // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\r\n        return this.dirtyProps.some(function (prop) {\r\n            return !isEqual_1.default(nextProps[prop], _this.props[prop]);\r\n        });\r\n    };\r\n    ReactQuill.prototype.componentDidMount = function () {\r\n        this.instantiateEditor();\r\n        this.setEditorContents(this.editor, this.getEditorContents());\r\n    };\r\n    ReactQuill.prototype.componentWillUnmount = function () {\r\n        this.destroyEditor();\r\n    };\r\n    ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\r\n        var _this = this;\r\n        debugger;\r\n        // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\r\n        // to be re-instantiated. Regenerating the editor will cause the whole tree,\r\n        // including the container, to be cleaned up and re-rendered from scratch.\r\n        // Store the contents so they can be restored later.\r\n        if (this.editor && this.shouldComponentRegenerate(prevProps)) {\r\n            var delta = this.editor.getContents();\r\n            var selection = this.editor.getSelection();\r\n            this.regenerationSnapshot = { delta: delta, selection: selection };\r\n            this.setState({ generation: this.state.generation + 1 });\r\n            this.destroyEditor();\r\n        }\r\n        // The component has been regenerated, so it must be re-instantiated, and\r\n        // its content must be restored to the previous values from the snapshot.\r\n        if (this.state.generation !== prevState.generation) {\r\n            var _a = this.regenerationSnapshot, delta = _a.delta, selection_1 = _a.selection;\r\n            delete this.regenerationSnapshot;\r\n            this.instantiateEditor();\r\n            var editor_1 = this.editor;\r\n            editor_1.setContents(delta);\r\n            postpone(function () { return _this.setEditorSelection(editor_1, selection_1); });\r\n        }\r\n    };\r\n    ReactQuill.prototype.instantiateEditor = function () {\r\n        // if (this.editor) {\r\n        //   this.hookEditor(this.editor);\r\n        // } else {\r\n        //   this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\r\n        // }\r\n        this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\r\n    };\r\n    ReactQuill.prototype.destroyEditor = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.unhookEditor(this.editor);\r\n    };\r\n    /*\r\n      We consider the component to be controlled if `value` is being sent in props.\r\n      */\r\n    ReactQuill.prototype.isControlled = function () {\r\n        return 'value' in this.props;\r\n    };\r\n    ReactQuill.prototype.getEditorConfig = function () {\r\n        return {\r\n            bounds: this.props.bounds,\r\n            formats: this.props.formats,\r\n            modules: this.props.modules,\r\n            placeholder: this.props.placeholder,\r\n            readOnly: this.props.readOnly,\r\n            scrollingContainer: this.props.scrollingContainer,\r\n            tabIndex: this.props.tabIndex,\r\n            theme: this.props.theme,\r\n        };\r\n    };\r\n    ReactQuill.prototype.getEditor = function () {\r\n        if (!this.editor)\r\n            throw new Error('Accessing non-instantiated editor');\r\n        return this.editor;\r\n    };\r\n    /**\r\n       Creates an editor on the given element. The editor will be passed the\r\n       configuration, have its events bound,\r\n       */\r\n    ReactQuill.prototype.createEditor = function (element, config) {\r\n        var editor = new quill_1.default(element, config);\r\n        if (config.tabIndex != null) {\r\n            this.setEditorTabIndex(editor, config.tabIndex);\r\n        }\r\n        this.hookEditor(editor);\r\n        return editor;\r\n    };\r\n    ReactQuill.prototype.hookEditor = function (editor) {\r\n        // Expose the editor on change events via a weaker, unprivileged proxy\r\n        // object that does not allow accidentally modifying editor state.\r\n        this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\r\n        // Using `editor-change` allows picking up silent updates, like selection\r\n        // changes on typing.\r\n        editor.on('editor-change', this.onEditorChange);\r\n    };\r\n    ReactQuill.prototype.unhookEditor = function (editor) {\r\n        editor.off('editor-change', this.onEditorChange);\r\n    };\r\n    ReactQuill.prototype.getEditorContents = function () {\r\n        return this.value;\r\n    };\r\n    ReactQuill.prototype.getEditorSelection = function () {\r\n        return this.selection;\r\n    };\r\n    /*\r\n      True if the value is a Delta instance or a Delta look-alike.\r\n      */\r\n    ReactQuill.prototype.isDelta = function (value) {\r\n        return value && value.ops;\r\n    };\r\n    /*\r\n      Special comparison function that knows how to compare Deltas.\r\n      */\r\n    ReactQuill.prototype.isEqualValue = function (value, nextValue) {\r\n        if (this.isDelta(value) && this.isDelta(nextValue)) {\r\n            return isEqual_1.default(value.ops, nextValue.ops);\r\n        }\r\n        else {\r\n            return isEqual_1.default(value, nextValue);\r\n        }\r\n    };\r\n    /*\r\n      Replace the contents of the editor, but keep the previous selection hanging\r\n      around so that the cursor won't move.\r\n      */\r\n    ReactQuill.prototype.setEditorContents = function (editor, value) {\r\n        var _this = this;\r\n        this.value = value;\r\n        var sel = this.getEditorSelection();\r\n        if (typeof value === 'string') {\r\n            editor.setContents(editor.clipboard.convert(value));\r\n        }\r\n        else {\r\n            editor.setContents(value);\r\n        }\r\n        postpone(function () { return _this.setEditorSelection(editor, sel); });\r\n    };\r\n    ReactQuill.prototype.setEditorSelection = function (editor, range) {\r\n        this.selection = range;\r\n        if (range) {\r\n            // Validate bounds before applying.\r\n            var length_1 = editor.getLength();\r\n            range.index = Math.max(0, Math.min(range.index, length_1 - 1));\r\n            range.length = Math.max(0, Math.min(range.length, length_1 - 1 - range.index));\r\n            editor.setSelection(range);\r\n        }\r\n    };\r\n    ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\r\n        var _a;\r\n        if ((_a = editor === null || editor === void 0 ? void 0 : editor.scroll) === null || _a === void 0 ? void 0 : _a.domNode) {\r\n            editor.scroll.domNode.tabIndex = tabIndex;\r\n        }\r\n    };\r\n    ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\r\n        if (value) {\r\n            editor.disable();\r\n        }\r\n        else {\r\n            editor.enable();\r\n        }\r\n    };\r\n    /*\r\n      Returns a weaker, unprivileged proxy object that only exposes read-only\r\n      accessors found on the editor instance, without any state-modifying methods.\r\n      */\r\n    ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\r\n        var e = editor;\r\n        return {\r\n            getHTML: function () { return e.root.innerHTML; },\r\n            getLength: e.getLength.bind(e),\r\n            getText: e.getText.bind(e),\r\n            getContents: e.getContents.bind(e),\r\n            getSelection: e.getSelection.bind(e),\r\n            getBounds: e.getBounds.bind(e),\r\n        };\r\n    };\r\n    ReactQuill.prototype.getEditingArea = function () {\r\n        if (!this.editingArea) {\r\n            throw new Error('Instantiating on missing editing area');\r\n        }\r\n        var element = react_dom_1.default.findDOMNode(this.editingArea);\r\n        if (!element) {\r\n            throw new Error('Cannot find element for editing area');\r\n        }\r\n        if (element.nodeType === 3) {\r\n            throw new Error('Editing area cannot be a text node');\r\n        }\r\n        return element;\r\n    };\r\n    /*\r\n      Renders an editor area, unless it has been provided one to clone.\r\n      */\r\n    ReactQuill.prototype.renderEditingArea = function () {\r\n        var _this = this;\r\n        var _a = this.props, children = _a.children, preserveWhitespace = _a.preserveWhitespace;\r\n        var generation = this.state.generation;\r\n        var properties = {\r\n            key: generation,\r\n            ref: function (instance) {\r\n                _this.editingArea = instance;\r\n            },\r\n        };\r\n        if (react_1.default.Children.count(children)) {\r\n            return react_1.default.cloneElement(react_1.default.Children.only(children), properties);\r\n        }\r\n        return preserveWhitespace ? react_1.default.createElement(\"pre\", __assign({}, properties)) : react_1.default.createElement(\"div\", __assign({}, properties));\r\n    };\r\n    ReactQuill.prototype.render = function () {\r\n        var _a;\r\n        return (react_1.default.createElement(\"div\", { id: this.props.id, style: this.props.style, key: this.state.generation, className: \"quill \" + ((_a = this.props.className) !== null && _a !== void 0 ? _a : ''), onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea()));\r\n    };\r\n    ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\r\n        var _a, _b;\r\n        if (!this.editor)\r\n            return;\r\n        // We keep storing the same type of value as what the user gives us,\r\n        // so that value comparisons will be more stable and predictable.\r\n        var nextContents = this.isDelta(this.value) ? editor.getContents() : editor.getHTML();\r\n        if (nextContents !== this.getEditorContents()) {\r\n            // Taint this `delta` object, so we can recognize whether the user\r\n            // is trying to send it back as `value`, preventing a likely loop.\r\n            this.lastDeltaChangeSet = delta;\r\n            this.value = nextContents;\r\n            (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\r\n        }\r\n    };\r\n    ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        if (!this.editor)\r\n            return;\r\n        var currentSelection = this.getEditorSelection();\r\n        var hasGainedFocus = !currentSelection && nextSelection;\r\n        var hasLostFocus = currentSelection && !nextSelection;\r\n        if (isEqual_1.default(nextSelection, currentSelection))\r\n            return;\r\n        this.selection = nextSelection;\r\n        (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\r\n        if (hasGainedFocus) {\r\n            (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\r\n        }\r\n        else if (hasLostFocus) {\r\n            (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\r\n        }\r\n    };\r\n    ReactQuill.prototype.focus = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.editor.focus();\r\n    };\r\n    ReactQuill.prototype.blur = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.selection = null;\r\n        this.editor.blur();\r\n    };\r\n    ReactQuill.displayName = 'React Quill';\r\n    /*\r\n      Export Quill to be able to call `register`\r\n      */\r\n    ReactQuill.Quill = quill_1.default;\r\n    ReactQuill.defaultProps = {\r\n        theme: 'snow',\r\n        modules: {},\r\n        readOnly: false,\r\n    };\r\n    return ReactQuill;\r\n}(react_1.default.Component));\r\n/*\r\nSmall helper to execute a function in the next micro-tick.\r\n*/\r\nfunction postpone(fn) {\r\n    Promise.resolve().then(fn);\r\n}\r\n// Compatibility Export to avoid `require(...).default` on CommonJS.\r\n// See: https://github.com/Microsoft/TypeScript/issues/2719\r\nexports.default = ReactQuill;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","__importDefault","mod","__esModule","default","isEqual_1","defineProperty","exports","value","require","quill_1","react_1","react_dom_1","ReactQuill","_super","props","_this","dirtyProps","cleanProps","state","generation","selection","onEditorChange","eventName","rangeOrDelta","oldRangeOrDelta","source","_b","_a","onEditorChangeText","editor","root","innerHTML","unprivilegedEditor","onEditorChangeSelection","isControlled","defaultValue","validateProps","Children","count","children","Error","child","only","type","lastDeltaChangeSet","shouldComponentUpdate","nextProps","nextState","nextContents","prevContents","getEditorContents","isEqualValue","setEditorContents","readOnly","setEditorReadOnly","some","prop","shouldComponentRegenerate","componentDidMount","instantiateEditor","componentWillUnmount","destroyEditor","componentDidUpdate","prevProps","prevState","delta","selection_1","editor_1","getContents","getSelection","regenerationSnapshot","setState","setContents","postpone","setEditorSelection","createEditor","getEditingArea","getEditorConfig","unhookEditor","bounds","formats","modules","placeholder","scrollingContainer","tabIndex","theme","getEditor","element","config","setEditorTabIndex","hookEditor","makeUnprivilegedEditor","on","off","getEditorSelection","isDelta","ops","nextValue","sel","clipboard","convert","range","length_1","getLength","index","Math","max","min","setSelection","scroll","domNode","disable","enable","e","getHTML","bind","getText","getBounds","editingArea","findDOMNode","nodeType","renderEditingArea","preserveWhitespace","properties","key","ref","instance","cloneElement","createElement","render","id","style","className","onKeyPress","onKeyDown","onKeyUp","onChange","nextSelection","_c","_f","currentSelection","hasGainedFocus","hasLostFocus","onChangeSelection","_d","onFocus","_e","onBlur","focus","blur","displayName","Quill","defaultProps","Component","fn","Promise","resolve","then"],"mappings":"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"}