{"version":3,"file":"reactQuill.js","sources":["reactQuill.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n/*\r\nReact-Quill\r\nhttps://github.com/zenoamaro/react-quill\r\n*/\r\nimport isEqual from 'lodash/isEqual';\r\nimport Quill from 'quill';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\ndebugger;\r\nvar ReactQuill = /** @class */ (function (_super) {\r\n    __extends(ReactQuill, _super);\r\n    function ReactQuill(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        /*\r\n          Changing one of these props should cause a full re-render and a\r\n          re-instantiation of the Quill editor.\r\n          */\r\n        _this.dirtyProps = ['modules', 'formats', 'bounds', 'theme', 'children'];\r\n        /*\r\n          Changing one of these props should cause a regular update. These are mostly\r\n          props that act on the container, rather than the quillized editing area.\r\n          */\r\n        _this.cleanProps = [\r\n            'id',\r\n            'className',\r\n            'style',\r\n            'placeholder',\r\n            'tabIndex',\r\n            'onChange',\r\n            'onChangeSelection',\r\n            'onFocus',\r\n            'onBlur',\r\n            'onKeyPress',\r\n            'onKeyDown',\r\n            'onKeyUp',\r\n        ];\r\n        _this.state = {\r\n            generation: 0,\r\n        };\r\n        /*\r\n          Tracks the internal selection of the Quill editor\r\n          */\r\n        _this.selection = null;\r\n        _this.onEditorChange = function (eventName, rangeOrDelta, oldRangeOrDelta, source) {\r\n            var _a, _b;\r\n            if (eventName === 'text-change') {\r\n                (_a = _this.onEditorChangeText) === null || _a === void 0 ? void 0 : _a.call(_this, _this.editor.root.innerHTML, rangeOrDelta, source, _this.unprivilegedEditor);\r\n            }\r\n            else if (eventName === 'selection-change') {\r\n                (_b = _this.onEditorChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_this, rangeOrDelta, source, _this.unprivilegedEditor);\r\n            }\r\n        };\r\n        var value = _this.isControlled() ? props.value : props.defaultValue;\r\n        _this.value = value !== null && value !== void 0 ? value : '';\r\n        return _this;\r\n    }\r\n    ReactQuill.prototype.validateProps = function (props) {\r\n        if (React.Children.count(props.children) > 1)\r\n            throw new Error('The Quill editing area can only be composed of a single React element.');\r\n        if (React.Children.count(props.children)) {\r\n            var child = React.Children.only(props.children);\r\n            if ((child === null || child === void 0 ? void 0 : child.type) === 'textarea')\r\n                throw new Error('Quill does not support editing on a <textarea>. Use a <div> instead.');\r\n        }\r\n        if (this.lastDeltaChangeSet && props.value === this.lastDeltaChangeSet)\r\n            throw new Error('You are passing the `delta` object from the `onChange` event back ' +\r\n                'as `value`. You most probably want `editor.getContents()` instead. ' +\r\n                'See: https://github.com/zenoamaro/react-quill#using-deltas');\r\n    };\r\n    ReactQuill.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        var _this = this;\r\n        var _a;\r\n        debugger;\r\n        this.validateProps(nextProps);\r\n        // If the editor hasn't been instantiated yet, or the component has been\r\n        // regenerated, we already know we should update.\r\n        if (!this.editor || this.state.generation !== nextState.generation) {\r\n            return true;\r\n        }\r\n        // Handle value changes in-place\r\n        if ('value' in nextProps) {\r\n            var prevContents = this.getEditorContents();\r\n            var nextContents = (_a = nextProps.value) !== null && _a !== void 0 ? _a : '';\r\n            // NOTE: Seeing that Quill is missing a way to prevent edits, we have to\r\n            //       settle for a hybrid between controlled and uncontrolled mode. We\r\n            //       can't prevent the change, but we'll still override content\r\n            //       whenever `value` differs from current state.\r\n            // NOTE: Comparing an HTML string and a Quill Delta will always trigger a\r\n            //       change, regardless of whether they represent the same document.\r\n            if (!this.isEqualValue(nextContents, prevContents)) {\r\n                this.setEditorContents(this.editor, nextContents);\r\n            }\r\n        }\r\n        // Handle read-only changes in-place\r\n        if (nextProps.readOnly !== this.props.readOnly) {\r\n            this.setEditorReadOnly(this.editor, nextProps.readOnly);\r\n        }\r\n        // Clean and Dirty props require a render\r\n        return __spreadArrays(this.cleanProps, this.dirtyProps).some(function (prop) {\r\n            return !isEqual(nextProps[prop], _this.props[prop]);\r\n        });\r\n    };\r\n    ReactQuill.prototype.shouldComponentRegenerate = function (nextProps) {\r\n        var _this = this;\r\n        // Whenever a `dirtyProp` changes, the editor needs reinstantiation.\r\n        return this.dirtyProps.some(function (prop) {\r\n            return !isEqual(nextProps[prop], _this.props[prop]);\r\n        });\r\n    };\r\n    ReactQuill.prototype.componentDidMount = function () {\r\n        this.instantiateEditor();\r\n        this.setEditorContents(this.editor, this.getEditorContents());\r\n    };\r\n    ReactQuill.prototype.componentWillUnmount = function () {\r\n        this.destroyEditor();\r\n    };\r\n    ReactQuill.prototype.componentDidUpdate = function (prevProps, prevState) {\r\n        var _this = this;\r\n        debugger;\r\n        // If we're changing one of the `dirtyProps`, the entire Quill Editor needs\r\n        // to be re-instantiated. Regenerating the editor will cause the whole tree,\r\n        // including the container, to be cleaned up and re-rendered from scratch.\r\n        // Store the contents so they can be restored later.\r\n        if (this.editor && this.shouldComponentRegenerate(prevProps)) {\r\n            var delta = this.editor.getContents();\r\n            var selection = this.editor.getSelection();\r\n            this.regenerationSnapshot = { delta: delta, selection: selection };\r\n            this.setState({ generation: this.state.generation + 1 });\r\n            this.destroyEditor();\r\n        }\r\n        // The component has been regenerated, so it must be re-instantiated, and\r\n        // its content must be restored to the previous values from the snapshot.\r\n        if (this.state.generation !== prevState.generation) {\r\n            var _a = this.regenerationSnapshot, delta = _a.delta, selection_1 = _a.selection;\r\n            delete this.regenerationSnapshot;\r\n            this.instantiateEditor();\r\n            var editor_1 = this.editor;\r\n            editor_1.setContents(delta);\r\n            postpone(function () { return _this.setEditorSelection(editor_1, selection_1); });\r\n        }\r\n    };\r\n    ReactQuill.prototype.instantiateEditor = function () {\r\n        // if (this.editor) {\r\n        //   this.hookEditor(this.editor);\r\n        // } else {\r\n        //   this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\r\n        // }\r\n        this.editor = this.createEditor(this.getEditingArea(), this.getEditorConfig());\r\n    };\r\n    ReactQuill.prototype.destroyEditor = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.unhookEditor(this.editor);\r\n    };\r\n    /*\r\n      We consider the component to be controlled if `value` is being sent in props.\r\n      */\r\n    ReactQuill.prototype.isControlled = function () {\r\n        return 'value' in this.props;\r\n    };\r\n    ReactQuill.prototype.getEditorConfig = function () {\r\n        return {\r\n            bounds: this.props.bounds,\r\n            formats: this.props.formats,\r\n            modules: this.props.modules,\r\n            placeholder: this.props.placeholder,\r\n            readOnly: this.props.readOnly,\r\n            scrollingContainer: this.props.scrollingContainer,\r\n            tabIndex: this.props.tabIndex,\r\n            theme: this.props.theme,\r\n        };\r\n    };\r\n    ReactQuill.prototype.getEditor = function () {\r\n        if (!this.editor)\r\n            throw new Error('Accessing non-instantiated editor');\r\n        return this.editor;\r\n    };\r\n    /**\r\n       Creates an editor on the given element. The editor will be passed the\r\n       configuration, have its events bound,\r\n       */\r\n    ReactQuill.prototype.createEditor = function (element, config) {\r\n        var editor = new Quill(element, config);\r\n        if (config.tabIndex != null) {\r\n            this.setEditorTabIndex(editor, config.tabIndex);\r\n        }\r\n        this.hookEditor(editor);\r\n        return editor;\r\n    };\r\n    ReactQuill.prototype.hookEditor = function (editor) {\r\n        // Expose the editor on change events via a weaker, unprivileged proxy\r\n        // object that does not allow accidentally modifying editor state.\r\n        this.unprivilegedEditor = this.makeUnprivilegedEditor(editor);\r\n        // Using `editor-change` allows picking up silent updates, like selection\r\n        // changes on typing.\r\n        editor.on('editor-change', this.onEditorChange);\r\n    };\r\n    ReactQuill.prototype.unhookEditor = function (editor) {\r\n        editor.off('editor-change', this.onEditorChange);\r\n    };\r\n    ReactQuill.prototype.getEditorContents = function () {\r\n        return this.value;\r\n    };\r\n    ReactQuill.prototype.getEditorSelection = function () {\r\n        return this.selection;\r\n    };\r\n    /*\r\n      True if the value is a Delta instance or a Delta look-alike.\r\n      */\r\n    ReactQuill.prototype.isDelta = function (value) {\r\n        return value && value.ops;\r\n    };\r\n    /*\r\n      Special comparison function that knows how to compare Deltas.\r\n      */\r\n    ReactQuill.prototype.isEqualValue = function (value, nextValue) {\r\n        if (this.isDelta(value) && this.isDelta(nextValue)) {\r\n            return isEqual(value.ops, nextValue.ops);\r\n        }\r\n        else {\r\n            return isEqual(value, nextValue);\r\n        }\r\n    };\r\n    /*\r\n      Replace the contents of the editor, but keep the previous selection hanging\r\n      around so that the cursor won't move.\r\n      */\r\n    ReactQuill.prototype.setEditorContents = function (editor, value) {\r\n        var _this = this;\r\n        this.value = value;\r\n        var sel = this.getEditorSelection();\r\n        if (typeof value === 'string') {\r\n            editor.setContents(editor.clipboard.convert(value));\r\n        }\r\n        else {\r\n            editor.setContents(value);\r\n        }\r\n        postpone(function () { return _this.setEditorSelection(editor, sel); });\r\n    };\r\n    ReactQuill.prototype.setEditorSelection = function (editor, range) {\r\n        this.selection = range;\r\n        if (range) {\r\n            // Validate bounds before applying.\r\n            var length_1 = editor.getLength();\r\n            range.index = Math.max(0, Math.min(range.index, length_1 - 1));\r\n            range.length = Math.max(0, Math.min(range.length, length_1 - 1 - range.index));\r\n            editor.setSelection(range);\r\n        }\r\n    };\r\n    ReactQuill.prototype.setEditorTabIndex = function (editor, tabIndex) {\r\n        var _a;\r\n        if ((_a = editor === null || editor === void 0 ? void 0 : editor.scroll) === null || _a === void 0 ? void 0 : _a.domNode) {\r\n            editor.scroll.domNode.tabIndex = tabIndex;\r\n        }\r\n    };\r\n    ReactQuill.prototype.setEditorReadOnly = function (editor, value) {\r\n        if (value) {\r\n            editor.disable();\r\n        }\r\n        else {\r\n            editor.enable();\r\n        }\r\n    };\r\n    /*\r\n      Returns a weaker, unprivileged proxy object that only exposes read-only\r\n      accessors found on the editor instance, without any state-modifying methods.\r\n      */\r\n    ReactQuill.prototype.makeUnprivilegedEditor = function (editor) {\r\n        var e = editor;\r\n        return {\r\n            getHTML: function () { return e.root.innerHTML; },\r\n            getLength: e.getLength.bind(e),\r\n            getText: e.getText.bind(e),\r\n            getContents: e.getContents.bind(e),\r\n            getSelection: e.getSelection.bind(e),\r\n            getBounds: e.getBounds.bind(e),\r\n        };\r\n    };\r\n    ReactQuill.prototype.getEditingArea = function () {\r\n        if (!this.editingArea) {\r\n            throw new Error('Instantiating on missing editing area');\r\n        }\r\n        var element = ReactDOM.findDOMNode(this.editingArea);\r\n        if (!element) {\r\n            throw new Error('Cannot find element for editing area');\r\n        }\r\n        if (element.nodeType === 3) {\r\n            throw new Error('Editing area cannot be a text node');\r\n        }\r\n        return element;\r\n    };\r\n    /*\r\n      Renders an editor area, unless it has been provided one to clone.\r\n      */\r\n    ReactQuill.prototype.renderEditingArea = function () {\r\n        var _this = this;\r\n        var _a = this.props, children = _a.children, preserveWhitespace = _a.preserveWhitespace;\r\n        var generation = this.state.generation;\r\n        var properties = {\r\n            key: generation,\r\n            ref: function (instance) {\r\n                _this.editingArea = instance;\r\n            },\r\n        };\r\n        if (React.Children.count(children)) {\r\n            return React.cloneElement(React.Children.only(children), properties);\r\n        }\r\n        return preserveWhitespace ? React.createElement(\"pre\", __assign({}, properties)) : React.createElement(\"div\", __assign({}, properties));\r\n    };\r\n    ReactQuill.prototype.render = function () {\r\n        var _a;\r\n        return (React.createElement(\"div\", { id: this.props.id, style: this.props.style, key: this.state.generation, className: \"quill \" + ((_a = this.props.className) !== null && _a !== void 0 ? _a : ''), onKeyPress: this.props.onKeyPress, onKeyDown: this.props.onKeyDown, onKeyUp: this.props.onKeyUp }, this.renderEditingArea()));\r\n    };\r\n    ReactQuill.prototype.onEditorChangeText = function (value, delta, source, editor) {\r\n        var _a, _b;\r\n        if (!this.editor)\r\n            return;\r\n        // We keep storing the same type of value as what the user gives us,\r\n        // so that value comparisons will be more stable and predictable.\r\n        var nextContents = this.isDelta(this.value) ? editor.getContents() : editor.getHTML();\r\n        if (nextContents !== this.getEditorContents()) {\r\n            // Taint this `delta` object, so we can recognize whether the user\r\n            // is trying to send it back as `value`, preventing a likely loop.\r\n            this.lastDeltaChangeSet = delta;\r\n            this.value = nextContents;\r\n            (_b = (_a = this.props).onChange) === null || _b === void 0 ? void 0 : _b.call(_a, value, delta, source, editor);\r\n        }\r\n    };\r\n    ReactQuill.prototype.onEditorChangeSelection = function (nextSelection, source, editor) {\r\n        var _a, _b, _c, _d, _e, _f;\r\n        if (!this.editor)\r\n            return;\r\n        var currentSelection = this.getEditorSelection();\r\n        var hasGainedFocus = !currentSelection && nextSelection;\r\n        var hasLostFocus = currentSelection && !nextSelection;\r\n        if (isEqual(nextSelection, currentSelection))\r\n            return;\r\n        this.selection = nextSelection;\r\n        (_b = (_a = this.props).onChangeSelection) === null || _b === void 0 ? void 0 : _b.call(_a, nextSelection, source, editor);\r\n        if (hasGainedFocus) {\r\n            (_d = (_c = this.props).onFocus) === null || _d === void 0 ? void 0 : _d.call(_c, nextSelection, source, editor);\r\n        }\r\n        else if (hasLostFocus) {\r\n            (_f = (_e = this.props).onBlur) === null || _f === void 0 ? void 0 : _f.call(_e, currentSelection, source, editor);\r\n        }\r\n    };\r\n    ReactQuill.prototype.focus = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.editor.focus();\r\n    };\r\n    ReactQuill.prototype.blur = function () {\r\n        if (!this.editor)\r\n            return;\r\n        this.selection = null;\r\n        this.editor.blur();\r\n    };\r\n    ReactQuill.displayName = 'React Quill';\r\n    /*\r\n      Export Quill to be able to call `register`\r\n      */\r\n    ReactQuill.Quill = Quill;\r\n    ReactQuill.defaultProps = {\r\n        theme: 'snow',\r\n        modules: {},\r\n        readOnly: false,\r\n    };\r\n    return ReactQuill;\r\n}(React.Component));\r\n/*\r\nSmall helper to execute a function in the next micro-tick.\r\n*/\r\nfunction postpone(fn) {\r\n    Promise.resolve().then(fn);\r\n}\r\n// Compatibility Export to avoid `require(...).default` on CommonJS.\r\n// See: https://github.com/Microsoft/TypeScript/issues/2719\r\nexport default ReactQuill;\r\n"],"names":["__extends","this","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__spreadArrays","il","r","k","a","j","jl","isEqual","Quill","React","ReactDOM","ReactQuill","_super","props","_this","value","dirtyProps","cleanProps","state","generation","selection","onEditorChange","eventName","rangeOrDelta","oldRangeOrDelta","source","_b","_a","onEditorChangeText","editor","root","innerHTML","unprivilegedEditor","onEditorChangeSelection","isControlled","defaultValue","validateProps","Children","count","children","Error","child","only","type","lastDeltaChangeSet","shouldComponentUpdate","nextProps","nextState","nextContents","prevContents","getEditorContents","isEqualValue","setEditorContents","readOnly","setEditorReadOnly","some","prop","shouldComponentRegenerate","componentDidMount","instantiateEditor","componentWillUnmount","destroyEditor","componentDidUpdate","prevProps","prevState","delta","selection_1","editor_1","getContents","getSelection","regenerationSnapshot","setState","setContents","postpone","setEditorSelection","createEditor","getEditingArea","getEditorConfig","unhookEditor","bounds","formats","modules","placeholder","scrollingContainer","tabIndex","theme","getEditor","element","config","setEditorTabIndex","hookEditor","makeUnprivilegedEditor","on","off","getEditorSelection","isDelta","ops","nextValue","sel","clipboard","convert","range","length_1","getLength","index","Math","max","min","setSelection","scroll","domNode","disable","enable","e","getHTML","bind","getText","getBounds","editingArea","findDOMNode","nodeType","renderEditingArea","preserveWhitespace","properties","key","ref","instance","cloneElement","createElement","render","id","style","className","onKeyPress","onKeyDown","onKeyUp","onChange","nextSelection","_c","_f","currentSelection","hasGainedFocus","hasLostFocus","onChangeSelection","_d","onFocus","_e","onBlur","focus","blur","displayName","defaultProps","Component","fn","Promise","resolve","then"],"mappings":"AAAA,IAAIA,UAAaC,MAAQA,KAAKD,WAAc,WACxC,IAAIE,EAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,gBAClB,CAAEC,UAAW,EAAG,YAAaC,OAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,CAAG,GAC1E,SAAUD,EAAGC,GAAK,IAAK,IAAIK,KAAKL,EAAOA,EAAEM,eAAeD,CAAC,IAAGN,EAAEM,GAAKL,EAAEK,GAAI,GACxDN,EAAGC,CAAC,CAC7B,EACA,OAAO,SAAUD,EAAGC,GAEhB,SAASO,IAAOV,KAAKW,YAAcT,CAAG,CADtCD,EAAcC,EAAGC,CAAC,EAElBD,EAAEU,UAAkB,OAANT,EAAaC,OAAOS,OAAOV,CAAC,GAAKO,EAAGE,UAAYT,EAAES,UAAW,IAAIF,EACnF,CACH,EAAE,EACCI,SAAYd,MAAQA,KAAKc,UAAa,WAStC,OARAA,SAAWV,OAAOW,QAAU,SAASC,GACjC,IAAK,IAAIC,EAAGC,EAAI,EAAGC,EAAIC,UAAUC,OAAQH,EAAIC,EAAGD,CAAC,GAE7C,IAAK,IAAIV,KADTS,EAAIG,UAAUF,GACOd,OAAOQ,UAAUH,eAAea,KAAKL,EAAGT,CAAC,IAC1DQ,EAAER,GAAKS,EAAET,IAEjB,OAAOQ,CACX,GACgBO,MAAMvB,KAAMoB,SAAS,CACzC,EACII,eAAkBxB,MAAQA,KAAKwB,gBAAmB,WAClD,IAAK,IAAIP,EAAI,EAAGC,EAAI,EAAGO,EAAKL,UAAUC,OAAQH,EAAIO,EAAIP,CAAC,GAAID,GAAKG,UAAUF,GAAGG,OAC7E,IAAK,IAAIK,EAAInB,MAAMU,CAAC,EAAGU,EAAI,EAAGT,EAAI,EAAGA,EAAIO,EAAIP,CAAC,GAC1C,IAAK,IAAIU,EAAIR,UAAUF,GAAIW,EAAI,EAAGC,EAAKF,EAAEP,OAAQQ,EAAIC,EAAID,CAAC,GAAIF,CAAC,GAC3DD,EAAEC,GAAKC,EAAEC,GACjB,OAAOH,CACX,SAKOK,YAAa,wBACbC,UAAW,eACXC,UAAW,eACXC,aAAc,YAErB,IAAIC,WAA4B,SAAUC,GAEtC,SAASD,EAAWE,GAChB,IAAIC,EAAQF,EAAOd,KAAKtB,KAAMqC,CAAK,GAAKrC,KAwCpCuC,GAnCJD,EAAME,WAAa,CAAC,UAAW,UAAW,SAAU,QAAS,YAK7DF,EAAMG,WAAa,CACf,KACA,YACA,QACA,cACA,WACA,WACA,oBACA,UACA,SACA,aACA,YACA,WAEJH,EAAMI,MAAQ,CACVC,WAAY,CAChB,EAIAL,EAAMM,UAAY,KAClBN,EAAMO,eAAiB,SAAUC,EAAWC,EAAcC,EAAiBC,GACvE,IAAQC,EACU,gBAAdJ,EACA,OAACK,EAAKb,EAAMc,qBAAyDD,EAAG7B,KAAKgB,EAAOA,EAAMe,OAAOC,KAAKC,UAAWR,EAAcE,EAAQX,EAAMkB,kBAAkB,EAE5I,qBAAdV,GACL,OAACI,EAAKZ,EAAMmB,0BAA8DP,EAAG5B,KAAKgB,EAAOS,EAAcE,EAAQX,EAAMkB,kBAAkB,CAE/I,EACYlB,EAAMoB,aAAa,EAAIrB,EAAME,MAAQF,EAAMsB,cAEvD,OADArB,EAAMC,MAAQA,MAAAA,EAAqCA,EAAQ,GACpDD,CACX,CAwTA,OArWAvC,UAAUoC,EAAYC,CAAM,EA8C5BD,EAAWvB,UAAUgD,cAAgB,SAAUvB,GAC3C,GAA2C,EAAvCJ,MAAM4B,SAASC,MAAMzB,EAAM0B,QAAQ,EACnC,MAAM,IAAIC,MAAM,wEAAwE,EAC5F,GAAI/B,MAAM4B,SAASC,MAAMzB,EAAM0B,QAAQ,EAAG,CACtC,IAAIE,EAAQhC,MAAM4B,SAASK,KAAK7B,EAAM0B,QAAQ,EAC9C,GAAmE,cAA9DE,MAAAA,EAAqC,KAAA,EAASA,EAAME,MACrD,MAAM,IAAIH,MAAM,sEAAsE,CAC9F,CACA,GAAIhE,KAAKoE,oBAAsB/B,EAAME,QAAUvC,KAAKoE,mBAChD,MAAM,IAAIJ,MAAM,iMAEgD,CACxE,EACA7B,EAAWvB,UAAUyD,sBAAwB,SAAUC,EAAWC,GAC9D,IAYQC,EAZJlC,EAAQtC,KAMZ,OAHAA,KAAK4D,cAAcU,CAAS,EAGvBtE,CAAAA,KAAKqD,QAAUrD,KAAK0C,MAAMC,aAAe4B,EAAU5B,aAIpD,UAAW2B,IACPG,EAAezE,KAAK0E,kBAAkB,EACtCF,EAAe,OAACrB,EAAKmB,EAAU/B,OAAmCY,EAAK,GAOtEnD,KAAK2E,aAAaH,EAAcC,CAAY,GAC7CzE,KAAK4E,kBAAkB5E,KAAKqD,OAAQmB,CAAY,GAIpDF,EAAUO,WAAa7E,KAAKqC,MAAMwC,UAClC7E,KAAK8E,kBAAkB9E,KAAKqD,OAAQiB,EAAUO,QAAQ,EAGnDrD,eAAexB,KAAKyC,WAAYzC,KAAKwC,UAAU,EAAEuC,KAAK,SAAUC,GACnE,MAAO,CAACjD,QAAQuC,EAAUU,GAAO1C,EAAMD,MAAM2C,EAAK,CACtD,CAAC,EACL,EACA7C,EAAWvB,UAAUqE,0BAA4B,SAAUX,GACvD,IAAIhC,EAAQtC,KAEZ,OAAOA,KAAKwC,WAAWuC,KAAK,SAAUC,GAClC,MAAO,CAACjD,QAAQuC,EAAUU,GAAO1C,EAAMD,MAAM2C,EAAK,CACtD,CAAC,CACL,EACA7C,EAAWvB,UAAUsE,kBAAoB,WACrClF,KAAKmF,kBAAkB,EACvBnF,KAAK4E,kBAAkB5E,KAAKqD,OAAQrD,KAAK0E,kBAAkB,CAAC,CAChE,EACAvC,EAAWvB,UAAUwE,qBAAuB,WACxCpF,KAAKqF,cAAc,CACvB,EACAlD,EAAWvB,UAAU0E,mBAAqB,SAAUC,EAAWC,GAC3D,IAgBwCC,EAAkBC,EAGlDC,EAnBJrD,EAAQtC,KAMRA,KAAKqD,QAAUrD,KAAKiF,0BAA0BM,CAAS,IACnDE,EAAQzF,KAAKqD,OAAOuC,YAAY,EAChChD,EAAY5C,KAAKqD,OAAOwC,aAAa,EACzC7F,KAAK8F,qBAAuB,CAAEL,MAAOA,EAAO7C,UAAWA,CAAU,EACjE5C,KAAK+F,SAAS,CAAEpD,WAAY3C,KAAK0C,MAAMC,WAAa,CAAE,CAAC,EACvD3C,KAAKqF,cAAc,GAInBrF,KAAK0C,MAAMC,aAAe6C,EAAU7C,aACA8C,GAAhCtC,EAAKnD,KAAK8F,sBAAiCL,MAAOC,EAAcvC,EAAGP,UACvE,OAAO5C,KAAK8F,qBACZ9F,KAAKmF,kBAAkB,GACnBQ,EAAW3F,KAAKqD,QACX2C,YAAYP,CAAK,EAC1BQ,SAAS,WAAc,OAAO3D,EAAM4D,mBAAmBP,EAAUD,CAAW,CAAG,CAAC,EAExF,EACAvD,EAAWvB,UAAUuE,kBAAoB,WAMrCnF,KAAKqD,OAASrD,KAAKmG,aAAanG,KAAKoG,eAAe,EAAGpG,KAAKqG,gBAAgB,CAAC,CACjF,EACAlE,EAAWvB,UAAUyE,cAAgB,WAC5BrF,KAAKqD,QAEVrD,KAAKsG,aAAatG,KAAKqD,MAAM,CACjC,EAIAlB,EAAWvB,UAAU8C,aAAe,WAChC,MAAO,UAAW1D,KAAKqC,KAC3B,EACAF,EAAWvB,UAAUyF,gBAAkB,WACnC,MAAO,CACHE,OAAQvG,KAAKqC,MAAMkE,OACnBC,QAASxG,KAAKqC,MAAMmE,QACpBC,QAASzG,KAAKqC,MAAMoE,QACpBC,YAAa1G,KAAKqC,MAAMqE,YACxB7B,SAAU7E,KAAKqC,MAAMwC,SACrB8B,mBAAoB3G,KAAKqC,MAAMsE,mBAC/BC,SAAU5G,KAAKqC,MAAMuE,SACrBC,MAAO7G,KAAKqC,MAAMwE,KACtB,CACJ,EACA1E,EAAWvB,UAAUkG,UAAY,WAC7B,GAAK9G,KAAKqD,OAEV,OAAOrD,KAAKqD,OADR,MAAM,IAAIW,MAAM,mCAAmC,CAE3D,EAKA7B,EAAWvB,UAAUuF,aAAe,SAAUY,EAASC,GAC/C3D,EAAS,IAAIrB,MAAM+E,EAASC,CAAM,EAKtC,OAJuB,MAAnBA,EAAOJ,UACP5G,KAAKiH,kBAAkB5D,EAAQ2D,EAAOJ,QAAQ,EAElD5G,KAAKkH,WAAW7D,CAAM,EACfA,CACX,EACAlB,EAAWvB,UAAUsG,WAAa,SAAU7D,GAGxCrD,KAAKwD,mBAAqBxD,KAAKmH,uBAAuB9D,CAAM,EAG5DA,EAAO+D,GAAG,gBAAiBpH,KAAK6C,cAAc,CAClD,EACAV,EAAWvB,UAAU0F,aAAe,SAAUjD,GAC1CA,EAAOgE,IAAI,gBAAiBrH,KAAK6C,cAAc,CACnD,EACAV,EAAWvB,UAAU8D,kBAAoB,WACrC,OAAO1E,KAAKuC,KAChB,EACAJ,EAAWvB,UAAU0G,mBAAqB,WACtC,OAAOtH,KAAK4C,SAChB,EAIAT,EAAWvB,UAAU2G,QAAU,SAAUhF,GACrC,OAAOA,GAASA,EAAMiF,GAC1B,EAIArF,EAAWvB,UAAU+D,aAAe,SAAUpC,EAAOkF,GACjD,OAAIzH,KAAKuH,QAAQhF,CAAK,GAAKvC,KAAKuH,QAAQE,CAAS,EACtC1F,QAAQQ,EAAMiF,IAAKC,EAAUD,GAAG,EAGhCzF,QAAQQ,EAAOkF,CAAS,CAEvC,EAKAtF,EAAWvB,UAAUgE,kBAAoB,SAAUvB,EAAQd,GACvD,IAAID,EAAQtC,KAER0H,GADJ1H,KAAKuC,MAAQA,EACHvC,KAAKsH,mBAAmB,GACb,UAAjB,OAAO/E,EACPc,EAAO2C,YAAY3C,EAAOsE,UAAUC,QAAQrF,CAAK,CAAC,EAGlDc,EAAO2C,YAAYzD,CAAK,EAE5B0D,SAAS,WAAc,OAAO3D,EAAM4D,mBAAmB7C,EAAQqE,CAAG,CAAG,CAAC,CAC1E,EACAvF,EAAWvB,UAAUsF,mBAAqB,SAAU7C,EAAQwE,GAExD,IAEQC,GAHR9H,KAAK4C,UAAYiF,KAGTC,EAAWzE,EAAO0E,UAAU,EAChCF,EAAMG,MAAQC,KAAKC,IAAI,EAAGD,KAAKE,IAAIN,EAAMG,MAAOF,EAAW,CAAC,CAAC,EAC7DD,EAAMxG,OAAS4G,KAAKC,IAAI,EAAGD,KAAKE,IAAIN,EAAMxG,OAAQyG,EAAW,EAAID,EAAMG,KAAK,CAAC,EAC7E3E,EAAO+E,aAAaP,CAAK,EAEjC,EACA1F,EAAWvB,UAAUqG,kBAAoB,SAAU5D,EAAQuD,GACvD,IAAIzD,EACA,OAACA,EAAKE,MAAAA,EAAuC,KAAA,EAASA,EAAOgF,SAA6ClF,EAAGmF,UAC7GjF,EAAOgF,OAAOC,QAAQ1B,SAAWA,EAEzC,EACAzE,EAAWvB,UAAUkE,kBAAoB,SAAUzB,EAAQd,GACnDA,EACAc,EAAOkF,QAAQ,EAGflF,EAAOmF,OAAO,CAEtB,EAKArG,EAAWvB,UAAUuG,uBAAyB,SAAU9D,GACpD,IAAIoF,EAAIpF,EACR,MAAO,CACHqF,QAAS,WAAc,OAAOD,EAAEnF,KAAKC,SAAW,EAChDwE,UAAWU,EAAEV,UAAUY,KAAKF,CAAC,EAC7BG,QAASH,EAAEG,QAAQD,KAAKF,CAAC,EACzB7C,YAAa6C,EAAE7C,YAAY+C,KAAKF,CAAC,EACjC5C,aAAc4C,EAAE5C,aAAa8C,KAAKF,CAAC,EACnCI,UAAWJ,EAAEI,UAAUF,KAAKF,CAAC,CACjC,CACJ,EACAtG,EAAWvB,UAAUwF,eAAiB,WAClC,GAAI,CAACpG,KAAK8I,YACN,MAAM,IAAI9E,MAAM,uCAAuC,EAE3D,IAAI+C,EAAU7E,SAAS6G,YAAY/I,KAAK8I,WAAW,EACnD,GAAI,CAAC/B,EACD,MAAM,IAAI/C,MAAM,sCAAsC,EAE1D,GAAyB,IAArB+C,EAAQiC,SACR,MAAM,IAAIhF,MAAM,oCAAoC,EAExD,OAAO+C,CACX,EAIA5E,EAAWvB,UAAUqI,kBAAoB,WACrC,IAAI3G,EAAQtC,KACRmD,EAAKnD,KAAKqC,MAAO0B,EAAWZ,EAAGY,SAAUmF,EAAqB/F,EAAG+F,mBAEjEC,EAAa,CACbC,IAFapJ,KAAK0C,MAAMC,WAGxB0G,IAAK,SAAUC,GACXhH,EAAMwG,YAAcQ,CACxB,CACJ,EACA,OAAIrH,MAAM4B,SAASC,MAAMC,CAAQ,EACtB9B,MAAMsH,aAAatH,MAAM4B,SAASK,KAAKH,CAAQ,EAAGoF,CAAU,EAEhED,EAAqBjH,MAAMuH,cAAc,MAAO1I,SAAS,GAAIqI,CAAU,CAAC,EAAIlH,MAAMuH,cAAc,MAAO1I,SAAS,GAAIqI,CAAU,CAAC,CAC1I,EACAhH,EAAWvB,UAAU6I,OAAS,WAC1B,IAAItG,EACJ,OAAQlB,MAAMuH,cAAc,MAAO,CAAEE,GAAI1J,KAAKqC,MAAMqH,GAAIC,MAAO3J,KAAKqC,MAAMsH,MAAOP,IAAKpJ,KAAK0C,MAAMC,WAAYiH,UAAW,UAAY,OAACzG,EAAKnD,KAAKqC,MAAMuH,WAAuCzG,EAAK,IAAK0G,WAAY7J,KAAKqC,MAAMwH,WAAYC,UAAW9J,KAAKqC,MAAMyH,UAAWC,QAAS/J,KAAKqC,MAAM0H,OAAQ,EAAG/J,KAAKiJ,kBAAkB,CAAE,CACtU,EACA9G,EAAWvB,UAAUwC,mBAAqB,SAAUb,EAAOkD,EAAOxC,EAAQI,GACtE,IAAQH,EAKJsB,EAJCxE,CAAAA,KAAKqD,SAINmB,EAAexE,KAAKuH,QAAQvH,KAAKuC,KAAK,EAAIc,EAAOuC,YAAY,EAAIvC,EAAOqF,QAAQ,KAC/D1I,KAAK0E,kBAAkB,IAGxC1E,KAAKoE,mBAAqBqB,EAC1BzF,KAAKuC,MAAQiC,EACb,OAACtB,GAAMC,EAAKnD,KAAKqC,OAAO2H,WAA+C9G,EAAG5B,KAAK6B,EAAIZ,EAAOkD,EAAOxC,EAAQI,CAAM,EAEvH,EACAlB,EAAWvB,UAAU6C,wBAA0B,SAAUwG,EAAehH,EAAQI,GAC5E,IAAY6G,EAAYC,EAGpBC,EACAC,EACAC,EAJCtK,KAAKqD,SAGNgH,EAAiB,EADjBD,EAAmBpK,KAAKsH,mBAAmB,IACL2C,EACtCK,EAAeF,GAAoB,CAACH,EACpClI,QAAQkI,EAAeG,CAAgB,IAE3CpK,KAAK4C,UAAYqH,EACjB,OAAC/G,GAAMC,EAAKnD,KAAKqC,OAAOkI,oBAAwDrH,EAAG5B,KAAK6B,EAAI8G,EAAehH,EAAQI,CAAM,EACrHgH,EACA,OAACG,GAAMN,EAAKlK,KAAKqC,OAAOoI,UAA8CD,EAAGlJ,KAAK4I,EAAID,EAAehH,EAAQI,CAAM,EAE1GiH,GACL,OAACH,GAAMO,EAAK1K,KAAKqC,OAAOsI,SAA6CR,EAAG7I,KAAKoJ,EAAIN,EAAkBnH,EAAQI,CAAM,GAEzH,EACAlB,EAAWvB,UAAUgK,MAAQ,WACpB5K,KAAKqD,QAEVrD,KAAKqD,OAAOuH,MAAM,CACtB,EACAzI,EAAWvB,UAAUiK,KAAO,WACnB7K,KAAKqD,SAEVrD,KAAK4C,UAAY,KACjB5C,KAAKqD,OAAOwH,KAAK,EACrB,EACA1I,EAAW2I,YAAc,cAIzB3I,EAAWH,MAAQA,MACnBG,EAAW4I,aAAe,CACtBlE,MAAO,OACPJ,QAAS,GACT5B,SAAU,CAAA,CACd,EACO1C,CACX,EAAEF,MAAM+I,SAAU,EAIlB,SAAS/E,SAASgF,GACdC,QAAQC,QAAQ,EAAEC,KAAKH,CAAE,CAC7B,gBAGe9I"}