var __extends=this&&this.__extends||function(){var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};return function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();import React from"react";import PropTypes from"prop-types";import{Skeleton,Spin}from"antd";var selectorPrefix="adhere-ui-suspense",Suspense=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFirst=!0,t.isFirstLoading=!1,t}return __extends(r,e),r.prototype.componentWillReceiveProps=function(t){t.reset&&(this.isFirst=!0,this.isFirstLoading=!1,this.forceUpdate())},r.prototype.componentDidMount=function(){this.fetchData()},r.renderNormalFirstLoading=function(){for(var t=[],e=0;e<7;e++)t.push(React.createElement(Skeleton,{key:e+1,loading:!0,active:!0,avatar:!0}));return React.createElement("div",{className:selectorPrefix+"-loading"},t)},r.prototype.renderFirstLoading=function(){var t=this.props.firstLoading;return null!=t?t:r.renderNormalFirstLoading()},r.prototype.renderNormal=function(){return React.createElement(Spin,{size:"large",spinning:this.showLoading()},this.renderInner())},r.prototype.renderDispatch=function(){var t=this.showLoading();return this.isFirst&&!this.isFirstLoading&&t&&(this.isFirstLoading=!0),this.isFirst&&this.isFirstLoading&&!t&&(this.isFirst=!1,this.isFirstLoading=!1),this.isFirst?this.renderFirstLoading():this.renderNormal()},r.prototype.render=function(){return React.createElement("div",{className:selectorPrefix},this.renderDispatch())},r}(React.Component);Suspense.defaultProps={reset:!1,firstLoading:null},Suspense.propTypes={reset:PropTypes.bool,firstLoading:PropTypes.node};export default Suspense;
//# sourceMappingURL=suspense.js.map
