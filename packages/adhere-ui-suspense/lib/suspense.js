"use strict";require("core-js/modules/es.object.define-property.js"),Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),react_1=tslib_1.__importDefault(require("react")),prop_types_1=tslib_1.__importDefault(require("prop-types")),classnames_1=tslib_1.__importDefault(require("classnames")),antd_1=require("antd"),selectorPrefix="adhere-ui-suspense",Suspense=function(t){function s(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFirst=!0,e.isFirstLoading=!1,e}return tslib_1.__extends(s,t),s.prototype.componentWillReceiveProps=function(e){e.reset&&(this.isFirst=!0,this.isFirstLoading=!1,this.forceUpdate())},s.prototype.componentDidMount=function(){var e;null!==(e=null==this?void 0:this.fetchData)&&void 0!==e&&e.call(this)},s.renderNormalFirstLoading=function(){for(var e=[],t=0;t<7;t++)e.push(react_1.default.createElement(antd_1.Skeleton,{key:t+1,loading:!0,active:!0,avatar:!0}));return react_1.default.createElement("div",{className:"".concat(selectorPrefix,"-loading")},e)},s.prototype.renderFirstLoading=function(){var e=this.props.firstLoading;return null!=e?e:s.renderNormalFirstLoading()},s.prototype.renderNormal=function(){return react_1.default.createElement(antd_1.Spin,{size:"large",spinning:this.showLoading()},this.renderInner())},s.prototype.renderDispatch=function(){var e=this.showLoading();return this.isFirst&&!this.isFirstLoading&&e&&(this.isFirstLoading=!0),this.isFirst&&this.isFirstLoading&&!e&&(this.isFirst=!1,this.isFirstLoading=!1),this.isFirst?this.renderFirstLoading():this.renderNormal()},s.prototype.render=function(){return react_1.default.createElement("div",{className:(0,classnames_1.default)(selectorPrefix,this.props.className||""),style:this.props.style||{}},this.renderDispatch())},s}(react_1.default.Component);Suspense.defaultProps={className:"",style:{},reset:!1,firstLoading:null},Suspense.propTypes={className:prop_types_1.default.string,style:prop_types_1.default.object,reset:prop_types_1.default.bool,firstLoading:prop_types_1.default.node},exports.default=Suspense;
//# sourceMappingURL=suspense.js.map
