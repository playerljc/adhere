"use strict";require("core-js/modules/es.object.define-property.js");var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _spin=_interopRequireDefault(require("antd/lib/spin")),_skeleton=_interopRequireDefault(require("antd/lib/skeleton")),_tslib=require("tslib"),_react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),selectorPrefix="adhere-ui-suspense",Suspense=function(t){function r(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFirst=!0,e.isFirstLoading=!1,e}return(0,_tslib.__extends)(r,t),r.prototype.componentWillReceiveProps=function(e){e.reset&&(this.isFirst=!0,this.isFirstLoading=!1,this.forceUpdate())},r.prototype.componentDidMount=function(){this.fetchData()},r.renderNormalFirstLoading=function(){for(var e=[],t=0;t<7;t++)e.push(_react.default.createElement(_skeleton.default,{key:t+1,loading:!0,active:!0,avatar:!0}));return _react.default.createElement("div",{className:"".concat(selectorPrefix,"-loading")},e)},r.prototype.renderFirstLoading=function(){var e=this.props.firstLoading;return null!=e?e:r.renderNormalFirstLoading()},r.prototype.renderNormal=function(){return _react.default.createElement(_spin.default,{size:"large",spinning:this.showLoading()},this.renderInner())},r.prototype.renderDispatch=function(){var e=this.showLoading();return this.isFirst&&!this.isFirstLoading&&e&&(this.isFirstLoading=!0),this.isFirst&&this.isFirstLoading&&!e&&(this.isFirst=!1,this.isFirstLoading=!1),this.isFirst?this.renderFirstLoading():this.renderNormal()},r.prototype.render=function(){return _react.default.createElement("div",{className:selectorPrefix},this.renderDispatch())},r}(_react.default.Component);Suspense.defaultProps={reset:!1,firstLoading:null},Suspense.propTypes={reset:_propTypes.default.bool,firstLoading:_propTypes.default.node};var _default=Suspense;exports.default=_default;
//# sourceMappingURL=suspense.js.map
