"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var tslib_1=require("tslib"),antd_1=require("antd"),prop_types_1=tslib_1.__importDefault(require("prop-types")),react_1=tslib_1.__importDefault(require("react")),adhere_ui_conditionalrender_1=tslib_1.__importDefault(require("@baifendian/adhere-ui-conditionalrender")),suspense_1=tslib_1.__importDefault(require("./suspense")),SuspenseAsync=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={loading:!1},t}return tslib_1.__extends(t,e),t.prototype.showLoading=function(){return this.state.loading},t.prototype.renderInner=function(){var t=this.props,e=t.isEmpty,n=t.renderEmpty,r=t.children;return react_1.default.createElement(adhere_ui_conditionalrender_1.default,{conditional:!e(),noMatch:function(){return n?n():react_1.default.createElement(antd_1.Empty,null)}},function(){return r})},t.prototype.reset=function(){var e=this;return new Promise(function(t){e.isFirst=!0,e.isFirstLoading=!1,e.fetchData().then(function(){return t()}).catch(function(){return t()})})},t.prototype.fetchData=function(){var r=this;return new Promise(function(t){var e,n;if(r.props.fetchData)return r.setState({loading:!0}),null==(n=null==(e=null==(e=null==(n=null==r?void 0:r.props)?void 0:n.fetchData)?void 0:e.call(n))?void 0:e.then(function(){r.setState({loading:!1},function(){return t()})}))?void 0:n.catch(function(){r.setState({loading:!1},function(){return t()})});r.setState({loading:!1}),t()})},t}(suspense_1.default);SuspenseAsync.defaultProps={},SuspenseAsync.propTypes={firstLoading:prop_types_1.default.node,isEmpty:prop_types_1.default.func.isRequired,renderEmpty:prop_types_1.default.func,fetchData:prop_types_1.default.func},exports.default=SuspenseAsync;
//# sourceMappingURL=async.js.map
